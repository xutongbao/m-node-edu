<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/" xmlns:wfw="http://wellformedweb.org/CommentAPI/" xmlns:slash="http://purl.org/rss/1.0/modules/slash/"><channel><title>博客园-徐同保</title><link>https://www.cnblogs.com/xutongbao/</link><description>web前端行业的小学生</description><language>zh-cn</language><lastBuildDate>Mon, 13 Sep 2021 10:50:44 GMT</lastBuildDate><pubDate>Mon, 13 Sep 2021 10:50:44 GMT</pubDate><ttl>60</ttl><item><title>pagic Deno + React 驱动的静态网站生成器 入门</title><link>http://www.cnblogs.com/xutongbao/archive/2021/09/10/15264299.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Fri, 10 Sep 2021 03:03:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/09/10/15264299.html</guid><description><![CDATA[
                    <p>安装：</p> 
<pre><code class="language-bash"># 安装 pagic
deno install --unstable --allow-read --allow-write --allow-net --allow-run --name=pagic https://deno.land/x/pagic/mod.ts</code></pre> 
<p><img alt="" height="664" src="https://img-blog.csdnimg.cn/20210910105934798.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5b6Q5ZCM5L-d,size_20,color_FFFFFF,t_70,g_se,x_16" width="677"></p> 
<p><img alt="" height="113" src="https://img-blog.csdnimg.cn/20210910110003759.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5b6Q5ZCM5L-d,size_13,color_FFFFFF,t_70,g_se,x_16" width="344"></p> 
<p>pagic.config.ts:</p> 
<pre><code class="language-javascript">export default {}</code></pre> 
<p>README.md:</p> 
<pre><code class="language-bash"># Hello world
</code></pre> 
<p>启动：</p> 
<pre><code class="language-bash"># 运行 pagic
pagic build --watch --serve</code></pre> 
<p>效果：</p> 
<p><img alt="" height="447" src="https://img-blog.csdnimg.cn/20210910110203443.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5b6Q5ZCM5L-d,size_20,color_FFFFFF,t_70,g_se,x_16" width="1200"></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p>
                ]]></description></item><item><title>antd Form.Item label添加解释信息</title><link>http://www.cnblogs.com/xutongbao/archive/2021/09/10/15264300.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Fri, 10 Sep 2021 02:29:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/09/10/15264300.html</guid><description><![CDATA[
                    <p><img alt="" height="164" src="https://img-blog.csdnimg.cn/20210910102855685.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5b6Q5ZCM5L-d,size_17,color_FFFFFF,t_70,g_se,x_16" width="435"></p> 
<p></p> 
<pre><code class="language-javascript">      &lt;Col span={span} className={expandClassname}&gt;
        &lt;Form.Item
          label={
            &lt;span&gt;
              &lt;span&gt;是否添加&lt;/span&gt;
              &lt;Tooltip
                title='添加'
                overlayClassName="m-tooltip"
              &gt;
                &lt;span className="m-help-wrap"&gt;
                  &lt;Icon name="help"&gt;&lt;/Icon&gt;
                &lt;/span&gt;
              &lt;/Tooltip&gt;
            &lt;/span&gt;
          }
        &gt;
          &lt;Form.Item name="isAdd" noStyle&gt;
            &lt;Select
              placeholder="请选择"
              allowClear
              getPopupContainer={() =&gt;
                document.getElementById('m-content-wrap')
              }
            &gt;
              &lt;Option value={1}&gt;是&lt;/Option&gt;
              &lt;Option value={0}&gt;否&lt;/Option&gt;
            &lt;/Select&gt;
          &lt;/Form.Item&gt;
        &lt;/Form.Item&gt;
      &lt;/Col&gt;</code></pre> 
<p></p>
                ]]></description></item><item><title>deno可以通过url引入标准库，运行时自动下载，下载到哪里呢</title><link>http://www.cnblogs.com/xutongbao/archive/2021/09/09/15264301.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 09 Sep 2021 10:37:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/09/09/15264301.html</guid><description><![CDATA[
                    <p>可以通过下面的指令查询：</p> 
<pre><code class="language-javascript">deno info</code></pre> 
<p><img alt="" height="552" src="https://img-blog.csdnimg.cn/20210909183534705.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5b6Q5ZCM5L-d,size_20,color_FFFFFF,t_70,g_se,x_16" width="906"></p> 
<p></p>
                ]]></description></item><item><title>如何查看github开源项目star趋势</title><link>http://www.cnblogs.com/xutongbao/archive/2021/09/09/15264302.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 09 Sep 2021 09:34:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/09/09/15264302.html</guid><description><![CDATA[
                    <p>网站：</p> 
<p><a href="https://star-history.t9t.io/#denoland/deno">https://star-history.t9t.io</a></p> 
<p><a href="https://star-history.t9t.io/#denoland/deno">https://star-history.t9t.io/#denoland/deno</a></p> 
<p>deno:</p> 
<p><img alt="" height="1030" src="https://img-blog.csdnimg.cn/2021090917305385.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5b6Q5ZCM5L-d,size_20,color_FFFFFF,t_70,g_se,x_16" width="1200"></p> 
<p>&nbsp;react:</p> 
<p><img alt="" height="1030" src="https://img-blog.csdnimg.cn/20210909173214968.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5b6Q5ZCM5L-d,size_20,color_FFFFFF,t_70,g_se,x_16" width="1200"></p> 
<p>vue:</p> 
<p><img alt="" height="859" src="https://img-blog.csdnimg.cn/20210909173335179.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5b6Q5ZCM5L-d,size_20,color_FFFFFF,t_70,g_se,x_16" width="1200"></p> 
<p>&nbsp;</p>
                ]]></description></item><item><title>使用deno开发post请求，get请求，监测文件变化自动重启（类似于nodemon）</title><link>http://www.cnblogs.com/xutongbao/archive/2021/09/09/15264303.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 09 Sep 2021 07:59:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/09/09/15264303.html</guid><description><![CDATA[
                    <p><img alt="" height="116" src="https://img-blog.csdnimg.cn/2021090915551595.png" width="189"></p> 
<p>launch.js:</p> 
<pre><code class="language-javascript">const run = () =&gt; {
  return Deno.run({
    cmd: ['deno', 'run', '--allow-net', '--allow-read', 'index.js'],
    cwd: 'app',
  })
}
let myPorcess = run()
const watcher = Deno.watchFs('./app')
for await (const event of watcher) {
  console.log(event)
  console.log('kill proceess')
  myPorcess.close()
  console.log('restart')
  myPorcess = run()
}
</code></pre> 
<p>app/index.js:</p> 
<pre><code class="language-javascript">import { Application, Router, helpers } from 'https://deno.land/x/oak/mod.ts'
const app = new Application()
const router = new Router()

router.get('/list', async (ctx) =&gt; {
  const { id } = helpers.getQuery(ctx, { mergeParams: true })
  ctx.response.body = {
    state: 1,
    data: { id },
    message: '成功',
  }
})

router.post('/login', async (ctx) =&gt; {
  const result = ctx.request.body()
  console.log(66678910)
  if (result.type === 'json') {
    const { username } = await result.value
    ctx.response.body = {
      state: 1,
      data: { username },
      message: '成功',
    }
  }
})

app.use(router.routes())
app.use(router.allowedMethods())
app.listen({ port: 8000 })
console.log(8000)
</code></pre> 
<p>&nbsp;启动命令：</p> 
<pre><code class="language-javascript">deno run --allow-net --allow-read --allow-run launch.js</code></pre> 
<p>自动重启：</p> 
<p><img alt="" height="639" src="https://img-blog.csdnimg.cn/20210909155845794.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5b6Q5ZCM5L-d,size_20,color_FFFFFF,t_70,g_se,x_16" width="1200"></p> 
<p></p> 
<p>post请求：</p> 
<p><img alt="" height="855" src="https://img-blog.csdnimg.cn/20210909155645724.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5b6Q5ZCM5L-d,size_20,color_FFFFFF,t_70,g_se,x_16" width="1200"></p> 
<p>&nbsp;get请求：</p> 
<p><img alt="" height="838" src="https://img-blog.csdnimg.cn/20210909155710748.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5b6Q5ZCM5L-d,size_20,color_FFFFFF,t_70,g_se,x_16" width="1200"></p> 
<p>参考链接：</p> 
<p><a href="https://zhuanlan.zhihu.com/p/143947500">https://zhuanlan.zhihu.com/p/143947500</a></p> 
<p><a href="https://deno-tutorial.js.org/articles/index.html">https://deno-tutorial.js.org/articles/index.html</a></p>
                ]]></description></item><item><title>windows安装deno</title><link>http://www.cnblogs.com/xutongbao/archive/2021/09/09/15264304.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 09 Sep 2021 05:52:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/09/09/15264304.html</guid><description><![CDATA[
                    <p>以管理员身份运行windows PowerShell</p> 
<p>命令行里输入:</p> 
<pre><code class="language-javascript">Set-ExecutionPolicy RemoteSigned</code></pre> 
<p><img alt="" height="239" src="https://img-blog.csdnimg.cn/20210909134704807.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5b6Q5ZCM5L-d,size_20,color_FFFFFF,t_70,g_se,x_16" width="1076"></p> 
<p>如果没有安装&nbsp;choco，先安装&nbsp;choco</p> 
<p><a href="https://link.jianshu.com/?t=https://chocolatey.org/">chocolatey</a>是windows下的一个命令行的包管理工具，类似ubuntu的apt，或centos下的yum</p> 
<p>安装命令：</p> 
<pre><code class="language-javascript">iwr https://chocolatey.org/install.ps1 -UseBasicParsing | iex</code></pre> 
<p>&nbsp;安装deno：</p> 
<pre><code class="language-javascript">choco install deno</code></pre> 
<p><img alt="" height="939" src="https://img-blog.csdnimg.cn/20210909135013562.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5b6Q5ZCM5L-d,size_20,color_FFFFFF,t_70,g_se,x_16" width="1103"></p> 
<p>查询deno版本：</p> 
<p><img alt="" height="90" src="https://img-blog.csdnimg.cn/20210909135121814.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5b6Q5ZCM5L-d,size_20,color_FFFFFF,t_70,g_se,x_16" width="585"></p> 
<p>运行js：</p> 
<p><img alt="" height="546" src="https://img-blog.csdnimg.cn/20210909135841211.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5b6Q5ZCM5L-d,size_20,color_FFFFFF,t_70,g_se,x_16" width="1049"></p> 
<p></p>
                ]]></description></item><item><title>react 轮播图 react-slick</title><link>http://www.cnblogs.com/xutongbao/archive/2021/08/31/15264305.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 31 Aug 2021 06:26:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/08/31/15264305.html</guid><description><![CDATA[
                    <p style="text-align:center;"><img alt="" src="https://img-blog.csdnimg.cn/20210831142442598.gif"></p> 
<p>&nbsp;</p> 
<pre><code class="language-javascript">import Slider from 'react-slick'
import "~slick-carousel/slick/slick.css"; 
import "~slick-carousel/slick/slick-theme.css";   




  //轮播图改变
  const handleAfterChange = () =&gt; {
    const activeDom = [...document.getElementsByClassName('js-slider-main')[0].childNodes].find(item =&gt; item.className.includes('slick-active'))
    activeDom.scrollIntoView({behavior: "smooth", block: "nearest", inline: "center"})
  }



           &lt;Slider
                className="m-slider"
                dots={true}
                infinite={false}
                dotsClass="m-slider-dot-ul js-slider-main"
                afterChange={handleAfterChange}
                customPaging={(i) =&gt; {
                  return (
                    &lt;img
                      src={imageUrlFormat(dataSource.attachment[i].filepath)}
                      alt="图片"
                    /&gt;
                  )
                }}
              &gt;
                {dataSource.attachment.map((item) =&gt; (
                  &lt;div key={item.id}&gt;
                    &lt;img
                      alt="图片"
                      key={item.id}
                      src={imageUrlFormat(item.filepath)}
                      className="m-shop-preview-slider-main-img"
                    &gt;&lt;/img&gt;
                  &lt;/div&gt;
                ))}
              &lt;/Slider&gt;</code></pre> 
<p>参考链接：<a href="https://react-slick.neostack.com/docs/example/custom-paging/">https://react-slick.neostack.com/docs/example/custom-paging/</a></p> 
<p></p>
                ]]></description></item><item><title>display:flex 元素垂直居中，有间距，右对齐</title><link>http://www.cnblogs.com/xutongbao/archive/2021/08/30/15264306.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Mon, 30 Aug 2021 04:44:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/08/30/15264306.html</guid><description><![CDATA[
                    <p>&nbsp;</p> 
<p>&nbsp;<img alt="" height="507" src="https://img-blog.csdnimg.cn/20210830124255199.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5b6Q5ZCM5L-d,size_20,color_FFFFFF,t_70,g_se,x_16" width="591"></p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<pre><code class="language-css">.m-design-header-action{display: flex;padding: 0 18px 0 0; align-items: center; width: 180px;gap: 8px;text-align: right;justify-content: flex-end;}
</code></pre> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p></p>
                ]]></description></item><item><title>antd tabe表头出现遮挡</title><link>http://www.cnblogs.com/xutongbao/archive/2021/08/28/15264307.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Sat, 28 Aug 2021 02:59:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/08/28/15264307.html</guid><description><![CDATA[
                    <p>antd table 表头文本禁止换行（white-space:&nbsp;nowrap;）</p> 
<p>设置表格高度，出现纵向滚动条（&nbsp;scroll={<!-- -->{&nbsp; y: 200 }}）</p> 
<p>这时是表头和表格主体部分被渲染成两个table，表头文本出现遮挡</p> 
<p></p> 
<p>&nbsp;<img alt="" height="318" src="https://img-blog.csdnimg.cn/20210828105401104.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5b6Q5ZCM5L-d,size_20,color_FFFFFF,t_70,g_se,x_16" width="886"></p> 
<p></p> 
<p><img alt="" height="479" src="https://img-blog.csdnimg.cn/20210828104958922.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5b6Q5ZCM5L-d,size_20,color_FFFFFF,t_70,g_se,x_16" width="1200"></p> 
<p>&nbsp;解决办法：</p> 
<p>表头不应该通过样式禁止换行，应该通过样式加大表格主体单元的的最小宽度，把表头撑开</p> 
<p><img alt="" height="796" src="https://img-blog.csdnimg.cn/20210828105841855.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5b6Q5ZCM5L-d,size_20,color_FFFFFF,t_70,g_se,x_16" width="1200"></p> 
<p></p>
                ]]></description></item><item><title>url转二维码（js,qrcode）可以带logo</title><link>http://www.cnblogs.com/xutongbao/archive/2021/08/26/15264309.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 26 Aug 2021 10:33:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/08/26/15264309.html</guid><description><![CDATA[
                    <p><img alt="" height="1030" src="https://img-blog.csdnimg.cn/20210826183228509.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5b6Q5ZCM5L-d,size_20,color_FFFFFF,t_70,g_se,x_16" width="1200"></p> 
<p></p> 
<p></p> 
<pre><code class="language-javascript">import QRCode from 'qrcode'  
import { Image } from 'antd'




const [qrCodeImageUrl, setQrCodeImageUrl] = useState()




useEffect(() =&gt; {
    QRCode.toDataURL(document.location.href)
      .then((url) =&gt; {
        console.log(url)
        setQrCodeImageUrl(url)
      })
      .catch((err) =&gt; {
        console.error(err)
      })
  }, [])





                &lt;Image
                  className="m-qrcode-img"
                  src={qrCodeImageUrl}
                  alt={'图片'}
                  preview={<!-- -->{
                    mask: '',
                  }}
                &gt;&lt;/Image&gt;</code></pre> 
<p>参考链接：<a href="https://www.npmjs.com/package/qrcode">https://www.npmjs.com/package/qrcode</a></p> 
<p></p> 
<p><img alt="" height="1030" src="https://img-blog.csdnimg.cn/20210826192337187.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5b6Q5ZCM5L-d,size_20,color_FFFFFF,t_70,g_se,x_16" width="1200"></p> 
<p>&nbsp;</p> 
<p>带logo：</p> 
<pre><code class="language-javascript">import QrCodeWithLogo from 'qr-code-with-logo'
import { Image } from 'antd'


const [qrCodeImageUrl, setQrCodeImageUrl] = useState()


  useEffect(() =&gt; {
    const image = new Image()
    QrCodeWithLogo.toImage({
      image,
      content: document.location.href,
      logo: {
        src: logo,
      },
    })
    image.id = 'm-img'
    image.style = "display:none;"
    document.body.appendChild(image)
    const imageDom = document.getElementById('m-img')
    setTimeout(() =&gt; {
      setQrCodeImageUrl(imageDom.src)
    })
  }, [])





                &lt;Image
                  className="m-qrcode-img"
                  src={qrCodeImageUrl}
                  alt={'图片'}
                  preview={<!-- -->{
                    mask: '',
                  }}
                &gt;&lt;/Image&gt;</code></pre> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p>
                ]]></description></item><item><title>react项目打包优化</title><link>http://www.cnblogs.com/xutongbao/archive/2021/08/25/15264310.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 25 Aug 2021 03:46:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/08/25/15264310.html</guid><description><![CDATA[
                    <p>优化前：</p> 
<p><img alt="" height="1030" src="https://img-blog.csdnimg.cn/20210825113401704.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_Q1NETiBA5b6Q5ZCM5L-d,size_79,color_FFFFFF,t_70,g_se,x_16" width="1200"></p> 
<p>优化中：</p> 
<p><img alt="" height="0" src="https://img-blog.csdnimg.cn/20210825113521714.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_Q1NETiBA5b6Q5ZCM5L-d,size_1,color_FFFFFF,t_70,g_se,x_16" width="0"><img alt="" height="1030" src="https://img-blog.csdnimg.cn/20210825113532501.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_Q1NETiBA5b6Q5ZCM5L-d,size_79,color_FFFFFF,t_70,g_se,x_16" width="1200"></p> 
<p><img alt="" height="1030" src="https://img-blog.csdnimg.cn/20210825113707153.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_Q1NETiBA5b6Q5ZCM5L-d,size_79,color_FFFFFF,t_70,g_se,x_16" width="1200"></p> 
<p>&nbsp;</p> 
<p>优化完成：</p> 
<p><img alt="" height="0" src="https://img-blog.csdnimg.cn/202108251138318.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_Q1NETiBA5b6Q5ZCM5L-d,size_1,color_FFFFFF,t_70,g_se,x_16" width="0"><img alt="" height="1030" src="https://img-blog.csdnimg.cn/20210825113839735.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_Q1NETiBA5b6Q5ZCM5L-d,size_79,color_FFFFFF,t_70,g_se,x_16" width="1200"></p> 
<p>&nbsp;</p> 
<p>&nbsp;<img alt="" height="0" src="https://img-blog.csdnimg.cn/20210825114030970.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_Q1NETiBA5b6Q5ZCM5L-d,size_1,color_FFFFFF,t_70,g_se,x_16" width="0"><img alt="" height="1030" src="https://img-blog.csdnimg.cn/20210825114034683.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_Q1NETiBA5b6Q5ZCM5L-d,size_79,color_FFFFFF,t_70,g_se,x_16" width="1200"></p> 
<p>&nbsp;</p> 
<p>要点：</p> 
<p>1.路由懒加载</p> 
<p>2.在路由懒加载前把自己开发的公共组件全部引入</p> 
<p>3.剔除掉比较大的公共组件（例如富文本组件），在业务页面中单独引入</p> 
<p></p> 
<p>&nbsp;</p> 
<pre><code class="language-javascript">import React, { Suspense, lazy } from 'react'
import { Switch, Route, Redirect, useHistory } from 'react-router-dom'
import Loading from '../components/light/Loading'
//自己开发的公共组件会再此处全部引入
import { ErrorBoundary } from '../components/light'
const Login = lazy(() =&gt; import('../views/light/login/Login'))
const SaleLogin = lazy(() =&gt; import('../views/sale/login/Login'))
const EduLogin = lazy(() =&gt; import('../views/edu/login/Login'))
const Index = lazy(() =&gt; import('../views/light/index/Index'))
const NotFound = lazy(() =&gt; import('../views/light/notFound/NotFound'))

export default function Router() {
  window.reactRouter = useHistory()
  return (
    &lt;&gt;
      &lt;ErrorBoundary&gt;
        &lt;Suspense fallback={&lt;Loading isLazyLoading={true}&gt;&lt;/Loading&gt;}&gt;
          &lt;Switch&gt;
            &lt;Redirect from="/" to="/light/login" exact&gt;&lt;/Redirect&gt;
            &lt;Route path="/light/login" component={Login}&gt;&lt;/Route&gt;
            &lt;Route path="/sale/login" component={SaleLogin}&gt;&lt;/Route&gt;
            &lt;Route path="/edu/login" component={EduLogin}&gt;&lt;/Route&gt;
            &lt;Route path="/light/index" component={Index}&gt;&lt;/Route&gt;
            &lt;Route path="/sale/index" component={Index}&gt;&lt;/Route&gt;
            &lt;Route path="/edu/index" component={Index}&gt;&lt;/Route&gt;
            &lt;Route path="/404" component={NotFound}&gt;&lt;/Route&gt;
            &lt;Redirect from="*" to="/404" exact&gt;&lt;/Redirect&gt;
          &lt;/Switch&gt;
        &lt;/Suspense&gt;
      &lt;/ErrorBoundary&gt;
      &lt;Loading&gt;&lt;/Loading&gt;
    &lt;/&gt;
  )
}
</code></pre> 
<p>&nbsp;</p>
                ]]></description></item><item><title>react-dnd 拖拽</title><link>http://www.cnblogs.com/xutongbao/archive/2021/08/23/15264311.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Mon, 23 Aug 2021 05:57:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/08/23/15264311.html</guid><description><![CDATA[
                    <p></p> 
<p></p> 
<p style="text-align:center;"><img alt="" src="https://img-blog.csdnimg.cn/20210823135611101.gif">&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p><img alt="" height="255" src="https://img-blog.csdnimg.cn/20210823135047242.png" width="266"></p> 
<p>&nbsp;Index.js:</p> 
<pre><code class="language-javascript">import React from 'react'
import { connect } from 'react-redux'
import { withRouter } from 'react-router-dom'
import { Form, Button, Collapse, Col, Row } from 'antd'
import Header from './Header'
import useList from './useList'
import { DndProvider } from 'react-dnd'
import { HTML5Backend } from 'react-dnd-html5-backend'
import { Icon } from '../../../../components/light'
import { getComponentArr, getAttrFields } from './config'
import List from './List'
import BtnField from './BtnField'

const { Panel } = Collapse

function Index(props) {
  const {
    applicationTitle,
    dataSource,
    form,
    formForAttr,
    initValues,
    initValuesForAttr,
    tableId,
    cardActiveId,
    moveCard,
    handleFinish,
    handleFinishFailed,
    handleAdd,
    handleSave,
    handleCardActiveId,
    handleValuesChange,
    handleDelete,
  } = useList(props)

  return (
    &lt;div className="m-admin-content"&gt;
      &lt;Header
        applicationTitle={applicationTitle}
        tableId={tableId}
        onSave={handleSave}
      &gt;&lt;/Header&gt;
      &lt;div className="m-design-wrap"&gt;
        &lt;div className="m-design-sidebar"&gt;
          &lt;Collapse defaultActiveKey={['1', '2', '3']}&gt;
            &lt;Panel header="通用字段" key="1"&gt;
              &lt;Row gutter={[2, 2]}&gt;
                &lt;DndProvider backend={HTML5Backend}&gt;
                  {getComponentArr().map((fieldInfo, index) =&gt; (
                    &lt;BtnField key={index} fieldInfo={fieldInfo} onAdd={handleAdd} /&gt;
                  ))}
                &lt;/DndProvider&gt;
              &lt;/Row&gt;
            &lt;/Panel&gt;
            &lt;Panel header="联系信息字段" key="2"&gt;
              &lt;Row gutter={[2, 2]}&gt;
                &lt;Col span={8}&gt;
                  &lt;div className="m-component-item"&gt;
                    &lt;div&gt;&lt;/div&gt;
                    &lt;div&gt;敬请期待&lt;/div&gt;
                  &lt;/div&gt;
                &lt;/Col&gt;
              &lt;/Row&gt;
            &lt;/Panel&gt;
            &lt;Panel header="商品字段" key="3"&gt;
              &lt;Row gutter={[2, 2]}&gt;
                &lt;Col span={8}&gt;
                  &lt;div className="m-component-item"&gt;
                    &lt;div&gt;&lt;/div&gt;
                    &lt;div&gt;敬请期待&lt;/div&gt;
                  &lt;/div&gt;
                &lt;/Col&gt;
              &lt;/Row&gt;
            &lt;/Panel&gt;
          &lt;/Collapse&gt;
        &lt;/div&gt;
        &lt;div className="m-design-content"&gt;
          &lt;Form
            form={form}
            labelCol={<!-- -->{ span: 4 }}
            wrapperCol={<!-- -->{ span: 17 }}
            initialValues={<!-- -->{ ...initValues }}
            onFinish={handleFinish}
            onFinishFailed={handleFinishFailed}
          &gt;
            &lt;DndProvider backend={HTML5Backend}&gt;
              &lt;List
                dataSource={dataSource}
                cardActiveId={cardActiveId}
                moveCard={moveCard}
                handleCardActiveId={handleCardActiveId}
                handleDelete={handleDelete}
              /&gt;
            &lt;/DndProvider&gt;
            &lt;Form.Item
              wrapperCol={<!-- -->{ offset: 4, span: 17 }}
              className="m-design-footer"
            &gt;
              &lt;Button type="primary" htmlType="submit" className="m-space"&gt;
                &lt;Icon name="submit" className="m-tool-btn-icon"&gt;&lt;/Icon&gt;
                提交
              &lt;/Button&gt;
              &lt;Button
                className="m-space"
                onClick={() =&gt; {
                  form.resetFields()
                }}
              &gt;
                &lt;Icon name="reset" className="m-tool-btn-icon"&gt;&lt;/Icon&gt;
                重置
              &lt;/Button&gt;
            &lt;/Form.Item&gt;
          &lt;/Form&gt;
        &lt;/div&gt;
        &lt;div className="m-design-attr"&gt;
          &lt;Form
            form={formForAttr}
            labelCol={<!-- -->{ span: 8 }}
            wrapperCol={<!-- -->{ span: 15 }}
            initialValues={<!-- -->{ ...initValuesForAttr }}
            scrollToFirstError={true}
            onValuesChange={handleValuesChange}
            id="m-set-application-modal-form"
            className="m-set-application-modal-form"
          &gt;
            {getAttrFields()}
          &lt;/Form&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  )
}

const mapStateToProps = (state) =&gt; {
  return {}
}

const mapDispatchToProps = (dispatch) =&gt; {
  return {
    onSetState(key, value) {
      dispatch({ type: 'SET_LIGHT_STATE', key, value })
    },
    onDispatch(action) {
      dispatch(action)
    },
  }
}

export default connect(mapStateToProps, mapDispatchToProps)(withRouter(Index))
</code></pre> 
<p>BtnField.js:</p> 
<pre><code class="language-javascript">import { useDrag } from 'react-dnd'
import { ItemTypes } from './ItemTypes'
import { Icon } from '../../../../components/light'
import { Col } from 'antd'

export default function BtnField({ fieldInfo, onAdd }) {
  const [{ isDragging }, drag] = useDrag(() =&gt; ({
    type: ItemTypes.BTN_FIELD,
    item: { ...fieldInfo },
    end: (item, monitor) =&gt; {
      const dropResult = monitor.getDropResult()
      if (item &amp;&amp; dropResult) {
        console.log(`${item.title} 加入 ${dropResult.name}`)
        onAdd({fieldInfo})
      }
    },
    collect: (monitor) =&gt; ({
      isDragging: monitor.isDragging(),
      handlerId: monitor.getHandlerId(),
    }),
  }))
  const opacity = isDragging ? 0.4 : 1
  return (
    &lt;Col span={8}&gt;
      &lt;div
        className="m-component-item"
        ref={drag}
        style={<!-- -->{ opacity }}
        data-testid={`box-${fieldInfo.title}`}
        onClick={() =&gt; onAdd({fieldInfo})}
      &gt;
        &lt;div&gt;
          &lt;Icon name={fieldInfo.icon}&gt;&lt;/Icon&gt;
        &lt;/div&gt;
        &lt;div&gt;{fieldInfo.title}&lt;/div&gt;
      &lt;/div&gt;
    &lt;/Col&gt;
  )
}
</code></pre> 
<p>config.js:</p> 
<pre><code class="language-javascript">import { Form, Input, Button } from 'antd'
import { FieldRequired } from '../../../../components/light'

//表格列字段
const getColumns = (props) =&gt; {
  return [
    {
      title: 'ID',
      dataIndex: 'id',
    },
    {
      title: '字段名称',
      dataIndex: 'title',
    },
    {
      title: '英文名称',
      dataIndex: 'dataIndex',
    },
    {
      title: '表单组件名',
      dataIndex: 'formComponentName',
      render: (text) =&gt; {
        return text ? text : '无'
      },
    },
    {
      title: '渲染函数名',
      dataIndex: 'renderFunName',
      render: (text) =&gt; {
        return text ? text : '无'
      },
    },
    {
      title: '字段必填',
      dataIndex: 'rules',
      render: (text) =&gt; {
        const result = Array.isArray(text) &amp;&amp; text.length &gt; 0 &amp;&amp; text[0]
        return result ? (result.required ? '是' : '否') : '否'
      },
    },
    {
      title: '表格展示',
      dataIndex: 'isColumn',
      render: (text) =&gt; {
        return text ? '是' : '否'
      },
    },
    // {
    //   title: '搜索',
    //   dataIndex: 'isSearch',
    //   render: (text) =&gt; {
    //     return text ? '是' : '否'
    //   },
    // },
    {
      title: '添加/编辑',
      dataIndex: 'isModalField',
      render: (text) =&gt; {
        return text ? '是' : '否'
      },
    },
    {
      title: '顺序号',
      dataIndex: 'orderIndex',
      render: (text) =&gt; {
        return typeof text === 'number' ? text : '无'
      },
    },
    {
      title: '操作',
      width: 220,
      render: (record) =&gt; {
        if (record.isSystem) {
          return '系统字段'
        } else {
          return (
            &lt;div className="m-action"&gt;
              &lt;Button
                className="m-action-btn"
                size="small"
                danger
                onClick={() =&gt; props.onDelete(record)}
              &gt;
                删除
              &lt;/Button&gt;
              &lt;Button
                className="m-action-btn"
                size="small"
                onClick={() =&gt; props.onCheck(record)}
              &gt;
                查看
              &lt;/Button&gt;
              &lt;Button
                className="m-action-btn"
                size="small"
                onClick={() =&gt; props.onEdit(record)}
              &gt;
                编辑
              &lt;/Button&gt;
            &lt;/div&gt;
          )
        }
      },
    },
  ]
}

//组件元素
const getComponentArr = () =&gt; {
  return [
    {
      icon: 'input',
      title: '单行文本',
      formComponentName: "Input",
      dataIndex: 'input',
      renderFunName: "renderSpan"
    },
    {
      icon: 'textarea',
      title: '多行文本',
      formComponentName: "TextArea",
      dataIndex: 'textArea',
      renderFunName: "renderSpan"
    },
    {
      icon: 'number-input',
      title: '数字',
      formComponentName: "InputNumber",
      dataIndex: 'inputNumber ',
      renderFunName: "renderSpan"
    },
  ]
}

//添加编辑查看对话框表单字段
const getAttrFields = () =&gt; {
  return (
    &lt;&gt;
      &lt;Form.Item
        label="字段名称"
        name="title"
        rules={[
          {
            required: true,
            message: '请输入字段名称！',
          },
        ]}
      &gt;
        &lt;Input /&gt;
      &lt;/Form.Item&gt;
      &lt;Form.Item
        label="英文名称"
        name="dataIndex"
        rules={[
          {
            required: true,
            message: '请输入字段名称！',
          },
        ]}
      &gt;
        &lt;Input /&gt;
      &lt;/Form.Item&gt;
      &lt;Form.Item label="字段必填" name="rules"&gt;
        &lt;FieldRequired&gt;&lt;/FieldRequired&gt;
      &lt;/Form.Item&gt;
    &lt;/&gt;
  )
}

export { getColumns, getComponentArr, getAttrFields }
</code></pre> 
<p>Header.js:</p> 
<pre><code class="language-javascript">import React from 'react'
import { Button } from 'antd'
import { withRouter, Link } from 'react-router-dom'
import { Icon } from '../../../../components/light'

function Header(props) {
  const { applicationTitle, tableId, onSave } = props
  return (
    &lt;div className="m-design-header"&gt;
      &lt;div className="m-design-header-title"&gt;
        &lt;Icon
          name="goback"
          title="返回"
          className="m-set-application-header-icon"
          onClick={() =&gt; props.history.go(-1)}
        &gt;&lt;/Icon&gt;
        &lt;span title={applicationTitle}&gt;{applicationTitle}&lt;/span&gt;
      &lt;/div&gt;
      &lt;div className="m-design-header-middle"&gt;&lt;/div&gt;
      &lt;div className="m-design-header-action"&gt;
        &lt;Button type="primary" onClick={onSave}&gt;
          保存
        &lt;/Button&gt;
        &lt;Link to={`/light/formview?id=${tableId}`} target="_blank" style={<!-- -->{display: 'inherit'}}&gt;
          &lt;Button&gt;预览&lt;/Button&gt;
        &lt;/Link&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  )
}

export default withRouter(Header)
</code></pre> 
<p>ItemTypes.js:</p> 
<pre><code class="language-javascript">export const ItemTypes = {
  LIST_ITEM: 'listItem',
  BTN_FIELD: 'btnField' //'btnField',
}
</code></pre> 
<p>List.js:</p> 
<pre><code class="language-javascript">import { useDrop } from 'react-dnd'
import { ItemTypes } from './ItemTypes'
import ListItem from './ListItem'

export default function List({
  dataSource,
  cardActiveId,
  moveCard,
  handleCardActiveId,
  handleDelete,
}) {
  const [{ canDrop, isOver }, drop] = useDrop(() =&gt; ({
    accept: ItemTypes.BTN_FIELD,
    drop: () =&gt; ({ name: '容器' }),
    collect: (monitor) =&gt; ({
      isOver: monitor.isOver(),
      canDrop: monitor.canDrop(),
    }),
  }))
  const isActive = canDrop &amp;&amp; isOver
  return (
    &lt;div
      ref={drop}
      className={`m-center-list-wrap ${isActive ? 'active' : ''}`}
    &gt;
      {dataSource.map((card, index) =&gt; (
        &lt;ListItem
          key={card.id}
          index={index}
          cardActiveId={cardActiveId}
          card={card}
          moveCard={moveCard}
          onCardActiveId={handleCardActiveId}
          onDelete={handleDelete}
        /&gt;
      ))}
    &lt;/div&gt;
  )
}
</code></pre> 
<p>ListItem.js:</p> 
<pre><code class="language-javascript">import { useRef } from 'react'
import { useDrag, useDrop } from 'react-dnd'
import { ItemTypes } from './ItemTypes'
import { Form, Input, Button } from 'antd'
import { getFormComponentArr } from '../../../../utils/tools'

export default function ListItem({
  index,
  cardActiveId,
  card,
  moveCard,
  onCardActiveId,
  onDelete,
}) {
  const ref = useRef(null)
  const [{ handlerId }, drop] = useDrop({
    accept: ItemTypes.LIST_ITEM,
    collect(monitor) {
      return {
        handlerId: monitor.getHandlerId(),
      }
    },
    hover(item, monitor) {
      if (!ref.current) {
        return
      }
      const dragIndex = item.index
      const hoverIndex = index
      // Don't replace items with themselves
      if (dragIndex === hoverIndex) {
        return
      }
      // Determine rectangle on screen
      const hoverBoundingRect = ref.current?.getBoundingClientRect()
      // Get vertical middle
      const hoverMiddleY =
        (hoverBoundingRect.bottom - hoverBoundingRect.top) / 2
      // Determine mouse position
      const clientOffset = monitor.getClientOffset()
      // Get pixels to the top
      const hoverClientY = clientOffset.y - hoverBoundingRect.top
      // Only perform the move when the mouse has crossed half of the items height
      // When dragging downwards, only move when the cursor is below 50%
      // When dragging upwards, only move when the cursor is above 50%
      // Dragging downwards
      if (dragIndex &lt; hoverIndex &amp;&amp; hoverClientY &lt; hoverMiddleY) {
        return
      }
      // Dragging upwards
      if (dragIndex &gt; hoverIndex &amp;&amp; hoverClientY &gt; hoverMiddleY) {
        return
      }
      // Time to actually perform the action
      moveCard(dragIndex, hoverIndex)
      // Note: we're mutating the monitor item here!
      // Generally it's better to avoid mutations,
      // but it's good here for the sake of performance
      // to avoid expensive index searches.
      item.index = hoverIndex

      console.log(hoverIndex)
    },
  })
  const [{ isDragging }, drag] = useDrag({
    type: ItemTypes.LIST_ITEM,
    item: () =&gt; {
      return { id: card.id, index }
    },
    collect: (monitor) =&gt; ({
      isDragging: monitor.isDragging(),
    }),
  })
  const opacity = isDragging ? 0 : 1
  drag(drop(ref))

  //console.log(card)
  const renderDom = () =&gt; {
    if (card.isModalField) {
      const result = getFormComponentArr().find(
        (componentItem) =&gt;
          componentItem.formComponentName === card.formComponentName
      )
      return (
        &lt;div
          ref={ref}
          style={<!-- -->{ opacity }}
          data-handler-id={handlerId}
          className={`m-design-card ${
            cardActiveId === card.id ? 'active' : ''
          }`}
          onClick={() =&gt; onCardActiveId({ id: card.id })}
        &gt;
          &lt;div className="m-design-card-info"&gt;
            &lt;Form.Item
              key={card.id}
              label={card.title}
              name={card.dataIndex}
              rules={card.rules}
            &gt;
              {result ? result.component : &lt;Input&gt;&lt;/Input&gt;}
            &lt;/Form.Item&gt;
          &lt;/div&gt;
          &lt;div className="m-design-card-action"&gt;
            &lt;Button
              className="m-action-btn"
              size="small"
              danger
              onClick={() =&gt; onDelete(card)}
            &gt;
              删除
            &lt;/Button&gt;
          &lt;/div&gt;
        &lt;/div&gt;
      )
    } else {
      return null
    }
  }

  return &lt;&gt;{renderDom()}&lt;/&gt;
}
</code></pre> 
<p>useList.js:</p> 
<pre><code class="language-javascript">import { useState, useEffect, useCallback } from 'react'
import Api from '../../../../api'
import { Modal, Form, message } from 'antd'
import update from 'immutability-helper'
import { getRouterSearchObj } from '../../../../utils/tools'
import { v4 as uuidv4 } from 'uuid'

const { confirm } = Modal

let currentDataSource = []
export default function useList(props) {
  const [form] = Form.useForm()
  const [formForAttr] = Form.useForm()
  const [dataSource, setDataSource] = useState([])
  const [applicationTitle, setApplicationTitle] = useState()
  const [cardActiveId, setCardActiveId] = useState()
  const [initValuesForAttr, setInitValuesForAttr] = useState({})

  //获取路由参数
  const routerSearchObj = getRouterSearchObj(props)
  const tableId = routerSearchObj.id - 0

  const addInitValues = {}

  //搜索
  const handleSearch = () =&gt; {
    Api.light.fieldsSearch({ tableId }).then((res) =&gt; {
      if (res.code === 200) {
        let tempDataSource = res.data.fields.filter((item) =&gt; !item.isSystem)
        setDataSource(tempDataSource)
        setApplicationTitle(res.data.title)
        if (Array.isArray(tempDataSource) &amp;&amp; tempDataSource.length &gt; 0) {
          handleCardActiveId({
            id: tempDataSource[0].id,
            myDataSource: tempDataSource,
          })
        }
      }
    })
  }

  //拖动改变顺序
  const moveCard = useCallback(
    (dragIndex, hoverIndex) =&gt; {
      const dragCard = dataSource[dragIndex]
      setDataSource(
        update(dataSource, {
          $splice: [
            [dragIndex, 1],
            [hoverIndex, 0, dragCard],
          ],
        })
      )
    },
    [dataSource]
  )

  //添加新字段
  const handleAdd = ({ fieldInfo }) =&gt; {
    const orderIndexArr = currentDataSource.map((item) =&gt; item.orderIndex)
    const orderIndex = Math.max.apply(Math, orderIndexArr) + 1
    const id = uuidv4()
    let tempValues = {
      id,
      dataIndex: `${fieldInfo.dataIndex}-${id}`,
      isColumn: true,
      isModalField: true,
      orderIndex,
    }
    console.log({ ...fieldInfo, ...tempValues })
    console.log(currentDataSource)
    setDataSource([...currentDataSource, { ...fieldInfo, ...tempValues }])
  }

  //保存
  const handleSave = () =&gt; {
    console.log(dataSource)
    const newDataSource = dataSource.map((item, index) =&gt; {
      return { ...item, orderIndex: index + 1 }
    })
    console.log(newDataSource)
    Api.light
      .fieldsEditAll({ tableId, dataItem: newDataSource })
      .then((res) =&gt; {
        if (res.code === 200) {
          message.success(res.message)
        }
      })
  }

  //删除
  const handleDelete = (record) =&gt; {
    console.log('删除, id:', record.id)
    confirm({
      title: '确认要删除吗？',
      onOk() {
        const newDataSource = dataSource.filter(item =&gt; item.id !== record.id)
        setDataSource(newDataSource)
      },
    })
  }

  //添加或编辑
  const handleFinish = (values) =&gt; {
    console.log('Success:', values)
  }

  //校验失败
  const handleFinishFailed = (errorInfo) =&gt; {
    console.log('Failed:', errorInfo)
  }

  //设置当前card
  const handleCardActiveId = ({ id, myDataSource = dataSource }) =&gt; {
    setCardActiveId(id)
    let currentItem = myDataSource.find((item) =&gt; item.id === id)
    const rules =
      Array.isArray(currentItem.rules) &amp;&amp; currentItem.rules.length &gt; 0
        ? currentItem.rules[0]
        : {}
    setInitValuesForAttr({ ...currentItem, rules })
  }

  //修改表单字段属性
  const handleValuesChange = (changedValues, allValues) =&gt; {
    const cardActiveIndex = dataSource.findIndex(
      (item) =&gt; item.id === cardActiveId
    )

    let tempValues = {
      rules: [allValues.rules],
    }

    dataSource[cardActiveIndex] = {
      ...dataSource[cardActiveIndex],
      ...allValues,
      ...tempValues,
    }
    setDataSource([...dataSource])
  }

  useEffect(() =&gt; {
    formForAttr.resetFields()
    // eslint-disable-next-line
  }, [initValuesForAttr])

  //挂载完
  useEffect(() =&gt; {
    handleSearch()
    // eslint-disable-next-line
  }, [])

  //dataSource更新，同步更新currentDataSource,handleAdd函数中dataSource的值为空数组，这是一个bug
  useEffect(() =&gt; {
    currentDataSource = dataSource
  }, [dataSource])

  return {
    form,
    formForAttr,
    initValuesForAttr,
    dataSource,
    applicationTitle,
    addInitValues,
    tableId,
    cardActiveId,
    handleSearch,
    moveCard,
    handleDelete,
    handleFinish,
    handleFinishFailed,
    handleAdd,
    handleSave,
    handleCardActiveId,
    handleValuesChange,
  }
}
</code></pre> 
<p></p> 
<p></p>
                ]]></description></item><item><title>react-smooth-dnd 拖拽实例</title><link>http://www.cnblogs.com/xutongbao/archive/2021/08/23/15264312.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Mon, 23 Aug 2021 05:48:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/08/23/15264312.html</guid><description><![CDATA[
                    <p></p> 
<p></p> 
<p style="text-align:center;"><img alt="" src="https://img-blog.csdnimg.cn/20210823134720533.gif"></p> 
<p>&nbsp;</p> 
<pre><code class="language-javascript">import React, { useState } from 'react'
import { Container, Draggable } from 'react-smooth-dnd'
import { v4 as uuidv4 } from 'uuid'

export default function CardPlus() {
  const [toolList, setToolList] = useState([
    {
      id: 't0',
      name: '1',
    },
    {
      id: 't1',
      name: '2',
    },
    {
      id: 't2',
      name: '3',
    },
  ])

  const [contentList, setContentList] = useState([
    {
      id: 'c0',
      name: 'a',
    },
    {
      id: 'c1',
      name: 'b',
    },
    {
      id: 'c2',
      name: 'c',
    },
  ])

  const applyDrag = (arr, dragResult) =&gt; {
    const { removedIndex, addedIndex, payload } = dragResult
    if (removedIndex === null &amp;&amp; addedIndex === null) return arr

    const result = [...arr]
    let itemToAdd = payload

    if (removedIndex !== null) {
      itemToAdd = result.splice(removedIndex, 1)[0]
    }

    if (addedIndex !== null) {
      result.splice(addedIndex, 0, itemToAdd)
    }

    return result
  }

  const handleGetChildPayload = ({type, index}) =&gt; {
    if (type === 'tool') {
      const id = uuidv4()
      return {...toolList[index], id}
    } else if (type === 'content') {
      return contentList[index]
    }
  }

  const handleCardDrop = ({ type, dragResult }) =&gt; {
    console.log(dragResult)
    if (type === 'tool') {
      const result = applyDrag(toolList, dragResult)
      setToolList(result)
    } else if (type === 'content') {
      const result = applyDrag(contentList, dragResult)
      setContentList(result)
    }
  }

  return (
    &lt;div className="m-test-wrap"&gt;
      &lt;div className="m-test-tool"&gt;
        &lt;Container
          orientation="vertical"
          onDrop={(dragResult) =&gt; handleCardDrop({ type: 'tool', dragResult })}
          getChildPayload={(index) =&gt; handleGetChildPayload({type: 'tool', index})}
          behaviour="copy"
          groupName="col"
        &gt;
          {toolList.map((item) =&gt; (
            &lt;Draggable key={item.id} className="m-test-list-item"&gt;
              &lt;div&gt;{item.name}&lt;/div&gt;
            &lt;/Draggable&gt;
          ))}
        &lt;/Container&gt;
      &lt;/div&gt;
      &lt;div className="m-test-list"&gt;
        &lt;Container
          orientation="vertical"
          onDrop={(dragResult) =&gt;
            handleCardDrop({ type: 'content', dragResult })
          }
          getChildPayload={(index) =&gt; handleGetChildPayload({type: 'content', index})}
          groupName="col"
        &gt;
          {contentList.map((item) =&gt; (
            &lt;Draggable key={item.id} className="m-test-list-item"&gt;
              &lt;div&gt;{item.name}&lt;/div&gt;
            &lt;/Draggable&gt;
          ))}
        &lt;/Container&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  )
}
</code></pre> 
<p></p> 
<p></p> 
<p>参考链接：</p> 
<p><a href="https://kutlugsahin.github.io/smooth-dnd-demo/">https://kutlugsahin.github.io/smooth-dnd-demo/</a></p> 
<p></p>
                ]]></description></item><item><title>react中div的全屏与退出全屏</title><link>http://www.cnblogs.com/xutongbao/archive/2021/08/18/15264313.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 18 Aug 2021 10:50:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/08/18/15264313.html</guid><description><![CDATA[
                    <p></p> 
<h1>基础版：</h1> 
<pre><code class="language-javascript">import React, { useState, useRef } from 'react'
import { Tabs, List, Input, Image } from 'antd'
import Api from '../../../../../api'
import moment from 'moment'
import { deepClone } from '../../../../../utils/tools'
import { Icon } from '../../../../../components/light'

const { Search } = Input

const { TabPane } = Tabs
let historyFriends = []
export default function useChatList() {

  const [isFullScreen, setIsFullScreen] = useState(false)
  const chatContent = useRef(null)

  //全屏
  const handleFullScreen = () =&gt; {
    if (isFullScreen) {
      document.exitFullscreen()
    } else {
      chatContent.current.requestFullscreen()
    }
    
    setIsFullScreen(!isFullScreen)
  }


  const getChatDom = () =&gt; {
    return (
      &lt;div className="m-chat-list-wrap"&gt;
        &lt;div className="m-chat-list-info" ref={chatContent}&gt;
          &lt;div className="m-chat-list-header"&gt;
            &lt;span className="m-chat-list-header-title"&gt;聊天内容&lt;/span&gt;
            &lt;span className="m-chat-list-header-content"&gt;&lt;/span&gt;
            &lt;span className="m-chat-list-header-tool" onClick={handleFullScreen}&gt;
              &lt;Icon
                name={isFullScreen ? 'fullscreen-exit' : 'fullscreen'}
              &gt;&lt;/Icon&gt;
              {isFullScreen ? '退出全屏' : '全屏查看'}
            &lt;/span&gt;
          &lt;/div&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    )
  }

  return {
    handleReset,
    getChatDom,
  }
}
</code></pre> 
<p></p> 
<pre><code class="language-javascript">    if (isFullScreen) {
      document.exitFullscreen()
    } else {
      chatContent.current.requestFullscreen()
    }</code></pre> 
<p></p> 
<h1>加强版：</h1> 
<p>full.js:</p> 
<pre><code class="language-javascript">//全屏
// 打开浏览器全屏模式
/**
 * screenChange &lt;Function&gt; 为窗口变化的 的回调函数  参数为当前是否为全屏状态
 */
const initFullScreen = (screenChange) =&gt; {
  // 取值17是为了处理页面内容出现滚动条的情况
  let isFull =
    window.screen.height - window.document.documentElement.clientHeight &lt;= 17

  // 阻止F11键默认事件，用HTML5全屏API代替
  window.addEventListener('keydown', function (e) {
    e = e || window.event
    if (e.keyCode === 122 &amp;&amp; !isFull) {
      e.preventDefault()
      enterFullScreen()
    }
  })
  //监听窗口变化
  window.onresize = function () {
    isFull =
      window.screen.height - window.document.documentElement.clientHeight &lt;= 17
    screenChange(isFull)
  }
}

//进入全屏
const enterFullScreen = (el = document.documentElement) =&gt; {
  let rfs =
    el.requestFullScreen ||
    el.webkitRequestFullScreen ||
    el.mozRequestFullScreen ||
    el.msRequestFullscreen
  if (rfs) {
    // typeof rfs != "undefined" &amp;&amp; rfs
    rfs.call(el)
  } else if (typeof window.ActiveXObject !== 'undefined') {
    // for IE，这里其实就是模拟了按下键盘的F11，使浏览器全屏
    let wscript = new ActiveXObject('WScript.Shell') //eslint-disable-line
    if (wscript != null) {
      wscript.SendKeys('{F11}')
    }
  }
}

// 退出全屏
const exitFullScreen = () =&gt; {
  let el = document
  let cfs =
    el.cancelFullScreen ||
    el.mozCancelFullScreen ||
    el.msExitFullscreen ||
    el.webkitExitFullscreen ||
    el.exitFullscreen
  if (cfs) {
    // typeof cfs != "undefined" &amp;&amp; cfs
    cfs.call(el)
  } else if (typeof window.ActiveXObject !== 'undefined') {
    // for IE，这里和fullScreen相同，模拟按下F11键退出全屏
    let wscript = new ActiveXObject('WScript.Shell') //eslint-disable-line
    if (wscript != null) {
      wscript.SendKeys('{F11}')
    }
  }
}

export {
  initFullScreen,
  enterFullScreen,
  exitFullScreen,
}
</code></pre> 
<pre><code class="language-javascript">import React, { useState, useRef, useEffect } from 'react'
import { Tabs, List, Input, Image } from 'antd'
import Api from '../../../../../api'
import moment from 'moment'
import { deepClone } from '../../../../../utils/tools'
import { Icon } from '../../../../../components/light'
import {
  initFullScreen,
  enterFullScreen,
  exitFullScreen,
} from '../../../../../utils/full'

const { Search } = Input

const { TabPane } = Tabs
let historyFriends = []
export default function useChatList() {
  const [activeKey, setActiveKey] = useState('1')
  const [friends, setFriends] = useState([])
  const [searchValue, setSearchValue] = useState()
  const [friendActiveId, setFriendActiveId] = useState()
  const [isFullScreen, setIsFullScreen] = useState(false)
  const chatContent = useRef(null)

  //获取好友或群列表
  const handleSearchFriendsList = ({ type }) =&gt; {
    Api.light.testInsightFriends({ type }).then((res) =&gt; {
      if (res.state === 1) {
        const friends = Array.isArray(res.data) ? res.data : []
        setFriends(friends)
        historyFriends = deepClone(res.data)
        if (friends.length &gt; 0) {
          setFriendActiveId(friends[0].id)
        }
      }
    })
  }

  //切换tab
  const handleTabsChange = (key) =&gt; {
    setActiveKey(key)
    handleSearchFriendsList({ type: key })
  }

  //重置
  const handleReset = () =&gt; {
    setActiveKey('1')
    handleSearchFriendsList({ type: '1' })
  }

  //搜索
  const onSearch = (value) =&gt; {
    console.log(value)
    value = value.trim()
    if (value) {
      const newFriends = historyFriends.filter((item) =&gt; {
        if (item.name.includes(value)) {
          return true
        } else {
          return false
        }
      })
      setFriends(newFriends)
    } else {
      setFriends(historyFriends)
    }
  }

  //全屏
  const handleFullScreen = () =&gt; {
    if (isFullScreen) {
      exitFullScreen()
    } else {
      enterFullScreen(chatContent.current)
    }

    setIsFullScreen(!isFullScreen)
  }

  const screenChange = (isFull) =&gt; {
    console.log('是否全屏', isFull)
    setIsFullScreen(isFull)
  }

  useEffect(() =&gt; {
    //初始化
    initFullScreen(screenChange)
  }, [])

  const renderFriends = ({ type }) =&gt; {
    const friendsDom = (
      &lt;List
        dataSource={friends}
        renderItem={(item) =&gt; (
          &lt;div
            className={`m-friends-item ${
              item.id === friendActiveId ? 'active' : ''
            }`}
            onClick={() =&gt; setFriendActiveId(item.id)}
          &gt;
            &lt;Image
              className="m-friends-item-img"
              src={item.img}
              alt={'图片'}
              preview={<!-- -->{
                mask: '',
              }}
            &gt;&lt;/Image&gt;
            &lt;div className="m-friends-item-info"&gt;
              &lt;div className="m-friends-item-title"&gt;
                &lt;div className="m-friends-item-title-nickname"&gt;{item.name}&lt;/div&gt;
                &lt;div className="m-friends-item-title-time"&gt;
                  {moment(item.date).format('YYYY-MM-DD')}
                &lt;/div&gt;
              &lt;/div&gt;
              &lt;div className="m-friends-item-msg"&gt;{item.msg}&lt;/div&gt;
            &lt;/div&gt;
          &lt;/div&gt;
        )}
      /&gt;
    )

    return (
      &lt;div className="m-friends-wrap"&gt;
        &lt;div className="m-friends-search"&gt;
          &lt;Search
            value={searchValue}
            onChange={(e) =&gt; setSearchValue(e.target.value)}
            placeholder="搜索好友昵称/备注"
            onSearch={onSearch}
            style={<!-- -->{ width: '100%' }}
          /&gt;
        &lt;/div&gt;
        &lt;div className="m-friends-info"&gt;{friendsDom}&lt;/div&gt;
        &lt;div className="m-friends-footer"&gt;
          共有数据： &lt;span className="m-total-text"&gt;{friends.length}&lt;/span&gt; 条
        &lt;/div&gt;
      &lt;/div&gt;
    )
  }

  const getChatDom = () =&gt; {
    return (
      &lt;div className="m-chat-list-wrap"&gt;
        &lt;div className="m-chat-list-sidebar"&gt;
          &lt;Tabs
            activeKey={activeKey}
            onChange={handleTabsChange}
            centered
            className="m-friends-tabs"
          &gt;
            &lt;TabPane tab="外部好友" key="1"&gt;
              {renderFriends({ type: '1' })}
            &lt;/TabPane&gt;
            &lt;TabPane tab="内部好友" key="2"&gt;
              {renderFriends({ type: '2' })}
            &lt;/TabPane&gt;
            &lt;TabPane tab="外部群" key="3"&gt;
              {renderFriends({ type: '3' })}
            &lt;/TabPane&gt;
            &lt;TabPane tab="内部群" key="4"&gt;
              {renderFriends({ type: '4' })}
            &lt;/TabPane&gt;
          &lt;/Tabs&gt;
        &lt;/div&gt;
        &lt;div className="m-chat-list-info" ref={chatContent}&gt;
          &lt;div className="m-chat-list-header"&gt;
            &lt;span className="m-chat-list-header-title"&gt;聊天内容&lt;/span&gt;
            &lt;span className="m-chat-list-header-content"&gt;&lt;/span&gt;
            &lt;span
              className="m-chat-list-header-tool"
              onClick={handleFullScreen}
            &gt;
              &lt;Icon
                name={isFullScreen ? 'fullscreen-exit' : 'fullscreen'}
              &gt;&lt;/Icon&gt;
              {isFullScreen ? '退出全屏' : '全屏查看'}
            &lt;/span&gt;
          &lt;/div&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    )
  }

  return {
    handleReset,
    getChatDom,
  }
}
</code></pre> 
<p></p> 
<p></p> 
<p>参考链接：</p> 
<p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Element/requestFullScreen">https://developer.mozilla.org/zh-CN/docs/Web/API/Element/requestFullScreen</a></p> 
<p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Document/exitFullscreen">https://developer.mozilla.org/zh-CN/docs/Web/API/Document/exitFullscreen</a></p>
                ]]></description></item><item><title>使用mock.js伪造图片数据，图片链接是枚举值</title><link>http://www.cnblogs.com/xutongbao/archive/2021/08/18/15264314.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 18 Aug 2021 08:59:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/08/18/15264314.html</guid><description><![CDATA[
                    <p></p> 
<p><img alt="" height="420" src="https://img-blog.csdnimg.cn/20210818165905118.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" width="387"></p> 
<p>&nbsp;</p> 
<pre><code class="language-javascript">const Mock = require('mockjs')
const moment = require('moment')

const getImage = () =&gt; {
  const urlArr = [
    'http://images.gongzuoshouji.cn/teacher/2021-08-09/84751fbcf153487f868a21a77048d19c.jpg',
    'http://images.gongzuoshouji.cn/teacher/20210804/196b0fa5d1726432492ad5edae6a565b.jpg',
    'http://images.gongzuoshouji.cn/teacher/20210730/a8e65bfaf7575a051a45b8dedd528af4.jpg',
  ]
  const index = Mock.Random.integer(0, urlArr.length - 1)
  return urlArr[index]
}

//初始化好友列表、群列表数据
const initFriendsList = () =&gt; {
  const friendsList = []
  const getList = ({type}) =&gt; {
    let arr = []
    for (let i = 0; i &lt; 100; i++) {
      const temp = Mock.mock({
        name: '@cname',
        msg: '@ctitle',
        type,
        img: getImage() ,
        date: moment().subtract(i, 'day').format()
      })
      arr.push({ ...temp, id: i + 1 })
    }
    return arr
  }
  for (let i = 0; i &lt; 4; i++) {
    friendsList.push({
      type: i + 1 + '',
      friends: getList({type: i + 1 + ''})
    })
  }
  return friendsList
}

const friendsList = initFriendsList()</code></pre> 
<p><img alt="" height="363" src="https://img-blog.csdnimg.cn/20210818165834359.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" width="1056"></p> 
<p>&nbsp;</p>
                ]]></description></item><item><title>moment生成前一天的时间</title><link>http://www.cnblogs.com/xutongbao/archive/2021/08/16/15264315.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Mon, 16 Aug 2021 09:40:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/08/16/15264315.html</guid><description><![CDATA[
                    <p>&nbsp;moment生成前一天的时间：</p> 
<pre><code class="language-javascript">const moment = require('moment')

moment().subtract(1, 'day').format('YYYY-MM-DD')</code></pre> 
<p>批量：</p> 
<pre><code class="language-javascript">  for (let i = 0; i &lt; 100; i++) {
    //这些值在mock的批量数据中是随机的
    const temp = Mock.mock({
      name: '@cname',
      date: moment().subtract(i, 'day').format('YYYY-MM-DD'),
    })
    date.push({ ...addInitValues, ...temp, ...mockOtherValue(), id: i + 1 })
  }</code></pre> 
<p><img alt="" height="429" src="https://img-blog.csdnimg.cn/20210816173958572.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" width="989"></p> 
<p>&nbsp;</p>
                ]]></description></item><item><title>Ant Design RangePicker预设常用的日期范围</title><link>http://www.cnblogs.com/xutongbao/archive/2021/08/14/15264316.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Sat, 14 Aug 2021 07:41:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/08/14/15264316.html</guid><description><![CDATA[
                    <p><img alt="" height="460" src="https://img-blog.csdnimg.cn/20210814153958621.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" width="932"></p> 
<p></p> 
<p></p> 
<pre><code class="language-html">        &lt;Form.Item name="dateRange" label="时间范围"&gt;
          &lt;RangePicker
            ranges={<!-- -->{
              今天: [moment(), moment()],
              昨天: [moment().startOf('day').subtract(1, 'day'), moment().endOf('day').subtract(1, 'day')],
              近七天: [moment().startOf('day').subtract(1, 'weeks'), moment()],
              近一月: [moment().startOf('day').subtract(1, 'month'), moment()],
              近三月: [moment().startOf('day').subtract(3, 'month'), moment()],
              近六月: [moment().startOf('day').subtract(6, 'month'), moment()],
              近一年: [moment().startOf('day').subtract(1, 'year'), moment()],
            }}
          /&gt;
        &lt;/Form.Item&gt;</code></pre> 
<p>&nbsp;</p> 
<pre><code class="language-javascript">    // 字段格式处理
    if (
      Array.isArray(searchParams.dateRange) &amp;&amp;
      searchParams.dateRange.length &gt; 1
    ) {
      searchParams.sDate = searchParams.dateRange[0].format(
        'YYYY-MM-DD 00:00:00'
      )
      searchParams.eDate = searchParams.dateRange[1].format(
        'YYYY-MM-DD 23:59:59'
      )
      delete searchParams.dateRange
    }</code></pre> 
<p></p>
                ]]></description></item><item><title>css文字太多时添加省略号</title><link>http://www.cnblogs.com/xutongbao/archive/2021/08/11/15264317.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 11 Aug 2021 07:04:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/08/11/15264317.html</guid><description><![CDATA[
                    <p>&nbsp;<img alt="" height="229" src="https://img-blog.csdnimg.cn/20210811150328567.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" width="794"></p> 
<p>&nbsp;</p> 
<pre><code class="language-css">.m-title{width: 250px;overflow: hidden;text-overflow: ellipsis;white-space: nowrap}</code></pre> 
<p></p>
                ]]></description></item><item><title>node如何发生邮件，nodemailer</title><link>http://www.cnblogs.com/xutongbao/archive/2021/08/10/15264318.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 10 Aug 2021 07:35:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/08/10/15264318.html</guid><description><![CDATA[
                    <p>&nbsp;<img alt="" height="861" src="https://img-blog.csdnimg.cn/20210810152919473.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" width="1200"></p> 
<p></p> 
<pre><code class="language-javascript">const nodemailer = require("nodemailer")


let transporter
const emailInit = async () =&gt; {
  // Generate test SMTP service account from ethereal.email
  // Only needed if you don't have a real mail account for testing
  let testAccount = await nodemailer.createTestAccount();

  // create reusable transporter object using the default SMTP transport
  transporter = nodemailer.createTransport({
    host: 'smtp.sina.cn',
    // service: 'qq',
    // port: 465,
    //secure: false, // true for 465, false for other ports
    secureConnection: true, // 使用了 SSL
    auth: {
      user: '136xxxxx@sina.cn', // generated ethereal user
      pass: '密码' // generated ethereal password
    }
  });
}

emailInit()

//发送邮件
// async..await is not allowed in global scope, must use a wrapper
const sendEmail = async (dataObj) =&gt; {
  const { path, username, errorTitle, detail, browser } = dataObj
  // send mail with defined transport object
  let info = await transporter.sendMail({
    from: '&lt;13642061747@sina.cn&gt;', // sender address
    to: '1183391880@qq.com', //'1183391880@qq.com', // list of receivers
    subject: "知了好学错误报告", // Subject line
    html: `
    &lt;div&gt;
      &lt;div&gt;
        &lt;span&gt;路径：&lt;/span&gt;
        &lt;a href="http://zlhx.gongzuoshouji.cn/#${path}"&gt;${path}&lt;/a&gt;
      &lt;/div&gt; 
      &lt;div&gt;
        &lt;span&gt;用户名：&lt;/span&gt;
        &lt;span&gt;${username}&lt;/span&gt;
      &lt;/div&gt;
      &lt;div&gt;
        &lt;span&gt;错误标题：&lt;/span&gt;
        &lt;span&gt;${errorTitle}&lt;/span&gt;
      &lt;/div&gt;
      &lt;div&gt;
        &lt;span&gt;错误详情：&lt;/span&gt;
        &lt;div style="white-space: pre-wrap"&gt;${detail}&lt;/div&gt;
      &lt;/div&gt;
      &lt;div&gt;
        &lt;span&gt;发生时间：&lt;/span&gt;
        &lt;span&gt;${Date()}&lt;/span&gt;
      &lt;/div&gt;
      &lt;div&gt;
        &lt;span&gt;浏览器型号：&lt;/span&gt;
        &lt;span&gt;${browser}&lt;/span&gt;
      &lt;/div&gt;
    &lt;/div&gt;`// html body
  });

  console.log("Message sent: %s", info.messageId);
  // Message sent: &lt;b658f8ca-6296-ccf4-8306-87d57a0b4321@example.com&gt;

  // Preview only available when sending through an Ethereal account
  console.log("Preview URL: %s", nodemailer.getTestMessageUrl(info));
  // Preview URL: https://ethereal.email/message/WaQKMgKddxQDoou...
}


module.exports = {
  //发送邮件
  sendEmail,
}</code></pre> 
<p>开发接口，并把接口部署到阿里云上：</p> 
<pre><code class="language-javascript">//发送邮件的接口
const dataEmail = async (req, res) =&gt; {
  const emailData = req.body
  await sendEmail({ ...emailData }).catch((err) =&gt; {
    console.log(err)
  })
  res.send({
    state: 1,
    data: emailData,
    message: '成功',
  })
}</code></pre> 
<p></p> 
<p>在其他node项目中调用阿里云的接口即可发邮件：</p> 
<p>例如项目托管在（<a href="https://glitch.com/">https://glitch.com/</a>），这是一个国外的服务器，无法使用国内的邮箱直接发邮件，但是可以调用阿里云上的接口发邮件！</p> 
<pre><code class="language-javascript">const axios = require('axios')


//调用阿里云服务器上的发送邮件的接口
const emailPost = (emailData) =&gt; {
  axios
    .post('http://xxx:81/api/log/email', {
      ...emailData
    })
    .then((res) =&gt; {
      console.log(`statusCode: ${res.statusCode}`)
      console.log(res)
    })
    .catch((error) =&gt; {
      console.error(error)
    })
}</code></pre> 
<p></p> 
<p></p>
                ]]></description></item><item><title>sqlite3，在node中使用，轻量级数据库</title><link>http://www.cnblogs.com/xutongbao/archive/2021/08/10/15264319.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 10 Aug 2021 07:20:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/08/10/15264319.html</guid><description><![CDATA[
                    <p><img alt="" height="413" src="https://img-blog.csdnimg.cn/20210810152024853.png" width="294"></p> 
<p>&nbsp;</p> 
<p>db/index.js:</p> 
<pre><code class="language-javascript">var sqlite3 = require('sqlite3').verbose()
var db = new sqlite3.Database('my.db')

//执行sql语句
const runSql = async (sql) =&gt; {
  return new Promise(async (resolve, reject) =&gt; {
    db.run(sql, (err) =&gt; {
      resolve(err)
    })
  })
}

//查询
const queryPromise = async (sql) =&gt; {
  return new Promise(async (resolve, reject) =&gt; {
    db.all(sql, function (err, rows) {
      console.log(rows)
      if (err) {
        reject(err)
      } else {
        resolve(rows)
      }
    })
  })
}

module.exports = {
  runSql,
  queryPromise,
}
</code></pre> 
<p>增删查改：</p> 
<pre><code class="language-javascript">const axios = require('axios')
const { runSql, queryPromise } = require('../../db/index')
const { sendEmail } = require('../../utils/tools')

//搜索
const dataSearch = async (req, res) =&gt; {
  const { pageNum = 1, pageSize = 10 } = req.body
  const result = await queryPromise(
    `SELECT * FROM myLogs ORDER BY addtime DESC`
  )
  let list = [...result]

  const searchParams = req.body || {}
  delete searchParams.pageNum
  delete searchParams.pageSize

  list = list.filter((item) =&gt; {
    let flag = true
    for (let key in searchParams) {
      if (
        typeof item[key] === 'string' &amp;&amp;
        !item[key].includes(searchParams[key])
      ) {
        flag = false
      } else if (
        typeof item[key] === 'number' &amp;&amp;
        !(item[key] === searchParams[key])
      ) {
        flag = false
      }
    }
    return flag
  })

  const start = (pageNum - 1) * pageSize
  const end = start + pageSize * 1
  res.send({
    state: 1,
    data: {
      list: list.slice(start, end),
      totalCount: list.length,
      pageNum: pageNum - 0,
      pageSize: pageSize - 0,
    },
    message: '搜索成功',
  })
}

//调用阿里云服务器上的发送邮件的接口
const emailPost = (emailData) =&gt; {
  axios
    .post('http://39.97.238.175:81/api/log/email', {
      ...emailData
    })
    .then((res) =&gt; {
      console.log(`statusCode: ${res.statusCode}`)
      console.log(res)
    })
    .catch((error) =&gt; {
      console.error(error)
    })
}

//添加
const dataAdd = async (req, res) =&gt; {
  const { dataItem } = req.body
  const { path, username, errorTitle, detail } = dataItem
  const id = Date.now()
  const addtime = Date.now()
  const edittime = ''
  const browser = req.headers[`user-agent`]
  const status = '0'
  const err = await runSql(
    `INSERT INTO myLogs VALUES ('${id}', '${addtime}', '${edittime}', '${path}', '${username}', '${browser}', '${errorTitle}', '${detail}', '${status}')`
  )
  res.send({
    state: 1,
    data: dataItem,
    message: '添加成功',
  })
  //添加错误时调用发送邮件的接口
  emailPost({...dataItem, browser})
}

//发送邮件的接口
const dataEmail = async (req, res) =&gt; {
  const emailData = req.body
  await sendEmail({ ...emailData }).catch((err) =&gt; {
    console.log(err)
  })
  res.send({
    state: 1,
    data: emailData,
    message: '成功',
  })
}

//删除
const dataDelete = async (req, res) =&gt; {
  let { ids } = req.body
  console.log(ids)
  err = await runSql(`DELETE FROM myLogs WHERE id in (${ids.join(',')})`)
  res.send({
    state: 1,
    data: ids,
    message: '删除成功',
  })
}

//编辑
const dataEdit = async (req, res) =&gt; {
  let { id, dataItem } = req.body
  const { path, username } = dataItem
  const edittime = Date.now()
  err = await runSql(
    `UPDATE myLogs SET path='${path}', username='${username}', edittime='${edittime}' WHERE id=${id}`
  )
  res.send({
    state: 1,
    data: dataItem,
    message: '编辑成功',
  })
}

// 状态操作
const dataStatus = async (req, res) =&gt; {
  const { id, status } = req.body

  const edittime = Date.now()
  err = await runSql(
    `UPDATE myLogs SET edittime='${edittime}', status='${status}' WHERE id=${id}`
  )
  res.send({
    state: 1,
    data: status,
    message: '编辑成功',
  })
}

//创建表，销毁表，增删查改，练习
const dataAction = async (req, res) =&gt; {
  const { type } = req.body
  let result = []
  let err
  const id = Date.now()
  const addtime = Date.now()
  const edittime = '1'
  const path = 'a'
  const username = 'admin'
  const browser = 'chrome'
  const errorTitle = '1'
  const detail = '详情'
  const editId = '1628502771985'
  const status = '0' //0: 未解决 1：已解决

  if (type === 'create') {
    err = await runSql(
      `CREATE TABLE myLogs (id TEXT, addtime TEXT, edittime TEXT, path TEXT, username TEXT, browser TEXT, errorTitle TEXT, detail TEXT, status TEXT)`
    )
  } else if (type === 'insert') {
    err = await runSql(
      `INSERT INTO myLogs VALUES ('${id}', '${addtime}', '${edittime}', '${path}', '${username}', '${browser}', '${errorTitle}', '${detail}', '${status}')`
    )
  } else if (type === 'select') {
    result = await queryPromise(`SELECT * FROM myLogs`)
  } else if (type === 'update') {
    err = await runSql(`UPDATE myLogs SET edittime='666' WHERE id=${editId}`)
  } else if (type === 'delete') {
    err = await runSql(`DELETE FROM myLogs WHERE id=${editId}`)
  } else if (type === 'drop') {
    runSql('DROP TABLE myLogs')
  }
  //console.log(result)
  if (err) {
    res.send({
      state: 0,
      message: JSON.stringify(err),
    })
  } else {
    res.send({
      state: 1,
      data: result,
      message: '成功',
    })
  }
}

module.exports = {
  logSearch: dataSearch,
  logAdd: dataAdd,
  logEmail: dataEmail,
  logDelete: dataDelete,
  logEdit: dataEdit,
  logStatus: dataStatus,
  logAction: dataAction,
}
</code></pre> 
<p></p> 
<p></p> 
<p></p> 
<p></p>
                ]]></description></item><item><title>使用fiddler修改网页的js文件</title><link>http://www.cnblogs.com/xutongbao/archive/2021/08/04/15264320.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 04 Aug 2021 10:51:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/08/04/15264320.html</guid><description><![CDATA[
                    <p>把网页的请求的js文件保存到本地并修改，使用fiddler拦截原来的请求，替换为本地的js文件</p> 
<p></p> 
<p></p> 
<p><img alt="" height="1030" src="https://img-blog.csdnimg.cn/20210804184811765.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" width="1200"></p> 
<p>&nbsp;</p>
                ]]></description></item><item><title>在控制台修改js变量的值，模拟异常，方便调试</title><link>http://www.cnblogs.com/xutongbao/archive/2021/08/04/15264321.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 04 Aug 2021 10:04:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/08/04/15264321.html</guid><description><![CDATA[
                    <p><img alt="" height="526" src="https://img-blog.csdnimg.cn/2021080418030027.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" width="1200"></p> 
<p>&nbsp;</p>
                ]]></description></item><item><title>react路由懒加，项目经常上线导致没有刷新的用户出现js文件加载失败： ChunkLoadError: Loading chunk 42 failed.</title><link>http://www.cnblogs.com/xutongbao/archive/2021/08/04/15264322.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 04 Aug 2021 03:06:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/08/04/15264322.html</guid><description><![CDATA[
                    <p>解决方案：</p> 
<p>使用错误边界：</p> 
<pre><code class="language-javascript">import React, { Component } from 'react'

//错误边界
//https://zh-hans.reactjs.org/docs/error-boundaries.html#gatsby-focus-wrapper
export default class ErrorBoundary extends Component {
  constructor(props) {
    super(props);
    this.state = { error: null, errorInfo: null };
  }
  
  componentDidCatch(error, errorInfo) {
    // Catch errors in any components below and re-render with error message
    this.setState({
      error: error,
      errorInfo: errorInfo
    })
    // You can also log error messages to an error reporting service here
  }
  
  render() {
    if (this.state.errorInfo) {
      // Error path
      return (
        &lt;div className="m-error-wrap"&gt;
          &lt;div className="m-error-img-wrap"&gt;
            &lt;div className="m-error-img"&gt;&lt;/div&gt;
          &lt;/div&gt;
          &lt;div className="m-error-text"&gt;网页出错了，请尝试刷新一下~&lt;/div&gt;
          &lt;details style={<!-- -->{ whiteSpace: 'pre-wrap' }}&gt;
            {this.state.error &amp;&amp; this.state.error.toString()}
            &lt;br /&gt;
            {this.state.errorInfo.componentStack}
          &lt;/details&gt;
        &lt;/div&gt;
      );
    }
    // Normally, just render children
    return this.props.children;
  }  
}
</code></pre> 
<p><img alt="" height="859" src="https://img-blog.csdnimg.cn/20210804110517412.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" width="1200"></p> 
<p>&nbsp;</p>
                ]]></description></item><item><title>前端向后端发送数据时，有时需要转数据格式，但是有时会得到意外的false数据</title><link>http://www.cnblogs.com/xutongbao/archive/2021/07/30/15264323.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Fri, 30 Jul 2021 01:47:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/07/30/15264323.html</guid><description><![CDATA[
                    <p>无数据时得到错误的格式：false</p> 
<pre><code class="language-javascript">      let values = {
        serviceTags: undefined,
      }
      let serviceTags =
        Array.isArray(values.serviceTags) &amp;&amp; values.serviceTags.join(',')
      console.log(serviceTags) //false</code></pre> 
<p>有数据时得到正确的格式：1,2</p> 
<pre><code class="language-javascript">      let values = {
        serviceTags: [1, 2],
      }
      let serviceTags =
        Array.isArray(values.serviceTags) &amp;&amp; values.serviceTags.join(',')
      console.log(serviceTags) //1,2</code></pre> 
<p>使用三目运算符解决这个bug：</p> 
<pre><code class="language-javascript">      let values = {
        serviceTags: undefined,
      }
      let serviceTags =
        Array.isArray(values.serviceTags) ? values.serviceTags.join(',') : ''
      console.log(serviceTags)</code></pre> 
<p></p>
                ]]></description></item><item><title>js字符串处理，把img标签包裹在p标签里</title><link>http://www.cnblogs.com/xutongbao/archive/2021/07/29/15264324.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 29 Jul 2021 06:01:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/07/29/15264324.html</guid><description><![CDATA[
                    <p>把img标签包裹在p标签里</p> 
<pre><code class="language-javascript">      let data = `&lt;img src="http://test-images.qi.work/course/2021-07-01/bbbe7816252340aa8049bcab3b0370ac.jpg" alt="image" style="height: auto;width: auto"/&gt;`
      data = data.replace(/&lt;img.*&gt;/g, (word) =&gt; {
        if (word.includes('data-done="true"')) {
          return word
        } else {
          word = word.split('')
          word.splice(5, 0, 'data-done="true" ')
          word = word.join('')
          return `&lt;p&gt;${word}&lt;/p&gt;`
        }
      })
      data = data.replace(/&lt;img.*&gt;/g, (word) =&gt; {
        if (word.includes('data-done="true"')) {
          return word
        } else {
          word = word.split('')
          word.splice(5, 0, 'data-done="true" ')
          word = word.join('')
          return `&lt;p&gt;${word}&lt;/p&gt;`
        }
      })
      console.log(data)</code></pre> 
<p><img alt="" height="187" src="https://img-blog.csdnimg.cn/20210729135939148.png" width="1200"></p> 
<p>&nbsp;</p>
                ]]></description></item><item><title>git代码回退</title><link>http://www.cnblogs.com/xutongbao/archive/2021/07/28/15264325.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 28 Jul 2021 02:01:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/07/28/15264325.html</guid><description><![CDATA[
                    <p>&nbsp;</p> 
<p><img alt="" height="1030" src="https://img-blog.csdnimg.cn/20210728095449129.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" width="1200"></p> 
<p>&nbsp;<img alt="" height="866" src="https://img-blog.csdnimg.cn/20210728095557320.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" width="1200"></p> 
<p>&nbsp;<img alt="" height="1030" src="https://img-blog.csdnimg.cn/20210728095637637.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" width="1200"></p> 
<p>&nbsp;<img alt="" height="1030" src="https://img-blog.csdnimg.cn/20210728095657216.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" width="1200"></p> 
<p>&nbsp;<img alt="" height="1030" src="https://img-blog.csdnimg.cn/20210728095729753.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" width="1200"></p> 
<p>&nbsp;<img alt="" height="1030" src="https://img-blog.csdnimg.cn/2021072809575177.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" width="1200"></p> 
<p>&nbsp;<img alt="" height="1030" src="https://img-blog.csdnimg.cn/2021072809581718.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" width="1200"></p> 
<p>&nbsp;</p>
                ]]></description></item><item><title>antd 对话框、上传图片、轮播图结合在一起</title><link>http://www.cnblogs.com/xutongbao/archive/2021/07/26/15264326.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Mon, 26 Jul 2021 03:08:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/07/26/15264326.html</guid><description><![CDATA[
                    <p>antd 对话框、上传图片、轮播图结合在一起</p> 
<pre><code class="language-javascript">import React, { useState, useEffect, useRef } from 'react'
import { Button, Upload, message, Modal, Carousel } from 'antd'
import Icon from './Icon'
import urls from '../../api/urls'
import {
  imageUrlFormat,
  addUploadToken,
  addUploadExtraData,
} from '../../utils/tools'

let orderType = 'up'
export default function UploadImgPlusLightWithOrder({
  value = [],
  msg,
  onChange,
  ctype = 'company',
}) {
  const [fileList, setFileList] = useState([])
  const [isModalVisible, setIsModalVisible] = useState(false)
  const carouselEl = useRef(null)

  const getUrl = (file) =&gt; {
    let url = ''
    if (file.url) {
      url = file.url
    } else if (file.response &amp;&amp; file.response.data) {
      url = file.response.data.fileImg
    }
    return url
  }

  const handlePreview = (file) =&gt; {
    const currentIndex = fileList.findIndex(item =&gt; {
      return getUrl(item) === getUrl(file)
    })
    carouselEl.current.goTo(currentIndex, false)
    setIsModalVisible(true)
  }

  const uploadProps = {
    name: 'file',
    action: urls.light.uploadFile,
    data: {
      ctype,
      ...addUploadExtraData(),
    },
    headers: {
      ...addUploadToken(),
    },
    //maxCount: 1,
    listType: 'picture',
    //listType: "picture-card",
    fileList: [...fileList],
    accept: '.jpg',
    className: 'm-upload-order',
    showUploadList: {
      showDownloadIcon: true,
      downloadIcon: (
        &lt;div&gt;
          &lt;Icon
            name="top-arrow"
            title="置顶"
            className="m-upload-img-icon"
            onClick={() =&gt; {
              orderType = 'top'
            }}
          &gt;&lt;/Icon&gt;
          &lt;Icon
            name="order-arrow"
            title="上移"
            className="m-upload-img-icon"
            onClick={() =&gt; {
              orderType = 'up'
            }}
          &gt;&lt;/Icon&gt;
          &lt;Icon
            name="order-arrow"
            title="下移"
            className="m-upload-img-icon rotate"
            onClick={() =&gt; {
              orderType = 'down'
            }}
          &gt;&lt;/Icon&gt;
          &lt;Icon
            name="top-arrow"
            title="置底"
            className="m-upload-img-icon rotate"
            onClick={() =&gt; {
              orderType = 'bottom'
            }}
          &gt;&lt;/Icon&gt;
        &lt;/div&gt;
      ),
      showRemoveIcon: true,
    },
    onChange(info) {
      let fileList = [...info.fileList]
      setFileList(fileList)
      if (info.file.status !== 'uploading') {
        const result = info.fileList.map((item) =&gt; {
          if (item.historyUrl) {
            return item.historyUrl
          } else {
            return item.response.data.filePath
          }
        })
        console.log(result)
        if (result.length === 0) {
          //handleFileList([])
          onChange(undefined)
        } else {
          //handleFileList(result)
          onChange(result)
        }
      }
      if (info.file.status === 'done') {
        message.success(`${info.file.name} 上传成功`)
        if (info.file.response.state === 1) {
          const result = info.fileList.map((item) =&gt; {
            if (item.historyUrl) {
              return item.historyUrl
            } else {
              return item.response.data.filePath
            }
          })
          console.log(result)
          //handleFileList(result)
          onChange(result)
        }
      } else if (info.file.status === 'error') {
        message.error(`${info.file.name} 上传失败`)
      }
    },
    onDownload(file) {
      let url = ''
      if (file.url) {
        url = file.url
      } else if (file.response &amp;&amp; file.response.data) {
        url = file.response.data.fileImg
      }
      console.log(value)
      console.log(url)
      if (Array.isArray(value) &amp;&amp; value.length &gt; 0) {
        let index = value.findIndex((item) =&gt; {
          return url.includes(item)
        })
        if (orderType === 'top') {
          if (index &gt; 0) {
            const temp = value[index]
            value.splice(index, 1)
            value.unshift(temp)
            handleFileList(value)
            onChange(value)
          }
        } else if (orderType === 'up') {
          // 利用ES6的解构赋值能更加便捷的进行元素交换
          if (index &gt; 0) {
            ;[value[index - 1], value[index]] = [value[index], value[index - 1]]
            handleFileList(value)
            onChange(value)
          }
        } else if (orderType === 'down') {
          if (index &lt; value.length - 1) {
            ;[value[index + 1], value[index]] = [value[index], value[index + 1]]
            handleFileList(value)
            onChange(value)
          }
        } else if (orderType === 'bottom') {
          if (index &lt; value.length - 1) {
            const temp = value[index]
            value.splice(index, 1)
            value.push(temp)
            handleFileList(value)
            onChange(value)
          }
        }
      }
    },
    onPreview: handlePreview,
  }

  const handleFileList = (value) =&gt; {
    if (Array.isArray(value)) {
      const tempFileList = value.map((item, index) =&gt; {
        return {
          uid: index,
          name: imageUrlFormat(item),
          status: 'done',
          url: imageUrlFormat(item),
          historyUrl: item,
        }
      })
      setFileList(tempFileList)
    }
  }

  useEffect(() =&gt; {
    handleFileList(value)
    // eslint-disable-next-line
  }, [])

  return (
    &lt;span&gt;
      &lt;Upload {...uploadProps}&gt;
        &lt;Button&gt;上传图片&lt;/Button&gt;
        &lt;span className="m-upload-text"&gt;{msg}&lt;/span&gt;
      &lt;/Upload&gt;
      &lt;Modal
        title="预览"
        visible={isModalVisible}
        onCancel={() =&gt; setIsModalVisible(false)}
        className="m-modal-full-screen m-carousel-modal"
        footer={null}
        forceRender
      &gt;
        &lt;Carousel className="m-carousel" dots={ {className: "m-dots"} } ref={carouselEl} &gt;
          {fileList.map((file) =&gt;  {
            let url = ''
            if (file.url) {
              url = file.url
            } else if (file.response &amp;&amp; file.response.data) {
              url = file.response.data.fileImg
            }
            return (
              &lt;div className="m-carousel-img-wrap" key={url}&gt;
                &lt;img
                  src={url}
                  className="m-carousel-img"
                  alt="img"
                /&gt;
              &lt;/div&gt;
            )
          })}
        &lt;/Carousel&gt;
        &lt;div className="m-modal-img-footer"&gt;
          &lt;Button className="m-space" onClick={() =&gt; setIsModalVisible(false)}&gt;
            取消
          &lt;/Button&gt;
        &lt;/div&gt;
      &lt;/Modal&gt;
    &lt;/span&gt;
  )
}
</code></pre> 
<pre><code class="language-css">.m-carousel-modal .ant-carousel{height: 100%;}
.m-carousel-modal .slick-list{height: 100%;}
.m-carousel-modal .slick-track{height: 100%;}
.m-carousel-modal .slick-slide{height: 100%;}
.m-carousel-modal .slick-slide&gt;div{height: 100%;}
.m-carousel{height: 100%;}
.m-carousel-img-wrap{display: flex; height: 100%;}
.m-carousel-img{margin: auto;height: 100%;}</code></pre> 
<p></p> 
<p></p> 
<p></p>
                ]]></description></item><item><title>JavaScript 交换数组元素位置</title><link>http://www.cnblogs.com/xutongbao/archive/2021/07/24/15264327.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Sat, 24 Jul 2021 10:27:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/07/24/15264327.html</guid><description><![CDATA[
                    <pre><code class="language-javascript">;[value[index - 1], value[index]] = [value[index], value[index - 1]]</code></pre> 
<p></p>
                ]]></description></item><item><title>react报错：Can‘t perform a React state update on an unmounted component</title><link>http://www.cnblogs.com/xutongbao/archive/2021/07/24/15264328.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Sat, 24 Jul 2021 03:54:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/07/24/15264328.html</guid><description><![CDATA[
                    <p><img alt="" height="459" src="https://img-blog.csdnimg.cn/20210724114413809.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" width="1200"></p> 
<p>&nbsp;<img alt="" height="456" src="https://img-blog.csdnimg.cn/20210724114716186.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" width="1200"></p> 
<p>&nbsp;解决方案：</p> 
<pre><code class="language-javascript">//生成cancelToken，用于取消请求
const getCancelSource = () =&gt; {
  return axios.CancelToken.source()
}  



  //挂载时异步获取所属分类数据
  useEffect(() =&gt; {
    const source = getCancelSource()
    Api.light.category(source.token).then((res) =&gt; {
      if (res.state === 1) {
        const category = formatCategory({ categoryOptions: res.data })
        setCategoryOptions(category)
        console.log('category')
      }
    }).catch(err =&gt; {
      console.log(err)
    })
    return () =&gt; {
      console.log('卸载')
      source.cancel()
    }
  }, [])</code></pre> 
<p></p> 
<p></p> 
<p></p> 
<p><img alt="" height="570" src="https://img-blog.csdnimg.cn/20210724115130157.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" width="1200"></p> 
<p></p> 
<p><img alt="" height="590" src="https://img-blog.csdnimg.cn/20210724115217490.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" width="1200"></p> 
<p></p> 
<p>参考链接：<a href="http://www.axios-js.com/zh-cn/docs/#%E5%8F%96%E6%B6%88">http://www.axios-js.com/zh-cn/docs/#%E5%8F%96%E6%B6%88</a></p> 
<p>&nbsp;</p> 
<pre><code class="language-javascript">const CancelToken = axios.CancelToken;
const source = CancelToken.source();

axios.get('/user/12345', {
  cancelToken: source.token
}).catch(function(thrown) {
  if (axios.isCancel(thrown)) {
    console.log('Request canceled', thrown.message);
  } else {
     // 处理错误
  }
});

axios.post('/user/12345', {
  name: 'new name'
}, {
  cancelToken: source.token
})

// 取消请求（message 参数是可选的）
source.cancel('Operation canceled by the user.');</code></pre> 
<p>&nbsp;axios config的一个字段：</p> 
<pre><code class="language-javascript">  // `cancelToken` 指定用于取消请求的 cancel token
  // （查看后面的 Cancellation 这节了解更多）
  cancelToken: new CancelToken(function (cancel) {
  })</code></pre> 
<p></p> 
<p></p>
                ]]></description></item><item><title>react 路由 404页面配置</title><link>http://www.cnblogs.com/xutongbao/archive/2021/07/24/15264329.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Sat, 24 Jul 2021 01:56:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/07/24/15264329.html</guid><description><![CDATA[
                    <pre><code class="language-html">        &lt;Switch&gt;
          &lt;Redirect from="/" to="/light/login" exact&gt;&lt;/Redirect&gt;
          &lt;Route path="/light/login" component={Login}&gt;&lt;/Route&gt;
          &lt;Route path="/light/index" component={Index}&gt;&lt;/Route&gt;
          &lt;Route path="/404" component={NotFound}&gt;&lt;/Route&gt;
          &lt;Redirect from="*" to="/404" exact&gt;&lt;/Redirect&gt;
        &lt;/Switch&gt;</code></pre> 
<p>二级路由需要同样的配置：</p> 
<pre><code class="language-javascript">    listDom.push(&lt;Redirect key="404" from="*" to="/404" exact&gt;&lt;/Redirect&gt;)    

    &lt;div className="m-list"&gt;
      &lt;Header&gt;&lt;/Header&gt;
      &lt;div className="m-list-info"&gt;
        &lt;Nav&gt;&lt;/Nav&gt;
        &lt;Suspense fallback={&lt;Loading isLazyLoading={true}&gt;&lt;/Loading&gt;}&gt;
          &lt;Switch&gt;
            {listDom}
          &lt;/Switch&gt;
        &lt;/Suspense&gt;
      &lt;/div&gt;
    &lt;/div&gt;</code></pre> 
<p></p>
                ]]></description></item><item><title>antd Tabs标签页 被隐藏时也渲染 DOM 结构</title><link>http://www.cnblogs.com/xutongbao/archive/2021/07/17/15264330.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Sat, 17 Jul 2021 10:07:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/07/17/15264330.html</guid><description><![CDATA[
                    <p>forceRender</p> 
<pre><code class="language-html">            &lt;Tabs activeKey={activeKey} onChange={(key) =&gt; setActiveKey(key)} className="m-tabs" centered type="card"&gt;
              &lt;TabPane tab="基本信息" key="1" forceRender&gt;
                {getBaseInfoFields({
                  belongCompanyOption,
                  category,
                  type,
                })}
              &lt;/TabPane&gt;
              &lt;TabPane tab="法人信息" key="2" forceRender&gt;
                {getLegalPersonInfoFields()}
              &lt;/TabPane&gt;
              &lt;TabPane tab="银行信息" key="3" forceRender&gt;
                {getBankInfoFields()}
              &lt;/TabPane&gt;
              &lt;TabPane tab="营业信息" key="4" forceRender&gt;
                {getBusinessInfoFields()}
              &lt;/TabPane&gt;
            &lt;/Tabs&gt;</code></pre> 
<p></p> 
<p></p>
                ]]></description></item><item><title>antd表单不显示label和冒号</title><link>http://www.cnblogs.com/xutongbao/archive/2021/07/16/15264331.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Fri, 16 Jul 2021 03:06:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/07/16/15264331.html</guid><description><![CDATA[
                    <pre><code class="language-html">      &lt;Form.Item label=" " colon={false}&gt;
        &lt;Button type="primary"&gt;点击校验兑换码&lt;/Button&gt;
      &lt;/Form.Item&gt;</code></pre> 
<p><img alt="" height="321" src="https://img-blog.csdnimg.cn/20210716110607233.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" width="1071"></p> 
<p>&nbsp;</p>
                ]]></description></item><item><title>阻止Chrome开发者工具的控制台登录图像404错误</title><link>http://www.cnblogs.com/xutongbao/archive/2021/07/15/15264332.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 15 Jul 2021 10:53:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/07/15/15264332.html</guid><description><![CDATA[
                    <p><img alt="" height="400" src="https://img-blog.csdnimg.cn/2021071518512374.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" width="1200"></p> 
<p>&nbsp;<img alt="" height="428" src="https://img-blog.csdnimg.cn/20210715185212508.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" width="1200"></p> 
<p>&nbsp;</p> 
<p>&nbsp;</p>
                ]]></description></item><item><title>create-react-app 区分环境 环境变量</title><link>http://www.cnblogs.com/xutongbao/archive/2021/07/12/15264334.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Mon, 12 Jul 2021 07:07:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/07/12/15264334.html</guid><description><![CDATA[
                    <p><img alt="" height="599" src="https://img-blog.csdnimg.cn/20210712150001859.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" width="393"></p> 
<p>config.js</p> 
<pre><code class="language-javascript">const baseURL = {
  // 使用反向代理解决跨域时，dev应为空字符串
  dev: '',
  test: 'http://abc.cn',
  // 使用yarn build打包，所有接口使用这个url，需要服务器解决跨域
  prod: 'http://abc.cn'
}[process.env.REACT_APP_MODE]

const imageBaseUrl = {
  dev: 'http://abc.cn/',
  test: 'http://abc.work/',
  prod: 'http://abc.cn/',
}[process.env.REACT_APP_MODE]

const nodeBaseURL = {
  dev: '',
  test: 'https://efficacious-tiny-infinity.glitch.me',
  prod: 'https://efficacious-tiny-infinity.glitch.me',
}[process.env.REACT_APP_MODE]

export { baseURL, imageBaseUrl, nodeBaseURL }
</code></pre> 
<p>.env:</p> 
<pre><code class="language-javascript">// .env
NODE_ENV=development
REACT_APP_MODE=dev</code></pre> 
<p>&nbsp;.env.prod:</p> 
<pre><code class="language-javascript">// .env.prod
NODE_ENV=production
REACT_APP_MODE=prod
BUILD_PATH= /zlhx-ui
</code></pre> 
<p>&nbsp;.env.test:</p> 
<pre><code class="language-javascript">// .env.test
NODE_ENV=production
REACT_APP_MODE=test</code></pre> 
<p>package.json:</p> 
<pre><code class="language-javascript">  "scripts": {
    "start": "node scripts/start.js",
    "build_test": "cross-env MODE_ENV=test GENERATE_SOURCEMAP=false GENERATE_BUNDLE_ANALYZER_REPORT=true node scripts/build.js",
    "build": "cross-env MODE_ENV=prod GENERATE_SOURCEMAP=false node scripts/build.js",
    "test": "node scripts/test.js"
  },</code></pre> 
<p>&nbsp;修改config/env.js文件:</p> 
<pre><code class="language-javascript">// const NODE_ENV = process.env.NODE_ENV;
const NODE_ENV = process.env.MODE_ENV || process.env.NODE_ENV;</code></pre> 
<p><img alt="" height="606" src="https://img-blog.csdnimg.cn/20210827103258609.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5b6Q5ZCM5L-d,size_20,color_FFFFFF,t_70,g_se,x_16" width="1200"></p> 
<p>&nbsp;</p> 
<p></p> 
<p></p> 
<p>可以通过修改环境变量配置，控制打包输出目录：</p> 
<p><img alt="" height="803" src="https://img-blog.csdnimg.cn/20210712150548885.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" width="1200"></p> 
<p><img alt="" height="902" src="https://img-blog.csdnimg.cn/20210712150633276.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" width="1200"></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p>
                ]]></description></item><item><title>在actionCreator中使用getState，数据格式是immutable</title><link>http://www.cnblogs.com/xutongbao/archive/2021/07/09/15264335.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Fri, 09 Jul 2021 08:40:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/07/09/15264335.html</guid><description><![CDATA[
                    <pre><code class="language-javascript">
const setAuth = () =&gt; (dispatch, getState) =&gt; {
  const router = getState().getIn(['light', 'router']).toJS()
  Api.light.testAuthSearch().then((res) =&gt; {
    if (res.state === 1) {
      const newRouter = formatAuthData({ router: router, authData: res.data })
      console.log(newRouter)
      dispatch({ type: 'SET_LIGHT_STATE', key: ['router'], value: newRouter })
    }
  })
}</code></pre> 
<p></p>
                ]]></description></item><item><title>给树状数据添加层级id</title><link>http://www.cnblogs.com/xutongbao/archive/2021/07/09/15264336.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Fri, 09 Jul 2021 07:27:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/07/09/15264336.html</guid><description><![CDATA[
                    <pre><code class="language-javascript">const formatAuthData = ({ authData }) =&gt; {
  const find = (arr, parentId = '') =&gt; {
    for (let i = 0; i &lt; arr.length; i++) {
      if (Array.isArray(arr[i].children) &amp;&amp; arr[i].children.length &gt; 0) {
        arr[i].id = `${parentId}${i + 1}`
        find(arr[i].children, `${parentId}${i + 1}`)
      } else {
        arr[i].id = `${parentId}${i + 1}`
      }
    }
  }
  const authDataCopy = deepClone(authData)
  find(authDataCopy)
  return authDataCopy
}</code></pre> 
<p><img alt="" height="765" src="https://img-blog.csdnimg.cn/20210709152532563.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" width="418"></p> 
<p>data.js:</p> 
<pre><code class="language-javascript">const router = [
  {
    title: '首页',
    icon: 'home',
    className: 'm-sidebar-home',
    isVisible: true,
  },
  {
    title: 'xx',
    icon: 'base',
    isVisible: true,
    key: '/sale/index/offline',
    children: [
      {
        title: 'xx',
        icon: '',
        isVisible: true,
      },   
      {
        title: 'xxx',
        icon: '',
        isVisible: true,
      },                                            
    ]
  }, 
]
</code></pre> 
<p></p>
                ]]></description></item><item><title>vscode中的正则搜索与替换演示，删除对象中不要的属性及属性值</title><link>http://www.cnblogs.com/xutongbao/archive/2021/07/09/15264337.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Fri, 09 Jul 2021 06:56:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/07/09/15264337.html</guid><description><![CDATA[
                    <p></p> 
<h2 id="示例">示例</h2> 
<p>component:.*\n.*\n.*,$<br><br> 删除对象中不要的属性及属性值</p> 
<p><img alt="" height="745" src="https://img-blog.csdnimg.cn/20210709145258347.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" width="1200"></p> 
<p><img alt="" height="422" src="https://img-blog.csdnimg.cn/20210709145953743.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" width="681"></p> 
<p><img alt="" height="257" src="https://img-blog.csdnimg.cn/20210714154623533.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" width="1200"></p> 
<p><img alt="" height="95" src="https://img-blog.csdnimg.cn/20210714154910769.png" width="459"></p> 
<p>&nbsp;</p>
                ]]></description></item><item><title>http-proxy-middleware做代理时，自定义复杂的匹配规则</title><link>http://www.cnblogs.com/xutongbao/archive/2021/07/09/15264338.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Fri, 09 Jul 2021 01:28:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/07/09/15264338.html</guid><description><![CDATA[
                    <p>&nbsp;</p> 
<pre><code class="language-javascript">/**
 * @return {Boolean}
 */
const filter = function (pathname, req) {
  return pathname.match('^/api') &amp;&amp; req.method === 'GET';
};

const apiProxy = createProxyMiddleware(filter, {
  target: 'http://www.example.org',
});</code></pre> 
<p></p>
                ]]></description></item><item><title>antd省市区级联</title><link>http://www.cnblogs.com/xutongbao/archive/2021/07/08/15264339.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 08 Jul 2021 08:01:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/07/08/15264339.html</guid><description><![CDATA[
                    <p></p> 
<p><img alt="" height="0" src="https://img-blog.csdnimg.cn/20210708154618532.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" width="0"><img alt="" height="293" src="https://img-blog.csdnimg.cn/20210708154635586.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" width="777"></p> 
<p></p> 
<p></p> 
<pre><code class="language-javascript">import React, { useState } from 'react'
import { Cascader } from 'antd'
import options from '../../utils/cities'

export default function AreaCascader({ value = [], onChange, getPopupContainer }) {
  const [cascader, setCascader] = useState([])
  
  const handleChange = (value, list) =&gt; {
    onChange(value)
    console.log(value)
    setCascader(value)
    console.log(list)
  }

  return (
    &lt;div&gt;
      &lt;Cascader
        value={value || cascader}
        options={options}
        fieldNames={<!-- -->{value: 'code'}}
        onChange={handleChange}
        placeholder="选择所属城市"
        style={<!-- -->{ width: 300 }}
        getPopupContainer={getPopupContainer}
      /&gt;
    &lt;/div&gt;
  )
}
</code></pre> 
<p></p> 
<pre><code class="language-javascript">//根据省市区编码查询省市区
const findAreaText = (location) =&gt; {
  let result = []
  for (let i = 0; i &lt; areaOptions.length; i++) {
    if (areaOptions[i].code === location[0] + '') {
      result.push(areaOptions[i].label)
    }
    for (let j = 0; j &lt; areaOptions[i].children.length; j++) {
      if (areaOptions[i].children[j].code === location[1] + '') {
        result.push(areaOptions[i].children[j].label)
      }
      if (Array.isArray(areaOptions[i].children[j].children)) {
        for (let z = 0; z &lt; areaOptions[i].children[j].children.length; z++) {
          if (
            areaOptions[i].children[j].children[z].code ===
            location[2] + ''
          ) {
            result.push(areaOptions[i].children[j].children[z].label)
          }
        }
      }
    }
  }
  return result
}
</code></pre> 
<p></p> 
<p></p> 
<p>数据来源：<a href="https://github.com/heerey525/antdCascaderDate/blob/master/src/cities.js">https://github.com/heerey525/antdCascaderDate/blob/master/src/cities.js</a></p> 
<p><a href="https://github.com/heerey525/antdCascaderDate">https://github.com/heerey525/antdCascaderDate</a></p>
                ]]></description></item><item><title>axios封装</title><link>http://www.cnblogs.com/xutongbao/archive/2021/07/08/15264340.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 08 Jul 2021 07:41:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/07/08/15264340.html</guid><description><![CDATA[
                    <p>&nbsp;common.js:</p> 
<pre><code class="language-javascript">import axios from 'axios'
import { message } from 'antd'
import { baseURL } from '../utils/config'
import qs from 'qs'
import { showLoading, hideLoading } from '../utils/tools'
let isCanShow = true
const service = axios.create()

service.defaults.baseURL = baseURL

service.interceptors.request.use(
  (config) =&gt; {
    //获取token并放置在请求头中
    const accessToken = localStorage.getItem('accessToken')
    if (accessToken)
      config.headers.Authorization =
        'Bearer ' + localStorage.getItem('accessToken')

    if (config.method === 'get') config.params = { ...config.data }
    // 请求接口时显示loading，接口响应后隐藏loading，如果有特殊情况不能满足需求的，例如同时请求了多个接口
    // 且接口响应时间有比较大的差异，loading的显示隐藏状态不能友好的展示，可以直接在业务代码或api层，把
    // isLoading设置为false，则不再使用拦截器控制loading的状态，自己在业务代码里手动控制loading的状态
    if (config.isLoading !== false) showLoading()
    return config
  },
  (err) =&gt; {
    return Promise.reject(err)
  }
)

service.interceptors.response.use(
  (res) =&gt; {
    if (res.config.isLoading !== false) {
      hideLoading()
    }
    //code是node接口的状态码，state是java接口的状态码
    if (res.data.code === 200 || res.data.state === 1) {
      return res.data
    } else if (res.data.code === 400 || res.data.state === 0) {
      let msg = ''
      msg = res.data.message
      if (res.data &amp;&amp; res.data.data) {
        msg += res.data.data.error_msg ? `:${res.data.data.error_msg} ` : ''
        msg += res.data.data.error_code ? res.data.data.error_code : ''
      }
      if (res.config.isShowMessage !== false) {
        message.warning(msg)
      }
      return res.data
    } else {
      return Promise.reject(res)
    }
  },
  (err) =&gt; {
    hideLoading()
    let { response } = err
    let { status } = response
    if (status === 401) {
      if (isCanShow) {
        message.warning('token失效,请重新登录!')
        isCanShow = false
      }
      setTimeout(() =&gt; {
        isCanShow = true
      }, 1000)
      
      if (document.location.href.includes('#/sale')) {
        window.reactRouter.replace({ pathname: '/sale/login' })
      } else {
        window.reactRouter.replace({ pathname: '/light/login' })
      }
      
    } else {
      message.warning(err &amp;&amp; err.message)
    }
    return Promise.reject(err)
  }
)

export const common = async (config) =&gt; {
  if (config.contentType === 'application/x-www-form-urlencoded') {
    config.headers = { 'content-type': 'application/x-www-form-urlencoded' }
    config.data = qs.stringify(config.data)
  }
  let res = await service(config)
  return res
}
</code></pre> 
<p>index.js:</p> 
<pre><code class="language-javascript">import light from './lightApi'
import sale from './saleApi'
import dark from "./darkApi"

const Api = {
  light,
  sale,
  dark
}

export default Api
</code></pre> 
<p></p> 
<p>lightApi.js:</p> 
<pre><code class="language-javascript">import urls from './urls'
import { common } from './common'

//common函数传递的参数添加 contentType: 'application/x-www-form-urlencoded' 即可改变post请求参数传递的格式
const Api = {

  //#region 公共接口）
  commonQueryAllOperation: (data) =&gt; common({ url: urls.light.commonQueryAllOperation, data, method: 'post' }),
  //#endregion

}

export default Api</code></pre> 
<p>lightUrls.js:</p> 
<pre><code class="language-javascript">import { baseURL, nodeBaseURL } from '../utils/config'

const urls = {

  //#region 公共接口
  commonQueryAllOperation: "/abc",
  //#endregion  


}

export default urls
</code></pre> 
<p></p> 
<p>config.js:</p> 
<pre><code class="language-javascript">const baseURL = {
  dev: '', // 使用反向代理解决跨域时，dev应为空字符串
  test: 'http://abc.cn',
  // 使用yarn build打包，所有接口使用这个url，需要服务器解决跨域
  prod: 'http://abc.cn'
}[process.env.REACT_APP_MODE]

const imageBaseUrl = {
  dev: 'http://abc/',
  test: 'http://abc/',
  prod: 'http://abc/',
}[process.env.REACT_APP_MODE]

const nodeBaseURL = {
  dev: '',
  test: 'https://efficacious-tiny-infinity.glitch.me',
  prod: 'https://efficacious-tiny-infinity.glitch.me',
}[process.env.REACT_APP_MODE]

export { baseURL, imageBaseUrl, nodeBaseURL }
</code></pre> 
<p><img alt="" height="585" src="https://img-blog.csdnimg.cn/2021070815410018.png" width="261"></p> 
<p></p> 
<p></p> 
<p></p>
                ]]></description></item><item><title>react 封装antd menu组件，路由懒加载，可折叠，可配置显示和隐藏，刷新后选择正确的菜单，打开正确的submenu</title><link>http://www.cnblogs.com/xutongbao/archive/2021/07/08/15264341.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 08 Jul 2021 07:33:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/07/08/15264341.html</guid><description><![CDATA[
                    <pre><code class="language-javascript">import React, { useEffect, useState, useMemo } from 'react'
import { Menu } from 'antd'
import { connect } from 'react-redux'
import { withRouter } from 'react-router-dom'
import Icon from '../../../components/light/Icon'
import Logo from './Logo'

const { SubMenu } = Menu

function Sidebar(props) {
  const {
    router,
    location: { pathname },
    theme,
    selectedKeys,
    collapsed,
  } = props

  const [openKeys, setOpenKeys] = useState([])

  const defaultOpenKeysFn = () =&gt; {
    const arr = []
    let myPathname = pathname.replace(/(\/+$)/g, '')
    let arrTemp = myPathname.split('/')
    if (arrTemp.length &gt; 4) {
      for (let i = 4; i &lt; arrTemp.length; i++) {
        arr.push(arrTemp.slice(0, i).join('/'))
      }
    }
    return arr
  }

  const handleNav = (path) =&gt; {
    //props.onSetState(['selectedKeys'], path)
    props.history.push(path)
  }

  const isFirstLevel = (item) =&gt; {
    const pathLength = item.key.split('/').length
    return pathLength === 4
  }

  // 只有router、collapsed变化时才会重新渲染sidebarDom，useMemo函数可以起到性能优化的作用
  const sidebarDom = useMemo(() =&gt; {
    const sidebarRender = (arr) =&gt; {
      return arr.map((item) =&gt; {
        if (item.children) {
          if (item.isVisible) {
            // 一级子菜单折叠时使用大图标
            return (
              &lt;SubMenu
                key={item.key}
                title={item.title}
                className={item.className ? item.className : ''}
                icon={
                  item.icon ? (
                    &lt;span className="anticon anticon-appstore m-sidebar-icon-wrap"&gt;
                      &lt;Icon
                        name={item.icon}
                        className={`m-sidebar-icon ${
                          collapsed &amp;&amp; isFirstLevel(item)
                            ? 'big'
                            : ''
                        }`}
                      &gt;&lt;/Icon&gt;
                    &lt;/span&gt;
                  ) : null
                }
              &gt;
                {sidebarRender(item.children)}
              &lt;/SubMenu&gt;
            )
          } else {
            return null
          }
        } else {
          // 使用span包裹Icon组件，并添加antd的className才能正确使用Menu的icon属性
          // 折叠时使用大图标
          if (item.isVisible) {
            // 有些菜单只在开发环境展示
            if (!item.isDevMenu || process.env.REACT_APP_MODE === 'dev'){
              if(item.hiddenMenu!==false){
                return (
                  &lt;Menu.Item
                    key={item.path}
                    className={item.className ? item.className : ''}
                    onClick={() =&gt; handleNav(item.path)}
                    icon={
                      item.icon ? (
                        &lt;span className="anticon anticon-appstore m-sidebar-icon-wrap"&gt;
                        &lt;Icon
                          name={item.icon}
                          className={`m-sidebar-icon ${collapsed ? 'big' : ''}`}
                        &gt;&lt;/Icon&gt;
                      &lt;/span&gt;
                      ) : null
                    }
                  &gt;
                    &lt;span&gt;{item.title}&lt;/span&gt;
                  &lt;/Menu.Item&gt;
                )
              }else{
                return null;
              }
            } else {
              return null
            }
          } else {
            return null
          }
        }
      })
    }

    return sidebarRender(router.toJS())
    // eslint-disable-next-line
  }, [router, collapsed])

  const handleOpenChange = (openKeys) =&gt; {
    setOpenKeys(openKeys)
  }

  useEffect(() =&gt; {
    props.onSetState(['selectedKeys'], pathname)
    // eslint-disable-next-line
  }, [pathname])

  useEffect(() =&gt; {
    if (!collapsed) {
      setOpenKeys(defaultOpenKeysFn())
    }
    // eslint-disable-next-line
  }, [collapsed])

  return (
    &lt;Menu
      selectedKeys={[selectedKeys]}
      openKeys={openKeys}
      style={<!-- -->{ width: collapsed ? 80 : 256, height: '100%', overflowY: 'auto' }}
      mode="inline"
      theme={theme}
      inlineCollapsed={collapsed}
      onOpenChange={handleOpenChange}
    &gt;
      &lt;Logo collapsed={collapsed}&gt;&lt;/Logo&gt;
      {sidebarDom}
    &lt;/Menu&gt;
  )
}

const mapStateToProps = (state) =&gt; {
  return {
    router: state.getIn(['light', 'router']),
    theme: state.getIn(['light', 'theme']),
    selectedKeys: state.getIn(['light', 'selectedKeys']),
    collapsed: state.getIn(['light', 'collapsed']),
    userInfo: state.getIn(['light', 'userInfo']).toJS(),
  }
}

const mapDispatchToProps = (dispatch) =&gt; {
  return {
    onSetState(key, value) {
      dispatch({ type: 'SET_LIGHT_STATE', key, value })
    },
    onDispatch(action) {
      dispatch(action)
    },
  }
}

export default connect(mapStateToProps, mapDispatchToProps)(withRouter(Sidebar))
</code></pre> 
<p>router.js:</p> 
<pre><code class="language-javascript">import { lazy } from 'react'

// isDevMenu=true只在开发环境显示
const router = [
  {
    title: '首页',
    icon: 'home',
    className: 'm-sidebar-home',
    isVisible: true,
    path: '/sale/index/home',
    component: lazy(() =&gt; import('../../views/light/index/home/Home'))
  },
  {
    title: 'xx管理',
    icon: 'base',
    isVisible: true,
    key: '/sale/index/offline',
    children: [
      {
        title: 'xx管理',
        icon: '',
        isVisible: true,
        path: '/sale/index/offline/companyList',
        component: lazy(() =&gt; import('../../views/sale/index/offline/companyList/Index'))
      },   
      {
        title: 'xx管理',
        icon: '',
        isVisible: true,
        path: '/sale/index/offline/shopList',
        component: lazy(() =&gt; import('../../views/sale/index/offline/shopList/Index'))
      },                                            
    ]
  }, 
]


export default router</code></pre> 
<p></p> 
<p><img alt="" height="822" src="https://img-blog.csdnimg.cn/20210708153157794.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" width="372"></p> 
<p><img alt="" height="893" src="https://img-blog.csdnimg.cn/20210708153249766.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" width="614"></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p>
                ]]></description></item><item><title>useHistory做页面跳转导航</title><link>http://www.cnblogs.com/xutongbao/archive/2021/07/08/15264342.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 08 Jul 2021 07:25:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/07/08/15264342.html</guid><description><![CDATA[
                    <h2 id="Hooks-usehistory"><a id="usehistory"></a><a href="https://reactrouter.com/web/api/Hooks/usehistory"><code>useHistory</code></a></h2> 
<p>The <code>useHistory</code> hook gives you access to the <a href="https://reactrouter.com/web/api/history"><code>history</code></a> instance that you may use to navigate.</p> 
<p></p> 
<pre><code class="language-javascript">

import { useHistory } from "react-router-dom";

function HomeButton() {
  let history = useHistory();

  function handleClick() {
    history.push("/home");
  }

  return (
    &lt;button type="button" onClick={handleClick}&gt;
      Go home
    &lt;/button&gt;
  );
}
</code></pre> 
<p></p>
                ]]></description></item><item><title>react-draft-wysiwyg富文本组件</title><link>http://www.cnblogs.com/xutongbao/archive/2021/07/08/15264343.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 08 Jul 2021 07:05:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/07/08/15264343.html</guid><description><![CDATA[
                    <pre><code class="language-javascript">import React, { useState, useEffect } from 'react'
import { EditorState, convertToRaw, ContentState, Modifier } from 'draft-js'
import { Input, message } from 'antd'
// https://jpuri.github.io/react-draft-wysiwyg/#/docs
import { Editor } from 'react-draft-wysiwyg'
import 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css'
import draftToHtml from 'draftjs-to-html'
import htmlToDraft from 'html-to-draftjs'
import urls from '../../api/urls'
import axios from 'axios'
import { htmlFormat, addUploadToken } from '../../utils/tools'
const { TextArea } = Input

//image position is lost when converting from html to EditorState
//参考链接：https://github.com/jpuri/html-to-draftjs/issues/101
// https://github.com/jpuri/html-to-draftjs/blob/master/src/library/index.js
export default function MyEditor(props) {
  const { value = {}, onChange } = props

  //把html字符传转换成富文本要求的格式
  const formatEditorState = (text) =&gt; {
    //解决image位置无法保存的bug
    const html = text ? htmlFormat(text) : ''
    const contentBlock = htmlToDraft(html, (nodeName, node) =&gt; {
      if (nodeName === 'img' &amp;&amp; node instanceof HTMLImageElement) {
        const entityConfig = {}
        entityConfig.src = node.getAttribute
          ? node.getAttribute('src') || node.src
          : node.src
        entityConfig.alt = node.alt
        entityConfig.height = node.style.height
        entityConfig.width = node.style.width
        if (node.style.float) {
          entityConfig.alignment = node.style.float
        } else {
          if (node.style.textAlign) {
            entityConfig.alignment = node.style.textAlign
          }
        }

        return {
          type: 'IMAGE',
          mutability: 'MUTABLE',
          data: entityConfig,
        }
      }
    })
    const contentState = ContentState.createFromBlockArray(
      contentBlock.contentBlocks
    )
    const result = EditorState.createWithContent(contentState)
    return result
  }
  const [editorState, setEditorState] = useState(formatEditorState(value.text))

  const handleChange = (value) =&gt; {
    setEditorState(value)
    const html = draftToHtml(convertToRaw(editorState.getCurrentContent()))
    //提交给后端的是html字符串
    onChange({
      isChange: false,
      text: html,
    })
  }

  //图片上传
  const uploadImageCallBack = (file) =&gt; {
    return new Promise((resolve, reject) =&gt; {
      let formData = new FormData()
      formData.append('file', file)
      formData.append('ctype', 'course')
      axios(urls.light.uploadFile, {
        method: 'POST',
        data: formData,
        headers: {
          ...addUploadToken()
        },
      })
        .then((res) =&gt; {
          if (res.data.state === 1) {
            resolve({ data: { link: res.data.data.fileImg } })
          } else {
            message.error('图片上传失败', 2)
            reject(res)
          }
        })
        .catch((err) =&gt; {
          reject(err)
        })
    })
  }


  useEffect(() =&gt; {
    //课程图片列表上传的图片尾部有一个加号，点击加号会自动把图片插入到富文本框光标所在的位置
    if (value.isChange) {
      const contentState = Modifier.replaceText(
        editorState.getCurrentContent(),
        editorState.getSelection(),
        value.text,
      );
      const temp = EditorState.push(editorState, contentState, 'insert-characters')
      let html = draftToHtml(convertToRaw(temp.getCurrentContent()))
      html = html.replace(/&amp;lt;/g, '&lt;').replace(/&amp;gt;/g, '&gt;')
      setEditorState(formatEditorState(html))
      //提交给后端的是html字符串
      onChange({
        isChange: false,
        text: html,
      })
    }
  }, [value])

  return (
    &lt;div&gt;
      &lt;Editor
        editorState={editorState}
        wrapperClassName="m-my-editor-wrapper"
        editorClassName="demo-editor"
        localization={<!-- -->{
          locale: 'zh',
        }}
        onEditorStateChange={handleChange}
        toolbar={<!-- -->{
          image: {
            urlEnabled: true,
            uploadEnabled: true,
            alignmentEnabled: true, // 是否显示排列按钮 相当于text-align
            uploadCallback: uploadImageCallBack,
            previewImage: true,
            inputAccept: 'image/*',
            alt: { present: false, mandatory: false, previewImage: true },
          },
        }}
      /&gt;
      &lt;TextArea
        disabled
        value={draftToHtml(convertToRaw(editorState.getCurrentContent()))}
        autoSize={<!-- -->{ minRows: 5, maxRows: 10 }}
      &gt;&lt;/TextArea&gt;
    &lt;/div&gt;
  )
}
</code></pre> 
<p>htmlFormat:</p> 
<pre><code class="language-javascript">import { html2json, json2html } from 'html2json'


//富文本html格式转换
const htmlFormat = (data) =&gt; {
  const json = html2json(data)
  Array.isArray(json.child) &amp;&amp;
    json.child.forEach((item) =&gt; {
      if (item.tag === 'div') {
        item.tag = 'img'
        if (
          item.attr &amp;&amp;
          Array.isArray(item.child) &amp;&amp;
          item.child.length === 1 &amp;&amp;
          item.child[0].attr &amp;&amp;
          Array.isArray(item.child[0].attr.style)
        ) {
          const style = item.attr.style + item.child[0].attr.style.join('')
          item.attr = {
            ...item.child[0].attr,
          }
          item.attr.style = style
        }
      }
    })

  const html = json2html(json)
  return html
}</code></pre> 
<p></p> 
<p><img alt="" height="560" src="https://img-blog.csdnimg.cn/2021070815050062.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" width="1200"></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p>
                ]]></description></item><item><title>html转json json转html</title><link>http://www.cnblogs.com/xutongbao/archive/2021/07/08/15264344.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 08 Jul 2021 06:42:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/07/08/15264344.html</guid><description><![CDATA[
                    <pre><code class="language-javascript">import React from 'react'
import { html2json, json2html } from 'html2json'

export default function Index() {
  const data = `&lt;p&gt;&lt;/p&gt;
  &lt;div style="text-align:right;"&gt;&lt;img src="http://test-images.qi.work/course/2021-07-01/bbbe7816252340aa8049bcab3b0370ac.jpg" alt="image" style="height: auto;width: auto"/&gt;&lt;/div&gt;
  &lt;p&gt;&lt;/p&gt;`

  const htmlFormat = (data) =&gt; {
    const json = html2json(data)
    console.log(json)
    const html = json2html(json)
    return html
  }

  const result = htmlFormat(data)
  console.log(result)

  return &lt;div&gt;1&lt;/div&gt;
}
</code></pre> 
<p><img alt="" height="569" src="https://img-blog.csdnimg.cn/202107081440526.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" width="1200"></p> 
<p>&nbsp;</p> 
<p>参考链接：<a href="https://github.com/Jxck/html2json">https://github.com/Jxck/html2json</a></p> 
<p></p>
                ]]></description></item><item><title>create-react-app 生成 report.html 可视化打包分析</title><link>http://www.cnblogs.com/xutongbao/archive/2021/07/07/15264345.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 07 Jul 2021 01:28:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/07/07/15264345.html</guid><description><![CDATA[
                    <pre><code class="language-javascript">yarn add webpack-bundle-analyzer</code></pre> 
<p>修改webpack.config.js:</p> 
<pre><code class="language-javascript">const { BundleAnalyzerPlugin } = require('webpack-bundle-analyzer')
const isBundleAnalyzer = process.env.GENERATE_BUNDLE_ANALYZER_REPORT === 'true'
plugins: [
  // ...
  isEnvProduction &amp;&amp; isBundleAnalyzer &amp;&amp; new BundleAnalyzerPlugin()
]</code></pre> 
<p>通过设置环境变量GENERATE_BUNDLE_ANALYZER_REPORT=true来生成report</p> 
<p></p> 
<p><img alt="" height="1080" src="https://img-blog.csdnimg.cn/20210707092750423.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" width="1200"></p>
                ]]></description></item><item><title>axios设置请求头实现post请求发送数据的格式（Form Data）</title><link>http://www.cnblogs.com/xutongbao/archive/2021/06/30/15264346.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 30 Jun 2021 01:30:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/06/30/15264346.html</guid><description><![CDATA[
                    <p>common.js:</p> 
<p>common函数传递的参数添加&nbsp;contentType:&nbsp;'application/x-www-form-urlencoded'&nbsp;即可改变post请求参数传递的格式</p> 
<pre><code class="language-javascript">import axios from 'axios'
import qs from 'qs'

const service = axios.create()


export const common = async (config) =&gt; {
  if (config.contentType === 'application/x-www-form-urlencoded') {
    config.headers = { 'content-type': 'application/x-www-form-urlencoded' }
    config.data = qs.stringify(config.data)
  }
  let res = await service(config)
  return res
}
</code></pre> 
<p></p>
                ]]></description></item><item><title>url查询参数中的汉字如何解码</title><link>http://www.cnblogs.com/xutongbao/archive/2021/06/25/15264347.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Fri, 25 Jun 2021 09:15:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/06/25/15264347.html</guid><description><![CDATA[
                    <p>decodeURIComponent</p> 
<p>encodeURIComponent</p> 
<p>参考链接：<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/encodeURIComponent">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/encodeURIComponent</a></p>
                ]]></description></item><item><title>React在body下追加全局组件并实现渲染更新</title><link>http://www.cnblogs.com/xutongbao/archive/2021/06/22/15264348.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 22 Jun 2021 03:39:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/06/22/15264348.html</guid><description><![CDATA[
                    <p>&nbsp;使用&nbsp;ReactDOM.createPortal，类似于vue的Teleport</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<pre><code class="language-javascript">import React from 'react'
import ReactDOM from 'react-dom'
import { Spin } from 'antd'
import { connect } from 'react-redux'

function Loading(props) {
  const { isLoading, isLazyLoading } = props
  return ReactDOM.createPortal(
    &lt;div
      className={'m-loading ' + (isLoading || isLazyLoading ? 'active' : '')}
    &gt;
      &lt;Spin className="m-spin" /&gt;
    &lt;/div&gt;,
    document.body
  )
}

const mapStateToProps = (state) =&gt; {
  return {
    isLoading: state.getIn(['light', 'isLoading']),
  }
}

const mapDispatchToProps = (dispatch) =&gt; {
  return {
    onSetState(key, value) {
      dispatch({ type: 'SET_LIGHT_STATE', key, value })
    },
    onDispatch(action) {
      dispatch(action)
    },
  }
}

export default connect(mapStateToProps, mapDispatchToProps)(Loading)
</code></pre> 
<p><img alt="" height="682" src="https://img-blog.csdnimg.cn/20210622113842877.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" width="1072"></p> 
<p>&nbsp;参考链接：<a href="https://zh-hans.reactjs.org/docs/portals.html#gatsby-focus-wrapper">https://zh-hans.reactjs.org/docs/portals.html#gatsby-focus-wrapper</a></p> 
<p><a href="https://v3.cn.vuejs.org/guide/teleport.html#teleport">https://v3.cn.vuejs.org/guide/teleport.html#teleport</a></p>
]]>
</description></item>
<item><title>js算法题,树状数据倒推</title><link>http://www.cnblogs.com/xutongbao/archive/2021/06/17/15264349.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 17 Jun 2021 10:31:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/06/17/15264349.html</guid>
<description>
<![CDATA[
<pre>
<code class="language-javascript">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
  &lt;head&gt;
    &lt;meta charset="UTF-8" /&gt;
    &lt;meta http-equiv="X-UA-Compatible" content="IE=edge" /&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0" /&gt;
    &lt;title&gt;Document&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;script&gt;
      // 基础数据
      const categoryData = [
        {
          value: '1',
          label: '职业教育',
          children: [
            {
              value: '11',
              label: 'IT/互联网',
              children: [
                {
                  value: '111',
                  label: '电商运营',
                },
                {
                  value: '112',
                  label: '产品经理',
                },
              ],
            },
          ],
        },
      ]

      // 目标数据
      const res = [
          {
            id: 0,
            value: ['1', '11', '112'],
            label: ['职业教育', 'IT/互联网', '产品经理'],
          },
          {
            id: 1,
            value: ['1', '11', '111'],
            label: ['职业教育', 'IT/互联网', '电商运营'],
          },
        ]

      // 已知数据
      const myData = '111,112,111'

      //倒推
      const categoryAnalse = ({ categoryOptions, cateid3 }) =&gt; {
        console.log(categoryOptions, cateid3)

        const findWrap = (value, index) =&gt; {
          const temp = {
            id: index,
            value: [],
            label: [],
          }
          let tempClone
          const find = (arr) =&gt; {
            for (let i = 0; i &lt; arr.length; i++) {
              if (arr[i].children) {
                temp.value.push(arr[i].value)
                temp.label.push(arr[i].label)
                find(arr[i].children)
              } else {
                if (arr[i].value === value) {
                  temp.value.push(value)
                  temp.label.push(arr[i].label)
                  tempClone = JSON.parse(JSON.stringify(temp))
                }
              }
            }
            temp.value.pop()
            temp.label.pop()
          }
          find(categoryOptions)
          return tempClone
        }

        const cateid3Arr = cateid3.split(',')
        const result = cateid3Arr.map((item, index) =&gt; {
          return findWrap(item, index)
        })
        console.log(result)
        return result
      }

      categoryAnalse({categoryOptions: categoryData, cateid3: myData})
    &lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre> 
<p>&nbsp;</p> 
<p><img alt="" height="485" src="https://img-blog.csdnimg.cn/20210617183020641.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" width="695"></p> 
<p>&nbsp;</p>
                ]]></description></item><item><title>添加注释 使扁平的代码可以折叠</title><link>http://www.cnblogs.com/xutongbao/archive/2021/06/16/15264350.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 16 Jun 2021 02:45:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/06/16/15264350.html</guid><description><![CDATA[
                    <pre><code class="language-javascript">  // #region 商户列表
  companySearch: (data) =&gt; common({ url: urls.light.companySearch, data, method: 'post' }),
  companyAdd: (data) =&gt; common({ url: urls.light.companyAdd, data, method: 'post' }),
  companyDelete: (data) =&gt; common({ url: urls.light.companyDelete, data, method: 'post' }),
  companyEdit: (data) =&gt; common({ url: urls.light.companyEdit, data, method: 'post' }),
  companyFastAdd: (data) =&gt; common({ url: urls.light.companyQuickAdd, data, method: 'post' }),
  companySetOperate: (data) =&gt; common({ url: urls.light.companySetOperate, data, method: 'post' }),
  relatedBrand: (data) =&gt; common({ url: urls.light.relatedBrand, data, method: 'post' }),
  companyBaiduCheck: (id) =&gt; common({ url: urls.light.companyBaiduCheck + id, data: {}, method: 'post' }),
  companyBaiduView: (id) =&gt; common({ url: urls.light.companyBaiduView + id, data: {}, method: 'post' }),
  companyBaiduResetCheck: (id) =&gt; common({ url: urls.light.companyBaiduResetCheck + id, data: {}, method: 'post' }),
  companyBaiduPhone: (id) =&gt; common({ url: urls.light.companyBaiduPhone + id, data: {}, method: 'post' }),
  // #endregion</code></pre> 
<p>&nbsp;</p> 
<p><img alt="" height="422" src="https://img-blog.csdnimg.cn/20210616104347556.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" width="1200"></p> 
<p>&nbsp;</p> 
<p><img alt="" height="74" src="https://img-blog.csdnimg.cn/20210616104415667.png" width="1170"></p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p>
                ]]></description></item><item><title>create-react-app 关闭自动开启浏览器配置</title><link>http://www.cnblogs.com/xutongbao/archive/2021/06/15/15264351.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 15 Jun 2021 08:03:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/06/15/15264351.html</guid><description><![CDATA[
                    <p>在scripts/start.js文件，注释掉openBrowser(urls.localUrlForBrowser)即可</p> 
<p><img alt="" height="572" src="https://img-blog.csdnimg.cn/20210615160238621.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" width="1090"></p>
                ]]></description></item><item><title>create-react-app 打包开启 gzip 压缩</title><link>http://www.cnblogs.com/xutongbao/archive/2021/06/15/15264352.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 15 Jun 2021 07:54:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/06/15/15264352.html</guid><description><![CDATA[
                    <p>查看有哪些版本：</p> 
<pre><code class="language-javascript">npm view compression-webpack-plugin versions</code></pre> 
<p>安装旧版本：</p> 
<pre><code class="language-javascript">yarn add compression-webpack-plugin@5</code></pre> 
<p>修改webpack.config.js文件：</p> 
<pre><code class="language-javascript">const CompressionPlugin = require('compression-webpack-plugin')
const isGzip = process.env.GENERATE_GZIP_FILE === 'true'
plugins: [
  // ...
  isEnvProduction &amp;&amp; isGzip &amp;&amp; new CompressionPlugin({
    filename: '[path].gz[query]',
    algorithm: 'gzip',
    test: /\.js$|\.css$/,
    threshold: 10240, // 对超过10k的数据进行压缩
    minRatio: 0.8, // 只有压缩率小于这个值的资源才会被处理
  })
]</code></pre> 
<p><img alt="" height="814" src="https://img-blog.csdnimg.cn/2021061515460922.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" width="1131"></p> 
<p>&nbsp;</p> 
<p>node开启gzip：<a href="https://www.npmjs.com/package/compression">https://www.npmjs.com/package/compression</a></p> 
<pre><code class="language-javascript">$ npm install compression</code></pre> 
<pre><code class="language-javascript">var compression = require('compression')
var express = require('express')
 
var app = express()
app.use(compression({ filter: shouldCompress }))
 
function shouldCompress (req, res) {
  if (req.headers['x-no-compression']) {
    // don't compress responses with this request header
    return false
  }
 
  // fallback to standard filter function
  return compression.filter(req, res)
}</code></pre> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p><img alt="" height="1030" src="https://img-blog.csdnimg.cn/2021061515522272.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" width="1200"></p> 
<h2 id="基本原理">基本原理</h2> 
<ol><li> <p>浏览器请求资源文件时会<em>自动</em>带一个<strong>Accept-Encoding</strong>的请求头告诉服务器支持的压缩编码类型</p> </li><li> <p>服务器配置开启<strong>gzip选项</strong>：</p> <p>接收客户端资源文件请求，查看请求头Content-encoding支持的压缩编码格式，如果是包含gzip那么<br> 在每次响应资源请求之前进行gzip编码压缩后<em>再响应返回资源文件</em>(在响应头会带上Content-encoding: gzip)</p> </li><li> <p>浏览器接收到响应后查看请求头是否带有Content-encoding:gzip，如果有进行对返回的资源文件进行解压缩然后再进行解析渲染</p> </li></ol>
<h2 id="注意点">注意点</h2> 
<ul><li>低版本浏览器兼容性，服务器可以设置一些忽略规则忽略为浏览器</li><li>媒体文件无需开启:图片、音乐和视频大多数都已压缩过了，HTML,CSS AND JAVARSCRIPT</li><li>CPU负载：压缩文件耗费CPU（服务器需要压缩文件、浏览器解压文件）</li></ul>
<h2 id="webpack优化">webpack优化</h2> 
<ul><li>如果你使用了webpack，那么可以借助CompressionWebpackPlugin插件来提前对文件进行Gzip压缩</li><li>这样服务器查找到有与源文件同名的.gz文件就会直接读取，不会主动压缩，降低cpu负载，优化了服务器性能</li></ul>
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p>
                ]]></description></item><item><title>create-react-app 编译进度条配置</title><link>http://www.cnblogs.com/xutongbao/archive/2021/06/15/15264353.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 15 Jun 2021 07:06:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/06/15/15264353.html</guid><description><![CDATA[
                    <p>安装：</p> 
<pre><code class="language-javascript">yarn add webpackbar</code></pre> 
<p>修改webpack.config.js文件：</p> 
<pre><code class="language-javascript">const WebpackBar = require('webpackbar')
plugins: [
  // ...
  new webpack.ProgressPlugin(),
  new WebpackBar()
]</code></pre> 
<p>webpack.ProgressPlugin() 是webpack内置插件，webpack.ProgressPlugin，WebpackBar用来显示编译时长</p>
                ]]></description></item><item><title>create-react-app 生产环境去除sourcemap</title><link>http://www.cnblogs.com/xutongbao/archive/2021/06/15/15264354.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 15 Jun 2021 04:48:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/06/15/15264354.html</guid><description><![CDATA[
                    <pre><code class="language-javascript">{
  "script": {
    "build": "cross-env GENERATE_SOURCEMAP=false node scripts/build.js"
  }
}</code></pre> 
<p>&nbsp;</p>
                ]]></description></item><item><title>通过cross-env改变create-react-app默认启动端口号</title><link>http://www.cnblogs.com/xutongbao/archive/2021/06/15/15264355.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 15 Jun 2021 04:40:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/06/15/15264355.html</guid><description><![CDATA[
                    <p>&nbsp;装包：</p> 
<pre><code class="language-javascript">yarn add cross-env</code></pre> 
<p>&nbsp;配置：</p> 
<pre><code class="language-javascript">"start": "cross-env PORT=3030 node scripts/start.js",</code></pre> 
<p></p>
                ]]></description></item><item><title>create-react-app 修改 webpack output.publicPath</title><link>http://www.cnblogs.com/xutongbao/archive/2021/06/15/15264356.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 15 Jun 2021 04:04:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/06/15/15264356.html</guid><description><![CDATA[
                    <pre><code class="language-javascript">{
  "homepage": "/edu/"
}</code></pre> 
<p>或者：</p> 
<p>需要安装 cross-env：</p> 
<p>yarn add cross-env</p> 
<pre><code class="language-javascript">{
  "script": {
    "build": "cross-env PUBLIC_URL=/edu/ node scripts/build.js"
  }
}</code></pre> 
<p>&nbsp;</p>
                ]]></description></item><item><title>React Hooks 父组件调用子组件的方法</title><link>http://www.cnblogs.com/xutongbao/archive/2021/06/10/14876258.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 10 Jun 2021 11:10:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/06/10/14876258.html</guid><description><![CDATA[
                    <p>以及父组件控制子组件的input框获取焦点</p> 
<p>父组件：</p> 
<pre><code class="language-javascript">import React, { useRef, useEffect } from 'react'
import FancyInput from './FancyInput'

export default function Test() {
  const inputRef = useRef(null)
  const onButtonClick = () =&gt; {
    inputRef.current.focus()
    inputRef.current.fun()
  }

  useEffect(() =&gt; {
    inputRef.current.focus()
  }, [])
  return (
    &lt;&gt;
      &lt;FancyInput ref={inputRef}&gt;&lt;/FancyInput&gt;
      &lt;button onClick={onButtonClick}&gt;Focus the input&lt;/button&gt;
    &lt;/&gt;
  )
}
</code></pre> 
<p>子组件：</p> 
<pre><code class="language-javascript">import React, { useRef, useImperativeHandle, forwardRef } from 'react'

function FancyInput(props, ref) {
  const inputRef = useRef();
  useImperativeHandle(ref, () =&gt; ({
    focus: () =&gt; {
      inputRef.current.focus();
    },
    fun: () =&gt; {
      console.log('子组件的方法')
    }
  }));
  return &lt;input ref={inputRef} /&gt;;
}
FancyInput = forwardRef(FancyInput);

export default FancyInput</code></pre> 
<p>&nbsp;</p> 
<p><img alt="" height="435" src="https://img-blog.csdnimg.cn/20210610190816954.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" width="512"></p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p>
                ]]></description></item><item><title>React Hooks 进入页面以后自动 focus 到某个输入框</title><link>http://www.cnblogs.com/xutongbao/archive/2021/06/10/14876259.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 10 Jun 2021 10:59:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/06/10/14876259.html</guid><description><![CDATA[
                    <p>点击按钮focus到某个输入框</p> 
<pre><code class="language-javascript">import React, { useRef, useEffect } from 'react'

export default function TextInputWithFocusButton() {
  const inputEl = useRef(null)
  const onButtonClick = () =&gt; {
    // `current` 指向已挂载到 DOM 上的文本输入元素
    inputEl.current.focus()
  }

  useEffect(() =&gt; {
    inputEl.current.focus()
  }, [])
  return (
    &lt;&gt;
      &lt;input ref={inputEl} type="text" /&gt;
      &lt;button onClick={onButtonClick}&gt;Focus the input&lt;/button&gt;
    &lt;/&gt;
  )
}
</code></pre> 
<p>&nbsp;</p>
                ]]></description></item><item><title>react hooks 太多的useState 显得很冗余，有没有什么规整的方法呢？</title><link>http://www.cnblogs.com/xutongbao/archive/2021/06/10/14876260.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 10 Jun 2021 10:29:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/06/10/14876260.html</guid><description><![CDATA[
                    <p>&nbsp;</p> 
<p><img alt="" height="402" src="https://img-blog.csdnimg.cn/20210610182741856.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" width="732"></p> 
<p>&nbsp;</p> 
<pre><code class="language-javascript">import React, { useState } from 'react'

export default function Test() {
  const [state, setState] = useState({
    username: 'admin',
    password: '123456',
  })

  const handleInput = (e, field) =&gt; {
    setState((prevState) =&gt; {
      return { ...prevState, [field]: e.target.value }
    })
  }

  const handleLogin = () =&gt; {
    const { username, password } = state
    console.log(username, password)
  }

  return (
    &lt;div&gt;
      &lt;div&gt;
        &lt;input
          value={state.username}
          onChange={(e) =&gt; handleInput(e, 'username')}
        &gt;&lt;/input&gt;
      &lt;/div&gt;
      &lt;div&gt;
        &lt;input
          value={state.password}
          onChange={(e) =&gt; handleInput(e, 'password')}
        &gt;&lt;/input&gt;
      &lt;/div&gt;
      &lt;button onClick={handleLogin}&gt;登录&lt;/button&gt;
    &lt;/div&gt;
  )
}
</code></pre> 
<p>&nbsp;</p>
                ]]></description></item><item><title>react项目取消部分eslint检查</title><link>http://www.cnblogs.com/xutongbao/archive/2021/06/10/14876261.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 10 Jun 2021 06:41:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/06/10/14876261.html</guid><description><![CDATA[
                    <pre><code class="language-javascript">// 文件注释中 禁用、启用、配置规则（在文件最顶部添加）
/* eslint-disable */
/* eslint-enable */
/* eslint eqeqeq: 0, curly: 2 */


// 单独给某行js代码关闭eslint检测，如下：
// eslint-disable-next-line
console.log("test");</code></pre> 
<p><br> &nbsp;</p>
                ]]></description></item><item><title>使用useMemo优化性能</title><link>http://www.cnblogs.com/xutongbao/archive/2021/06/10/14876262.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 10 Jun 2021 04:50:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/06/10/14876262.html</guid><description><![CDATA[
                    <p>使用useMemo优化性能：</p> 
<pre><code class="language-javascript">import React, { Suspense, useMemo } from 'react'
import { Switch, Route } from 'react-router-dom'
import { connect } from 'react-redux'
import Loading from '../../../components/light/Loading'
import Header from './Header'
import Nav from './Nav'

function List(props) {
  const { router } = props
 

  // 只有router变化时才会重新渲染listDom，useMemo函数可以起到性能优化的作用
  const listDom = useMemo(() =&gt; {
    const listDom = []
    const listRender = (arr) =&gt; {
      arr.forEach((item) =&gt; {
        if (item.children) {
          listRender(item.children)
        } else {
          listDom.push(
            &lt;Route
              key={item.path}
              path={item.path}
              component={item.component}
            &gt;&lt;/Route&gt;
          )
        }
      })
    }
    listRender(router.toJS())
    return listDom
  }, [router])

  return (
    &lt;div className="m-list"&gt;
      &lt;Header&gt;&lt;/Header&gt;
      &lt;div className="m-list-info"&gt;
        &lt;Nav&gt;&lt;/Nav&gt;
        &lt;Suspense fallback={&lt;Loading isLazyLoading={true}&gt;&lt;/Loading&gt;}&gt;
          &lt;Switch&gt;{listDom}&lt;/Switch&gt;
        &lt;/Suspense&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  )
}

const mapStateToProps = (state) =&gt; {
  return {
    router: state.getIn(['light', 'router']),
    theme: state.getIn(['light', 'theme']),
  }
}

const mapDispatchToProps = (dispatch) =&gt; {
  return {
    onSetState(key, value) {
      dispatch({ type: 'SET_LIGHT_STATE', key, value })
    },
    onDispatch(action) {
      dispatch(action)
    },
  }
}

export default connect(mapStateToProps, mapDispatchToProps)(List)
</code></pre> 
<p>使用useEffect也可以优化性能：</p> 
<pre><code class="language-javascript">import React, { Suspense, useEffect, useState} from 'react'
import { Switch, Route } from 'react-router-dom'
import { connect } from 'react-redux'
import Loading from '../../../components/light/Loading'
import Header from './Header'
import Nav from './Nav'

function List(props) {
  const [listDom, setListDom] = useState([])
  const { router } = props


  // 只有router变化时才会重新渲染listDom，useEffect函数可以起到性能优化的作用
  useEffect(() =&gt; {
    const listDom = []
    const listRender = (arr) =&gt; {
      arr.forEach((item) =&gt; {
        if (item.children) {
          listRender(item.children)
        } else {
          listDom.push(
            &lt;Route
              key={item.path}
              path={item.path}
              component={item.component}
            &gt;&lt;/Route&gt;
          )
        }
      })
    }
    listRender(router.toJS())
    setListDom(listDom)
  }, [router])


  return (
    &lt;div className="m-list"&gt;
      &lt;Header&gt;&lt;/Header&gt;
      &lt;div className="m-list-info"&gt;
        &lt;Nav&gt;&lt;/Nav&gt;
        &lt;Suspense fallback={&lt;Loading isLazyLoading={true}&gt;&lt;/Loading&gt;}&gt;
          &lt;Switch&gt;{listDom}&lt;/Switch&gt;
        &lt;/Suspense&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  )
}

const mapStateToProps = (state) =&gt; {
  return {
    router: state.getIn(['light', 'router']),
    theme: state.getIn(['light', 'theme']),
  }
}

const mapDispatchToProps = (dispatch) =&gt; {
  return {
    onSetState(key, value) {
      dispatch({ type: 'SET_LIGHT_STATE', key, value })
    },
    onDispatch(action) {
      dispatch(action)
    },
  }
}

export default connect(mapStateToProps, mapDispatchToProps)(List)
</code></pre> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p>
                ]]></description></item><item><title>react的useEffect 第二个参数</title><link>http://www.cnblogs.com/xutongbao/archive/2021/06/10/14876263.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 10 Jun 2021 04:04:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/06/10/14876263.html</guid><description><![CDATA[
                    <p>useEffect第二个参数可以是普通类型、也可以是引用类型。</p> 
<p>如果是从props接收来的值，是引用类型的，且是immutable类型的，<span style="color:#fe2c24;"><strong>不要</strong></span>在mapStateToProps里使用toJS，如下：</p> 
<pre><code class="language-javascript">const mapStateToProps = (state) =&gt; {
  return {
    count: state.getIn(['light', 'count']),
    router: state.getIn(['light', 'router']).toJS(),
  }
}
</code></pre> 
<p>要在组件里使用：</p> 
<pre><code class="language-javascript">import React, { useEffect } from 'react'
import { connect } from 'react-redux'
import { withRouter } from 'react-router-dom'

function Test(props) {
  const { count, router } = props
  
  const handleAdd = () =&gt; {
    props.onSetState(['count'], count + 1)
  }

  const handleRouter = () =&gt; {
    const myRouter = router.toJS()
    myRouter.push({
      id: Date.now()
    })
    props.onSetState(['router'], myRouter)
  }

  useEffect(() =&gt; {
    console.log('count发生变化', count)
  }, [count])

  useEffect(() =&gt; {
    console.log('router发生变化', router.toJS())
  }, [router])
  return (
    &lt;div&gt;
      &lt;div&gt;{count}&lt;/div&gt;
      &lt;button onClick={() =&gt; handleAdd()}&gt;加&lt;/button&gt;
      &lt;button onClick={() =&gt; handleRouter()}&gt;改变router&lt;/button&gt;
    &lt;/div&gt;
  )
}

const mapStateToProps = (state) =&gt; {
  return {
    count: state.getIn(['light', 'count']),
    router: state.getIn(['light', 'router']),
  }
}

const mapDispatchToProps = (dispatch) =&gt; {
  return {
    onSetState(key, value) {
      dispatch({ type: 'SET_LIGHT_STATE', key, value })
    },
    onDispatch(action) {
      dispatch(action)
    },
  }
}

export default connect(mapStateToProps, mapDispatchToProps)(withRouter(Test))
</code></pre> 
<p>&nbsp;light.js:</p> 
<pre><code class="language-javascript">import { fromJS } from 'immutable'

const defaultState = fromJS({
  count: 1,
  router: []
})

const reducer = (state = defaultState, action) =&gt; {
  switch (action.type) {
    case 'SET_LIGHT_STATE':
      return state.setIn(action.key, fromJS(action.value))
    default:
      return state
  }
}

export default reducer</code></pre> 
<p><img alt="" height="743" src="https://img-blog.csdnimg.cn/20210610120302753.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" width="737"></p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p>
                ]]></description></item><item><title>如何使用 Postman Interceptor（可以拦截浏览器的请求到postman）</title><link>http://www.cnblogs.com/xutongbao/archive/2021/06/08/14876264.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 08 Jun 2021 10:46:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/06/08/14876264.html</guid><description><![CDATA[
                    <p>&nbsp;1.安装Chrome插件(Postman Interceptor)</p> 
<p><img alt="" height="792" src="https://img-blog.csdnimg.cn/20210608183622871.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" width="770"></p> 
<p>&nbsp;2.postman配置</p> 
<p><img alt="" height="1034" src="https://img-blog.csdnimg.cn/20210608184519500.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" width="1200"></p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>参考链接：<a href="https://learning.postman.com/docs/sending-requests/capturing-request-data/interceptor/">https://learning.postman.com/docs/sending-requests/capturing-request-data/interceptor/</a></p> 
<p>&nbsp;</p> 
<p>&nbsp;</p>
                ]]></description></item><item><title>react阻止事件冒泡</title><link>http://www.cnblogs.com/xutongbao/archive/2021/06/04/14876265.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Fri, 04 Jun 2021 07:36:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/06/04/14876265.html</guid><description><![CDATA[
                    <p>react antd组件阻止事件冒泡：</p> 
<pre><code class="language-html">                    &lt;Menu onClick={e =&gt; e.domEvent.stopPropagation()}&gt;
                      &lt;Menu.Item key="0" onClick={() =&gt; handleEdit(item.id)}&gt;
                        修改名称
                      &lt;/Menu.Item&gt;
                      &lt;Menu.Item key="1" onClick={() =&gt; handleDelete(item.id)}&gt;
                        删除应用
                      &lt;/Menu.Item&gt;
                    &lt;/Menu&gt;</code></pre> 
<p>&nbsp;</p>
                ]]></description></item><item><title>为何在 Modal 中调用 form 控制台会报错？</title><link>http://www.cnblogs.com/xutongbao/archive/2021/05/29/14876266.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Sat, 29 May 2021 03:59:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/05/29/14876266.html</guid><description><![CDATA[
                    <p>这是因为你在调用 form 方法时，Modal 还未初始化导致 form 没有关联任何 Form 组件。你可以通</p> 
<p>Warning: Instance created by useForm is not connect to any Form element. Forget to pass form prop?</p> 
<p>过给 Modal 设置 <code>forceRender</code> 将其预渲染。示例点击<a href="https://codesandbox.io/s/antd-reproduction-template-ibu5c">此处</a>。</p>
                ]]></description></item><item><title>prefetch  性能优化</title><link>http://www.cnblogs.com/xutongbao/archive/2021/05/19/14876267.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 19 May 2021 02:24:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/05/19/14876267.html</guid><description><![CDATA[
                    <p>效果：</p> 
<p><img alt="" height="902" src="https://img-blog.csdnimg.cn/20210519102011749.gif" width="1200"></p> 
<p>目录：</p> 
<p><img alt="" height="338" src="https://img-blog.csdnimg.cn/20210519101836771.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" width="440"></p> 
<p>index.html:</p> 
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
  &lt;head&gt;
    &lt;meta charset="UTF-8" /&gt;
    &lt;meta http-equiv="X-UA-Compatible" content="IE=edge" /&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0" /&gt;
    &lt;title&gt;Document&lt;/title&gt;
    &lt;link rel="prefetch" href="index.js" as="script" onload="loadjs()"&gt;
  &lt;/head&gt;
  &lt;body onload="load()"&gt;
    &lt;a href="next.html"&gt;下一页&lt;/a&gt;
    &lt;script&gt;
      const loadjs = () =&gt; {
        console.log('index.js onload')       
      }
      const load = () =&gt; {
        console.log('body onload')
      }
    &lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre> 
<p>next.html:</p> 
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;meta http-equiv="X-UA-Compatible" content="IE=edge"&gt;
  &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
  &lt;title&gt;Document&lt;/title&gt;
  &lt;script src="index.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
  下一页了
  &lt;script&gt;
    let sum = add(1, 2)
    console.log(sum)
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre> 
<p>index.js:</p> 
<pre><code class="language-javascript">console.log('运行')

const add = (a, b) =&gt; {
  return a + b
}</code></pre> 
<h3>prefetch是一种利用浏览器的空闲时间加载页面将来可能用到的资源的一种机制；通常可以用于加载非首页的其他页面所需要的资源，以便加快后续页面的首屏速度；</h3> 
<p>&nbsp;</p> 
<h3>prefetch特点:</h3> 
<h3>prefetch加载的资源可以获取非当前页面所需要的资源，并且将其放入缓存至少5分钟（无论资源是否可以缓存）；并且，当页面跳转时，未完成的prefetch请求不会被中断；<br> &nbsp;</h3> 
<p>&nbsp;</p> 
<p>&nbsp;</p>
                ]]></description></item><item><title>js 柯里化</title><link>http://www.cnblogs.com/xutongbao/archive/2021/05/17/14876268.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Mon, 17 May 2021 09:49:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/05/17/14876268.html</guid><description><![CDATA[
                    <pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
  &lt;head&gt;
    &lt;meta charset="UTF-8" /&gt;
    &lt;meta http-equiv="X-UA-Compatible" content="IE=edge" /&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0" /&gt;
    &lt;title&gt;Document&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;script&gt;
      const curry = (fn) =&gt; {
        return function curriedFn(...args) {
          if (args.length &lt; fn.length) {
            return function () {
              return curriedFn.apply(
                null,
                args.concat([].slice.call(arguments))
              )
            }
          }
          return fn.apply(null, args)
        }
      }
      const add = (a, b) =&gt; {
        return a + b
      }

      console.log(curry(add)(1)(2))

      const add1 = (a, b, c, d, e) =&gt; {
        return a + b + c + d + e
      }
      console.log(curry(add1)(1)(2)(3)(4)(5))

      const add2 = function() {
        let _args = Array.prototype.slice.call(arguments)
        let _adder = function () {
          _args.push(...arguments)
          return _adder
        }
        _adder.toString = function () {
          return _args.reduce(function (a, b) {
            return a + b
          })
        }
        return _adder
      }

      console.log(add2(1)(2))
      console.log(add2(1, 2, 3)(4))
    &lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre> 
<p>&nbsp;</p>
                ]]></description></item><item><title>在浏览器中使用JavaScript module(模块)</title><link>http://www.cnblogs.com/xutongbao/archive/2021/05/17/14876269.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Mon, 17 May 2021 01:33:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/05/17/14876269.html</guid><description><![CDATA[
                    <p>目录：</p> 
<p><img alt="" height="301" src="https://img-blog.csdnimg.cn/20210517092927938.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" width="427"></p> 
<p>index.html:</p> 
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
  &lt;head&gt;
    &lt;meta charset="UTF-8" /&gt;
    &lt;meta http-equiv="X-UA-Compatible" content="IE=edge" /&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0" /&gt;
    &lt;title&gt;Document&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;script type="module"&gt;
      import { sum } from "./index.js"
      const result = sum(1, 2)
      console.log(result)
    &lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre> 
<p>index.js:</p> 
<pre><code class="language-javascript">export const sum = (a, b) =&gt; a + b
</code></pre> 
<p>调试界面：</p> 
<p><img alt="" height="526" src="https://img-blog.csdnimg.cn/20210517093058414.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" width="980"></p> 
<p>注意事项：需要把网页放到node的本地服务器里</p> 
<p>参考链接：<a href="https://ponyfoo.com/articles/es6-modules-in-depth">https://ponyfoo.com/articles/es6-modules-in-depth</a></p> 
<p>&nbsp;</p>
                ]]></description></item><item><title>github.io托管vue3.0项目</title><link>http://www.cnblogs.com/xutongbao/archive/2021/05/11/14876270.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 11 May 2021 01:50:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/05/11/14876270.html</guid><description><![CDATA[
                    <p>github.io</p> 
<p>github pages</p> 
<p>托管静态网页</p> 
<p>1.创建项目xutongbao.github.io</p> 
<p><img alt="" height="683" src="https://img-blog.csdnimg.cn/20210511093751376.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" width="1200"></p> 
<p>2.使用Vue CLI 4.x创建vue3的项目，并把打包目录更改为docs</p> 
<p><img alt="" height="834" src="https://img-blog.csdnimg.cn/20210511094059100.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" width="1200"></p> 
<p>3.开发项目并打包上传到github上</p> 
<p>把打包后的docs文件夹里代码也提交上去</p> 
<p>4.设置目录</p> 
<p><img alt="" height="932" src="https://img-blog.csdnimg.cn/20210511094441219.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" width="1200"></p> 
<p>5.路由和接口</p> 
<p><img alt="" height="932" src="https://img-blog.csdnimg.cn/20210511094708144.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" width="1200"></p> 
<p><img alt="" height="741" src="https://img-blog.csdnimg.cn/20210511094800670.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" width="1200"></p> 
<p>&nbsp;</p> 
<p><img alt="" height="802" src="https://img-blog.csdnimg.cn/20210511094838754.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" width="1200"></p> 
<p>如何托管node接口请参考：<a href="https://blog.csdn.net/xutongbao/article/details/116641092">https://blog.csdn.net/xutongbao/article/details/116641092</a></p> 
<p>&nbsp;</p> 
<p>github项目：<a href="https://github.com/xutongbao/xutongbao.github.io">https://github.com/xutongbao/xutongbao.github.io</a></p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p>
                ]]></description></item><item><title>托管node项目平台介绍</title><link>http://www.cnblogs.com/xutongbao/archive/2021/05/11/14876271.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 11 May 2021 01:36:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/05/11/14876271.html</guid><description><![CDATA[
                    <p>托管node平台：<a href="https://glitch.com/">https://glitch.com/</a></p> 
<p>1.使用github账号登录</p> 
<p>2.创建node项目</p> 
<p><img alt="" height="891" src="https://img-blog.csdnimg.cn/20210511092909208.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" width="1200"></p> 
<p>3.从github导入node项目</p> 
<p><img alt="" height="911" src="https://img-blog.csdnimg.cn/20210511093025448.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" width="937"></p> 
<p>4.注意添加启动命令</p> 
<p><img alt="" height="584" src="https://img-blog.csdnimg.cn/20210511093135428.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" width="1150"></p> 
<p>5.点击show运行项目，public文件夹里是vue项目编译好的代码</p> 
<p><img alt="" height="658" src="https://img-blog.csdnimg.cn/2021051109321718.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" width="1200"></p> 
<p>6.支持history模式的路由</p> 
<p><img alt="" height="247" src="https://img-blog.csdnimg.cn/20210511093335886.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" width="780"></p> 
<p>&nbsp;</p> 
<p>github项目：<a href="https://github.com/xutongbao/m-node">https://github.com/xutongbao/m-node</a></p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p>
                ]]></description></item><item><title>Ant Design of Vue 表单封装</title><link>http://www.cnblogs.com/xutongbao/archive/2021/05/10/14876272.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Mon, 10 May 2021 03:18:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/05/10/14876272.html</guid><description><![CDATA[
                    <p>1.通过v-decorator设置初始值</p> 
<p>2.在自定义组件上使用v-decorator</p> 
<p>3.点击重置按钮，自定义组件恢复初始值</p> 
<p>效果：</p> 
<p><img alt="" height="869" src="https://img-blog.csdnimg.cn/20210510111444293.gif" width="1200"></p> 
<p>目录：</p> 
<p><img alt="" height="704" src="https://img-blog.csdnimg.cn/20210510111556176.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" width="404"></p> 
<p>Form.vue:</p> 
<pre><code class="language-javascript">&lt;template&gt;
  &lt;a-form
    :form="form"
    :label-col="{ span: 5 }"
    :wrapper-col="{ span: 12 }"
    @submit="handleSubmit"
  &gt;
    &lt;a-form-item label="Note"&gt;
      &lt;a-input v-decorator="Array.isArray(test) ? test : ''" /&gt;
    &lt;/a-form-item&gt;
    &lt;a-form-item label="Gender"&gt;
      &lt;a-select
        v-decorator="[
          'gender',
          {
            rules: [{ required: true, message: 'Please select your gender!' }],
          },
        ]"
        placeholder="Select a option and change input text above"
        @change="handleSelectChange"
      &gt;
        &lt;a-select-option value="male"&gt;
          male
        &lt;/a-select-option&gt;
        &lt;a-select-option value="female"&gt;
          female
        &lt;/a-select-option&gt;
      &lt;/a-select&gt;
    &lt;/a-form-item&gt;
    &lt;a-form-item label="Time"&gt;
      &lt;RangePicker v-decorator="time"&gt;&lt;/RangePicker&gt;
    &lt;/a-form-item&gt;
    &lt;a-form-item label="Name"&gt;
      &lt;Input v-decorator="['name', {initialValue: 'xu'}]"&gt;&lt;/Input&gt;
    &lt;/a-form-item&gt;

    &lt;a-form-item :wrapper-col="{ span: 12, offset: 5 }"&gt;
      &lt;a-button type="primary" html-type="submit"&gt;
        Submit
      &lt;/a-button&gt;
      &lt;a-button :style="{ marginLeft: '8px' }" @click="handleReset"&gt;
        Clear
      &lt;/a-button&gt;
    &lt;/a-form-item&gt;
  &lt;/a-form&gt;
&lt;/template&gt;

&lt;script&gt;
import RangePicker from "../components/RangePicker"
import Input from "../components/Input"
import { oneDay } from '../utils/time'

export default {
  components: {
    RangePicker,
    Input,
  },
  data() {
    return {
      formLayout: "horizontal",
      form: this.$form.createForm(this, { name: "coordinated" }),
      test: [
        "note",
        {
          rules: [{ required: true, message: "Please input your note!" }],
          initialValue: "Hi!",
        },
      ],
      time: [
        "time",
        {
          initialValue: oneDay(),
        },
      ],
    }
  },
  methods: {
    handleSubmit(e) {
      e.preventDefault()
      this.form.validateFields((err, values) =&gt; {
        if (!err) {
          console.log("Received values of form: ", values)
        }
      })
      let values = this.form.getFieldsValue()
      console.log(values)
    },
    handleReset() {
      this.form.resetFields();

      let values = this.form.getFieldsValue()
      console.log(values)      
    },    
    handleSelectChange(value) {
      console.log(value)
      this.form.setFieldsValue({
        note: `Hi, ${value === "male" ? "man" : "lady"}!`,
      })
    },
  },
  mounted() {
    // this.form.setFieldsValue({
    //   note: `Hi!`,
    // })
    console.log(this.time)
  },
}
&lt;/script&gt;
</code></pre> 
<p>RangePicker.vue:</p> 
<pre><code class="language-javascript">&lt;template&gt;
  &lt;a-range-picker
    :value="defaultValue"
    @change="change"
    :showTime="showTime"
  &gt;&lt;/a-range-picker&gt;
&lt;/template&gt;

&lt;script&gt;
import moment from "moment"
export default {
  props: {
    value: {
      type: Array,
    },
  },
  data() {
    let date = this.value
    if (date &amp;&amp; date.length)
      date = [moment(this.value[0]), moment(this.value[1])]
    return {
      defaultValue: date,
      showTime: {
        format: "HH:mm:ss",
        defaultValue: [
          moment("00:00:00", "HH:mm:ss"),
          moment("23:59:59", "HH:mm:ss"),
        ],
      },
    }
  },
  methods: {
    change(val) {
      let date = val
      if (val.length)
        date = [moment(val[0]).valueOf(), moment(val[1]).valueOf()]
      this.$emit("change", date)
      this.$emit("input", date)
    },
  },
  watch: {
    value(val) {
      if (val &amp;&amp; val.length) {
        this.defaultValue = [moment(val[0]), moment(val[1])]
      }
    },
  },
}
&lt;/script&gt;

&lt;style scoped&gt;&lt;/style&gt;
</code></pre> 
<p>Input.vue:</p> 
<pre><code class="language-javascript">&lt;template&gt;
  &lt;input :value="defaultValue" @input="handleInput" placeholder="请输入"/&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  props: ['value'],
  data() {
    return {
      defaultValue: this.value
    }
  },
  methods: {
    handleInput(e) {
      this.defaultValue = e.target.value
      this.$emit('change', this.defaultValue)
      this.$emit('input', this.defaultValue)
    }
  },
  watch: {
    value() {
      this.defaultValue= this.value
    }
  }
}
&lt;/script&gt;

&lt;style&gt;

&lt;/style&gt;</code></pre> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p>
                ]]></description></item><item><title>并发执行异步事件，按顺序输出结果</title><link>http://www.cnblogs.com/xutongbao/archive/2021/05/06/14876273.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 06 May 2021 06:31:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/05/06/14876273.html</guid><description><![CDATA[
                    <h3>&nbsp;并发执行异步事件，按顺序输出结果,总耗时为数组中最大的数:</h3> 
<pre><code class="language-javascript">    const getData = async (num) =&gt; {
      return await new Promise((resolve) =&gt; {
        setTimeout(() =&gt; {
          resolve(num)
        }, num)
      })
    }

    //并发执行异步事件，按顺序输出结果,总耗时为数组中最大的数
    const order = async (nums) =&gt; {
      const promises = nums.map(async num =&gt; {
        return await getData(num)
      })
      for (const data of promises) {
        console.log(await data)
      }
      console.log(new Date())
    }

    const nums = [3000, 2000, 1000, 5000, 5000]
    console.log(new Date())
    order(nums)
    </code></pre> 
<p><img alt="" height="365" src="https://img-blog.csdnimg.cn/20210506142746355.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" width="594"></p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<h3>继发执行异步事件，按顺序输出结果,总耗时为数组中的数字之和:</h3> 
<pre><code class="language-javascript">   const getData = async (num) =&gt; {
      return await new Promise((resolve) =&gt; {
        setTimeout(() =&gt; {
          resolve(num)
        }, num)
      })
    }

    //继发执行异步事件，按顺序输出结果,总耗时为数组中的数字之和
    const order = async (nums) =&gt; {
      for (const num of nums) {
        const res = await getData(num)
        console.log(res)
      }
      console.log(new Date())
    }

    const nums = [3000, 2000, 1000, 5000, 5000]
    console.log(new Date())
    order(nums)
    </code></pre> 
<p><img alt="" height="353" src="https://img-blog.csdnimg.cn/20210506143043138.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" width="578"></p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p>
                ]]></description></item><item><title>Promise</title><link>http://www.cnblogs.com/xutongbao/archive/2021/04/30/14876274.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Fri, 30 Apr 2021 10:15:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/04/30/14876274.html</guid><description><![CDATA[
                    <p>resolve:</p> 
<pre><code class="language-javascript">    new Promise((resolve, reject) =&gt; {
      setTimeout(() =&gt; {
        resolve({ 
          code: 200
         })
      }, 500)
    }).then(res =&gt; {
      console.log(res.code)
    })</code></pre> 
<p>reject:</p> 
<pre><code class="language-javascript">    new Promise((resolve, reject) =&gt; {
      setTimeout(() =&gt; {
        reject({ 
          code: 400
         })
      }, 500)
    }).then(res =&gt; {
      console.log(res.code)
    }, err =&gt; {
      console.log(err.code)
    })</code></pre> 
<p>catch:</p> 
<pre><code class="language-javascript">    new Promise((resolve, reject) =&gt; {
      setTimeout(() =&gt; {
        reject({ code: 400 })
      }, 500)
    }).catch((err) =&gt; {
      console.log(err.code)
    })</code></pre> 
<p>resolve和catch：</p> 
<pre><code class="language-javascript">    new Promise((resolve, reject) =&gt; {
      setTimeout(() =&gt; {
        if (Math.random() &gt; 0.5) {
          resolve({ code: 200 })
        } else {
          reject({ code: 400 })
        }
      }, 500)
    })
      .then((res) =&gt; {
        console.log(res.code)
      })
      .catch((err) =&gt; {
        console.log(err.code)
      })</code></pre> 
<p>throw：</p> 
<pre><code class="language-javascript">    new Promise((resolve, reject) =&gt; {
      throw new Error("错误")
    }).catch((err) =&gt; {
      console.log(err.message)
    })</code></pre> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p>
                ]]></description></item><item><title>vue cli 配置开发环境下的sourcemap</title><link>http://www.cnblogs.com/xutongbao/archive/2021/04/30/14876275.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Fri, 30 Apr 2021 02:00:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/04/30/14876275.html</guid><description><![CDATA[
                    <h3>配置方法：</h3> 
<p>vue.config.js:</p> 
<pre><code class="language-javascript">module.exports = {
  lintOnSave: false,
  devServer: {
    //开发环境下设置为编译好以后直接打开浏览器浏览
    open: true,
  },
  configureWebpack: (config) =&gt; {
    //调试JS
    config.devtool = "source-map"
  },
  css: {
    //查看CSS属于哪个css文件
    sourceMap: true,
  },
}
</code></pre> 
<p><img alt="" height="654" src="https://img-blog.csdnimg.cn/2021043009590768.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" width="1152"></p> 
<h3>配置后：</h3> 
<p><img alt="" height="840" src="https://img-blog.csdnimg.cn/2021043009533284.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" width="1046"></p> 
<p><img alt="" height="428" src="https://img-blog.csdnimg.cn/20210430095819165.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" width="1075"></p> 
<p>&nbsp;</p> 
<h3>配置前：</h3> 
<p><img alt="" height="850" src="https://img-blog.csdnimg.cn/2021043009561475.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" width="1089"></p> 
<p><img alt="" height="830" src="https://img-blog.csdnimg.cn/20210430095708561.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" width="721"></p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p>
                ]]></description></item><item><title>vue3.0 在单个组件实例上创建多个 v-model 绑定</title><link>http://www.cnblogs.com/xutongbao/archive/2021/04/25/14876276.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Sun, 25 Apr 2021 06:34:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/04/25/14876276.html</guid><description><![CDATA[
                    <p><img alt="" height="563" src="https://img-blog.csdnimg.cn/20210425143225424.gif" width="942"></p> 
<p>目录：</p> 
<p><img alt="" height="303" src="https://img-blog.csdnimg.cn/20210425143303172.png" width="234"></p> 
<p>Register.vue:</p> 
<pre><code class="language-html">&lt;template&gt;
  &lt;div&gt;
    用户名：&lt;input type="text" :value="username" @input="handleUsername" /&gt;
  &lt;/div&gt;
  &lt;div&gt;
    密码：&lt;input type="text" :value="password" @input="handlePassword" /&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  props: {
    username: String,
    password: String,
  },
  setup(props, context) {
    const handleUsername = (e) =&gt; {
      context.emit("update:username", e.target.value)
    }

    const handlePassword = (e) =&gt; {
      context.emit("update:password", e.target.value)
    }

    return {
      handleUsername,
      handlePassword,
    }
  },
}
&lt;/script&gt;

&lt;style&gt;&lt;/style&gt;
</code></pre> 
<p>Home.vue:</p> 
<pre><code class="language-html">&lt;template&gt;
  &lt;Register v-model:username="username" v-model:password="password"&gt;&lt;/Register&gt;
  &lt;button @click="handleRegister"&gt;注册&lt;/button&gt;
&lt;/template&gt;

&lt;script&gt;
import { reactive, toRefs } from "vue"
import Register from "../components/Register"

export default {
  components: {
    Register,
  },
  setup() {
    const state = reactive({
      username: "admin",
      password: "123456",
    })

    const { username, password } = toRefs(state)

    const handleRegister = () =&gt; {
      let { username, password } = state
      console.log(username, password)
    }

    return {
      username,
      password,
      handleRegister,
    }
  },
}
&lt;/script&gt;

&lt;style&gt;&lt;/style&gt;
</code></pre> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p>
                ]]></description></item><item><title>Vue.js 3.0 的 Suspense组件</title><link>http://www.cnblogs.com/xutongbao/archive/2021/04/25/14876277.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Sun, 25 Apr 2021 05:41:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/04/25/14876277.html</guid><description><![CDATA[
                    <p>效果：</p> 
<p><img alt="" height="790" src="https://img-blog.csdnimg.cn/20210425133846616.gif" width="1200"></p> 
<p>目录：</p> 
<p><img alt="" height="307" src="https://img-blog.csdnimg.cn/20210425133944650.png" width="210"></p> 
<p>Article.vue:</p> 
<pre><code class="language-html">&lt;template&gt;
  &lt;div&gt;{<!-- -->{ res.title }}&lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
const getArticle = async () =&gt; {
  const res = await new Promise((resolve, reject) =&gt; {
    setTimeout(() =&gt; {
      if (Math.random() &gt; 0.5) {
        resolve({ title: "正确加载内容！" });
      } else {
        reject({ msg: "呃，出了点问题~" });
      }
    }, 1000);
  });
  return res;
};

export default {
  async setup() {
    const res = await getArticle();
    return {
      res,
    };
  },
};
&lt;/script&gt;

&lt;style&gt;
&lt;/style&gt;</code></pre> 
<p>Home.vue:</p> 
<pre><code class="language-html">&lt;template&gt;
  &lt;div v-if="errMsg" style="color:red;"&gt;{<!-- -->{errMsg}}&lt;/div&gt;
  &lt;Suspense v-else&gt;
    &lt;template #default&gt;
      &lt;Article&gt;&lt;/Article&gt;
    &lt;/template&gt;
    &lt;template #fallback&gt;
      &lt;div&gt;正在玩命加载中...&lt;/div&gt;
    &lt;/template&gt;
  &lt;/Suspense&gt;
&lt;/template&gt;

&lt;script&gt;
import { onErrorCaptured, reactive, toRefs } from 'vue'
import Article from '../components/Article'

export default {
  components: {
    Article
  },
  setup() {
    const state = reactive({
      errMsg: null
    })

    onErrorCaptured(e =&gt; {
      state.errMsg = e.msg
    })

    let { errMsg } = toRefs(state)

    return {
      errMsg
    }
  }
}
&lt;/script&gt;

&lt;style&gt;

&lt;/style&gt;</code></pre> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p>
                ]]></description></item><item><title>Vue3.0 使用Teleport组件把对话框渲染的到指定位置</title><link>http://www.cnblogs.com/xutongbao/archive/2021/04/25/14876278.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Sun, 25 Apr 2021 03:48:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/04/25/14876278.html</guid><description><![CDATA[
                    <p>Teleport 提供了一种干净的方法，允许我们控制在 DOM 中哪个父节点下渲染了 HTML，而不必求助于全局状态或将其拆分为两个组件。</p> 
<p>效果：</p> 
<p><img alt="" height="791" src="https://img-blog.csdnimg.cn/20210425114327374.gif" width="1200"></p> 
<p>目录：</p> 
<p><img alt="" height="472" src="https://img-blog.csdnimg.cn/20210425114532608.png" width="270"></p> 
<p>index.html:</p> 
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang=""&gt;
  &lt;head&gt;
    &lt;meta charset="utf-8"&gt;
    &lt;meta http-equiv="X-UA-Compatible" content="IE=edge"&gt;
    &lt;meta name="viewport" content="width=device-width,initial-scale=1.0"&gt;
    &lt;link rel="icon" href="&lt;%= BASE_URL %&gt;favicon.ico"&gt;
    &lt;title&gt;&lt;%= htmlWebpackPlugin.options.title %&gt;&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;noscript&gt;
      &lt;strong&gt;We're sorry but &lt;%= htmlWebpackPlugin.options.title %&gt; doesn't work properly without JavaScript enabled. Please enable it to continue.&lt;/strong&gt;
    &lt;/noscript&gt;
    &lt;div id="app"&gt;&lt;/div&gt;
    &lt;div id="m-dialog"&gt;&lt;/div&gt;
    &lt;!-- built files will be auto injected --&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre> 
<p>Dialog.vue:</p> 
<pre><code class="language-html">&lt;template&gt;
  &lt;div :class="[`m-mask ${visible ? 'active' : ''}`]"&gt;
    &lt;div class="m-dialog"&gt;
      &lt;div class="m-header"&gt;
        &lt;span class="m-header-title"&gt;{<!-- -->{title}}&lt;/span&gt;
        &lt;span class="m-header-close" @click="handleClose"&gt;X&lt;/span&gt;
      &lt;/div&gt;
      &lt;div class="m-content"&gt;
        &lt;slot name="content"&gt;&lt;/slot&gt;
      &lt;/div&gt;
      &lt;div class="m-footer"&gt;
        &lt;button class="m-btn" @click="handleOk"&gt;确定&lt;/button&gt;
        &lt;button class="m-btn" @click="handleClose"&gt;取消&lt;/button&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;

export default {
  props: {
    visible: {
      type: Boolean
    },
    title: {
      type: String
    }
  },
  emits: ['onClose', 'onOk'],
  setup(props, context) {

    const handleClose = () =&gt; {
      context.emit('onClose')
    }

    const handleOk = () =&gt; {
      context.emit('onOk')
    }

    return {
      handleClose,
      handleOk
    }
  }
}
&lt;/script&gt;

&lt;style&gt;

&lt;/style&gt;</code></pre> 
<p>Home.vue:</p> 
<pre><code class="language-html">&lt;template&gt;
  &lt;Teleport to="#m-dialog"&gt;
    &lt;Dialog :visible="visible" title="标题" @onClose="handleCloseDialog" @onOk="handleOk"&gt;
      &lt;template #content&gt;
        &lt;div class="m-info"&gt;
          &lt;span class="m-msg"&gt;你好！&lt;/span&gt;
        &lt;/div&gt;
      &lt;/template&gt;
    &lt;/Dialog&gt;
  &lt;/Teleport&gt;
  &lt;button @click="handleShowDialog"&gt;按钮&lt;/button&gt;
&lt;/template&gt;

&lt;script&gt;
import { reactive, toRefs } from "vue";
import Dialog from "../components/Dialog";

export default {
  components: {
    Dialog,
  },
  setup() {
    const state = reactive({
      visible: false,
    });

    const handleShowDialog = () =&gt; {
      state.visible = true
    }

    const handleCloseDialog = () =&gt; {
      state.visible = false
    }

    const handleOk = () =&gt; {
      console.log('ok')
      handleCloseDialog()
    }

    const { visible } = toRefs(state)

    return {
      visible,
      handleShowDialog,
      handleCloseDialog,
      handleOk
    }
  },
};
&lt;/script&gt;

&lt;style&gt;
&lt;/style&gt;</code></pre> 
<p>index.css:</p> 
<pre><code class="language-css">.m-mask{position: absolute;display: none; top: 0;left: 0;right: 0;bottom: 0;background: rgba(0 , 0, 0, 0.1);}
.m-mask.active{display: flex;}
.m-dialog{display: flex;flex-direction: column; margin: auto;min-width: 400px;min-height: 100px;background: #fff;border-radius: 5px;box-shadow: 10px 10px 5px #888;}
.m-header{display: flex;line-height: 40px;border-bottom: 1px solid #ddd;}
.m-header-title{flex:1;padding: 0 0 0 5px;}
.m-header-close{width: 40px;text-align: center;cursor: pointer;}
.m-info{display: flex;height: 100px;}
.m-msg{margin: auto;}
.m-content{flex:1;}
.m-footer{ line-height: 40px;border-top: 1px solid #ddd; text-align: right;}
.m-btn{margin: 0 5px;}


</code></pre> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p>
                ]]></description></item><item><title>字符串包含双字节字符时如何遍历</title><link>http://www.cnblogs.com/xutongbao/archive/2021/04/23/14876279.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Fri, 23 Apr 2021 08:47:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/04/23/14876279.html</guid><description><![CDATA[
                    <pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;meta http-equiv="X-UA-Compatible" content="IE=edge"&gt;
  &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
  &lt;title&gt;&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;div id="app"&gt;
  &lt;/div&gt;
  &lt;script&gt;
    let message = 'x𠮷u'
    //无法访问“𠮷”
    for (let i = 0; i &lt; message.length; i++) {
      console.log(message[i])
    }
    //无法访问“𠮷”
    for (let i in message) {
      console.log(message[i])
    }
    //可以访问“𠮷”
    for(let item of message) {
      console.log(item)
    }
    //可以访问“𠮷”
    let arr1 = [...message]
    arr1.forEach(item =&gt; {
      console.log(item)
    })
    //可以访问“𠮷”
    let arr2 = [...message]
    for (let i = 0; i &lt; arr2.length; i++) {
      console.log(arr2[i])
    }
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre> 
<p><img alt="" height="527" src="https://img-blog.csdnimg.cn/20210423164629730.png" width="256"></p>
                ]]></description></item><item><title>for in和for of遍历数组的索引</title><link>http://www.cnblogs.com/xutongbao/archive/2021/04/23/14876280.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Fri, 23 Apr 2021 01:39:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/04/23/14876280.html</guid><description><![CDATA[
                    <p>1、for in循环是否可以作用在数组上？循环得到的结果是什么？</p> 
<p>2、for of循环是否可以作用在数组上？循环得到的结果是什么？</p> 
<p>3、数组的keys()迭代器通过for of循环得到的是什么？与for in循环的区别是什么？</p> 
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;meta http-equiv="X-UA-Compatible" content="IE=edge"&gt;
  &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
  &lt;title&gt;&lt;/title&gt;
  &lt;script src="https://cdn.bootcdn.net/ajax/libs/vue/3.0.11/vue.global.prod.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;div id="app"&gt;
  &lt;/div&gt;
  &lt;script&gt;
    let colors = ['red', 'green', 'blue']

    for (let key in colors) {
      console.log(key) // '1' '2' '3' (字符串属性)
    }

    for (let key of colors.keys()) {
      console.log(key) //1 2 3   (数字类型的索引)
    }
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre> 
<p><img alt="" height="279" src="https://img-blog.csdnimg.cn/20210423093800944.png" width="122"></p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p>
                ]]></description></item><item><title>vue3.0 组合式(Composition)API TodoList</title><link>http://www.cnblogs.com/xutongbao/archive/2021/04/21/14876281.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 21 Apr 2021 09:25:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/04/21/14876281.html</guid><description><![CDATA[
                    <p>1.vue3.0允许在template里写多个根组件</p> 
<p>效果：</p> 
<p><img alt="" height="606" src="https://img-blog.csdnimg.cn/2021042117214998.gif" width="440"></p> 
<p>目录结构：</p> 
<p><img alt="" height="467" src="https://img-blog.csdnimg.cn/20210421172243285.png" width="232"></p> 
<p>TodoList.vue:</p> 
<pre><code class="language-html">&lt;template&gt;
  &lt;Header @onAdd="handleAdd"&gt;&lt;/Header&gt;
  &lt;List
    :list="state.list"
    @onChecked="handleChecked"
    @onDelete="handleDelete"
  &gt;&lt;/List&gt;
&lt;/template&gt;

&lt;script&gt;
import { reactive } from "vue";
import Header from "../components/Header";
import List from "../components/List";

export default {
  components: {
    Header,
    List,
  },
  setup() {
    const state = reactive({
      list: [],
    });

    const handleAdd = (title) =&gt; {
      state.list.push({
        id: Date.now(),
        title,
        done: false,
      });
    };

    const handleChecked = (payload) =&gt; {
      let index = state.list.findIndex((item) =&gt; item.id === payload.id);
      state.list[index].done = payload.checked;
    };

    const handleDelete = (payload) =&gt; {
      state.list = state.list.filter((item) =&gt; item.id !== payload.id);
    };

    return {
      state,
      handleAdd,
      handleChecked,
      handleDelete,
    };
  },
};
&lt;/script&gt;

&lt;style&gt;
&lt;/style&gt;</code></pre> 
<p>Header.vue:</p> 
<pre><code class="language-html">&lt;template&gt;
  &lt;div&gt;
    &lt;input type="text" :value="title" @input="handleTitle" @keyup.enter="handleAdd" autofocus placeholder="请输入"&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
import { ref } from 'vue'

export default {
  emits: ['onAdd'],
  setup(props, context) {
    const title = ref('')
    const handleTitle = (e) =&gt; {
      title.value = e.target.value
    }

    const handleAdd = () =&gt; {
      context.emit('onAdd', title.value)
      title.value = ''
    }

    return {
      title,
      handleTitle,
      handleAdd
    }
  }
}
&lt;/script&gt;

&lt;style&gt;

&lt;/style&gt;</code></pre> 
<p>List.vue:</p> 
<pre><code class="language-html">&lt;template&gt;
  &lt;div&gt;正在进行({<!-- -->{ doningList.length }})&lt;/div&gt;
  &lt;ListItem
    v-for="item in doningList"
    :key="item.id"
    :item="item"
    @onChecked="handleChecked"
    @onDelete="handleDelete"
  &gt;&lt;/ListItem&gt;
  &lt;div&gt;已经完成({<!-- -->{ doneList.length }})&lt;/div&gt;
  &lt;ListItem
    v-for="item in doneList"
    :key="item.id"
    :item="item"
    @onChecked="handleChecked"
    @onDelete="handleDelete"
  &gt;&lt;/ListItem&gt;
&lt;/template&gt;

&lt;script&gt;
import { computed } from "vue";
import ListItem from "./ListItem";

export default {
  props: ["list"],
  components: {
    ListItem,
  },
  setup(props, context) {
    const doningList = computed(() =&gt; {
      return props.list.filter((item) =&gt; !item.done);
    });

    const doneList = computed(() =&gt; props.list.filter((item) =&gt; item.done));

    const handleChecked = (payload) =&gt; {
      context.emit("onChecked", payload);
    };

    const handleDelete = (payload) =&gt; context.emit("onDelete", payload);

    return {
      doningList,
      doneList,
      handleChecked,
      handleDelete,
    };
  },
};
&lt;/script&gt;

&lt;style&gt;
&lt;/style&gt;</code></pre> 
<p>ListItem.vue:</p> 
<pre><code class="language-html">&lt;template&gt;
  &lt;div&gt;
    &lt;input type="checkbox" :id="item.id" :checked="item.done" @change="handleChange"/&gt;
    &lt;label :for="item.id"&gt;{<!-- -->{item.title}}&lt;/label&gt;
    &lt;button @click="handleDelete"&gt;删除&lt;/button&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  props: ['item'],
  setup(props, context) {
    const handleChange = (e) =&gt; {
      context.emit('onChecked', { id: props.item.id, checked: e.target.checked })
    }

    const handleDelete = () =&gt; {
      context.emit('onDelete', { id : props.item.id })
    }
    return {
      handleChange,
      handleDelete
    }
  }
}
&lt;/script&gt;

&lt;style&gt;

&lt;/style&gt;</code></pre> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>参考链接：</p> 
<p><a href="http://www.todolist.cn/">http://www.todolist.cn/</a></p>
                ]]></description></item><item><title>vue3.0 组合式API 加加减减</title><link>http://www.cnblogs.com/xutongbao/archive/2021/04/21/14876282.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 21 Apr 2021 06:25:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/04/21/14876282.html</guid><description><![CDATA[
                    <p>通过cdn安装vue</p> 
<p>setup（）</p> 
<p>createApp()</p> 
<p>ref</p> 
<p>&nbsp;</p> 
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;meta http-equiv="X-UA-Compatible" content="IE=edge"&gt;
  &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
  &lt;title&gt;vue3.0&lt;/title&gt;
  &lt;script src="https://cdn.bootcdn.net/ajax/libs/vue/3.0.11/vue.global.prod.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;div id="app"&gt;
    {<!-- -->{count}}
    &lt;div&gt;
      &lt;button @click="handleAdd"&gt;加&lt;/button&gt;
      &lt;button @click="handleSub"&gt;减&lt;/button&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  &lt;script&gt;
    let { createApp, ref } = Vue

    createApp({
      setup() {
        let count = ref(0)

        let handleAdd = () =&gt; {
          count.value++
        }

        let handleSub = () =&gt; {
          count.value--
        }

        return {
          count,
          handleAdd,
          handleSub
        }
      }
    }).mount('#app')
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre> 
<p>&nbsp;</p>
                ]]></description></item><item><title>Weak Set</title><link>http://www.cnblogs.com/xutongbao/archive/2021/04/21/14876283.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 21 Apr 2021 03:05:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/04/21/14876283.html</guid><description><![CDATA[
                    <pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;meta http-equiv="X-UA-Compatible" content="IE=edge"&gt;
  &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
  &lt;title&gt;Document&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;script&gt;
    let set = new WeakSet()
    let key = {}

    set.add(key)
    console.log(set.has(key))  //true

    key = { a: 1 }   //移除了key的第一个引用，添加了新的引用
    console.log(set.has(key))  //false， Weak Set中的引用也自动移除
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre> 
<p>&nbsp;</p>
                ]]></description></item><item><title>js数组去重</title><link>http://www.cnblogs.com/xutongbao/archive/2021/04/21/14876284.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 21 Apr 2021 02:23:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/04/21/14876284.html</guid><description><![CDATA[
                    <pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;meta http-equiv="X-UA-Compatible" content="IE=edge"&gt;
  &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
  &lt;title&gt;Document&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;script&gt;

    //使用一个空对象，只需要一个for循环，效率高(不能区分1和'1')      
    function unique1(arr){      
        var res = [];      
        var json = {};      
        for(var i = 0; i &lt; arr.length; i++){      
            if(!json[arr[i]]){      
                res.push(arr[i]);      
                json[arr[i]] = 1;      
            }      
        }      
        return res;      
    };      

    //数组去重，不使用es6的Set集合，能区分1和'1'，只有一次for循环（性能高）     
    function unique2(array){     
        var n = {}, r = [], len = array.length, val, type;     
        for (var i = 0; i &lt; array.length; i++) {     
            val = array[i];     
            type = typeof val;     
            if (!n[val]) {     
                n[val] = [type];     
                r.push(val);     
            } else if (n[val].indexOf(type) &lt; 0) {     
                n[val].push(type);     
                r.push(val);     
            }     
        }     
        return r;     
    }               
    
    var arr = [0, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 6, '1', 'a', true, false, true];    

    console.log(arr)
    console.log(unique1(arr));

    console.log(arr)
    console.log(unique2(arr))

    console.log(arr)
    //使用es6的Set集合和数组解构，只需要一行代码
    console.log([...new Set(arr)])


    //只使用Set判断元素是否存在，更灵活
    let unique3 = (arr) =&gt; {
      let newArr = []
      let set = new Set()
      for (let i = 0; i &lt; arr.length; i++) {
        if (!set.has(arr[i])) {
          set.add(arr[i])
          newArr.push(arr[i])
        }
      }
      return newArr
    }

    console.log(arr)
    console.log(unique3(arr))

    //数组去重，并将所有数字类型的元素乘以2，所有字符串类型的元素重复拼接,其他类型不做处理
    let unique4 = (arr) =&gt; {
      let newArr = []
      let set = new Set()
      for (let i = 0; i &lt; arr.length; i++) {
        if (!set.has(arr[i])) {
          set.add(arr[i])
          if (typeof arr[i] === 'number') {
            newArr.push(arr[i] * 2)
          } else if (typeof arr[i] === 'string') {
            newArr.push(arr[i] + arr[i])
          } else {
            newArr.push(arr[i])
          }
          
        }
      }
      return newArr
    }

    console.log(arr)
    console.log(unique4(arr))
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre> 
<p><img alt="" height="384" src="https://img-blog.csdnimg.cn/20210421102427942.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" width="834"></p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p>
                ]]></description></item><item><title>vue3.0 组合式API(Composition API)</title><link>http://www.cnblogs.com/xutongbao/archive/2021/04/20/14876285.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 20 Apr 2021 08:11:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/04/20/14876285.html</guid><description><![CDATA[
                    <h3>一、setup、ref、onMounted</h3> 
<p>新的 <code>setup</code> 组件选项在创建组件之前执行</p> 
<p>新的 <code>ref</code> 函数使任何响应式变量在任何地方起作用</p> 
<p>合式 API 上的生命周期钩子与选项式 API 的名称相同，但前缀为 <code>on</code></p> 
<pre><code class="language-html">&lt;template&gt;
  &lt;div&gt;
    &lt;div&gt;
      1
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
import { ref, onMounted } from 'vue'
import Api from '../api'

export default {
  setup() {
    const list = ref([])
    
    const getList = () =&gt; {
      Api.list().then(res  =&gt; {
        console.log(res)
        if (res.code === 200) {
          list.value = res.data
        }
      })
    }

    onMounted(getList)

    return {
      list,
      getList
    }

  },
  data() {
    return {
    }
  }
}
&lt;/script&gt;

&lt;style&gt;

&lt;/style&gt;</code></pre> 
<h3>二、关注点分离，把相关的代码提取到独立的文件里</h3> 
<p><img alt="" height="327" src="https://img-blog.csdnimg.cn/20210420163551938.png" width="213"></p> 
<p>List.vue:</p> 
<pre><code class="language-html">&lt;template&gt;
  &lt;div&gt;
    &lt;div v-for="item in list" :key="item.id"&gt;
      {<!-- -->{item.title}}
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
import useList from './useList'

export default {
  setup() {
    const { list } = useList()

    return {
      list
    }
  },
  data() {
    return {
    }
  }
}
&lt;/script&gt;

&lt;style&gt;

&lt;/style&gt;</code></pre> 
<p>useList.js:</p> 
<pre><code class="language-javascript">import { ref, onMounted } from 'vue'
import Api from '../api'

export default () =&gt; {
  const list = ref([])

  const getList = () =&gt; {
    Api.list().then(res  =&gt; {
      console.log(res)
      if (res.code === 200) {
        list.value = res.data
      }
    })
  }

  onMounted(() =&gt; getList())

  return {
    list,
    getList
  }
}</code></pre> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p>
                ]]></description></item><item><title>使用ES6数组解构实现变量交换</title><link>http://www.cnblogs.com/xutongbao/archive/2021/04/20/14876286.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 20 Apr 2021 02:16:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/04/20/14876286.html</guid><description><![CDATA[
                    <pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;meta http-equiv="X-UA-Compatible" content="IE=edge"&gt;
  &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
  &lt;title&gt;Document&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;script&gt;

    //变量交换
    let a = 1
    let b = 2;

    [ a, b ] = [ b, a ]

    console.log(a, b) // 2, 1

    //冒泡排序
    function bubbleSort(arr) {
      for(let i = 0; i &lt; arr.length; i++) {
        for (let j = 0; j &lt; arr.length - i - 1; j++) {
          if (arr[j] &gt; arr[j + 1]) {
            [ arr[j], arr[j + 1] ] = [ arr[j + 1], arr[j] ]
          }
        }
      }
      return arr
    }

    var arr = [6, 5, 3, 1, 8, 7, 2, 4];
    console.log(bubbleSort(arr));
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre> 
<p>&nbsp;</p>
                ]]></description></item><item><title>ant-design-vue 日期区间选择设置默认时间</title><link>http://www.cnblogs.com/xutongbao/archive/2021/04/19/14876287.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Mon, 19 Apr 2021 02:57:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/04/19/14876287.html</guid><description><![CDATA[
                    <p><img alt="" height="867" src="https://img-blog.csdnimg.cn/20210419105405251.gif" width="752"></p> 
<p>组件：</p> 
<pre><code class="language-html">&lt;template&gt;
  &lt;a-range-picker
    :showTime="showTime"
    @change="onChange"
    @ok="onOk"
  &gt;&lt;/a-range-picker&gt;
&lt;/template&gt;

&lt;script&gt;
import moment from "moment";
export default {
  data() {
    return {
      showTime: {
        format: "HH:mm:ss",
        defaultValue: [
          moment("00:00:00", "HH:mm:ss"),
          moment("23:59:59", "HH:mm:ss"),
        ],
      },
    };
  },
  methods: {
    onChange(value, dateString) {
      console.log("Selected Time: ", value);
      console.log("Formatted Selected Time: ", dateString);
    },
    onOk(value) {
      console.log("onOk: ", value);
      console.log(value.map((item) =&gt; item.format("YYYY-MM-DD HH:mm:ss")));
    },
  },
};
&lt;/script&gt;

&lt;style scoped&gt;
&lt;/style&gt;</code></pre> 
<p>国际化：</p> 
<pre><code class="language-html">&lt;template&gt;
  &lt;div id="app"&gt;
    &lt;a-config-provider :locale="zhCN"&gt;
      &lt;router-view/&gt;
    &lt;/a-config-provider&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
import zhCN from 'ant-design-vue/es/locale-provider/zh_CN.js'
export default {
  data() {
    return {
      zhCN
    }
  },
}

&lt;/script&gt;

</code></pre> 
<p>main.js引入：</p> 
<pre><code class="language-javascript">import Vue from 'vue'
import App from './App.vue'
import Antd from 'ant-design-vue'
import router from './router'
import store from './store'
import 'ant-design-vue/dist/antd.css'
import './font/iconfont.css'
import './index.css'

Vue.use(Antd)
Vue.config.productionTip = false

new Vue({
  router,
  store,
  render: h =&gt; h(App)
}).$mount('#app')
</code></pre> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>参考链接：</p> 
<p><a href="https://www.antdv.com/components/date-picker-cn/">https://www.antdv.com/components/date-picker-cn/</a></p> 
<p><a href="http://momentjs.cn/">http://momentjs.cn/</a></p>
                ]]></description></item><item><title>如何通过cdn方式使用阿里巴巴矢量图字体文件</title><link>http://www.cnblogs.com/xutongbao/archive/2021/04/14/14876288.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 14 Apr 2021 10:32:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/04/14/14876288.html</guid><description><![CDATA[
                    <p><img alt="" height="805" src="https://img-blog.csdnimg.cn/20210428191149734.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" width="1173"></p>
                ]]></description></item><item><title>vue工作记录</title><link>http://www.cnblogs.com/xutongbao/archive/2021/04/12/14876289.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Mon, 12 Apr 2021 03:48:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/04/12/14876289.html</guid><description><![CDATA[
                    <h3>一、watch</h3> 
<p>在选项参数中指定 <code>immediate: true</code> 将立即以表达式的当前值触发回调：</p> 
<pre><code class="language-javascript">var unwatch = vm.$watch(
  'value',
  function () {
    doSomething()
    if (unwatch) {
      unwatch()
    }
  },
  { immediate: true }
)</code></pre> 
<h3>二、混入</h3> 
<p>混入 (mixin) 提供了一种非常灵活的方式，来分发 Vue 组件中的可复用功能。</p> 
<p>普通混入：</p> 
<pre><code class="language-javascript">var mixin = {
  methods: {
    foo: function () {
      console.log('foo')
    },
    conflicting: function () {
      console.log('from mixin')
    }
  }
}

var vm = new Vue({
  mixins: [mixin],
  methods: {
    bar: function () {
      console.log('bar')
    },
    conflicting: function () {
      console.log('from self')
    }
  }
})

vm.foo() // =&gt; "foo"
vm.bar() // =&gt; "bar"
vm.conflicting() // =&gt; "from self"</code></pre> 
<p>全局混入：</p> 
<pre><code class="language-javascript">// 为自定义的选项 'myOption' 注入一个处理器。
Vue.mixin({
  created: function () {
    var myOption = this.$options.myOption
    if (myOption) {
      console.log(myOption)
    }
  }
})

new Vue({
  myOption: 'hello!'
})
// =&gt; "hello!"</code></pre> 
<h3>三、&lt;router-link&gt;标签的exact属性</h3> 
<p>“是否激活”默认类名的依据是<strong>包含匹配</strong>。默认为false，设置为true后，包含匹配，只有包含配置的地址，就会添加高亮样式类名。</p> 
<h3>四、Vue.use(plugin)</h3> 
<p>如果插件是一个对象，必须提供 <code>install</code> 方法。</p> 
<p>通过全局方法 <code>Vue.use()</code> 使用插件。</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p>
                ]]></description></item><item><title>js数组去重</title><link>http://www.cnblogs.com/xutongbao/archive/2021/04/02/14876290.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Fri, 02 Apr 2021 14:07:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/04/02/14876290.html</guid><description><![CDATA[
                    <p>限ES6</p> 
<p>最简洁</p> 
<pre><code class="language-javascript">    let arr = [0, 1, 1, '1', 2]
    let newArr = [...new Set(arr)]
    console.log(newArr)</code></pre> 
<p>&nbsp;</p>
                ]]></description></item><item><title>使用fetch请求数据</title><link>http://www.cnblogs.com/xutongbao/archive/2021/04/01/14876291.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 01 Apr 2021 02:14:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/04/01/14876291.html</guid><description><![CDATA[
                    <p>第一种写法：</p> 
<pre><code class="language-javascript">  getData() {
    fetch('/api/list_all').then(res =&gt; {
      return res.json()
    })
    .then(res =&gt; {
      if(res.code === 200) {

      }
    })
    .catch(err =&gt; {
      console.log(err)
    })
  }</code></pre> 
<p>第二种写法：</p> 
<pre><code class="language-javascript">  async getData() {
    try {
      const result = await fetch('/api/list_all')
      const res = await result.json()
      if (res.code === 200) {

      }
    } catch (error) {
      console.log(error)
    }
  }</code></pre> 
<p>&nbsp;</p>
                ]]></description></item><item><title>react项目添加代理解决跨域</title><link>http://www.cnblogs.com/xutongbao/archive/2021/03/31/14876292.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 31 Mar 2021 05:59:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2021/03/31/14876292.html</guid><description><![CDATA[
                    <p>在src文件夹下添加setupProxy.js文件</p> 
<p><img alt="" height="574" src="https://img-blog.csdnimg.cn/20210331140009909.png" width="250"></p> 
<p>setupProxy.js(新）axios不能配置baseURL：</p> 
<pre><code class="language-javascript">const { createProxyMiddleware } = require('http-proxy-middleware')

module.exports = function (app) {
  app.use(
    '/edu',
    createProxyMiddleware({
      target: 'http://test_zhiliao.gongzuoshouji.cn',
      changeOrigin: true,
    })
  )
}
</code></pre> 
<p>&nbsp;</p> 
<p>setupProxy.js（旧）:</p> 
<pre><code class="language-javascript">const proxy = require('http-proxy-middleware')

module.exports = function(app) {
  app.use(
    proxy('/api', {
      target: 'http://localhost:85',
      secure: false,
      changeOrigin: true,
      pathRewrite: {
        "^/api": "/api"
      }
    })
  )
}</code></pre> 
<p>重启，项目即可。</p> 
<p>注意，axios默认请求地址不要改。对前端来说，接口就好像是在3000端口一样，根本察觉不到配置了代理。</p> 
<p><img alt="" height="894" src="https://img-blog.csdnimg.cn/20210331135645845.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" width="1200"></p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p>
                ]]></description></item><item><title>js 控制 HTML5 audio标签 播放音频文件</title><link>http://www.cnblogs.com/xutongbao/archive/2020/06/10/14876293.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 10 Jun 2020 12:34:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2020/06/10/14876293.html</guid><description><![CDATA[
                    <pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;

&lt;head&gt;
  &lt;title&gt;js 控制 HTML5 audio标签 播放音频文件&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;
  &lt;button onclick="play()"&gt;播放音频&lt;/button&gt;
  &lt;button onclick="pause()"&gt;暂停音频&lt;/button&gt;
  &lt;button onclick="stop()"&gt;停止音频&lt;/button&gt;
  &lt;button onclick="skip()"&gt;跳到第10秒&lt;/button&gt;
  &lt;script type="text/javascript"&gt;
    var audio = document.createElement("audio");
    audio.src = "alarm.mp3";
    audio.controls = true

    document.body.append(audio)
    function play() {
      audio.play();
    }
    function pause() {
      audio.pause();
    }
    function stop() {
      audio.currentTime = 0;
      audio.pause();
    }
    function skip() {
      audio.currentTime = 10;
      audio.play();
    }
  &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre> 
<p><img alt="" height="128" src="https://img-blog.csdnimg.cn/20200610203413958.png" width="481"></p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p>
                ]]></description></item><item><title>1801A React 学习资料</title><link>http://www.cnblogs.com/xutongbao/archive/2020/05/16/14876294.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Sat, 16 May 2020 06:03:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2020/05/16/14876294.html</guid><description><![CDATA[
                    <p>&nbsp;</p> 
<p>&nbsp;</p> 
<h3>一、环境</h3> 
<p>yarn设置淘宝镜像源：</p> 
<pre><code class="language-javascript">yarn config set registry https://registry.npm.taobao.org</code></pre> 
<p>yarn查询镜像源：</p> 
<pre><code class="language-javascript">yarn config get registry</code></pre> 
<p>npm查询镜像源：</p> 
<pre><code class="language-javascript">npm config list</code></pre> 
<p>npm设置镜像源：</p> 
<pre><code class="language-javascript">npm set registry https://registry.npm.taobao.org/</code></pre> 
<p>清缓存:</p> 
<pre><code class="language-javascript">npm cache clean --force

yarn cache clean
</code></pre> 
<p>&nbsp;</p> 
<h3>二、mock数据</h3> 
<p>两层数组+随机颜色的图片：</p> 
<pre><code class="language-javascript">import Mock from 'mockjs'

let list = Mock.mock({
  "list|3": [
    {
      'id|+1': 0,
      'title': '@cname',
      "list": () =&gt; Mock.mock({
        "list|20": [
          {
            'id|+1': 1,
            'title': '@ctitle',
            'avatar': '@image(112x150, @color)',
          }
        ]
      }).list
    }
  ]
}).list

let data = Mock.mock({
  "list|10": [
    {
      'id|+1': 1,
      'name': '@cname',
      'title': '@ctitle',
      //'image': Mock.Random.image(null, '#ff0000', '#ffff00', 'hello'),
      'image': '@image(112x150, @color)',
      'paragraph': '@cparagraph',
      'datetime': '@datetime',
      "color": "@color()"
    }
  ]
}).list

Mock.mock("/api/mock", {
  code: 200,
  data: list,
  message: 'mock数据'
})</code></pre> 
<p><img alt="" src="https://img-blog.csdnimg.cn/20200519152033799.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p>
                ]]></description></item><item><title>1801A React</title><link>http://www.cnblogs.com/xutongbao/archive/2020/05/16/14876295.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Sat, 16 May 2020 02:20:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2020/05/16/14876295.html</guid><description><![CDATA[
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="React_3"></a>一、初识React</h2> 
<h3><a id="_5"></a>课程目标</h3> 
<ol><li>React简介</li><li>脚手架</li><li>hello world</li><li>JSX语法</li></ol> 
<h3><a id="_12"></a>知识点</h3> 
<h4><a id="1React_14"></a>1.React简介</h4> 
<p>React 起源于 Facebook 的内部项目，因为该公司对市场上所有 JavaScript MVC 框架，都不满意，就决定自己写一套，用来架设 Instagram 的网站（https://www.instagram.com/）。做出来以后，发现这套东西很好用，就在2013年5月开源了（https://github.com/facebook/react）。由于 React 的设计思想极其独特，属于革命性创新，性能出众，代码逻辑却非常简单。所以，越来越多的人开始关注和使用，认为它可能是将来 Web 开发的主流工具。</p> 
<p>官方网站：https://react.docschina.org/</p> 
<p>英文官方网站：https://reactjs.org/</p> 
<p>目前的版本： 16.13.1</p> 
<p>github star数：149k (vue是164k)</p> 
<p>npm下载量对比：https://npmcharts.com/compare/react,vue</p> 
<h4><a id="2_29"></a>2.脚手架</h4> 
<p>create-react-app官网：https://github.com/facebook/create-react-app</p> 
<p>npm 从5.2版开始，增加了 npx 命令。</p> 
<p>npx 还能避免全局安装的模块。</p> 
<p>npx 将create-react-app下载到一个临时目录，使用以后再删除。所以，以后再次执行上面的命令，会重新下载create-react-app。</p> 
<p>每次使用的都是最新版本，脚手架使用的频率并不高，一个大项目使用一次就够了。</p> 
<pre><code class="prism language-js">npx create<span class="token operator">-</span>react<span class="token operator">-</span>app my<span class="token operator">-</span>app
cd my<span class="token operator">-</span>app
npm start
</code></pre> 
<h4><a id="3hello_world_48"></a>3.hello world</h4> 
<p>类组件：</p> 
<pre><code class="prism language-js"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Home</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        hello world<span class="token operator">!</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>函数组件：</p> 
<pre><code class="prism language-js"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span>

<span class="token keyword">const</span> <span class="token function-variable function">Home</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
      hello world<span class="token operator">!</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Home

</code></pre> 
<h4><a id="4JSX_81"></a>4.JSX语法</h4> 
<p>React发明了JSX，利用HTML语法来创建虚拟DOM。</p> 
<p>React的核心机制之一就是可以在内存中创建虚拟的DOM元素。以此来减少对实际DOM的操作从而提升性能。</p> 
<p>JSX 即Javascript XML，它是对JavaScript 语法扩展。</p> 
<p>我们建议在 React 中配合使用 JSX，JSX 可以很好地描述 UI 应该呈现出它应有交互的本质形式。</p> 
<p>JSX 是一个看起来很像 XML 的 JavaScript 语法扩展。</p> 
<p>我们可以在 JSX 中使用 JavaScript 表达式。表达式写在花括号 {} 中。</p> 
<p>在 JSX 中不能使用 if else 语句，但可以使用 conditional (三元运算) 表达式来替代。</p> 
<p>HTML 语言直接写在 JavaScript 语言之中，这就是 JSX（JavaScript and XML） 的语法。JSX,是一种 JavaScript 的语法扩展，它允许 HTML 与 JavaScript 的混写。JSX是facebook为React框架开发的一套语法糖，语法糖又叫做糖衣语法，是指计算机语言中添加的某种语法，这种语法对语言的功能并没有影响，但是更方便程序员使用，它主要的目的是增加程序的可读性，从而减少程序代码错处的机会。JSX就是JS的一种语法糖，类似的还有CoffeeScript、TypeScript，最终它们都会被解析成JS才能被浏览器理解和执行，如果不解析浏览器是没有办法识别它们的，这也是所有语法糖略有不足的地方。</p> 
<pre><code class="prism language-js"><span class="token keyword">const</span> element <span class="token operator">=</span> <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>Hello<span class="token punctuation">,</span> world<span class="token operator">!</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre> 
<p>上面这种看起来可能有些奇怪的标签语法既不是字符串也不是HTML，被称为 JSX，JSX带来的一大便利就是我们可以直接在JS里面写类DOM的结构，比我们用原生的JS去拼接字符串，然后再用正则替换等方式来渲染模板方便和简单太多了。推荐在 React 中使用 JSX 来描述用户界面。JSX 用来声明 React 当中的元素， 乍看起来可能比较像是模版语言，但事实上它完全是在 JavaScript 内部实现的。</p> 
<p>你可以任意地在 JSX 当中使用 JavaScript 表达式，在 JSX 当中的表达式要包含在大括号里。例子如下：</p> 
<pre><code class="prism language-js"><span class="token keyword">const</span> names <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Jack'</span><span class="token punctuation">,</span> <span class="token string">'Tom'</span><span class="token punctuation">,</span> <span class="token string">'Alice'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> element <span class="token operator">=</span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
     <span class="token punctuation">{<!-- --></span> names<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>Hello<span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>name<span class="token punctuation">}</span><span class="token operator">!</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>在书写 JSX 的时候一般都会带上换行和缩进，这样可以增强代码的可读性。与此同时，推荐在 JSX 代码的外面扩上一个小括号，这样可以防止分号自动插入的bug。</p> 
<p>上面我们声明了一个names数组，然后遍历names数组在前面加上Hello，生成了element数组。JSX 允许直接在模板插入 JavaScript 变量。如果这个变量是一个数组，则会展开这个数组的所有成员。JSX 本身其实也是一种表达式，在编译之后，JSX 其实会被转化为普通的 JavaScript 对象。</p> 
<h3><a id="_120"></a>授课思路</h3> 
<p><img src="https://img-blog.csdnimg.cn/20200516101922227.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p> 
<h3><a id="_123"></a>案例作业</h3> 
<p>1.阅读官网<br> 2.使用脚手架创建项目<br> 3.编写hello world页面<br> 4.预习加加减减</p> 
<h2><a id="_130"></a>二、加加减减</h2> 
<h3><a id="_132"></a>课程目标</h3> 
<ol><li>VSCode插件</li><li>添加样式</li><li>加加减减</li><li>JSX语法</li></ol> 
<h3><a id="_139"></a>知识点</h3> 
<h4><a id="1VSCode_141"></a>1.VSCode插件</h4> 
<p>ES7 React/Redux/GraphQL/React-Native snippets</p> 
<p>快捷方式：<br> 创建类组件: rcc<br> 创建函数数据：raface</p> 
<h4><a id="2_149"></a>2.添加样式</h4> 
<p>使用className，而不是class</p> 
<pre><code class="prism language-js"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span>

<span class="token keyword">const</span> <span class="token function-variable function">Home</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"m-title"</span><span class="token operator">&gt;</span>
      hello world<span class="token operator">!</span>
      <span class="token operator">&lt;</span>span className<span class="token operator">=</span><span class="token string">"m-name"</span><span class="token operator">&gt;</span>徐<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Home
</code></pre> 
<p>想使用sass同学可以安装node-sass</p> 
<pre><code class="prism language-js">yarn add node<span class="token operator">-</span>sass
</code></pre> 
<p>把样式文件改成scss就行了</p> 
<pre><code class="prism language-scss">.m-title{
  color: red;
  .m-name{
    color: lightblue;
  }
}
</code></pre> 
<h4><a id="3_184"></a>3.加加减减</h4> 
<p>constructor构造函数在组件创建时执行，super代表调用父类的构造函数，Component就是父类。</p> 
<p>state是状态的意思，类似于vue的里的data。</p> 
<p>修改state使用setState方法。</p> 
<p>onClick是React合成事件。</p> 
<pre><code class="prism language-js"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Home</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
      count<span class="token punctuation">:</span> <span class="token number">0</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token function">handleSub</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">let</span> <span class="token punctuation">{<!-- --></span> count <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state
    count<span class="token operator">--</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
      count
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function">handleAdd</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">let</span> <span class="token punctuation">{<!-- --></span> count <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state
    count<span class="token operator">++</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
      count
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">let</span> <span class="token punctuation">{<!-- --></span> count <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token punctuation">{<!-- --></span>count<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleSub</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>减<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleAdd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>加<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<p><img src="https://img-blog.csdnimg.cn/20200516180935869.gif" alt="在这里插入图片描述"></p> 
<h4><a id="4_237"></a>4.事件系统</h4> 
<p>React 元素的事件处理和 DOM 元素的很相似，但是有一点语法上的不同：</p> 
<p>React 事件的命名采用小驼峰式（camelCase），而不是纯小写。<br> 使用 JSX 语法时你需要传入一个函数作为事件处理函数，而不是一个字符串。</p> 
<p>不会存在IE浏览器兼容性的问题。</p> 
<p>在React底层，主要对合成事件做了两件事情：事件委派和自动绑定。</p> 
<ol><li>事件委派</li></ol> 
<p>React中并不是把事件处理函数绑定到当前DOM上，而是把所有的事件绑定到结构的最外层，使用统一的事件监听器。<br> 这个事件监听器上维持了一个映射来保存所有组件内部的事件监听和处理函数。<br> 组件挂载和卸载时，只是在统一事件监听器上插入删除一些对象。</p> 
<ol start="2"><li>自动绑定</li></ol> 
<p>在React组件中，每个方法的上下文都会指向该组件的实例，即自动绑定this为当前的组件。而且React会对这种引用缓存，以达到CPU和内存的最大优化。</p> 
<p>vue里是使用@click绑定点击事件。</p> 
<h3><a id="_260"></a>授课思路</h3> 
<p><img src="https://img-blog.csdnimg.cn/20200516180948519.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p> 
<h3><a id="_264"></a>案例作业</h3> 
<p>1.上网阅读相关质料<br> 2.制作加加减减<br> 3.添加样式<br> 4.预习列表渲染</p> 
<h2><a id="_271"></a>三、列表渲染</h2> 
<h3><a id="_273"></a>课程目标</h3> 
<ol><li>map方法</li><li>列表渲染</li><li>key</li><li>学习资料</li></ol> 
<h3><a id="_280"></a>知识点</h3> 
<h4><a id="1map_282"></a>1.map方法</h4> 
<p>map() 方法返回一个新数组，数组中的元素为原始数组元素调用函数处理后的值。</p> 
<p>map() 方法按照原始数组元素顺序依次处理元素。</p> 
<p>注意： map() 不会对空数组进行检测。</p> 
<p>注意： map() 不会改变原始数组。</p> 
<pre><code class="prism language-js">    <span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>
    <span class="token keyword">let</span> arr2 <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>item <span class="token operator">=&gt;</span> item <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr2<span class="token punctuation">)</span>
</code></pre> 
<h4><a id="2_298"></a>2.列表渲染</h4> 
<p>在state里定义一个数组，包含id<br> 把数组里的字段渲染到页面上<br> 类似于vue里的v-for</p> 
<pre><code class="prism language-js"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Home</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
      list<span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{<!-- --></span>
          id<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
          title<span class="token punctuation">:</span> <span class="token string">'武侠'</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{<!-- --></span>
          id<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
          title<span class="token punctuation">:</span> <span class="token string">'都市'</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{<!-- --></span>
          id<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
          title<span class="token punctuation">:</span> <span class="token string">'科幻'</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">let</span> <span class="token punctuation">{<!-- --></span> list <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state

    <span class="token keyword">let</span> listDom <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>item <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div key<span class="token operator">=</span><span class="token punctuation">{<!-- --></span>item<span class="token punctuation">.</span>id<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">{<!-- --></span>item<span class="token punctuation">.</span>title<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token punctuation">{<!-- --></span>listDom<span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<p><img src="https://img-blog.csdnimg.cn/2020051618102323.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p> 
<h4><a id="3key_345"></a>3.key</h4> 
<p>key 帮助 React 识别哪些元素改变了，比如被添加或删除。因此你应当给数组中的每一个元素赋予一个确定的标识。<br> 一个元素的 key 最好是这个元素在列表中拥有的一个独一无二的字符串。通常，我们使用数据中的 id 来作为元素的 key。</p> 
<p>这个 key 必须是每个元素唯一的标识。key可以在DOM 中的某些元素被增加或删除的时候帮助 React 识别哪些元素发生了变化，提高渲染性能。所以需要给数组每一个元素增加一个唯一的标识。<br> 一般可以将后台返回的ID作为key值，因为后台返回的ID都是唯一的。</p> 
<h4><a id="4_352"></a>4.学习资料</h4> 
<p>官网列表渲染：<br> https://react.docschina.org/docs/lists-and-keys.html</p> 
<p>菜鸟教程列表渲染：<br> https://www.runoob.com/react/react-lists-and-keys.html</p> 
<h3><a id="_360"></a>授课思路</h3> 
<p><img src="https://img-blog.csdnimg.cn/20200516181033993.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p> 
<h3><a id="_363"></a>案例作业</h3> 
<p>1.上网阅读相关质料<br> 2.列表渲染<br> 3.预习条件渲染</p> 
<h2><a id="_369"></a>四、条件渲染</h2> 
<h3><a id="_371"></a>课程目标</h3> 
<ol><li>条件渲染dom</li><li>条件渲染样式</li><li>key</li><li>学习资料</li></ol> 
<h3><a id="_378"></a>知识点</h3> 
<h4><a id="1dom_380"></a>1.条件渲染dom</h4> 
<p>dom的显示和隐藏：hello world！的显示与隐藏。<br> 文案的切换：按钮文案的变化。<br> 属性的切换：控制密码的显示隐藏。<br> 在vue里使用v-if v-show。</p> 
<pre><code class="prism language-js"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Home</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
      visible<span class="token punctuation">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token function">handleVisible</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">let</span> <span class="token punctuation">{<!-- --></span> visible <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
      visible<span class="token punctuation">:</span> <span class="token operator">!</span>visible
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">let</span> <span class="token punctuation">{<!-- --></span> visible <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token punctuation">{<!-- --></span> visible <span class="token operator">?</span> <span class="token string">"text"</span> <span class="token punctuation">:</span> <span class="token string">"password"</span> <span class="token punctuation">}</span> <span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>input<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleVisible</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">{<!-- --></span> visible <span class="token operator">?</span> <span class="token string">'隐藏'</span> <span class="token punctuation">:</span> <span class="token string">'显示'</span> <span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
        <span class="token punctuation">{<!-- --></span>
          visible <span class="token operator">?</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>hello world<span class="token operator">!</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span> <span class="token punctuation">:</span> <span class="token keyword">null</span>
        <span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<p><img src="https://img-blog.csdnimg.cn/2020051618111957.gif" alt="在这里插入图片描述"></p> 
<h4><a id="2_423"></a>2.条件渲染样式</h4> 
<p>根据状态控制样式：tab切换的高亮显示。</p> 
<pre><code class="prism language-js"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Home</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
      list<span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{<!-- --></span>
          id<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
          title<span class="token punctuation">:</span> <span class="token string">'武侠'</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{<!-- --></span>
          id<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
          title<span class="token punctuation">:</span> <span class="token string">'都市'</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{<!-- --></span>
          id<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
          title<span class="token punctuation">:</span> <span class="token string">'科幻'</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      currentId<span class="token punctuation">:</span> <span class="token number">0</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token function">handleNav</span><span class="token punctuation">(</span>currentId<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
      currentId
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">let</span> <span class="token punctuation">{<!-- --></span> list<span class="token punctuation">,</span> currentId <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state

    <span class="token keyword">let</span> listDom <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>item <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div key<span class="token operator">=</span><span class="token punctuation">{<!-- --></span>item<span class="token punctuation">.</span>id<span class="token punctuation">}</span> className<span class="token operator">=</span><span class="token punctuation">{<!-- --></span> <span class="token template-string"><span class="token string">`m-nav-item </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span>currentId <span class="token operator">===</span> item<span class="token punctuation">.</span>id <span class="token operator">?</span> <span class="token string">'active'</span> <span class="token punctuation">:</span> <span class="token string">''</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span> <span class="token punctuation">}</span> onClick<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleNav</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">{<!-- --></span>item<span class="token punctuation">.</span>title<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token punctuation">{<!-- --></span>listDom<span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<pre><code class="prism language-css"><span class="token selector">.m-nav-item</span><span class="token punctuation">{<!-- --></span><span class="token property">height</span><span class="token punctuation">:</span> 40px<span class="token punctuation">;</span><span class="token property">line-height</span><span class="token punctuation">:</span> 40px<span class="token punctuation">;</span><span class="token property">border-bottom</span><span class="token punctuation">:</span> 1px solid #ddd<span class="token punctuation">;</span><span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token selector">.m-nav-item.active</span><span class="token punctuation">{<!-- --></span><span class="token property">background</span><span class="token punctuation">:</span> lightblue<span class="token punctuation">;</span><span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://img-blog.csdnimg.cn/2020051618113477.gif" alt="在这里插入图片描述"></p> 
<h4><a id="3_480"></a>3.对话框</h4> 
<p>控制dom的显示和隐藏：dialog对话框。</p> 
<p>div水平垂直居中。</p> 
<pre><code class="prism language-js"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Home</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
      visible<span class="token punctuation">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token function">handleVisible</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">let</span> <span class="token punctuation">{<!-- --></span> visible <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
      visible<span class="token punctuation">:</span> <span class="token operator">!</span>visible
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function">handleClose</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
      visible<span class="token punctuation">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">let</span> <span class="token punctuation">{<!-- --></span> visible <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleVisible</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">{<!-- --></span> visible <span class="token operator">?</span> <span class="token string">'隐藏'</span> <span class="token punctuation">:</span> <span class="token string">'显示'</span> <span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
        <span class="token punctuation">{<!-- --></span>
          visible <span class="token operator">?</span> 
          <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"m-dialog-wrap"</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"m-dialog"</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"m-dialog-header"</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"m-dialog-title"</span><span class="token operator">&gt;</span>添加<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"m-dialog-close"</span> onClick<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleClose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token constant">X</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span> <span class="token punctuation">:</span> <span class="token keyword">null</span>
        <span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<pre><code class="prism language-css"><span class="token selector">.m-dialog-wrap</span><span class="token punctuation">{<!-- --></span><span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span> <span class="token property">position</span><span class="token punctuation">:</span> fixed<span class="token punctuation">;</span><span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span><span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span><span class="token property">right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span><span class="token property">bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span><span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span>0, 0, 0, 0.5<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token selector">.m-dialog</span><span class="token punctuation">{<!-- --></span><span class="token property">margin</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span><span class="token property">min-width</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span><span class="token property">min-height</span><span class="token punctuation">:</span> 240px<span class="token punctuation">;</span><span class="token property">background</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span><span class="token property">border-radius</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token selector">.m-dialog-header</span><span class="token punctuation">{<!-- --></span><span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span><span class="token property">height</span><span class="token punctuation">:</span> 40px<span class="token punctuation">;</span><span class="token property">line-height</span><span class="token punctuation">:</span> 40px<span class="token punctuation">;</span><span class="token property">border-bottom</span><span class="token punctuation">:</span> 1px solid #ddd<span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token selector">.m-dialog-title</span><span class="token punctuation">{<!-- --></span><span class="token property">flex</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span><span class="token property">padding</span><span class="token punctuation">:</span> 0 0 0 10px<span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token selector">.m-dialog-close</span><span class="token punctuation">{<!-- --></span><span class="token property">width</span><span class="token punctuation">:</span> 40px<span class="token punctuation">;</span><span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span><span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span><span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://img-blog.csdnimg.cn/20200516181147405.gif" alt="在这里插入图片描述"></p> 
<h4><a id="4_543"></a>4.学习资料</h4> 
<p>官网条件渲染：<br> https://react.docschina.org/docs/conditional-rendering.html</p> 
<p>菜鸟教程条件渲染：<br> https://www.runoob.com/react/react-conditional-rendering.html</p> 
<h3><a id="_551"></a>授课思路</h3> 
<p><img src="https://img-blog.csdnimg.cn/20200516181200366.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p> 
<h3><a id="_554"></a>案例作业</h3> 
<p>1.上网阅读相关质料<br> 2.制作对话框<br> 3.预习受控组件</p> 
<h2><a id="_560"></a>五、受控组件</h2> 
<h3><a id="_562"></a>课程目标</h3> 
<ol><li>什么是受控组件</li><li>文本框受控组件</li><li>如何获取受控组件的值</li><li>学习资料</li></ol> 
<h3><a id="_569"></a>知识点</h3> 
<h4><a id="1_571"></a>1.什么是受控组件</h4> 
<p>在 HTML 中，表单元素（如&lt;input&gt;、 &lt;textarea&gt; 和 &lt;select&gt;）之类的表单元素通常自己维护 state，并根据用户输入进行更新。而在 React 中，可变状态（mutable state）通常保存在组件的 state 属性中，并且只能通过使用 setState()来更新。</p> 
<p>我们可以把两者结合起来，使 React 的 state 成为“唯一数据源”。渲染表单的 React 组件还控制着用户输入过程中表单发生的操作。被 React 以这种方式控制取值的表单输入元素就叫做“受控组件”。</p> 
<p>假设我们现在有一个表单，表单中有一个input标签，input的value值必须是我们设置在constructor构造函数的state中的值，然后，通过onChange触发事件来改变state中保存的value值，这样形成一个循环的回路影响。也可以说是React负责渲染表单的组件仍然控制用户后续输入时所发生的变化。</p> 
<p>就像上面这样，input中的value值通过state值获取，onChange事件改变state中的value值，input中的value值又从state中获取。。。</p> 
<p>类似于vue中的v-model</p> 
<h4><a id="2_583"></a>2.文本框受控组件</h4> 
<p>input框的值来至state，onChange事件修改state。</p> 
<pre><code class="prism language-js"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Home</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
      username<span class="token punctuation">:</span> <span class="token string">''</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token function">handleUsername</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
      username<span class="token punctuation">:</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">let</span> <span class="token punctuation">{<!-- --></span> username <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>input value<span class="token operator">=</span><span class="token punctuation">{<!-- --></span>username<span class="token punctuation">}</span> onChange<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleUsername</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">}</span> placeholder<span class="token operator">=</span><span class="token string">"请输入用户名"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>input<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<p><img src="https://img-blog.csdnimg.cn/20200516181235798.gif" alt="在这里插入图片描述"></p> 
<h4><a id="3_619"></a>3.如何获取受控组件的值</h4> 
<p>从state里解构。</p> 
<pre><code class="prism language-js"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Home</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
      username<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
      password<span class="token punctuation">:</span> <span class="token string">''</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token function">handleUsername</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
      username<span class="token punctuation">:</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function">handlePasswrod</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
      password<span class="token punctuation">:</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function">handleLogin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">let</span> <span class="token punctuation">{<!-- --></span> username<span class="token punctuation">,</span> password <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state

    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>username<span class="token punctuation">,</span> password<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">let</span> <span class="token punctuation">{<!-- --></span> username<span class="token punctuation">,</span> password <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>input value<span class="token operator">=</span><span class="token punctuation">{<!-- --></span>username<span class="token punctuation">}</span> onChange<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleUsername</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">}</span> placeholder<span class="token operator">=</span><span class="token string">"请输入用户名"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>input<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>input value<span class="token operator">=</span><span class="token punctuation">{<!-- --></span>password<span class="token punctuation">}</span> onChange<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handlePasswrod</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">}</span> placeholder<span class="token operator">=</span><span class="token string">"请输入密码"</span> type<span class="token operator">=</span><span class="token string">"password"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>input<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleLogin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>登录<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>


</code></pre> 
<p><img src="https://img-blog.csdnimg.cn/20200516181250510.gif" alt="在这里插入图片描述"></p> 
<h4><a id="4_675"></a>4.学习资料</h4> 
<p>官网受控组件：<br> https://zh-hans.reactjs.org/docs/forms.html#controlled-components</p> 
<h3><a id="_680"></a>授课思路</h3> 
<p><img src="https://img-blog.csdnimg.cn/20200516181302569.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p> 
<h3><a id="_684"></a>案例作业</h3> 
<p>1.上网阅读相关质料<br> 2.制作对话框<br> 3.预习受控组件</p> 
<h2><a id="_690"></a>六、组件</h2> 
<h3><a id="_692"></a>课程目标</h3> 
<ol><li>组件化思想</li><li>编写第一个组件</li><li>组件间的通讯</li><li>iconfont</li></ol> 
<h3><a id="_699"></a>知识点</h3> 
<h4><a id="1_701"></a>1.组件化思想</h4> 
<p>组件化就是把传统的一张大网页拆分成很多小组件，有些组件可以反复使用，有些组件也许只使用一次，拆分成很多组件的目的就是使页面解构更清晰更好维护，也方便多人协作开发一个大项目。</p> 
<p>对比vue的单文件组件。</p> 
<p>组件作为React的核心内容，是View的重要组成部分，每一个View页面都由一个或多个组件构成，可以说组件是React应用程序的基石。在React的组件构成中，按照状态来分可以分为有状态组件和无状态组件。<br> 所谓无状态组件，就是没有状态控制的组件，只做纯静态展示的作用，无状态组件是最基本的组件形式，它由属性props和渲染函数render构成。由于不涉及到状态的更新，所以这种组件的复用性也最强。<br> 有状态组件是在无状态组件的基础上增加了组件内部状态管理，有状态组件通常会带有生命周期lifecycle，用以在不同的时刻触发状态的更新，有状态组件被大量用在业务逻辑开发中。</p> 
<p><img src="https://img-blog.csdnimg.cn/20200517095509697.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p> 
<h4><a id="2_711"></a>2.编写第一个组件</h4> 
<p>创建components文件夹。<br> 创建Icon.js文件。自定义组件的首字母大写，组件文件首字母也大写。</p> 
<p>components/Icon.js:</p> 
<pre><code class="prism language-js"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Icon</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>span<span class="token operator">&gt;</span>子组件<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<p>父组件引入子组件,并在JSX里使用子组件。</p> 
<pre><code class="prism language-js"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span>
<span class="token keyword">import</span> Icon <span class="token keyword">from</span> <span class="token string">'./components/Icon'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Home</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>Icon<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Icon<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://img-blog.csdnimg.cn/20200517095527463.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p> 
<h4><a id="3_747"></a>3.组件间的通讯</h4> 
<p>父组件向子组件传递属性和方法。<br> 子组件使用父组件传递过来的属性。<br> 子组件调用父组件传递过来的方法。</p> 
<p>父组件：</p> 
<pre><code class="prism language-js"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span>
<span class="token keyword">import</span> Icon <span class="token keyword">from</span> <span class="token string">'./components/Icon'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Home</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
      visible<span class="token punctuation">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token function">handleVisible</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span> visible <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
      visible<span class="token punctuation">:</span> <span class="token operator">!</span>visible
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span> visible <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>Icon name<span class="token operator">=</span><span class="token punctuation">{<!-- --></span> visible <span class="token operator">?</span> <span class="token string">'show'</span> <span class="token punctuation">:</span> <span class="token string">'hide'</span> <span class="token punctuation">}</span> className<span class="token operator">=</span><span class="token string">"m-eye-icon"</span> onClick<span class="token operator">=</span><span class="token punctuation">{<!-- --></span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleVisible</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Icon<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>Icon<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Icon<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>Icon name<span class="token operator">=</span><span class="token string">"home"</span> className<span class="token operator">=</span><span class="token string">"m-home-icon"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Icon<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>子组件：</p> 
<pre><code class="prism language-js"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Icon</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">let</span> <span class="token punctuation">{<!-- --></span> name <span class="token operator">=</span> <span class="token string">'zhanwei'</span><span class="token punctuation">,</span> className <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token function-variable function">onClick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>span className<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token template-string"><span class="token string">`icon iconfont icon-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span>className<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">}</span> onClick<span class="token operator">=</span><span class="token punctuation">{<!-- --></span>onClick<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<p><img src="https://img-blog.csdnimg.cn/20200517095538776.gif" alt="在这里插入图片描述"></p> 
<h4><a id="4iconfont_805"></a>4.iconfont</h4> 
<p>阿里巴巴矢量图标库：<br> https://www.iconfont.cn/</p> 
<p>使用iconfont图标代替图片图标，能减少文件体积、降低服务器请求数，节约宽带资源。</p> 
<h3><a id="_812"></a>授课思路</h3> 
<p><img src="https://img-blog.csdnimg.cn/20200517095550890.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p> 
<h3><a id="_816"></a>案例作业</h3> 
<p>1.上网阅读相关质料<br> 2.编写控制密码显示隐藏的Icon组件<br> 3.预习props类型检查</p> 
<h2><a id="prop_822"></a>七、prop类型检查</h2> 
<h3><a id="_824"></a>课程目标</h3> 
<ol><li>类型检查的意义</li><li>Icon组件类型检查</li><li>常用的类型检查</li><li>学习资料</li></ol> 
<h3><a id="_831"></a>知识点</h3> 
<h4><a id="1_833"></a>1.类型检查的意义</h4> 
<p>随着你的应用程序不断增长，你可以通过类型检查捕获大量错误。<br> React 内置了一些类型检查的功能。要在组件的 props 上进行类型检查，你只需配置特定的 propTypes 属性。<br> PropTypes 提供一系列验证器，可用于确保组件接收到的数据类型是有效的。<br> 传入的 prop 值类型不正确时，JavaScript 控制台将会显示警告。<br> 出于性能方面的考虑，propTypes 仅在开发模式下进行检查。</p> 
<h4><a id="2Icon_840"></a>2.Icon组件类型检查</h4> 
<p>对prop做必要的类型检查。</p> 
<p>components/Icon.js:</p> 
<pre><code class="prism language-js"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span>
<span class="token keyword">import</span> PropTypes <span class="token keyword">from</span> <span class="token string">'prop-types'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Icon</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">let</span> <span class="token punctuation">{<!-- --></span> name <span class="token operator">=</span> <span class="token string">'zhanwei'</span><span class="token punctuation">,</span> className <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token function-variable function">onClick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>span className<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token template-string"><span class="token string">`icon iconfont icon-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span>className<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">}</span> onClick<span class="token operator">=</span><span class="token punctuation">{<!-- --></span>onClick<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

Icon<span class="token punctuation">.</span>propTypes <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
  name<span class="token punctuation">:</span> PropTypes<span class="token punctuation">.</span>string<span class="token punctuation">.</span>isRequired<span class="token punctuation">,</span>  <span class="token comment">//name必须传string类型，且必须传</span>
  className<span class="token punctuation">:</span> PropTypes<span class="token punctuation">.</span>string<span class="token punctuation">,</span>   <span class="token comment">//className必须是string类型，可以不传</span>
  onClick<span class="token punctuation">:</span> PropTypes<span class="token punctuation">.</span>func<span class="token punctuation">,</span>       <span class="token comment">//onClick必须是函数类型</span>
<span class="token punctuation">}</span>

</code></pre> 
<p>父组件：</p> 
<pre><code class="prism language-js"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span>
<span class="token keyword">import</span> Icon <span class="token keyword">from</span> <span class="token string">'./components/Icon'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Home</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
      visible<span class="token punctuation">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token function">handleVisible</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span> visible <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
      visible<span class="token punctuation">:</span> <span class="token operator">!</span>visible
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span> visible <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>Icon name<span class="token operator">=</span><span class="token punctuation">{<!-- --></span> visible <span class="token operator">?</span> <span class="token string">'show'</span> <span class="token punctuation">:</span> <span class="token string">'hide'</span> <span class="token punctuation">}</span> className<span class="token operator">=</span><span class="token string">"m-eye-icon"</span> onClick<span class="token operator">=</span><span class="token punctuation">{<!-- --></span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleVisible</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Icon<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>Icon name<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token number">1</span><span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Icon<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>Icon<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Icon<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>Icon name<span class="token operator">=</span><span class="token string">"home"</span> onClick<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token number">1</span><span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Icon<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://img-blog.csdnimg.cn/20200518205024558.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p> 
<h4><a id="3_902"></a>3.常用的类型检查</h4> 
<pre><code class="prism language-js">  optionalArray<span class="token punctuation">:</span> PropTypes<span class="token punctuation">.</span>array<span class="token punctuation">,</span>
  optionalBool<span class="token punctuation">:</span> PropTypes<span class="token punctuation">.</span>bool<span class="token punctuation">,</span>
  optionalFunc<span class="token punctuation">:</span> PropTypes<span class="token punctuation">.</span>func<span class="token punctuation">,</span>
  optionalNumber<span class="token punctuation">:</span> PropTypes<span class="token punctuation">.</span>number<span class="token punctuation">,</span>
  optionalObject<span class="token punctuation">:</span> PropTypes<span class="token punctuation">.</span>object<span class="token punctuation">,</span>
  optionalString<span class="token punctuation">:</span> PropTypes<span class="token punctuation">.</span>string<span class="token punctuation">,</span>
  children<span class="token punctuation">:</span> PropTypes<span class="token punctuation">.</span>element<span class="token punctuation">,</span>
</code></pre> 
<h4><a id="4_915"></a>4.学习资料</h4> 
<p>使用 PropTypes 进行类型检查：<br> https://zh-hans.reactjs.org/docs/typechecking-with-proptypes.html#gatsby-focus-wrapper</p> 
<h3><a id="_920"></a>授课思路</h3> 
<p><img src="https://img-blog.csdnimg.cn/20200518205040410.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p> 
<h3><a id="_924"></a>案例作业</h3> 
<p>1.上网阅读相关质料<br> 2.给Icon组件添加类型检查<br> 3.预习生命周期</p> 
<h2><a id="_930"></a>八、生命周期</h2> 
<h3><a id="_932"></a>课程目标</h3> 
<ol><li>什么是生命周期</li><li>挂载相关的生命周期</li><li>更新相关的生命周期</li><li>shouldComponentUpdate</li></ol> 
<h3><a id="_939"></a>知识点</h3> 
<h4><a id="1_941"></a>1.什么是生命周期</h4> 
<p>生命周期函数（钩子函数）通俗的说就是在某一时刻会被自动调用执行的函数。</p> 
<p>生命周期（life cycle）的概念广泛运用于各行各业。从广义上来说，生命周期泛指自然界和<br> 人类社会中各种客观事物的阶段性变化及其规律。自然界的生命周期，可分为出生、成长、成熟、<br> 衰退直到死亡。</p> 
<p>React 组件的生命周期根据广义定义描述，可以分为挂载、渲染和卸载这几个阶段。当渲染<br> 后的组件需要更新时，我们会重新去渲染组件，直至卸载。<br> 因此，我们可以把 React 生命周期分成两类：<br> 1)当组件在挂载或卸载时；<br> 2)当组件接收新的数据时，即组件更新时。</p> 
<h4><a id="2_954"></a>2.挂载相关的生命周期</h4> 
<p>componentWillMount，componentDidMount， render，componentWillUnmount</p> 
<p>components/Icon.js:</p> 
<pre><code class="prism language-js"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Icon</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">componentWillUnmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'卸载前'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        子组件
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>父组件：</p> 
<pre><code class="prism language-js"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span>
<span class="token keyword">import</span> Icon <span class="token keyword">from</span> <span class="token string">'./components/Icon'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Home</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
      visible<span class="token punctuation">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token function">handleVisible</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">let</span> <span class="token punctuation">{<!-- --></span> visible <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
      visible<span class="token punctuation">:</span> <span class="token operator">!</span>visible
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function">componentWillMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'挂载前（已经废弃）'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'挂载后'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'渲染'</span><span class="token punctuation">)</span>
    <span class="token keyword">let</span> <span class="token punctuation">{<!-- --></span> visible <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{<!-- --></span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleVisible</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token operator">&gt;</span>按钮<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token punctuation">{<!-- --></span> visible <span class="token operator">?</span> <span class="token operator">&lt;</span>Icon<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Icon<span class="token operator">&gt;</span> <span class="token punctuation">:</span> <span class="token keyword">null</span> <span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://img-blog.csdnimg.cn/20200518205309580.gif" alt="在这里插入图片描述"></p> 
<h4><a id="3_1021"></a>3.更新相关的生命周期</h4> 
<p>componentWillUpdate、componentDidUpdate</p> 
<p>父组件：</p> 
<pre><code class="prism language-js"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span>
<span class="token keyword">import</span> Icon <span class="token keyword">from</span> <span class="token string">'./components/Icon'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Home</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
      count<span class="token punctuation">:</span> <span class="token number">0</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token function">handleAdd</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">let</span> <span class="token punctuation">{<!-- --></span> count <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
      count<span class="token punctuation">:</span> count <span class="token operator">+</span> <span class="token number">1</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function">componentWillUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'父组件更新前（已废弃）'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function">componentDidUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'父组件更新后'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'渲染父组件'</span><span class="token punctuation">)</span>
    <span class="token keyword">let</span> <span class="token punctuation">{<!-- --></span> count <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
          <span class="token punctuation">{<!-- --></span>count<span class="token punctuation">}</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{<!-- --></span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleAdd</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token operator">&gt;</span>加<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>Icon<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Icon<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<p>子组件：</p> 
<pre><code class="prism language-js"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Icon</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">componentWillUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'子组件更新前（已废弃）'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function">componentDidUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'子组件更新后'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'渲染子组件'</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        子组件
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<p><img src="https://img-blog.csdnimg.cn/20200518205322220.gif" alt="在这里插入图片描述"></p> 
<h4><a id="4shouldComponentUpdate_1099"></a>4.shouldComponentUpdate</h4> 
<p>用于性能优化，shouldComponentUpdate返回true则更新，返回false则不更新！<br> 人为决定是否更新，避免了不必要的更新，从而优化了性能！</p> 
<p>父组件：</p> 
<pre><code class="prism language-js"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span>
<span class="token keyword">import</span> Icon <span class="token keyword">from</span> <span class="token string">'./components/Icon'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Home</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
      count<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      visible<span class="token punctuation">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token function">handleAdd</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">let</span> <span class="token punctuation">{<!-- --></span> count <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
      count<span class="token punctuation">:</span> count <span class="token operator">+</span> <span class="token number">1</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function">handleVisible</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
      visible<span class="token punctuation">:</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>visible
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'渲染父组件'</span><span class="token punctuation">)</span>
    <span class="token keyword">let</span> <span class="token punctuation">{<!-- --></span> count<span class="token punctuation">,</span> visible <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
          <span class="token punctuation">{<!-- --></span>count<span class="token punctuation">}</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{<!-- --></span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleAdd</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token operator">&gt;</span>加<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{<!-- --></span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleVisible</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">{<!-- --></span> visible <span class="token operator">?</span> <span class="token string">'隐藏'</span> <span class="token punctuation">:</span> <span class="token string">'显示'</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>Icon visible<span class="token operator">=</span><span class="token punctuation">{<!-- --></span>visible<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Icon<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<p>子组件:</p> 
<pre><code class="prism language-js"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Icon</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{<!-- --></span>

  <span class="token function">shouldComponentUpdate</span><span class="token punctuation">(</span>nextProps<span class="token punctuation">,</span> nextState<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>visible <span class="token operator">!==</span> nextProps<span class="token punctuation">.</span>visible<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">return</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">return</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">let</span> <span class="token punctuation">{<!-- --></span> visible <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'渲染子组件'</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        子组件<span class="token punctuation">:</span><span class="token punctuation">{<!-- --></span>visible <span class="token operator">?</span> <span class="token string">'显示'</span> <span class="token punctuation">:</span> <span class="token string">'隐藏'</span> <span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<h3><a id="_1179"></a>授课思路</h3> 
<p><img src="https://img-blog.csdnimg.cn/20200518205335382.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p> 
<h3><a id="_1183"></a>案例作业</h3> 
<p>1.上网阅读相关质料<br> 2.练习挂载相关的生命周期<br> 3.预习tab切换</p> 
<h2><a id="tab_1189"></a>九、tab切换</h2> 
<h3><a id="_1191"></a>课程目标</h3> 
<ol><li>展开项目，写接口</li><li>在挂载完生命周期里请求数据</li><li>开发子组件</li><li>开发父组件</li></ol> 
<h3><a id="_1198"></a>知识点</h3> 
<h4><a id="1_1200"></a>1.展开项目，写接口</h4> 
<p>运行下面的命令可以展开项目，如何展开后报错，可以把node_modules删了重新装包</p> 
<pre><code class="prism language-js">yarn eject
</code></pre> 
<p>devServer里写接口：</p> 
<pre><code class="prism language-js"><span class="token comment">//列表接口</span>
app<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'/api/list'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>req<span class="token punctuation">,</span> res<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
  res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
    code<span class="token punctuation">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
    data<span class="token punctuation">:</span> bookMallData<span class="token punctuation">,</span>
    message<span class="token punctuation">:</span> <span class="token string">'列表'</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> 
<h4><a id="2_1219"></a>2.在挂载完生命周期里请求数据</h4> 
<p>axios语法。<br> 生命周期。</p> 
<pre><code class="prism language-js"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span>
<span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">'axios'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Home</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
      list<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      currentId<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      currentList<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
      url<span class="token punctuation">:</span> <span class="token string">'/api/list'</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>res <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>code <span class="token operator">===</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
          list<span class="token punctuation">:</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>data<span class="token punctuation">,</span>
          currentList<span class="token punctuation">:</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>list
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"m-wrap"</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<h4><a id="3_1261"></a>3.开发子组件</h4> 
<p>Sidebar.js：</p> 
<pre><code class="prism language-js"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Sidebar</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">let</span> <span class="token punctuation">{<!-- --></span> list<span class="token punctuation">,</span> currentId <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props
    <span class="token keyword">let</span> listDom <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>item <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div key<span class="token operator">=</span><span class="token punctuation">{<!-- --></span>item<span class="token punctuation">.</span>id<span class="token punctuation">}</span> 
        className<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token string">"m-sidebar-item "</span> <span class="token operator">+</span> <span class="token punctuation">(</span>currentId <span class="token operator">===</span> item<span class="token punctuation">.</span>id <span class="token operator">?</span> <span class="token string">'active'</span> <span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
        onClick<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">onClick</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">{<!-- --></span>item<span class="token punctuation">.</span>title<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"m-sidebar"</span><span class="token operator">&gt;</span>
        <span class="token punctuation">{<!-- --></span>listDom<span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<p>List.js：</p> 
<pre><code class="prism language-js"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">List</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">let</span> <span class="token punctuation">{<!-- --></span> currentList <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props

    <span class="token keyword">let</span> currentListDom <span class="token operator">=</span> currentList<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>item <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div key<span class="token operator">=</span><span class="token punctuation">{<!-- --></span>item<span class="token punctuation">.</span>id<span class="token punctuation">}</span> className<span class="token operator">=</span><span class="token string">"m-list-item"</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token punctuation">{<!-- --></span>item<span class="token punctuation">.</span>avatar<span class="token punctuation">}</span> className<span class="token operator">=</span><span class="token string">"m-img"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>img<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"m-info"</span><span class="token operator">&gt;</span><span class="token punctuation">{<!-- --></span>item<span class="token punctuation">.</span>title<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"m-list"</span><span class="token operator">&gt;</span>
        <span class="token punctuation">{<!-- --></span>currentListDom<span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<h4><a id="4_1311"></a>4.开发父组件</h4> 
<p>父组件：</p> 
<pre><code class="prism language-js"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span>
<span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">'axios'</span>
<span class="token keyword">import</span> Sidebar <span class="token keyword">from</span> <span class="token string">'./components/Sidebar'</span>
<span class="token keyword">import</span> List <span class="token keyword">from</span> <span class="token string">'./components/List'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Home</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
      list<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      currentId<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      currentList<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token function">handleNav</span><span class="token punctuation">(</span>currentId<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">let</span> <span class="token punctuation">{<!-- --></span> list <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state
    <span class="token keyword">let</span> currentList <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>item <span class="token operator">=&gt;</span> item<span class="token punctuation">.</span>id <span class="token operator">===</span> currentId<span class="token punctuation">)</span><span class="token punctuation">.</span>list
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
      currentId<span class="token punctuation">,</span>
      currentList
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
      url<span class="token punctuation">:</span> <span class="token string">'/api/list'</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>res <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>code <span class="token operator">===</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
          list<span class="token punctuation">:</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>data<span class="token punctuation">,</span>
          currentList<span class="token punctuation">:</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>list
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">let</span> <span class="token punctuation">{<!-- --></span> list<span class="token punctuation">,</span> currentId<span class="token punctuation">,</span> currentList <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"m-wrap"</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>Sidebar list<span class="token operator">=</span><span class="token punctuation">{<!-- --></span>list<span class="token punctuation">}</span> currentId<span class="token operator">=</span><span class="token punctuation">{<!-- --></span>currentId<span class="token punctuation">}</span> onClick<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleNav</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Sidebar<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>List currentList<span class="token operator">=</span><span class="token punctuation">{<!-- --></span>currentList<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>List<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<p><img src="https://img-blog.csdnimg.cn/20200524094229170.gif" alt="在这里插入图片描述"></p> 
<h3><a id="_1367"></a>授课思路</h3> 
<p><img src="https://img-blog.csdnimg.cn/20200524094252196.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p> 
<h3><a id="_1371"></a>案例作业</h3> 
<p>1.上网阅读相关质料<br> 2.练习tab切换<br> 3.预习todolist</p> 
<h2><a id="todolist_1377"></a>十、todolist</h2> 
<h3><a id="_1379"></a>课程目标</h3> 
<ol><li>todolist是什么</li><li>在挂载完生命周期里请求数据</li><li>开发子组件</li><li>开发父组件</li></ol> 
<h3><a id="_1386"></a>知识点</h3> 
<h4><a id="1todolist_1388"></a>1.todolist是什么</h4> 
<p>管理用户要做的事件，可以添加事件，把事件标记为正在进行或已经完成，也可以删除事件。</p> 
<p>http://www.todolist.cn/</p> 
<h4><a id="2_1395"></a>2.父组件</h4> 
<p>管理子组件，核心代码都在父组件。</p> 
<pre><code class="prism language-js"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span>
<span class="token keyword">import</span> Header <span class="token keyword">from</span> <span class="token string">'./components/Header'</span>
<span class="token keyword">import</span> List <span class="token keyword">from</span> <span class="token string">'./components/List'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{<!-- --></span>
  state <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
    list<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>

  <span class="token comment">//向list数组里添加数据</span>
  <span class="token function">handleAdd</span><span class="token punctuation">(</span>title<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">//解构</span>
    <span class="token keyword">let</span> <span class="token punctuation">{<!-- --></span> list <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state

    list<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
      id<span class="token punctuation">:</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment">//取当前时间的时间戳</span>
      title<span class="token punctuation">:</span> title<span class="token punctuation">,</span>
      checked<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>  <span class="token comment">//不打勾</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token comment">//更新list数组</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
      list
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token comment">//点击复选框事件</span>
  <span class="token function">handleCheck</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span> id<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">let</span> list <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>list
    <span class="token comment">//根据id查找下标</span>
    <span class="token keyword">let</span> index <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">findIndex</span><span class="token punctuation">(</span>item <span class="token operator">=&gt;</span> item<span class="token punctuation">.</span>id <span class="token operator">===</span> id<span class="token punctuation">)</span>
    <span class="token comment">//根据下标修改checked属性</span>
    list<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>checked <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>checked

    <span class="token comment">//设置状态</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
      list
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token comment">//删除</span>
  <span class="token function">handleDelete</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">let</span> list <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>list
    <span class="token comment">//找下标</span>
    <span class="token keyword">let</span> index <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">findIndex</span><span class="token punctuation">(</span>item <span class="token operator">=&gt;</span> item<span class="token punctuation">.</span>id <span class="token operator">===</span> id<span class="token punctuation">)</span>
    <span class="token comment">//删除</span>
    list<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>

    <span class="token comment">//更新状态</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
      list
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function">componentDidUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'更新完'</span><span class="token punctuation">)</span>
    <span class="token keyword">let</span> list <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>list
    localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'list'</span><span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'挂载完'</span><span class="token punctuation">)</span>
    <span class="token keyword">let</span> list <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'list'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
      list
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>Header onAdd<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">(</span>title<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleAdd</span><span class="token punctuation">(</span>title<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Header<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>List 
          title<span class="token operator">=</span><span class="token string">"正在进行"</span> 
          checked<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token boolean">false</span><span class="token punctuation">}</span> 
          list<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>list<span class="token punctuation">}</span> 
          onCheck<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">(</span>e<span class="token punctuation">,</span> id<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleCheck</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span> id<span class="token punctuation">)</span><span class="token punctuation">}</span>
          onDelete<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleDelete</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>List<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>List 
          title<span class="token operator">=</span><span class="token string">"已经完成"</span> 
          checked<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token boolean">true</span><span class="token punctuation">}</span> 
          list<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>list<span class="token punctuation">}</span> 
          onCheck<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">(</span>e<span class="token punctuation">,</span> id<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleCheck</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span> id<span class="token punctuation">)</span><span class="token punctuation">}</span>
          onDelete<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleDelete</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>List<span class="token operator">&gt;</span>        
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<h4><a id="3_1491"></a>3.子组件</h4> 
<p>Header.js：</p> 
<pre><code class="prism language-js"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Header</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{<!-- --></span>
  state <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
    title<span class="token punctuation">:</span> <span class="token string">''</span>
  <span class="token punctuation">}</span>

  <span class="token comment">//受控组件回调函数</span>
  <span class="token function">handleInput</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
      title<span class="token punctuation">:</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token comment">//监听回车事件</span>
  <span class="token function">handleEnter</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">//点击回车按钮是keyCode=13，13是回车键的ASCII码</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>keyCode <span class="token operator">===</span> <span class="token number">13</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token comment">//子组件和父组件通讯</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">onAdd</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>title<span class="token punctuation">)</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
        title<span class="token punctuation">:</span> <span class="token string">''</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>input 
          value<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>title<span class="token punctuation">}</span> 
          onChange<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleInput</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">}</span> 
          onKeyUp<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleEnter</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">}</span>
          placeholder<span class="token operator">=</span><span class="token string">"请输入要做的事情"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>input<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<p>List.js:</p> 
<pre><code class="prism language-js"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">List</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">//过滤list数组</span>
    <span class="token keyword">let</span> list <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>list<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>item <span class="token operator">=&gt;</span> item<span class="token punctuation">.</span>checked <span class="token operator">===</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>checked<span class="token punctuation">)</span>

    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token punctuation">{<!-- --></span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>title <span class="token operator">+</span> <span class="token string">"("</span> <span class="token operator">+</span> list<span class="token punctuation">.</span>length <span class="token operator">+</span> <span class="token string">')'</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
          <span class="token punctuation">{<!-- --></span>
            <span class="token comment">//渲染列表</span>
            list<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>item <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
              <span class="token keyword">return</span> <span class="token punctuation">(</span>
                <span class="token operator">&lt;</span>div key<span class="token operator">=</span><span class="token punctuation">{<!-- --></span>item<span class="token punctuation">.</span>id<span class="token punctuation">}</span> className<span class="token operator">=</span><span class="token string">"m-list-item"</span><span class="token operator">&gt;</span>
                  <span class="token operator">&lt;</span>label className<span class="token operator">=</span><span class="token string">"m-list-info"</span><span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>input checked<span class="token operator">=</span><span class="token punctuation">{<!-- --></span>item<span class="token punctuation">.</span>checked<span class="token punctuation">}</span> onChange<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">onCheck</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span> item<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">}</span> type<span class="token operator">=</span><span class="token string">"checkbox"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>input<span class="token operator">&gt;</span>
                    <span class="token punctuation">{<!-- --></span>item<span class="token punctuation">.</span>title<span class="token punctuation">}</span>
                  <span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">&gt;</span>
                  <span class="token operator">&lt;</span>button className<span class="token operator">=</span><span class="token string">"m-delete"</span> onClick<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">onDelete</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>删除<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
              <span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
          <span class="token punctuation">}</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<h4><a id="4_1572"></a>4.效果展示</h4> 
<p><img src="https://img-blog.csdnimg.cn/2020052409440517.gif" alt="在这里插入图片描述"></p> 
<h3><a id="_1576"></a>授课思路</h3> 
<p><img src="https://img-blog.csdnimg.cn/20200524094415618.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p> 
<h3><a id="_1580"></a>案例作业</h3> 
<p>1.上网阅读相关质料<br> 2.练习todolist<br> 3.预习投掷骰子游戏</p> 
<h2><a id="_1585"></a>十一、骰子游戏</h2> 
<h3><a id="_1587"></a>课程目标</h3> 
<ol><li>用到知识点有哪些</li><li>父组件</li><li>子组件</li><li>效果展示</li></ol> 
<h3><a id="_1594"></a>知识点</h3> 
<h4><a id="1_1596"></a>1.用到知识点有哪些</h4> 
<p>组件划分。<br> 父子组件传值。<br> 随机函数Math.random()。<br> Promise()。<br> 考察学生的逻辑思维能力，运用所学的知识分析问题，解决问题。</p> 
<h4><a id="2_1603"></a>2.父组件</h4> 
<p>核心代码在父组件。</p> 
<pre><code class="prism language-js"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span>
<span class="token keyword">import</span> Header <span class="token keyword">from</span> <span class="token string">'./components/Header'</span>
<span class="token keyword">import</span> Dice <span class="token keyword">from</span> <span class="token string">'./components/Dice'</span>
<span class="token keyword">import</span> Money <span class="token keyword">from</span> <span class="token string">'./components/Money'</span>
<span class="token keyword">import</span> Footer <span class="token keyword">from</span> <span class="token string">'./components/Footer'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{<!-- --></span>
  state <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
    score<span class="token punctuation">:</span> <span class="token number">10000</span><span class="token punctuation">,</span>
    money<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    guess<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>  <span class="token comment">//0:小， 1：大， 2:豹子</span>
    diceArr<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>

  <span class="token comment">//累加金额</span>
  <span class="token function">handleAdd</span><span class="token punctuation">(</span>money<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
      money<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>money <span class="token operator">+</span> money
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token comment">//清空金额</span>
  <span class="token function">handleClear</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
      money<span class="token punctuation">:</span> <span class="token number">0</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token comment">//开始投掷骰子</span>
  <span class="token keyword">async</span> <span class="token function">handleStart</span><span class="token punctuation">(</span>guess<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'开始:'</span> <span class="token operator">+</span> guess<span class="token punctuation">)</span>

    <span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">await</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span>resolve<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">let</span> count <span class="token operator">=</span> <span class="token number">0</span>
      <span class="token keyword">let</span> timer <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
          arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">6</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
          diceArr<span class="token punctuation">:</span> arr
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        count<span class="token operator">++</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">===</span> <span class="token number">20</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
          <span class="token function">clearInterval</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span>
          <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token comment">//求和，也可以用for循环</span>
    <span class="token keyword">let</span> sum <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span>total<span class="token punctuation">,</span> item<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span> 
      <span class="token keyword">return</span> total <span class="token operator">+</span> item 
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>

    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sum<span class="token punctuation">)</span>
    <span class="token keyword">let</span> isWin <span class="token operator">=</span> <span class="token boolean">false</span>
    <span class="token comment">//赌小，赢了</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>sum <span class="token operator">&lt;=</span> <span class="token number">9</span> <span class="token operator">&amp;&amp;</span> guess <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      isWin <span class="token operator">=</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>sum <span class="token operator">&gt;=</span> <span class="token number">10</span> <span class="token operator">&amp;&amp;</span> guess <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">//赌大，赢了</span>
      isWin <span class="token operator">=</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//赌豹子赢了</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">===</span> arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">===</span> arr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> guess <span class="token operator">===</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      isWin <span class="token operator">=</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>isWin<span class="token punctuation">)</span>

    <span class="token comment">//赢了</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>isWin<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>guess <span class="token operator">!==</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
          score<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>score <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>money
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
          score<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>score <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>money <span class="token operator">*</span> <span class="token number">24</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>

    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>  <span class="token comment">//输了</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
        score<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>score <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>money
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"m-wrap"</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>Header score<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>score<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Header<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>Dice diceArr<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>diceArr<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Dice<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>Money 
          money<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>money<span class="token punctuation">}</span> 
          onAdd<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">(</span>money<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleAdd</span><span class="token punctuation">(</span>money<span class="token punctuation">)</span><span class="token punctuation">}</span>
          onClear<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleClear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Money<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>Footer onStart<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">(</span>guess<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleStart</span><span class="token punctuation">(</span>guess<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Footer<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<h4><a id="3_1715"></a>3.子组件</h4> 
<p>Header.js:</p> 
<pre><code class="prism language-js"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Header</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"m-header"</span><span class="token operator">&gt;</span>
        <span class="token punctuation">{<!-- --></span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>score<span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<p>Dice.js:</p> 
<pre><code class="prism language-js"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Dice</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"m-dice"</span><span class="token operator">&gt;</span>
        <span class="token punctuation">{<!-- --></span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>diceArr<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span> index<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> <span class="token punctuation">(</span>
              <span class="token operator">&lt;</span>div key<span class="token operator">=</span><span class="token punctuation">{<!-- --></span>index<span class="token punctuation">}</span> className<span class="token operator">=</span><span class="token string">"m-dice-item"</span><span class="token operator">&gt;</span><span class="token punctuation">{<!-- --></span>item<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token punctuation">)</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span> 
        <span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<p>Money.js:</p> 
<pre><code class="prism language-js"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Money</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"m-money"</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"m-left"</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">onAdd</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token number">50</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">onAdd</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token number">100</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">onAdd</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token number">200</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">onAdd</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token number">500</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"m-right"</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">onClear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">{<!-- --></span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>money<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<p>Footer.js:</p> 
<pre><code class="prism language-js"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Footer</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"m-footer"</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">onStart</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>大<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">onStart</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>豹子<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">onStart</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>小<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>


</code></pre> 
<h4><a id="4_1798"></a>4.效果展示</h4> 
<p><img src="https://img-blog.csdnimg.cn/20200524094449511.gif" alt="在这里插入图片描述"></p> 
<h3><a id="_1802"></a>授课思路</h3> 
<p><img src="https://img-blog.csdnimg.cn/20200524094500706.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p> 
<h3><a id="_1806"></a>案例作业</h3> 
<p>1.上网阅读相关质料<br> 2.练习骰子游戏<br> 3.预习路由</p> 
<h2><a id="_1812"></a>十二、路由</h2> 
<h3><a id="_1814"></a>课程目标</h3> 
<ol><li>什么是路由</li><li>装包</li><li>常用的路由组件和方法</li><li>官网</li></ol> 
<h3><a id="_1821"></a>知识点</h3> 
<h4><a id="1_1823"></a>1.什么是路由</h4> 
<p>路由这个概念由后端而来，后端的接口url也叫路由。后来前后端分离了，前端功能越来越强大，有了单页面应用这个概念。前端使用浏览器history api或者hash实现了前端路由，效果就是不依赖后端前端自己实现在单页面中实现多页面的效果。</p> 
<h4><a id="2_1826"></a>2.装包</h4> 
<pre><code class="prism language-js">yarn add react<span class="token operator">-</span>router<span class="token operator">-</span>dom
</code></pre> 
<h4><a id="3_1832"></a>3.常用的路由组件和方法</h4> 
<p>组件：<br> BrowserRouter、Switch、Route、Redirect、NavLink</p> 
<p>方法：<br> withRouter()，this.props.history.push()</p> 
<h4><a id="4_1841"></a>4.官网</h4> 
<p>https://reacttraining.com/react-router/web/guides/quick-start</p> 
<h3><a id="_1845"></a>授课思路</h3> 
<p><img src="https://img-blog.csdnimg.cn/20200524094530262.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p> 
<h3><a id="_1849"></a>案例作业</h3> 
<p>1.上网阅读相关质料<br> 2.练习路由配置<br> 3.预习登陆（结合路由跳转）</p>
                ]]></description></item><item><title>TS入门课程资料</title><link>http://www.cnblogs.com/xutongbao/archive/2020/05/12/14876296.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 12 May 2020 08:33:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2020/05/12/14876296.html</guid><description><![CDATA[
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="TS_3"></a>初识TS</h2> 
<h3><a id="_5"></a>课程目标</h3> 
<ol><li>TS简介</li><li>安装typescript包</li><li>TS之hello world，类型检查</li><li>学习资料介绍</li></ol> 
<h3><a id="_12"></a>知识点</h3> 
<h4><a id="1TS_14"></a>1.TS简介</h4> 
<p>TypeScript 是 JavaScript 的强类型版本。然后在编译期去掉类型和特有语法，生成纯粹的 JavaScript 代码。</p> 
<p>TypeScript 是 JavaScript 的超集，这意味着他支持所有的 JavaScript 语法。</p> 
<p>强类型语言的优势在于静态类型检查。</p> 
<p>TypeScript是微软开发的语言。</p> 
<p>vue3.0使用TS开发。</p> 
<p>是github开源项目：https://github.com/Microsoft/TypeScript</p> 
<p>2012 年 10 月诞生。</p> 
<p>vscode是用ts编写的：https://github.com/Microsoft/vscode/</p> 
<h4><a id="2typescript_33"></a>2.安装typescript包</h4> 
<p>装包：</p> 
<pre><code class="prism language-js">yarn global add typscript
</code></pre> 
<p>检查版本:</p> 
<pre><code class="prism language-js">  tsc <span class="token operator">-</span><span class="token constant">V</span>
</code></pre> 
<p>初始化：</p> 
<pre><code class="prism language-js">tsc <span class="token operator">--</span>init
</code></pre> 
<h4><a id="3TShello_world_50"></a>3.TS之hello world，类型检查</h4> 
<p>语法格式：</p> 
<pre><code class="prism language-js"><span class="token keyword">function</span> <span class="token function">greeter</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span>string<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">return</span> <span class="token template-string"><span class="token string">`hello, world!</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">greeter</span><span class="token punctuation">(</span><span class="token string">'xu'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token function">greeter</span><span class="token punctuation">(</span><span class="token string">'徐'</span><span class="token punctuation">)</span>
</code></pre> 
<h4><a id="4_61"></a>4.学习资料介绍</h4> 
<p>一起来拥抱强大的TypeScript吧–Ts+Vue完全教程:<br> https://blog.csdn.net/suhuaiqiang_janlay/article/details/80217323</p> 
<p>中文手册:<br> https://zhongsp.gitbook.io/typescript-handbook/</p> 
<p>英文手册:<br> https://www.typescriptlang.org/docs/handbook/basic-types.html</p> 
<p>入门教程:<br> https://ts.xcatliu.com/</p> 
<p>装饰器----阮一峰:<br> https://es6.ruanyifeng.com/#docs/decorator</p> 
<h3><a id="_78"></a>授课思路</h3> 
<p><img src="https://img-blog.csdnimg.cn/20200512163214577.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p> 
<h3><a id="_82"></a>案例作业</h3> 
<p>1.上网收集TS资料学习一下<br> 2.安装TS环境并编写hello world代码<br> 3.研究类型检查的意义<br> 4.预习tsconfig.json各个属性的含义</p> 
<h2><a id="_89"></a>类型检查</h2> 
<h3><a id="_91"></a>课程目标</h3> 
<ol><li>基础类型</li><li>类型断言</li><li>TS类型检查的意义</li><li>学习资料介绍</li></ol> 
<h3><a id="_98"></a>知识点</h3> 
<h4><a id="1_100"></a>1.基础类型</h4> 
<p>布尔，数字，字符串，数组，元祖，枚举，任意值，空值，null，undefined，never，object</p> 
<pre><code class="prism language-js"><span class="token comment">//布尔</span>
<span class="token keyword">let</span> isDone<span class="token punctuation">:</span> boolean <span class="token operator">=</span> <span class="token boolean">true</span>

<span class="token comment">//数字</span>
<span class="token keyword">let</span> count<span class="token punctuation">:</span> number <span class="token operator">=</span> <span class="token number">1</span>

<span class="token comment">//字符串</span>
<span class="token keyword">let</span> username<span class="token punctuation">:</span> string <span class="token operator">=</span> <span class="token string">'admin'</span>

<span class="token comment">//数组</span>
<span class="token keyword">let</span> list<span class="token punctuation">:</span> number<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>
<span class="token keyword">let</span> listPlus<span class="token punctuation">:</span> Array<span class="token operator">&lt;</span>number<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>

<span class="token comment">//元组 Tuple</span>
<span class="token keyword">let</span> x<span class="token punctuation">:</span> <span class="token punctuation">[</span>string<span class="token punctuation">,</span> number<span class="token punctuation">]</span>
x <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'hello'</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span>

<span class="token comment">//枚举</span>
<span class="token keyword">enum</span> Color <span class="token punctuation">{<!-- --></span> Red<span class="token punctuation">,</span> Green<span class="token punctuation">,</span> Blue <span class="token punctuation">}</span>
<span class="token keyword">let</span> c<span class="token punctuation">:</span> Color <span class="token operator">=</span> Color<span class="token punctuation">.</span>Green

<span class="token comment">//任意值</span>
<span class="token keyword">let</span> notSure<span class="token punctuation">:</span> any <span class="token operator">=</span> <span class="token number">1</span>
notSure <span class="token operator">=</span> <span class="token string">'xu'</span>
notSure <span class="token operator">=</span> <span class="token boolean">true</span>

<span class="token comment">//空值</span>
<span class="token keyword">function</span> <span class="token function">greeter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span> <span class="token punctuation">{<!-- --></span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">//null</span>
<span class="token keyword">let</span> u<span class="token punctuation">:</span>undefined <span class="token operator">=</span> undefined
<span class="token keyword">let</span> n<span class="token punctuation">:</span><span class="token keyword">null</span> <span class="token operator">=</span> <span class="token keyword">null</span>

<span class="token comment">//需要开启： "strictNullChecks": false</span>
<span class="token keyword">let</span> num<span class="token punctuation">:</span>number <span class="token operator">=</span> <span class="token keyword">null</span>
<span class="token keyword">let</span> str1<span class="token punctuation">:</span>string <span class="token operator">=</span> undefined

<span class="token comment">//never 类型表示的是那些永不存在的值的类型</span>
<span class="token comment">// 返回never的函数必须存在无法达到的终点</span>
<span class="token keyword">function</span> <span class="token function">error</span><span class="token punctuation">(</span>message<span class="token punctuation">:</span> string<span class="token punctuation">)</span><span class="token punctuation">:</span> never <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 推断的返回值类型为never</span>
<span class="token keyword">function</span> <span class="token function">fail</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">return</span> <span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"Something failed"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 返回never的函数必须存在无法达到的终点</span>
<span class="token keyword">function</span> <span class="token function">infiniteLoop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> never <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">//object</span>
<span class="token keyword">let</span> obj<span class="token punctuation">:</span>object <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
</code></pre> 
<h4><a id="2_164"></a>2.类型断言</h4> 
<p>有时候你会遇到这样的情况，你会比TypeScript更了解某个值的详细信息。 通常这会发生在你清楚地知道一个实体具有比它现有类型更确切的类型。</p> 
<p>通过类型断言这种方式可以告诉编译器，“相信我，我知道自己在干什么”。 类型断言好比其它语言里的类型转换，但是不进行特殊的数据检查和解构。 它没有运行时的影响，只是在编译阶段起作用。 TypeScript会假设你，程序员，已经进行了必须的检查。</p> 
<p>类型断言（Type Assertion）可以用来手动指定一个值的类型</p> 
<p>语法：</p> 
<pre><code class="prism language-js">　<span class="token operator">&lt;</span>类型<span class="token operator">&gt;</span>值
</code></pre> 
<p>或者</p> 
<pre><code class="prism language-js">　值 <span class="token keyword">as</span> 类型
</code></pre> 
<p>实例：</p> 
<pre><code class="prism language-js"><span class="token punctuation">(</span>window <span class="token keyword">as</span> any<span class="token punctuation">)</span><span class="token punctuation">.</span>username <span class="token operator">=</span> <span class="token string">'admin'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token keyword">as</span> any<span class="token punctuation">)</span><span class="token punctuation">.</span>username<span class="token punctuation">)</span>
</code></pre> 
<h4><a id="3TS_187"></a>3.TS类型检查的意义</h4> 
<p>TS对JS的改进主要是静态类型检查，静态类型检查有何意义？标准答案是“静态类型更有利于构建大型应用”。为什么静态类型有利于构建大型应用？我总结，利在两点。</p> 
<p>其一，静态类型检查可以做到early fail，即你编写的代码即使没有被执行到，一旦你编写代码时发生类型不匹配，语言在编译阶段（解释执行也一样，可以在运行前）即可发现。针对大型应用，测试调试分支覆盖困难，很多代码并不一定能够在所有条件下执行到。而假如你的代码简单到任何改动都可以从UI体现出来，这确实跟大型应用搭不上关系，那么静态类型检查确实没什么作用。</p> 
<p>其二，类型就是最好的注释。静态类型对阅读代码是友好的，比如我们举个例子 jQuery API Documentation 这是大家都非常喜欢用的jQuery.ajax，在这份文档中，详尽地解释了类型为object的唯一一个参数settings，它是如此之复杂，如果没有文档，我们只看这个函数声明的话，根本不可能有人把这个用法猜对。针对大型应用，方法众多，调用关系复杂，不可能每个函数都有人编写细致的文档，所以静态类型就是非常重要的提示和约束。而假如你的代码像jQuery这样所有函数基本全是API，根本没什么内部函数，而且逻辑关系看起来显而易见，这确实跟大型应用搭不上关系，那么静态类型对阅读代码确实也没什么帮助。总的来说，现代编程语言设计，很多特性已经有非常成熟的理论支持了，如果我们重视计算机基础，那么一些语言的适用场景就像是拼积木，可以用几句话概括。像是TS对JS这样，只是单一特性变化。</p> 
<h4><a id="4_194"></a>4.学习资料介绍</h4> 
<p>基础类型:<br> https://zhongsp.gitbook.io/typescript-handbook/handbook/basic-types<br> 类型检查的意义：<br> https://www.jianshu.com/p/d2d15111f9d4</p> 
<h3><a id="_200"></a>授课思路</h3> 
<p><img src="https://img-blog.csdnimg.cn/2020051216334921.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p> 
<h3><a id="_204"></a>案例作业</h3> 
<p>1.练习TS里的类型检查<br> 2.使用类型断言<br> 3.深入思考TS类型检查的意义<br> 4.预习变量声明</p> 
<h2><a id="_211"></a>接口</h2> 
<h3><a id="_213"></a>课程目标</h3> 
<ol><li>接口是什么</li><li>举个栗子</li><li>可选属性</li><li>只读属性</li><li>函数类型</li></ol> 
<h3><a id="_221"></a>知识点</h3> 
<h4><a id="1_223"></a>1.接口是什么</h4> 
<p>接口简单来说就是规定一些 “事”，在后台中，接口指的是双方规定的 API，在 TS 里接口一般指这个变量拥有什么东西。<br> TypeScript 的核心原则之一是对值所具有的结构进行类型检查。 它有时被称做“鸭式辨型法”或“结构性子类型化”。 在 TypeScript 里，接口的作用就是为这些类型命名和为你的代码或第三方代码定义契约。<br> 接口一般是用来定义一组规范，比如我们常说的usb接口就是一种电脑外设的规范，不管是鼠标还是键盘还是u盘，只要符合这个规范的外设都可以插入这个接口。<br> 使用usb接口可以降低鼠标键盘这些外设和笔记本电脑的耦合性。</p> 
<h4><a id="2_230"></a>2.举个栗子</h4> 
<pre><code class="prism language-js"><span class="token comment">//定义一个person接口，用于描述一个对象的形状：必须包含name属性，且类型为string</span>
<span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{<!-- --></span>
  name<span class="token punctuation">:</span> string
<span class="token punctuation">}</span>

<span class="token comment">//Person接口就像一个普通类型一样去使用</span>
<span class="token keyword">function</span> <span class="token function">greeter</span><span class="token punctuation">(</span>person<span class="token punctuation">:</span> Person<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">return</span> <span class="token template-string"><span class="token string">`hello world!</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span>person<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span>
<span class="token punctuation">}</span>

<span class="token comment">//xu这个对象满足Person接口的约束，如果不满足，编译器会立马报错,这既是类型检查的意义所在</span>
<span class="token keyword">let</span> xu<span class="token punctuation">:</span>Person <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
  name<span class="token punctuation">:</span> <span class="token string">'xu'</span>
<span class="token punctuation">}</span>

document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token function">greeter</span><span class="token punctuation">(</span>xu<span class="token punctuation">)</span>
</code></pre> 
<h4><a id="3_252"></a>3.可选属性</h4> 
<p>接口里的属性不全都是必需的。 有些是只在某些条件下存在，或者根本不存在。</p> 
<pre><code class="prism language-js"><span class="token comment">//添加一个问号可以变成可选属性</span>
<span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{<!-- --></span>
  name<span class="token punctuation">:</span> string<span class="token punctuation">,</span>
  age<span class="token operator">?</span><span class="token punctuation">:</span> number
<span class="token punctuation">}</span>

<span class="token comment">//Person接口就像一个普通类型一样去使用</span>
<span class="token keyword">function</span> <span class="token function">greeter</span><span class="token punctuation">(</span>person<span class="token punctuation">:</span> Person<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">return</span> <span class="token template-string"><span class="token string">`hello world!</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span>person<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span>
<span class="token punctuation">}</span>

<span class="token comment">//xu对象可以不包含age属性</span>
<span class="token keyword">let</span> xu<span class="token punctuation">:</span>Person <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
  name<span class="token punctuation">:</span> <span class="token string">'xu'</span>
<span class="token punctuation">}</span>

document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token function">greeter</span><span class="token punctuation">(</span>xu<span class="token punctuation">)</span>
</code></pre> 
<h4><a id="4_276"></a>4.只读属性</h4> 
<p>些对象属性只能在对象刚刚创建的时候修改其值。 你可以在属性名前用readonly来指定只读属性</p> 
<pre><code class="prism language-js"><span class="token comment">//添加一个问号可以变成可选属性</span>
<span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{<!-- --></span>
  readonly name<span class="token punctuation">:</span> string<span class="token punctuation">,</span>
  age<span class="token punctuation">:</span> number
<span class="token punctuation">}</span>

<span class="token comment">//Person接口就像一个普通类型一样去使用</span>
<span class="token keyword">function</span> <span class="token function">greeter</span><span class="token punctuation">(</span>person<span class="token punctuation">:</span> Person<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">return</span> <span class="token template-string"><span class="token string">`hello world!</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span>person<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span>
<span class="token punctuation">}</span>

<span class="token comment">//xu对象可以不包含age属性</span>
<span class="token keyword">let</span> xu<span class="token punctuation">:</span>Person <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
  name<span class="token punctuation">:</span> <span class="token string">'xu'</span><span class="token punctuation">,</span>
  age<span class="token punctuation">:</span> <span class="token number">30</span>
<span class="token punctuation">}</span>

<span class="token comment">//可以修改age</span>
xu<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">31</span>

<span class="token comment">//但是不可以修改name，不过只是类型检查时报个错，其实修改是并没有被阻止</span>
xu<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'徐'</span>

document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token function">greeter</span><span class="token punctuation">(</span>xu<span class="token punctuation">)</span>
</code></pre> 
<h4><a id="5_305"></a>5.函数类型</h4> 
<p>接口能够描述 JavaScript 中对象拥有的各种各样的外形。 除了描述带有属性的普通对象外，接口也可以描述函数类型。<br> 为了使用接口表示函数类型，我们需要给接口定义一个调用签名。 它就像是一个只有参数列表和返回值类型的函数定义。参数列表里的每个参数都需要名字和类型。<br> 因为函数也是对象，所以我们也可以通过接口来对函数做“规定”。</p> 
<pre><code class="prism language-js"><span class="token comment">//函数类型</span>
<span class="token keyword">interface</span> <span class="token class-name">Greeter</span> <span class="token punctuation">{<!-- --></span>
  <span class="token punctuation">(</span>name<span class="token punctuation">:</span>string<span class="token punctuation">)</span><span class="token punctuation">:</span> string
<span class="token punctuation">}</span>

<span class="token keyword">let</span> greeter<span class="token punctuation">:</span> Greeter

<span class="token comment">//Person接口就像一个普通类型一样去使用</span>
<span class="token function-variable function">greeter</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>name<span class="token punctuation">:</span>string<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">return</span> <span class="token template-string"><span class="token string">`hello world!</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span>
<span class="token punctuation">}</span>

document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token function">greeter</span><span class="token punctuation">(</span><span class="token string">'xu'</span><span class="token punctuation">)</span>
</code></pre> 
<h3><a id="_326"></a>授课思路</h3> 
<p><img src="https://img-blog.csdnimg.cn/20200512163421337.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述">## 案例作业</p> 
<p>1.研究接口含义<br> 2.定义普通的对象接口<br> 3.编写可选属性和只读属性<br> 4.编写函数接口<br> 5.预习TS中的类(class)</p> 
<h2><a id="_338"></a>类与继承</h2> 
<h3><a id="_340"></a>课程目标</h3> 
<ol><li>什么是类</li><li>编写类</li><li>什么是继承</li><li>编写继承</li></ol> 
<h3><a id="_347"></a>知识点</h3> 
<h4><a id="1_349"></a>1.什么是类</h4> 
<p>一切事物皆对象，通过面向对象的方式，将现实世界的事物抽象成对象，现实世界中的关系抽象成类、继承，帮助人们实现对现实世界的抽象与数字建模。<br> 面向对象的最基础的单元就是类。类（Class）是一个抽象的概念，是对某一类事物的描述。例如：猫，狗，人。而对象（object）就是类的实例化。即符合类描述的具体的单个成员。<br> 什么是类,类不是一个实体的存在,比如手机这个类,手机并不是实体,如iPhone7 才是一个实体,手机并不是,类只是一个模子,确定对象将会有的特征(属性)和行为(方法)。<br> 类 : 具有相同属性和技能的一类事物(类后面的变量需要首字母大写)。<br> 对象:具体类的表现,具体实实在在的一个实例。<br> 人是一个类,爱因斯坦是一个对象。<br> 狗是一个类,球球是一个对象。<br> 传统的JavaScript程序使用函数和基于原型的继承来创建可重用的组件，但对于熟悉使用面向对象方式的程序员来讲就有些棘手，因为他们用的是基于类的继承并且对象是由类构建出来的。 从ECMAScript 2015，也就是ECMAScript 6开始，JavaScript程序员将能够使用基于类的面向对象的方式。 使用TypeScript，我们允许开发者现在就使用这些特性，并且编译后的JavaScript可以在所有主流浏览器和平台上运行，而不需要等到下个JavaScript版本。</p> 
<h4><a id="2_359"></a>2.编写类</h4> 
<pre><code class="prism language-js"><span class="token comment">//定义一个类</span>
<span class="token keyword">class</span> <span class="token class-name">Greeter</span> <span class="token punctuation">{<!-- --></span>
  <span class="token comment">//定义类的属性</span>
  name<span class="token punctuation">:</span> string

  <span class="token comment">//构造函数</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> string<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
  <span class="token punctuation">}</span>

  <span class="token comment">//定义类的方法</span>
  <span class="token function">greet</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">//访问内的程序时使用this</span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token template-string"><span class="token string">`hello world!</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">//使用new 构造了Greeter类的一个实例。它会调用之前定义的构造函数，创建一个Greeter类型的新对象，并执行构造函数初始化它。</span>
<span class="token keyword">let</span> greeter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Greeter</span><span class="token punctuation">(</span><span class="token string">'xu'</span><span class="token punctuation">)</span>

<span class="token comment">//这个对象具有打招呼的行为</span>
greeter<span class="token punctuation">.</span><span class="token function">greet</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<h4><a id="3_386"></a>3.什么是继承</h4> 
<p>基于类的程序设计中一种最基本的模式是允许使用继承来扩展现有的类。<br> 继承是指这样一种能力：它可以使用现有类的所有功能，并在无需重新编写原来的类的情况下对这些功能进行扩展。<br> 通过继承创建的新类称为“子类”或“派生类”。<br> 被继承的类称为“基类”、“父类”或“超类”。<br> 继承的过程，就是从一般到特殊的过程。</p> 
<h4><a id="4_394"></a>4.编写继承</h4> 
<pre><code class="prism language-js"><span class="token comment">//定义一个类</span>
<span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{<!-- --></span>
  name<span class="token punctuation">:</span> string
  <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> string<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
  <span class="token punctuation">}</span>
  <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">:hello!大家好！`</span></span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">//Teacher类继承了Person类，拥有了name属性和say方法</span>
<span class="token keyword">class</span> <span class="token class-name">Teacher</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">{<!-- --></span>
  <span class="token comment">//增加自己的course属性</span>
  course<span class="token punctuation">:</span> string
  <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span>string<span class="token punctuation">,</span> course<span class="token punctuation">:</span>string<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>course <span class="token operator">=</span> course
  <span class="token punctuation">}</span>
  <span class="token comment">//增加自己的teach方法</span>
  <span class="token function">teach</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">//调用继承的方法</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">//访问继承的属性</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">:我要讲的课程是</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span><span class="token keyword">this</span><span class="token punctuation">.</span>course<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">!`</span></span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> teacher <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Teacher</span><span class="token punctuation">(</span><span class="token string">'徐同保'</span><span class="token punctuation">,</span> <span class="token string">'Vue'</span><span class="token punctuation">)</span>
teacher<span class="token punctuation">.</span><span class="token function">teach</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre> 
<h3><a id="_429"></a>授课思路</h3> 
<p><img src="https://img-blog.csdnimg.cn/202005121634503.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p> 
<h3><a id="_433"></a>案例作业</h3> 
<p>1.研究类含义<br> 2.编写类代码<br> 3.研究继承的含义<br> 4.编写继承代码</p> 
<h2><a id="_440"></a>公共，私有与受保护的修饰符</h2> 
<h3><a id="_442"></a>课程目标</h3> 
<ol><li>概念</li><li>public</li><li>private</li><li>protected</li><li>为啥要学这些</li></ol> 
<h3><a id="_450"></a>知识点</h3> 
<h4><a id="1_452"></a>1.概念</h4> 
<p>public private 和 protected<br> TypeScript 可以使用三种访问修饰符（Access Modifiers），分别是 public、private 和 protected。<br> public 修饰的属性或方法是公有的，可以在任何地方被访问到，默认所有的属性和方法都是 public 的<br> private 修饰的属性或方法是私有的，不能在声明它的类的外部访问<br> protected 修饰的属性或方法是受保护的，它和 private 类似，区别是它在子类中也是允许被访问的,受保护的属性和访问不能在类的实例上调用</p> 
<h4><a id="2public_459"></a>2.public</h4> 
<pre><code>默认所有的属性和方法都是 public 的。加不加都一样，所以别加了。
</code></pre> 
<pre><code class="prism language-js"><span class="token comment">//定义一个类</span>
<span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">public</span> name<span class="token punctuation">:</span> string
  <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> string<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">:hello!大家好！`</span></span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="3private_474"></a>3.private</h4> 
<pre><code class="prism language-js"><span class="token comment">//定义一个类</span>
<span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">private</span> name<span class="token punctuation">:</span> string
  <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> string<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
  <span class="token punctuation">}</span>
  <span class="token keyword">private</span> <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">:hello!大家好！`</span></span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'xu'</span><span class="token punctuation">)</span>
<span class="token comment">//访问私有属性会报错</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
<span class="token comment">//访问私有方法会报错</span>
person<span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code>注意：派生类也无法访问父类的的私有属性和方法！
</code></pre> 
<h4><a id="4protected_495"></a>4.protected</h4> 
<pre><code>派生类可以访问父类中受保护的属性和访问。    
</code></pre> 
<pre><code class="prism language-js"><span class="token comment">//定义一个类</span>
<span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">protected</span> name<span class="token punctuation">:</span> string
  <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> string<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
  <span class="token punctuation">}</span>
  <span class="token keyword">protected</span> <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">:hello!大家好！`</span></span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">//Teacher类继承了Person类，拥有了name属性和say方法</span>
<span class="token keyword">class</span> <span class="token class-name">Teacher</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">{<!-- --></span>
  <span class="token comment">//增加自己的course属性</span>
  course<span class="token punctuation">:</span> string
  <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span>string<span class="token punctuation">,</span> course<span class="token punctuation">:</span>string<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>course <span class="token operator">=</span> course
  <span class="token punctuation">}</span>
  <span class="token comment">//增加自己的teach方法</span>
  <span class="token function">teach</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">//调用继承的方法</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">//访问继承的属性</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">:我要讲的课程是</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span><span class="token keyword">this</span><span class="token punctuation">.</span>course<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">!`</span></span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> teacher <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Teacher</span><span class="token punctuation">(</span><span class="token string">'徐同保'</span><span class="token punctuation">,</span> <span class="token string">'Vue'</span><span class="token punctuation">)</span>
teacher<span class="token punctuation">.</span><span class="token function">teach</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<h4><a id="5_530"></a>5.为啥要学这些</h4> 
<p>封装就是隐藏对象的属性和实现细节，仅对外公开接口，控制在程序中属性的读和修改的访问级别，将抽象得到的数据和行为（或功能）相结合，形成一个有机的整体，也就是将数据与操作数据的源代码进行有机的结合，形成“类”，其中数据和函数都是类的成员。</p> 
<p>封装的目的是增强安全性和简化编程，使用者不必了解具体的实现细节，而只是要通过外部接口，以特定的访问权限来使用类的成员。<br> 可以举个栗子，录音机就是封装的栗子，内部的结构是私有的，用户无法访问，播放键，快进键是共有的，用户可以访问。</p> 
<p>继承是指这样一种能力：它可以使用现有类的所有功能，并在无需重新编写原来的类的情况下对这些功能进行扩展。</p> 
<p>如果没有protect，父类的属性和方法只能是public和private，对应一些需要继承但是有不想暴露的属性和方法就无能无力了。</p> 
<h3><a id="_540"></a>授课思路</h3> 
<p><img src="https://img-blog.csdnimg.cn/20200512163708324.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述">### 案例作业</p> 
<p>1.研究私有属性的含义<br> 2.研究受保护属性的含义<br> 3.编写代码实现封装和继承<br> 4.预习面向对象三大特征</p> 
<h2><a id="_552"></a>类接口</h2> 
<h3><a id="_554"></a>课程目标</h3> 
<ol><li>类接口的意义</li><li>类接口实例</li><li>继承接口</li><li>学习资料介绍</li></ol> 
<h3><a id="_561"></a>知识点</h3> 
<h4><a id="1_563"></a>1.类接口的意义</h4> 
<p>为什么需要一个接口，一个接口的实现类？接口是个规范。统一标准的目的，是大家都知道这个是做什么的，但是具体不用知道具体怎么做。定义接口有利于代码的规范：对于一个大型项目而言，架构师往往会对一些主要的接口来进行定义，或者清理一些没有必要的接口。这样做的目的一方面是为了给开发人员一个清晰的指示，告诉他们哪些业务需要实现；同时也能防止由于开发人员随意命名而导致的命名不清晰和代码混乱，影响开发效率。<br> 接口是一个标准，是一个约定，而不是一种实现，接口的目的是copy为了规范实现类，这样就可以不用具体管实现类，因为你不管怎么实现，我只要知道你百是实现了这个接口，那么你肯定有那些方法度，那么我调用这个接口的方法就肯定没问题。<br> 接口是一种高度的抽象，里面会规定一些将要实现的行为或者只作为一种标记。</p> 
<h4><a id="2_568"></a>2.类接口实例</h4> 
<pre><code class="prism language-js"><span class="token comment">//架构师定义一个接口，告诉程序员按照这个规范去开发一个类</span>
<span class="token keyword">interface</span> <span class="token class-name">PersonI</span> <span class="token punctuation">{<!-- --></span>
  name<span class="token punctuation">:</span> string<span class="token punctuation">,</span>
  <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token keyword">void</span>
<span class="token punctuation">}</span>

<span class="token comment">//一个程序员用了三天的时间开发了一个Teacher类，这个类功能相当复杂</span>
<span class="token keyword">class</span> <span class="token class-name">Teacher</span> <span class="token keyword">implements</span> <span class="token class-name">PersonI</span> <span class="token punctuation">{<!-- --></span>
  name<span class="token punctuation">:</span> string
  <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> string<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
  <span class="token punctuation">}</span>
  <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`hello!大家好！我是</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">老师，今天咱们讲一下TS!`</span></span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">//另一个程序员用了五天的时间开发了一个Student类，这个类的功能更复杂</span>
<span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token keyword">implements</span> <span class="token class-name">PersonI</span> <span class="token punctuation">{<!-- --></span>
  name<span class="token punctuation">:</span> string
  <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> string<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
  <span class="token punctuation">}</span>
  <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`老师好！我是</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,我写的代码有个报错，你帮我看看吧！`</span></span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">//Teacher类和Student类是更庞大的在线教育项目的下面的若干类里的一员</span>
<span class="token comment">//由于这个两个类都遵循相同的接口，所以使用起来很方便</span>
<span class="token keyword">let</span> teacher <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Teacher</span><span class="token punctuation">(</span><span class="token string">'徐'</span><span class="token punctuation">)</span>
teacher<span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">let</span> student <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">'韩梅梅'</span><span class="token punctuation">)</span>
student<span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<h4><a id="3_608"></a>3.继承接口</h4> 
<p>接口是类的抽象。<br> 继承接口中，一个是类的抽象，另一个是比抽象更加抽象。<br> 这点和画家在创作时先画出轮廓，然后再一点一点的勾勒细节有异曲同工之妙。<br> 在由接口组成的继承层级中，从上往下看，是由抽象到具体的过程。通过继承我们可以保留父接口中定义的行为，同时对其可以做扩展。整个继承层级，其实是类似树结构的，树的层级越深，行为就更越复杂，能做的事情就更多。上一层是对下一层共性的抽象，下层是对上层不同维度的演进。<br> 因为对事物进行抽象的粒度是有粗细之分的。</p> 
<p><img src="https://img-blog.csdnimg.cn/2020051216380518.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-js"><span class="token comment">//任何动物都有名字</span>
<span class="token keyword">interface</span> <span class="token class-name">AnimalI</span> <span class="token punctuation">{<!-- --></span>
  name<span class="token punctuation">:</span> string
<span class="token punctuation">}</span>

<span class="token comment">//不是所有动物都会说话，人会说话</span>
<span class="token keyword">interface</span> <span class="token class-name">PersonI</span> <span class="token keyword">extends</span> <span class="token class-name">AnimalI</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token keyword">void</span>
<span class="token punctuation">}</span>

<span class="token comment">//鸟会飞翔</span>
<span class="token keyword">interface</span> <span class="token class-name">BridI</span> <span class="token keyword">extends</span> <span class="token class-name">AnimalI</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">fly</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token keyword">void</span>
<span class="token punctuation">}</span>

<span class="token comment">//教师</span>
<span class="token keyword">class</span> <span class="token class-name">Teacher</span> <span class="token keyword">implements</span> <span class="token class-name">PersonI</span> <span class="token punctuation">{<!-- --></span>
  name<span class="token punctuation">:</span> string
  <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> string<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
  <span class="token punctuation">}</span>
  <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`hello!大家好！我是</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">老师，今天咱们讲一下TS!`</span></span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">//鸟</span>
<span class="token keyword">class</span> <span class="token class-name">Brid</span> <span class="token keyword">implements</span> <span class="token class-name">BridI</span> <span class="token punctuation">{<!-- --></span>
  name<span class="token punctuation">:</span> string
  <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> string<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
  <span class="token punctuation">}</span>
  <span class="token function">fly</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">会飞！`</span></span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> teacher <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Teacher</span><span class="token punctuation">(</span><span class="token string">'徐'</span><span class="token punctuation">)</span>
teacher<span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">let</span> brid <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Brid</span><span class="token punctuation">(</span><span class="token string">'乌鸦'</span><span class="token punctuation">)</span>
brid<span class="token punctuation">.</span><span class="token function">fly</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre> 
<h4><a id="4_663"></a>4.学习资料介绍</h4> 
<pre><code>接口继承接口有什么实际意义：
https://www.zhihu.com/question/48503724
继承接口：
https://zhongsp.gitbook.io/typescript-handbook/handbook/interfaces#ji-cheng-jie-kou
</code></pre> 
<h3><a id="_669"></a>授课思路</h3> 
<p><img src="https://img-blog.csdnimg.cn/20200512163820309.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p> 
<h3><a id="_673"></a>案例作业</h3> 
<p>1.定义类接口<br> 2.编写接口继承接口的代码<br> 3.上网阅读相关资料<br> 4.预习抽象类</p> 
<h2><a id="_680"></a>抽象类和多态</h2> 
<h3><a id="_682"></a>课程目标</h3> 
<ol><li>抽象类和接口的区别</li><li>抽象类实例</li><li>多态</li><li>学习资料介绍</li></ol> 
<h3><a id="_689"></a>知识点</h3> 
<h4><a id="1_691"></a>1.抽象类和接口的区别</h4> 
<p>抽象类<br> 抽象方法必须用abstract关键字进行修饰。如果一个类含有抽象方法，则称这个类为抽象类，抽象类必须在类前用abstract关键字修饰。<br> 抽象类就是为了继承而存在的<br> 如果一个类继承于一个抽象类，则子类必须实现父类的抽象方法。如果子类没有实现父类的抽象方法，则必须将子类也定义为为abstract类。</p> 
<p>抽象类和接口的区别：<br> 抽象类里面可以有方法的实现，但是接口完全都是抽象的，不存在方法的实现；<br> 子类只能继承一个抽象类，而接口可以被多个实现；<br> 抽象方法可以是public，protected，但是接口只能是public，默认的；<br> 抽象类可以有构造器，而接口不能有构造器；<br> 抽象类当做父类，被继承。且抽象类的派生类的构造函数中必须调用super()；接口可以当做“子类”继承其他类。</p> 
<p>抽象类与接口都无法实例化， 类类型接口实际上是一种 抽象类型。</p> 
<p>按个人理解，在使用类类型的接口时，类类型的接口其实就相当于抽象类的子集。抽象类中除了可以像接口那样只定义不实现外，还可以部分实现，而且也可以使用类型修饰符。</p> 
<p>类类型的接口更多的是当做一种抽象的数据类型使用，此处所说的类型通常是某个类的实例类型。<br> 接口中不能包含具体实现，抽象类中除抽象函数之外，其他函数可以包含具体实现。<br> 抽象类中的抽象方法在子类中必须实现， 接口中的非可选项在接口被调用时必须实现。<br> 抽象方法可当做类的实例方法，添加访问修饰符；但是接口不可以。<br> 抽象类: abstract 修饰， 里面可以没有抽象方法。但有抽象方法(abstract method)的类必须声明为抽象类(abstract class)</p> 
<p>抽象类的几个注意事项：</p> 
<p>1，抽象类使用abstract修饰</p> 
<p>2，抽象方法只能位于抽象类中</p> 
<p>3，抽象类不能实例化</p> 
<p>4，抽象方法没有方法体</p> 
<p>5，抽象类不能是静态类或者密封类</p> 
<p>6，子类必须重写父类的所有抽象方法，除非子类也是抽象类</p> 
<p>7，抽象类中可以有普通的方法</p> 
<p>8，抽象类中可以有构造函数</p> 
<p>9，抽象类中的抽象方法就是为了约束子类的方法形式。</p> 
<h4><a id="2_735"></a>2.抽象类实例</h4> 
<pre><code class="prism language-js"><span class="token comment">//抽象类，用于继承，不可以实例化</span>
abstract <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{<!-- --></span>
  name<span class="token punctuation">:</span> string
  <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> string<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
  <span class="token punctuation">}</span>
  <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`hello!大家好！我是</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">!`</span></span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token comment">//抽象方法</span>
  abstract <span class="token function">job</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Teacher</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> string<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">job</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'我的工作是讲课!'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> string<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">job</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'我的工作是学习!'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> teacher <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Teacher</span><span class="token punctuation">(</span><span class="token string">'徐同保'</span><span class="token punctuation">)</span>
teacher<span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
teacher<span class="token punctuation">.</span><span class="token function">job</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">let</span> student <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">'韩梅梅'</span><span class="token punctuation">)</span>
student<span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
student<span class="token punctuation">.</span><span class="token function">job</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<h4><a id="3_778"></a>3.多态</h4> 
<p>面试官：什么是多态呢？<br> 猪队友：多种形态，气体，液体，固体~<br> 面试官：go out! now!</p> 
<p>用最简单的一句话就是：父类型的引用指向子类型的对象。用一句比较通俗的话：同一操作作用于不同的对象，可以产生不同的效果。这就是多态。<br> 多种形态，既不同的对象对于同一个操作做出的响应不同。<br> 多态是同一个行为具有多个不同表现形式或形态的能力。多态就是同一个接口，使用不同的实例而执行不同操作。<br> 最终多态体现为父类引用变量可以指向子类对象。多态的前提是必须有子父类关系或者类实现接口关系，否则无法完成多态。<br> 在使用多态后的父类引用变量调用方法时，会调用子类重写后的方法。<br> 多态：同一操作作用于不同的对象，可以有不同的解释，产生不同的执行结果。在运行时，可以通过指向基类的指针，来调用实现派生类中的方法。</p> 
<p>格式：就是父类的引用变量指向子类对象<br> 父类类型 变量名 = new 子类类型();<br> 变量名.方法名();</p> 
<pre><code class="prism language-js"><span class="token keyword">let</span> teacher<span class="token punctuation">:</span> Person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Teacher</span><span class="token punctuation">(</span><span class="token string">'徐同保'</span><span class="token punctuation">)</span>
teacher<span class="token punctuation">.</span><span class="token function">job</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p>这句话很好理解：Person person = new Student(“张三”)；但是这个多态有什么作用呢？而我们又为什么要是有多态呢？</p> 
<p>首先讲下封装和继承：封装是把过程和数据包围起来，对数据的访问只能通过已定义的界面，他把实现的细节影藏起来了，比如你在java中去实现一个类，这个类中提供了一些功能方法，你只需要知道你需要传递什么样的参数，会达到什么样的效果，实现细节在类中定义好了。从而使得代码模块化；而继承可以扩展已存在的代码模块，而目的就是为了代码重用。</p> 
<p>那么多态除了代码的复用，还可以解耦。然而为什么要解耦？耦合度讲的是模块模块之间，代码代码之间的关联度，通过对系统的分析把他分解成一个一个子模块，子模块提供稳定的接口，达到降低系统耦合度的的目的，模块模块之间尽量使用模块接口访问，而不是随意引用其他模块的成员变量。</p> 
<p>多态有什么好处？</p> 
<p>有两个好处：</p> 
<ol><li>应用程序不必为每一个派生类编写功能调用，只需要对抽象基类进行处理即可。大大提高程序的可复用性。//继承</li><li>派生类的功能可以被基类的方法或引用变量所调用，这叫向后兼容，可以提高可扩充性和可维护性。 //多态的真正作用，</li></ol> 
<h4><a id="4_811"></a>4.学习资料介绍</h4> 
<p>什么是多态：<br> https://blog.csdn.net/qq_28081081/article/details/80413186<br> 多态秒懂百科：<br> https://baike.baidu.com/item/%E5%A4%9A%E6%80%81/2282489?fr=aladdin</p> 
<h3><a id="_817"></a>授课思路</h3> 
<p><img src="https://img-blog.csdnimg.cn/20200512163854974.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p> 
<h3><a id="_821"></a>案例作业</h3> 
<p>1.定义抽象类<br> 2.学习多态的概念<br> 3.上网阅读相关资料<br> 4.预习泛型</p> 
<h2><a id="_828"></a>泛型</h2> 
<h3><a id="_830"></a>课程目标</h3> 
<ol><li>使用泛型的意义</li><li>泛型接口</li><li>泛型类</li><li>学习资料介绍</li></ol> 
<h3><a id="_837"></a>知识点</h3> 
<h4><a id="1_839"></a>1.使用泛型的意义</h4> 
<p>泛型（Generics）就是类型变量，它是一种特殊的变量，只用于表示类型而不是值。泛指的类型.<br> T大约是"Type" 这个词的首字母。 a type variable.<br> 泛泛：一般，平常。交情不深的朋友。<br> 泛泛之交，意思是交情不深的朋友。<br> 泛泛来讲就是大概讲一下、从表面讲一下的意思。<br> 泛型：把类型明确的工作推迟到创建对象或调用方法的时候才去明确的特殊的类型。<br> 好处：<br> 代码更加简洁【不用强制转换】。<br> 程序更加健壮。<br> 可读性和稳定性【在编写集合的时候，就限定了类型】。</p> 
<p>泛型，即“参数化类型”。就是将类型由原来的具体的类型参数化，类似于方法中的变量参数，此时类型也定义成参数形式（可以称之为类型形参），然后在使用/调用时传入具体的类型（类型实参）。<br> 一些常用的泛型类型变量：<br> E：元素（Element），多用于java集合框架<br> K：关键字（Key）<br> N：数字（Number）<br> T：类型（Type）<br> V：值（Value）</p> 
<p>使用泛型的意义：<br> (1)适用于多种数据类型执行相同的代码（代码复用）<br> (2)泛型中的类型在使用时指定，类型安全，编译器会检查类型</p> 
<pre><code class="prism language-js"><span class="token keyword">function</span> identity<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>arg<span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">return</span> arg
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">identity</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>identity<span class="token operator">&lt;</span>string<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">identity</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<h4><a id="2_874"></a>2.泛型接口</h4> 
<pre><code class="prism language-js"><span class="token keyword">interface</span> <span class="token class-name">IEcho</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token punctuation">{<!-- --></span>
  <span class="token punctuation">(</span>arg<span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token constant">T</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> echo<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>arg<span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">return</span> arg
<span class="token punctuation">}</span>

<span class="token keyword">let</span> myEcho<span class="token punctuation">:</span> IEcho<span class="token operator">&lt;</span>number<span class="token operator">&gt;</span> <span class="token operator">=</span> echo
<span class="token keyword">let</span> myEcho2<span class="token punctuation">:</span> IEcho<span class="token operator">&lt;</span>string<span class="token operator">&gt;</span> <span class="token operator">=</span> echo

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">myEcho</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">myEcho2</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<h4><a id="3_893"></a>3.泛型类</h4> 
<pre><code class="prism language-js"><span class="token comment">//泛型类</span>
<span class="token keyword">class</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token punctuation">{<!-- --></span>
  array<span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  size<span class="token punctuation">:</span> number
  <span class="token function">add</span><span class="token punctuation">(</span>item<span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>array<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>size <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>array<span class="token punctuation">.</span>length
  <span class="token punctuation">}</span>
  <span class="token comment">//共用一套逻辑</span>
  <span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`全部数据:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span><span class="token keyword">this</span><span class="token punctuation">.</span>array<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">//创建对象时才明确类型</span>
<span class="token keyword">let</span> numberList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span>number<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
numberList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">//如果是错误类型，会报错</span>
numberList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>numberList<span class="token punctuation">.</span>size<span class="token punctuation">)</span>
numberList<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">let</span> strList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span>string<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
strList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">'xu'</span><span class="token punctuation">)</span>
strList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">'徐'</span><span class="token punctuation">)</span>
strList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>strList<span class="token punctuation">.</span>size<span class="token punctuation">)</span>
strList<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre> 
<h4><a id="4_924"></a>4.学习资料介绍</h4> 
<p>廖雪峰什么是泛型：<br> https://www.liaoxuefeng.com/wiki/1252599548343744/1265102638843296</p> 
<p>深入理解java泛型：<br> https://www.sohu.com/a/245549100_796914</p> 
<h3><a id="_931"></a>授课思路</h3> 
<p><img src="https://img-blog.csdnimg.cn/20200512163915789.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p> 
<h3><a id="_935"></a>案例作业</h3> 
<p>1.定义泛型类<br> 2.学习泛型了使用场景<br> 3.上网阅读相关资料<br> 4.预习装饰器</p> 
<h2><a id="_943"></a>装饰器</h2> 
<h3><a id="_945"></a>课程目标</h3> 
<ol><li>装饰器的意义</li><li>类的装饰器</li><li>vue-property-decorator装饰器伪代码</li><li>学习资料介绍</li></ol> 
<h3><a id="_952"></a>知识点</h3> 
<h4><a id="1_954"></a>1.装饰器的意义</h4> 
<p>Decorator 提案经过了大幅修改，目前还没有定案，不知道语法会不会再变。</p> 
<p>装饰器（Decorator）是一种与类（class）相关的语法，用来注释或修改类和类方法。许多面向对象的语言都有这项功能，目前有一个提案将其引入了 ECMAScript。</p> 
<p>装饰器是一种函数，写成@ + 函数名。它可以放在类和类方法的定义前面。</p> 
<p>它们不仅增加了代码的可读性，清晰地表达了意图，而且提供一种方便的手段，增加或修改类的功能。</p> 
<p>Decorator 是 ES7 的一个新语法，目前仍处于第2阶段提案中，正如其“装饰器”的叫法所表达的，他通过添加@方法名可以对一些对象进行装饰包装然后返回一个被包装过的对象，可以装饰的对象包括：类，属性，方法等。</p> 
<p>在 ES6 中增加了对类对象的相关定义和操作（比如 class 和 extends ），这就使得我们在多个不同类之间共享或者扩展一些方法或者行为的时候，变得并不是那么优雅。这个时候，我们就需要一种更优雅的方法来帮助我们完成这些事情。</p> 
<p>注意，装饰器对类的行为的改变，是代码编译时发生的，而不是在运行时。这意味着，装饰器能在编译阶段运行代码。也就是说，装饰器本质就是编译时执行的函数。</p> 
<h4><a id="2_969"></a>2.类的装饰器</h4> 
<p>Teacher和Student类被装饰上了新方法！</p> 
<pre><code class="prism language-js"><span class="token keyword">const</span> <span class="token function-variable function">mixins</span> <span class="token operator">=</span> <span class="token punctuation">(</span>obj<span class="token punctuation">:</span> IObj<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>target<span class="token punctuation">:</span>any<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
  Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>target<span class="token punctuation">.</span>prototype<span class="token punctuation">,</span> obj<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">IObj</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span>
  <span class="token function">walk</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> obj<span class="token punctuation">:</span> IObj <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'吃饭'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">walk</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'走路'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

@<span class="token function">mixins</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">Teacher</span> <span class="token punctuation">{<!-- --></span>
  name<span class="token punctuation">:</span> string
  <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> string<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
  <span class="token punctuation">}</span>
  <span class="token function">job</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'讲课'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

@<span class="token function">mixins</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token punctuation">{<!-- --></span>
  name<span class="token punctuation">:</span> string
  <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> string<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
  <span class="token punctuation">}</span>
  <span class="token function">job</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'学习'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> teacher <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Teacher</span><span class="token punctuation">(</span><span class="token string">'徐同保'</span><span class="token punctuation">)</span>
teacher<span class="token punctuation">.</span><span class="token function">job</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">//@ts-ignore</span>
teacher<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">let</span> student <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">'韩梅梅'</span><span class="token punctuation">)</span>

<span class="token comment">//@ts-ignore</span>
student<span class="token punctuation">.</span><span class="token function">walk</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<h4><a id="3vuepropertydecorator_1024"></a>3.vue-property-decorator装饰器伪代码</h4> 
<p>编写vue-property-decorator包提供的装饰器伪代码：Componetn、Prop、Emit。</p> 
<pre><code class="prism language-js"><span class="token comment">//类的装饰器，接收一个对象参数，对象参数可以包含一个components属性</span>
<span class="token comment">//components属性的值表达要使用的组件</span>
<span class="token keyword">const</span> <span class="token function-variable function">Component</span> <span class="token operator">=</span> <span class="token punctuation">(</span>obj<span class="token punctuation">:</span> IComponent<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>target<span class="token punctuation">:</span> any<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
  Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>target<span class="token punctuation">.</span>prototype<span class="token punctuation">,</span> obj<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">//类属性的装饰器，可以设置属性的默认值</span>
<span class="token keyword">const</span> <span class="token function-variable function">Prop</span> <span class="token operator">=</span> <span class="token punctuation">(</span>obj<span class="token punctuation">:</span> IProp<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>target<span class="token punctuation">:</span> any<span class="token punctuation">,</span> key<span class="token punctuation">:</span> string<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
  target<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> obj<span class="token punctuation">.</span><span class="token keyword">default</span>
<span class="token punctuation">}</span>

<span class="token comment">//类方法的装饰器，类方法触发时，调用父组件传递过来的方法，参数是类方法的返回值</span>
<span class="token keyword">const</span> <span class="token function-variable function">Emit</span> <span class="token operator">=</span> <span class="token punctuation">(</span>method<span class="token punctuation">:</span> string<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>target<span class="token punctuation">:</span> any<span class="token punctuation">,</span> key<span class="token punctuation">:</span> string<span class="token punctuation">,</span> descriptor<span class="token punctuation">:</span> any<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">let</span> oldValue <span class="token operator">=</span> descriptor<span class="token punctuation">.</span>value

  descriptor<span class="token punctuation">.</span><span class="token function-variable function">value</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    
    <span class="token keyword">let</span> result <span class="token operator">=</span> oldValue<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> arguments<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`触发父组件传递过来的方法：</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span>method<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)`</span></span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">IComponent</span> <span class="token punctuation">{<!-- --></span>
  components<span class="token operator">?</span><span class="token punctuation">:</span> object
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">IProp</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">default</span><span class="token punctuation">:</span> any
<span class="token punctuation">}</span>

@<span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  components<span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
    Header<span class="token punctuation">:</span> <span class="token string">'组件'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">Home</span> <span class="token punctuation">{<!-- --></span>
  @<span class="token function">Prop</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> <span class="token keyword">default</span><span class="token punctuation">:</span> <span class="token string">'zhanwei'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> 
  name<span class="token operator">!</span><span class="token punctuation">:</span> string

  @<span class="token function">Emit</span><span class="token punctuation">(</span><span class="token string">'onClick'</span><span class="token punctuation">)</span>
  <span class="token function">handleClick</span><span class="token punctuation">(</span>id<span class="token punctuation">:</span> number<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'点击事件'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span> id <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> home <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Home</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">//@ts-ignore</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>home<span class="token punctuation">.</span>components<span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>home<span class="token punctuation">.</span>name<span class="token punctuation">)</span>

home<span class="token punctuation">.</span><span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
</code></pre> 
<h4><a id="4_1084"></a>4.学习资料介绍</h4> 
<p>阮一峰讲解装饰器<br> https://es6.ruanyifeng.com/#docs/decorator</p> 
<p>装饰器提案：<br> https://tc39.es/proposal-decorators/</p> 
<h3><a id="_1092"></a>授课思路</h3> 
<p><img src="https://img-blog.csdnimg.cn/20200512163937581.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p> 
<h3><a id="_1095"></a>案例作业</h3> 
<p>1.定义类的装饰器<br> 2.定义类属性和类方法的装饰器<br> 3.预习vue+ts</p> 
<h2><a id="vueclasscomponent_1101"></a>vue-class-component基础</h2> 
<h3><a id="_1103"></a>课程目标</h3> 
<ol><li>脚手架</li><li>vue-class-component是什么</li><li>vue-class-component怎么用</li><li>学习资料介绍</li></ol> 
<h3><a id="_1110"></a>知识点</h3> 
<h4><a id="1_1112"></a>1.脚手架</h4> 
<p>vue create m-app<br> 手动选择Typescript选项和TSLint选项<br> 报错问题：<br> Missing trailing comma 缺少尾随逗号<br> Missing semicolon 缺少分号<br> 解决方案：<br> tslint.json文件里rules字段添加如下代码：</p> 
<pre><code class="prism language-json">    <span class="token string">"trailing-comma"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token boolean">false</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">"semicolon"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token boolean">false</span><span class="token punctuation">]</span>
</code></pre> 
<h4><a id="2vueclasscomponent_1125"></a>2.vue-class-component是什么</h4> 
<p>vue-class-component 是尤雨溪推出的vue对typescript支持的装饰器(库)。<br> vue-class-component 是 vue 的官方库，作用是用类的方式编写组件。<br> vue-class-component强调了几点用法：<br> 1、methods可以直接声明为类成员方法<br> 2、computed属性可以声明为类属性访问器<br> 3、data数据可以声明为类属性<br> 4、data render 和所有Vue生命周期挂钩也可以直接声明为类成员方法，但不能在实例本身上调用它们。在声明自定义方法时，应避免使用这些保留名称。</p> 
<h4><a id="3vueclasscomponent_1134"></a>3.vue-class-component怎么用</h4> 
<p>加加减减：</p> 
<pre><code class="prism language-js"><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span>count<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>button @click<span class="token operator">=</span><span class="token string">"handleSub"</span><span class="token operator">&gt;</span>减<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>button @click<span class="token operator">=</span><span class="token string">"handleAdd"</span><span class="token operator">&gt;</span>加<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> Component <span class="token keyword">from</span> <span class="token string">'vue-class-component'</span>

@Component
<span class="token keyword">class</span> <span class="token class-name">Login</span> <span class="token keyword">extends</span> <span class="token class-name">Vue</span> <span class="token punctuation">{<!-- --></span>
  count <span class="token operator">=</span> <span class="token number">0</span>

  <span class="token function">handleSub</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token operator">--</span>
  <span class="token punctuation">}</span>
  
  <span class="token function">handleAdd</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token operator">++</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<p>v-model:</p> 
<pre><code class="prism language-js"><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>input v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">"username"</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> Component <span class="token keyword">from</span> <span class="token string">'vue-class-component'</span>

@Component
<span class="token keyword">class</span> <span class="token class-name">Login</span> <span class="token keyword">extends</span> <span class="token class-name">Vue</span> <span class="token punctuation">{<!-- --></span>
  username <span class="token operator">=</span> <span class="token string">'admin'</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Login
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

</code></pre> 
<p>挂载完生命周期:</p> 
<pre><code class="prism language-js"><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
    <span class="token number">1</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> Component <span class="token keyword">from</span> <span class="token string">'vue-class-component'</span>

@Component
<span class="token keyword">class</span> <span class="token class-name">Login</span> <span class="token keyword">extends</span> <span class="token class-name">Vue</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">mounted</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'挂载完'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Login
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

</code></pre> 
<p>计算属性：</p> 
<pre><code class="prism language-js"><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span>double<span class="token punctuation">}</span><span class="token punctuation">}</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> Component <span class="token keyword">from</span> <span class="token string">'vue-class-component'</span>

@Component
<span class="token keyword">class</span> <span class="token class-name">Login</span> <span class="token keyword">extends</span> <span class="token class-name">Vue</span> <span class="token punctuation">{<!-- --></span>
  count <span class="token operator">=</span> <span class="token number">1</span>
  <span class="token keyword">get</span> <span class="token function">double</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>count <span class="token operator">*</span> <span class="token number">2</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Login
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

</code></pre> 
<h4><a id="4_1235"></a>4.学习资料介绍</h4> 
<p>vue-class-component官网（无中文版）：<br> https://class-component.vuejs.org/</p> 
<p>基本用法：<br> https://www.jianshu.com/p/2f65e9dea4f3</p> 
<h3><a id="_1243"></a>授课思路</h3> 
<p><img src="https://img-blog.csdnimg.cn/20200512163958287.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p> 
<h3><a id="_1247"></a>案例作业</h3> 
<p>1.通过脚手架搭建项目<br> 2.制作加加减减<br> 3.预习父子组件传值</p> 
<h2><a id="vuepropertydecorator_1254"></a>vue-property-decorator基础</h2> 
<h3><a id="_1256"></a>课程目标</h3> 
<ol><li>vue-property-decorator是什么</li><li>vue-property-decorator父子组件传值</li><li>学习资料介绍</li></ol> 
<h3><a id="_1262"></a>知识点</h3> 
<h4><a id="1vuepropertydecorator_1264"></a>1.vue-property-decorator是什么</h4> 
<p>vue-property-decorator社区出品；vue-class-component官方出品。<br> vue-property-decorator深度依赖了vue-class-component，拓展出了更多操作符：@Prop、@Emit等。<br> vue-property-decorator的作者是kaorun343（日本）。</p> 
<h4><a id="2vueclasscomponent_1270"></a>2.vue-class-component父子组件传值</h4> 
<pre><code>使用Component装饰器注册子组件。
</code></pre> 
<p>父组件：</p> 
<pre><code class="prism language-js"><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>Icon <span class="token punctuation">:</span>name<span class="token operator">=</span><span class="token string">"visible ? 'show' : 'hide'"</span> @onClick<span class="token operator">=</span><span class="token string">"handleVisible"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Icon<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script lang<span class="token operator">=</span><span class="token string">"ts"</span><span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> Vue<span class="token punctuation">,</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue-property-decorator'</span>
<span class="token keyword">import</span> Icon <span class="token keyword">from</span> <span class="token string">'../components/Icon.vue'</span>
@<span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  components<span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
    Icon
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">Login</span> <span class="token keyword">extends</span> <span class="token class-name">Vue</span> <span class="token punctuation">{<!-- --></span>
  visible <span class="token operator">=</span> <span class="token boolean">false</span>
  
  <span class="token function">handleVisible</span><span class="token punctuation">(</span>payload<span class="token punctuation">:</span>object<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>visible <span class="token operator">=</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>visible
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> Login
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> 
<p>使用Prop装饰器获取父组件传递过来的值。可以使用default定义默认值。使用感叹号忽略类属性没有初始化的警告。<br> 使用Emit装饰器触发父组件的方法，括号里放方法名，函数返回值是载荷。</p> 
<p>子组件：</p> 
<pre><code class="prism language-js"><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>span <span class="token punctuation">:</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"[`icon iconfont icon-${name} ${className}`]"</span> @click<span class="token operator">=</span><span class="token string">"handleClick"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script lang<span class="token operator">=</span><span class="token string">"ts"</span><span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> Vue<span class="token punctuation">,</span> Component<span class="token punctuation">,</span> Prop<span class="token punctuation">,</span> Emit <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue-property-decorator'</span>

@Component
<span class="token keyword">class</span> <span class="token class-name">Icon</span> <span class="token keyword">extends</span> <span class="token class-name">Vue</span> <span class="token punctuation">{<!-- --></span>
  @<span class="token function">Prop</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> <span class="token keyword">default</span><span class="token punctuation">:</span> <span class="token string">'zhanwei'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  name<span class="token operator">!</span><span class="token punctuation">:</span> string

  @<span class="token function">Prop</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> <span class="token keyword">default</span><span class="token punctuation">:</span> <span class="token string">''</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  className<span class="token operator">!</span><span class="token punctuation">:</span> string

  @<span class="token function">Emit</span><span class="token punctuation">(</span><span class="token string">'onClick'</span><span class="token punctuation">)</span>
  <span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span> id<span class="token punctuation">:</span> <span class="token number">2</span> <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Icon
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> 
<h4><a id="3_1327"></a>3.学习资料介绍</h4> 
<p>vue-property-decorator官网：<br> https://github.com/kaorun343/vue-property-decorator</p> 
<h3><a id="_1332"></a>授课思路</h3> 
<p><img src="https://img-blog.csdnimg.cn/20200512164023203.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p> 
<h3><a id="_1336"></a>案例作业</h3> 
<p>1.通过vue-property-decorator做父子组件传值<br> 2.上网查询相关质料<br> 3.预习vuex-class</p> 
<h2><a id="vuexclass_1342"></a>vuex-class基础</h2> 
<h3><a id="_1344"></a>课程目标</h3> 
<ol><li>vuex-class是什么</li><li>vuex-class同步修改仓库</li><li>vuex-class异步修改仓库</li><li>学习资料介绍</li></ol> 
<h3><a id="_1351"></a>知识点</h3> 
<h4><a id="1vueclass_1353"></a>1.vue-class是什么</h4> 
<pre><code>vuex-class可以包装vuex的写法，使代码简化。
vuex-class使vuex和vue-class-component相结合更简单。
vuex-class的作者是ktsn（新加坡）。
</code></pre> 
<h4><a id="2vuexclass_1358"></a>2.vuex-class同步修改仓库</h4> 
<pre><code>使用仓库做加加减减。
@State
@Mutation
</code></pre> 
<p>仓库：</p> 
<pre><code class="prism language-js"><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> Vuex <span class="token keyword">from</span> <span class="token string">'vuex'</span>

Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Vuex<span class="token punctuation">)</span>

<span class="token keyword">interface</span> <span class="token class-name">Payload</span> <span class="token punctuation">{<!-- --></span>
  key<span class="token punctuation">:</span> string<span class="token punctuation">,</span>
  value<span class="token punctuation">:</span> any
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  state<span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
    count<span class="token punctuation">:</span> <span class="token number">0</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  mutations<span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">setState</span><span class="token punctuation">(</span>state<span class="token punctuation">:</span>any<span class="token punctuation">,</span> payload<span class="token punctuation">:</span>Payload<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      state<span class="token punctuation">[</span>payload<span class="token punctuation">.</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> payload<span class="token punctuation">.</span>value
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  actions<span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  modules<span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre> 
<p>页面：</p> 
<pre><code class="prism language-js"><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span>count<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>button @click<span class="token operator">=</span><span class="token string">"handleSub"</span><span class="token operator">&gt;</span>减<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>button @click<span class="token operator">=</span><span class="token string">"handleAdd"</span><span class="token operator">&gt;</span>加<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script lang<span class="token operator">=</span><span class="token string">"ts"</span><span class="token operator">&gt;</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> Component <span class="token keyword">from</span> <span class="token string">'vue-class-component'</span>
<span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> State<span class="token punctuation">,</span> Mutation <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vuex-class'</span>

@Component
<span class="token keyword">class</span> <span class="token class-name">Login</span> <span class="token keyword">extends</span> <span class="token class-name">Vue</span> <span class="token punctuation">{<!-- --></span>
  @<span class="token function">State</span><span class="token punctuation">(</span><span class="token string">'count'</span><span class="token punctuation">)</span> count<span class="token operator">!</span><span class="token punctuation">:</span>number
  @<span class="token function">Mutation</span><span class="token punctuation">(</span><span class="token string">'setState'</span><span class="token punctuation">)</span> setState<span class="token operator">!</span><span class="token punctuation">:</span>Function

  <span class="token function">handleSub</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">let</span> count <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>count <span class="token operator">-</span> <span class="token number">1</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> key<span class="token punctuation">:</span> <span class="token string">'count'</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> count <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function">handleAdd</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">let</span> count <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token number">1</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> key<span class="token punctuation">:</span> <span class="token string">'count'</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> count <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Login
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

</code></pre> 
<h4><a id="3vuexclass_1428"></a>3.vuex-class异步修改仓库</h4> 
<pre><code>@Action
</code></pre> 
<p>获取数据：</p> 
<pre><code class="prism language-js"><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"m-main m-home"</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>Sidebar<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Sidebar<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>List<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>List<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script lang<span class="token operator">=</span><span class="token string">"ts"</span><span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> Vue<span class="token punctuation">,</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue-property-decorator'</span>
<span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> Action <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vuex-class'</span>
<span class="token keyword">import</span> Sidebar <span class="token keyword">from</span> <span class="token string">'../components/Sidebar.vue'</span>
<span class="token keyword">import</span> List <span class="token keyword">from</span> <span class="token string">'../components/List.vue'</span>

@<span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  components<span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
    Sidebar<span class="token punctuation">,</span>
    List
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Home</span> <span class="token keyword">extends</span> <span class="token class-name">Vue</span> <span class="token punctuation">{<!-- --></span>
  @<span class="token function">Action</span><span class="token punctuation">(</span><span class="token string">'list'</span><span class="token punctuation">)</span> list<span class="token punctuation">:</span>any
  
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>style<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
</code></pre> 
<p>提交action并且带载荷：</p> 
<pre><code class="prism language-js"><span class="token operator">&lt;</span>script lang<span class="token operator">=</span><span class="token string">"ts"</span><span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> Vue<span class="token punctuation">,</span> Component<span class="token punctuation">,</span> Prop <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue-property-decorator'</span>
<span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> State<span class="token punctuation">,</span> Action <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vuex-class'</span>

@Component
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">MyBookItem</span> <span class="token keyword">extends</span> <span class="token class-name">Vue</span> <span class="token punctuation">{<!-- --></span>
  @<span class="token function">Prop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> book<span class="token operator">!</span><span class="token punctuation">:</span>any
  @<span class="token function">State</span><span class="token punctuation">(</span>state <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>myBooks<span class="token punctuation">)</span> myBooks<span class="token operator">!</span><span class="token punctuation">:</span> any<span class="token punctuation">[</span><span class="token punctuation">]</span>
  @<span class="token function">Action</span><span class="token punctuation">(</span><span class="token string">'myBooksAction'</span><span class="token punctuation">)</span> myBooksAction<span class="token operator">!</span><span class="token punctuation">:</span>Function

  <span class="token function">handleAdd</span><span class="token punctuation">(</span>id<span class="token punctuation">:</span>number<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">myBooksAction</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> data<span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span> id<span class="token punctuation">,</span> operation<span class="token punctuation">:</span> <span class="token string">'add'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> method<span class="token punctuation">:</span> <span class="token string">'patch'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">handleSub</span><span class="token punctuation">(</span>id<span class="token punctuation">:</span>number<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>  
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">myBooksAction</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> data<span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span> id<span class="token punctuation">,</span> operation<span class="token punctuation">:</span> <span class="token string">'sub'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> method<span class="token punctuation">:</span> <span class="token string">'patch'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>   
  <span class="token punctuation">}</span>
  <span class="token function">handleInput</span><span class="token punctuation">(</span>id<span class="token punctuation">:</span>number<span class="token punctuation">,</span> e<span class="token punctuation">:</span>any<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">let</span> myBooks <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>myBooks
    <span class="token keyword">let</span> count <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/[^\d]/g</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">0</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      count <span class="token operator">=</span> <span class="token number">1</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">myBooksAction</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> data<span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span> id<span class="token punctuation">,</span> operation<span class="token punctuation">:</span> <span class="token string">'inputCount'</span><span class="token punctuation">,</span> count <span class="token punctuation">}</span><span class="token punctuation">,</span> method<span class="token punctuation">:</span> <span class="token string">'patch'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">handleChecked</span><span class="token punctuation">(</span>id<span class="token punctuation">:</span>number<span class="token punctuation">,</span> e<span class="token punctuation">:</span>any<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">myBooksAction</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> data<span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span> id<span class="token punctuation">,</span> operation<span class="token punctuation">:</span> <span class="token string">'checked'</span><span class="token punctuation">,</span> checked<span class="token punctuation">:</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>checked <span class="token punctuation">}</span><span class="token punctuation">,</span> method<span class="token punctuation">:</span> <span class="token string">'patch'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>   
  <span class="token function">handleDelete</span><span class="token punctuation">(</span>id<span class="token punctuation">:</span>number<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">myBooksAction</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> data<span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span> ids<span class="token punctuation">:</span> <span class="token punctuation">[</span>id<span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> method<span class="token punctuation">:</span> <span class="token string">'delete'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>    
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> 
<h4><a id="4_1502"></a>4.学习资料介绍</h4> 
<p>vuex-class官网：<br> https://github.com/ktsn/vuex-class</p> 
<h3><a id="_1507"></a>授课思路</h3> 
<p><img src="https://img-blog.csdnimg.cn/20200512164041457.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p> 
<h3><a id="_1511"></a>案例作业</h3> 
<p>1.使用vuex-class编写同步事件和异步事件<br> 2.上网查阅相关资料<br> 3.预习react+ts</p>
                ]]></description></item><item><title>TS入门</title><link>http://www.cnblogs.com/xutongbao/archive/2020/04/15/14876297.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 15 Apr 2020 05:18:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2020/04/15/14876297.html</guid><description><![CDATA[
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="%E4%B8%80%E3%80%81%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B-toc" style="margin-left:80px;"><a href="#%E4%B8%80%E3%80%81%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B">一、快速上手</a></p> 
<p id="%E4%BA%8C%E3%80%81vue%E7%9A%84TS-toc" style="margin-left:80px;"><a href="#%E4%BA%8C%E3%80%81vue%E7%9A%84TS">二、vue的TS</a></p> 
<p id="%E4%B8%89%E3%80%81%E4%BD%BF%E7%94%A8vue-class-component-toc" style="margin-left:80px;"><a href="#%E4%B8%89%E3%80%81%E4%BD%BF%E7%94%A8vue-class-component">三、使用vue-class-component</a></p> 
<p id="%E5%9B%9B%E3%80%81vue-property-decorator-toc" style="margin-left:80px;"><a href="#%E5%9B%9B%E3%80%81vue-property-decorator">四、vue-property-decorator</a></p> 
<p id="%E4%BA%94%E3%80%81TypeScript%20%E4%B8%8D%E9%80%82%E5%90%88%E5%9C%A8%20vue%20%E4%B8%9A%E5%8A%A1%E5%BC%80%E5%8F%91%E4%B8%AD%E4%BD%BF%E7%94%A8%E5%90%97%EF%BC%9F-toc" style="margin-left:80px;"><a href="#%E4%BA%94%E3%80%81TypeScript%20%E4%B8%8D%E9%80%82%E5%90%88%E5%9C%A8%20vue%20%E4%B8%9A%E5%8A%A1%E5%BC%80%E5%8F%91%E4%B8%AD%E4%BD%BF%E7%94%A8%E5%90%97%EF%BC%9F">五、TypeScript 不适合在 vue 业务开发中使用吗？</a></p> 
<p id="%E5%85%AD%E3%80%81Property%20'name'%20has%20no%20initializer-toc" style="margin-left:80px;"><a href="#%E5%85%AD%E3%80%81Property%20'%20rel=">六、Property 'name' has no initializer</a></p> 
<p id="%E4%B8%83%E3%80%81%E4%B8%8B%E8%BD%BD%E9%87%8F%E5%AF%B9%E6%AF%94-toc" style="margin-left:80px;"><a href="#%E4%B8%83%E3%80%81%E4%B8%8B%E8%BD%BD%E9%87%8F%E5%AF%B9%E6%AF%94">七、下载量对比</a></p> 
<p id="%E5%85%AB%E3%80%81tsconfig.json-toc" style="margin-left:80px;"><a href="#%E5%85%AB%E3%80%81tsconfig.json">八、tsconfig.json</a></p> 
<p id="%E4%B9%9D%E3%80%81shims-vue.d.ts-toc" style="margin-left:80px;"><a href="#%E4%B9%9D%E3%80%81shims-vue.d.ts">九、shims-vue.d.ts</a></p> 
<p id="%E5%8D%81%E3%80%81shims-tsx.d.ts-toc" style="margin-left:80px;"><a href="#%E5%8D%81%E3%80%81shims-tsx.d.ts">十、shims-tsx.d.ts</a></p> 
<p id="%E5%8D%81%E4%B8%80%E3%80%81vuex-class-toc" style="margin-left:80px;"><a href="#%E5%8D%81%E4%B8%80%E3%80%81vuex-class">十一、vuex-class</a></p> 
<p id="%E5%8D%81%E4%BA%8C%E3%80%81ts-toc" style="margin-left:80px;"><a href="#%E5%8D%81%E4%BA%8C%E3%80%81ts">十二、ts</a></p> 
<p id="%E5%8D%81%E4%B8%89%E3%80%81%E8%A3%85%E9%A5%B0%E5%99%A8%EF%BC%88Decorator%EF%BC%89-toc" style="margin-left:80px;"><a href="#%E5%8D%81%E4%B8%89%E3%80%81%E8%A3%85%E9%A5%B0%E5%99%A8%EF%BC%88Decorator%EF%BC%89">十三、装饰器（Decorator）</a></p> 
<p id="%E5%8D%81%E5%9B%9B%E3%80%81%E7%BA%A2%E7%BB%BF%E7%81%AF-toc" style="margin-left:80px;"><a href="#%E5%8D%81%E5%9B%9B%E3%80%81%E7%BA%A2%E7%BB%BF%E7%81%AF">十四、红绿灯</a></p> 
<p id="%E5%8D%81%E4%BA%94%E3%80%81Property%20'%24router'%20does%20not%20exist%20on%20type%20'Login'-toc" style="margin-left:80px;"><a href="#%E5%8D%81%E4%BA%94%E3%80%81Property%20'%20rel=">十五、Property '$router' does not exist on type 'Login'</a></p> 
<p id="%E5%8D%81%E5%85%AD%E3%80%81%E4%BD%BF%E7%94%A8createDecorator%E8%87%AA%E5%AE%9A%E4%B9%89%E8%A3%85%E9%A5%B0%E5%99%A8-toc" style="margin-left:80px;"><a href="#%E5%8D%81%E5%85%AD%E3%80%81%E4%BD%BF%E7%94%A8createDecorator%E8%87%AA%E5%AE%9A%E4%B9%89%E8%A3%85%E9%A5%B0%E5%99%A8">十六、使用createDecorator自定义装饰器</a></p> 
<p id="%E5%8D%81%E4%B8%83%E3%80%81TSLint%E5%8E%BB%E6%8E%89%E5%88%86%E5%8F%B7%E5%92%8C%E9%80%97%E5%8F%B7%E7%9A%84%E6%A3%80%E6%9F%A5-toc" style="margin-left:80px;"><a href="#%E5%8D%81%E4%B8%83%E3%80%81TSLint%E5%8E%BB%E6%8E%89%E5%88%86%E5%8F%B7%E5%92%8C%E9%80%97%E5%8F%B7%E7%9A%84%E6%A3%80%E6%9F%A5">十七、TSLint去掉分号和逗号的检查</a></p> 
<p id="%E5%8D%81%E5%85%AB%E3%80%81react%E4%B8%8ETS-toc" style="margin-left:80px;"><a href="#%E5%8D%81%E5%85%AB%E3%80%81react%E4%B8%8ETS">十八、react与TS</a></p> 
<p id="%E5%8D%81%E4%B9%9D%E3%80%81%E5%9B%BE%E7%89%87%E8%BD%ACbase64-toc" style="margin-left:80px;"><a href="#%E5%8D%81%E4%B9%9D%E3%80%81%E5%9B%BE%E7%89%87%E8%BD%ACbase64">十九、图片转base64</a></p> 
<p id="%E4%BA%8C%E5%8D%81%E3%80%81React%2BTS-toc" style="margin-left:80px;"><a href="#%E4%BA%8C%E5%8D%81%E3%80%81React%2BTS">二十、React+TS</a></p> 
<p id="%E4%BA%8C%E5%8D%81%E4%B8%80%E3%80%81%E5%A4%96%E9%83%A8%E5%A3%B0%E6%98%8E%E5%92%8C%E4%B8%89%E6%96%9C%E7%BA%BF%E6%8C%87%E4%BB%A4-toc" style="margin-left:80px;"><a href="#%E4%BA%8C%E5%8D%81%E4%B8%80%E3%80%81%E5%A4%96%E9%83%A8%E5%A3%B0%E6%98%8E%E5%92%8C%E4%B8%89%E6%96%9C%E7%BA%BF%E6%8C%87%E4%BB%A4">二十一、外部声明和三斜线指令</a></p> 
<p id="%E4%BA%8C%E5%8D%81%E4%BA%8C%E3%80%81TS%2BWebpack-toc" style="margin-left:80px;"><a href="#%E4%BA%8C%E5%8D%81%E4%BA%8C%E3%80%81TS%2BWebpack">二十二、TS+Webpack</a></p> 
<p id="%E4%BA%8C%E5%8D%81%E4%B8%89%E3%80%81yarn%E6%B8%85%E7%BC%93%E5%AD%98%E5%92%8C%E5%8D%B8%E8%BD%BD%E5%85%A8%E5%B1%80%E5%AE%89%E8%A3%85%E7%9A%84%E5%8C%85-toc" style="margin-left:80px;"><a href="#%E4%BA%8C%E5%8D%81%E4%B8%89%E3%80%81yarn%E6%B8%85%E7%BC%93%E5%AD%98%E5%92%8C%E5%8D%B8%E8%BD%BD%E5%85%A8%E5%B1%80%E5%AE%89%E8%A3%85%E7%9A%84%E5%8C%85">二十三、yarn清缓存和卸载全局安装的包</a></p> 
<p id="%E4%BA%8C%E5%8D%81%E5%9B%9B%E3%80%81%E4%BF%AE%E6%94%B9%E8%84%9A%E6%89%8B%E6%9E%B6%E4%BD%BF%E7%94%A8npm%E4%B8%8B%E8%BD%BD%E8%BF%98%E6%98%AF%E4%BD%BF%E7%94%A8yarn%E4%B8%8B%E8%BD%BD-toc" style="margin-left:80px;"><a href="#%E4%BA%8C%E5%8D%81%E5%9B%9B%E3%80%81%E4%BF%AE%E6%94%B9%E8%84%9A%E6%89%8B%E6%9E%B6%E4%BD%BF%E7%94%A8npm%E4%B8%8B%E8%BD%BD%E8%BF%98%E6%98%AF%E4%BD%BF%E7%94%A8yarn%E4%B8%8B%E8%BD%BD">二十四、修改脚手架使用npm下载还是使用yarn下载</a></p> 
<p id="%E4%BA%8C%E5%8D%81%E4%BA%94%E3%80%81%E5%80%92%E8%AE%A1%E6%97%B6-toc" style="margin-left:80px;"><a href="#%E4%BA%8C%E5%8D%81%E4%BA%94%E3%80%81%E5%80%92%E8%AE%A1%E6%97%B6">二十五、倒计时</a></p> 
<p id="%E5%8F%82%E8%80%83%E9%93%BE%E6%8E%A5%EF%BC%9A-toc" style="margin-left:80px;"><a href="#%E5%8F%82%E8%80%83%E9%93%BE%E6%8E%A5%EF%BC%9A">参考链接：</a></p> 
<hr id="hr-toc">
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<h3 id="%E4%B8%80%E3%80%81%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B">一、快速上手</h3> 
<p><code>TypeScript</code> 是 <code>JavaScript</code> 的强类型版本。然后在编译期去掉类型和特有语法，生成纯粹的 <code>JavaScript</code> 代码。</p> 
<p><code>TypeScript</code> 是 <code>JavaScript</code> 的超集，这意味着他支持所有的 <code>JavaScript</code> 语法。</p> 
<p>强类型语言的优势在于静态类型检查。</p> 
<p>TypeScript是微软开发的语言。</p> 
<p>vue3.0使用ts开发。</p> 
<p>是github开源项目：<a href="https://github.com/Microsoft/TypeScript">https://github.com/Microsoft/TypeScript</a></p> 
<p>2012 年 10 月诞生。</p> 
<p>vscode是用ts编写的：<a href="https://github.com/Microsoft/vscode/">https://github.com/Microsoft/vscode/</a></p> 
<p>装包：</p> 
<pre><code class="language-javascript">yarn global add typescript</code></pre> 
<p>检查版本：</p> 
<pre><code class="language-javascript"> tsc -V</code></pre> 
<p>初始化：</p> 
<pre><code class="language-javascript">tsc --init</code></pre> 
<p>&nbsp;</p> 
<p>index.ts:</p> 
<pre><code class="language-javascript">function greeter(person) {
  return "Hello, " + person;
}

let user = "Jane User";

document.body.innerHTML = greeter(user);</code></pre> 
<p>编程成js文件：</p> 
<pre><code class="language-javascript">tsc index.ts</code></pre> 
<p>index.js:</p> 
<pre><code class="language-javascript">function greeter(person) {
    return "Hello, " + person;
}
var user = "Jane User";
document.body.innerHTML = greeter(user);
</code></pre> 
<p>类型检查：</p> 
<p>如果函数参数声明是字符串，却传了数字，会有警告信息</p> 
<pre><code class="language-javascript">function greeter(person:string) {
  return "Hello, " + person;
}

let user = 1;

document.body.innerHTML = greeter(user);
</code></pre> 
<p><img alt="" height="174" src="https://img-blog.csdnimg.cn/2020041513273152.png" width="1147"></p> 
<p>及时不传参数也会报错：</p> 
<p><img alt="" src="https://img-blog.csdnimg.cn/20200415132836551.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p> 
<p>interface接口：</p> 
<p>定义Person包含的字段</p> 
<pre><code class="language-javascript">interface Person {
  firstName: string;
  lastName: string;
}

function greeter(person: Person) {
  return "Hello, " + person.firstName + " " + person.lastName;
}

let user = { firstName: "Jane", lastName: "User" };

document.body.innerHTML = greeter(user);
</code></pre> 
<p>使用class创建类：</p> 
<pre><code class="language-javascript">class Student {
    fullName: string;
    constructor(public firstName, public middleInitial, public lastName) {
        this.fullName = firstName + " " + middleInitial + " " + lastName;
    }
}

interface Person {
    firstName: string;
    lastName: string;
}

function greeter(person : Person) {
    return "Hello, " + person.firstName + " " + person.lastName;
}

let user = new Student("Jane", "M.", "User");

document.body.innerHTML = greeter(user);</code></pre> 
<p>编译后是：</p> 
<pre><code class="language-javascript">var Student = /** @class */ (function () {
    function Student(firstName, middleInitial, lastName) {
        this.firstName = firstName;
        this.middleInitial = middleInitial;
        this.lastName = lastName;
        this.fullName = firstName + " " + middleInitial + " " + lastName;
    }
    return Student;
}());
function greeter(person) {
    return "Hello, " + person.firstName + " " + person.lastName;
}
var user = new Student("Jane", "M.", "User");
document.body.innerHTML = greeter(user);
</code></pre> 
<p>访问网页，index.html：</p> 
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
  &lt;title&gt;Document&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;script src="./index.js"&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre> 
<p>效果：</p> 
<p><img alt="" src="https://img-blog.csdnimg.cn/20200415134230790.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p> 
<p>自动补全功能：</p> 
<p><img alt="" src="https://img-blog.csdnimg.cn/20200415134918716.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p> 
<h3 id="%E4%BA%8C%E3%80%81vue%E7%9A%84TS">二、vue的TS</h3> 
<p>引入Vue文件的时候需要加上<code>.vue</code>后缀,否则编辑器识别不到</p> 
<p>TS路由：</p> 
<pre><code class="language-javascript">import Vue from 'vue'
import VueRouter, { RouteConfig } from 'vue-router'
import Home from '../views/Home.vue'

Vue.use(VueRouter)

  const routes: Array&lt;RouteConfig&gt; = [
  {
    path: '/',
    name: 'Home',
    component: Home
  },
  {
    path: '/about',
    name: 'About',
    // route level code-splitting
    // this generates a separate chunk (about.[hash].js) for this route
    // which is lazy-loaded when the route is visited.
    component: () =&gt; import(/* webpackChunkName: "about" */ '../views/About.vue')
  }
]

const router = new VueRouter({
  mode: 'history',
  base: process.env.BASE_URL,
  routes
})

export default router
</code></pre> 
<pre><code class="language-javascript">import Vue from 'vue'
import VueRouter, { RouteConfig } from 'vue-router'

Vue.use(VueRouter)

  const routes: Array&lt;RouteConfig&gt; = [
  {
    path: '/',
    redirect: '/login'
  },
  {
    path: '/login',
    component: () =&gt; import('../views/Login.vue')
  }
]

const router = new VueRouter({
  mode: 'history',
  base: process.env.BASE_URL,
  routes
})

export default router
</code></pre> 
<h3 id="%E4%B8%89%E3%80%81%E4%BD%BF%E7%94%A8vue-class-component">三、使用vue-class-component</h3> 
<p><a href="https://class-component.vuejs.org/">https://class-component.vuejs.org/</a></p> 
<p><a href="https://github.com/vuejs/vue-class-component#readme">https://github.com/vuejs/vue-class-component#readme</a></p> 
<p>annotating:注释</p> 
<p>加加减减：</p> 
<pre><code class="language-javascript">&lt;template&gt;
  &lt;div&gt;
    &lt;div&gt;{<!-- -->{count}}&lt;/div&gt;
    &lt;button @click="handleSub"&gt;减&lt;/button&gt;
    &lt;button @click="handleAdd"&gt;加&lt;/button&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
import Vue from 'vue'
import Component from 'vue-class-component'

@Component
class Login extends Vue {
  count = 0

  handleSub() {
    this.count--
  }
  
  handleAdd() {
    this.count++
  }
}

export default Login
&lt;/script&gt;
</code></pre> 
<p>或者:</p> 
<pre><code class="language-javascript">&lt;template&gt;
  &lt;div&gt;
    &lt;div&gt;{<!-- -->{count}}&lt;/div&gt;
    &lt;button @click="handleSub"&gt;减&lt;/button&gt;
    &lt;button @click="handleAdd"&gt;加&lt;/button&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
import Vue from 'vue'
import Component from 'vue-class-component'

@Component
class Login extends Vue {
  data() {
    return {
      count: 0
    }
  }

  handleSub() {
    this.count--
  }
  
  handleAdd() {
    this.count++
  }
}

export default Login
&lt;/script&gt;
</code></pre> 
<p>&nbsp;</p> 
<p>v-model：</p> 
<pre><code class="language-javascript">&lt;template&gt;
  &lt;div&gt;
    &lt;input v-model="username"&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
import Vue from 'vue'
import Component from 'vue-class-component'

@Component
class Login extends Vue {
  username = 'admin'
}

export default Login
&lt;/script&gt;
</code></pre> 
<p>挂载完生命周期：</p> 
<pre><code class="language-javascript">&lt;template&gt;
  &lt;div&gt;
    1
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
import Vue from 'vue'
import Component from 'vue-class-component'

@Component
class Login extends Vue {
  mounted () {
    console.log('挂载完')
  }
}

export default Login
&lt;/script&gt;
</code></pre> 
<p>计算属性：</p> 
<pre><code class="language-javascript">&lt;template&gt;
  &lt;div&gt;
    {<!-- -->{double}}
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
import Vue from 'vue'
import Component from 'vue-class-component'

@Component
class Login extends Vue {
  count = 1
  get double() {
    return this.count * 2
  }
}

export default Login
&lt;/script&gt;
</code></pre> 
<p>父子组件传值：</p> 
<p>父组件</p> 
<pre><code class="language-javascript">&lt;template&gt;
  &lt;div&gt;
    &lt;Icon :name="visible ? 'xianshimima' : 'buxianshimima'" @onClick="handleVisible"&gt;&lt;/Icon&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
import Vue from 'vue'
import Component from 'vue-class-component'
import Icon from '../components/Icon'

@Component({
  components: {
    Icon
  }
})
class Login extends Vue {
  visible = false
  
  handleVisible() {
    this.visible = !this.visible
  }
}

export default Login
&lt;/script&gt;
</code></pre> 
<p>子组件</p> 
<pre><code class="language-javascript">&lt;template&gt;
  &lt;span :class="[`icon iconfont icon-${name}`]" @click="handleClick"&gt;&lt;/span&gt;
&lt;/template&gt;

&lt;script lang="ts"&gt;
import Vue from 'vue'
import { Component, Prop } from 'vue-property-decorator'

@Component
class Icon extends Vue {
  @Prop()
  name: string

  handleClick() {
    this.$emit('onClick')
  }
}

export default Icon
&lt;/script&gt;</code></pre> 
<p>子组件也可以写成这种</p> 
<pre><code class="language-javascript">&lt;template&gt;
  &lt;span :class="[`icon iconfont icon-${name}`]" @click="handleClick"&gt;&lt;/span&gt;
&lt;/template&gt;

&lt;script lang="ts"&gt;
import Vue from 'vue'
import Component from 'vue-class-component'

const IconProps = Vue.extend({
  props: {
   name: String 
  }
})

@Component
class Icon extends IconProps {
  handleClick() {
    this.$emit('onClick')
  }
}

export default Icon
&lt;/script&gt;</code></pre> 
<p>增加路由hook：</p> 
<p>vue-class-component.ts</p> 
<pre><code class="language-javascript">import Component from 'vue-class-component'

Component.registerHooks([
  "beforeRouteEnter"
])</code></pre> 
<p>在入口文件main.ts里引入这个文件</p> 
<p>在组件里可以使用</p> 
<pre><code class="language-javascript">&lt;script&gt;
import Vue from 'vue'
import Component from 'vue-class-component'

@Component
export default class Test2 extends Vue {
  beforeRouteEnter(to, from, next) {
    console.log(1)
    next()
  }
}
&lt;/script&gt;</code></pre> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<h3 id="%E5%9B%9B%E3%80%81vue-property-decorator">四、vue-property-decorator</h3> 
<p><a href="https://www.npmjs.com/package/vue-property-decorator">https://www.npmjs.com/package/vue-property-decorator</a></p> 
<p>vue属性装饰器</p> 
<p>父子组件传值，传参</p> 
<p>父组件：</p> 
<pre><code class="language-javascript">&lt;template&gt;
  &lt;div&gt;
    &lt;Icon :name="visible ? 'show' : 'hide'" @onClick="handleVisible"&gt;&lt;/Icon&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script lang="ts"&gt;
import { Vue, Component } from 'vue-property-decorator'
import Icon from '../components/Icon.vue'

@Component({
  components: {
    Icon
  }
})
class Login extends Vue {
  visible = false
  
  handleVisible(payload:object) {
    this.visible = !this.visible
  }
}

export default Login
&lt;/script&gt;
</code></pre> 
<p>子组件：</p> 
<pre><code class="language-javascript">&lt;template&gt;
  &lt;span :class="[`icon iconfont icon-${name} ${className}`]" @click="handleClick"&gt;&lt;/span&gt;
&lt;/template&gt;

&lt;script lang="ts"&gt;
import { Vue, Component, Prop, Emit } from 'vue-property-decorator'

@Component
class Icon extends Vue {
  @Prop({ default: 'zhanwei' })
  name!: string

  @Prop({ default: '' })
  className!: string

  @Emit('onClick')
  handleClick() {
    return { id: 2 }
  }
}

export default Icon
&lt;/script&gt;</code></pre> 
<h3 id="%E4%BA%94%E3%80%81TypeScript%20%E4%B8%8D%E9%80%82%E5%90%88%E5%9C%A8%20vue%20%E4%B8%9A%E5%8A%A1%E5%BC%80%E5%8F%91%E4%B8%AD%E4%BD%BF%E7%94%A8%E5%90%97%EF%BC%9F">五、TypeScript 不适合在 vue 业务开发中使用吗？</h3> 
<p><a href="https://www.zhihu.com/question/310485097/answer/591869966">https://www.zhihu.com/question/310485097/answer/591869966</a></p> 
<p>&nbsp;</p> 
<h3 id="%E5%85%AD%E3%80%81Property%20'name'%20has%20no%20initializer">六、Property 'name' has no initializer</h3> 
<p>Property 'name' has no initializer and is not definitely assigned in the constructor.</p> 
<p>解决办法一：</p> 
<p>把tsconfig.json文件里的strict字段改成false</p> 
<p><img alt="" src="https://img-blog.csdnimg.cn/2020041611441984.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p> 
<p>解决办法二：</p> 
<p>在属性名后面加叹号，这是一种修饰符，标识忽略</p> 
<pre><code class="language-javascript">&lt;template&gt;
  &lt;span :class="[`icon iconfont icon-${name}`]" @click="handleClick"&gt;&lt;/span&gt;
&lt;/template&gt;

&lt;script lang="ts"&gt;
import { Vue, Component, Prop, Emit } from 'vue-property-decorator'

@Component
class Icon extends Vue {
  @Prop({ default: 'zhanwei' })
  name!: string

  @Emit('onClick')
  handleClick() {
    return { id: 2 }
  }
}

export default Icon
&lt;/script&gt;</code></pre> 
<h3 id="%E4%B8%83%E3%80%81%E4%B8%8B%E8%BD%BD%E9%87%8F%E5%AF%B9%E6%AF%94">七、下载量对比</h3> 
<p><img alt="" src="https://img-blog.csdnimg.cn/20200416143440894.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p> 
<p>&nbsp;</p> 
<h3 id="%E5%85%AB%E3%80%81tsconfig.json">八、tsconfig.json</h3> 
<p>ts的配置</p> 
<pre><code class="language-javascript">{
  "compilerOptions": {
    "target": "esnext", //编译的目标版本
    "module": "esnext", //指定生成哪个模块系统代码
    "strict": true,  //静态类型检查
    "jsx": "preserve",  //
    "importHelpers": true,
    "moduleResolution": "node",
    "experimentalDecorators": true,
    "esModuleInterop": true,
    "allowSyntheticDefaultImports": true,
    "sourceMap": true,  // 是否生成map文件
    "baseUrl": ".",
    "types": [
      "webpack-env"
    ],
    "paths": {
      "@/*": [
        "src/*"
      ]
    },
    "lib": [
      "esnext",
      "dom",
      "dom.iterable",
      "scripthost"
    ]
  },
  "include": [
    "src/**/*.ts",
    "src/**/*.tsx",
    "src/**/*.vue",
    "tests/**/*.ts",
    "tests/**/*.tsx"
  ],
  "exclude": [
    "node_modules"
  ]
}
</code></pre> 
<p>&nbsp;</p> 
<h3 id="%E4%B9%9D%E3%80%81shims-vue.d.ts">九、shims-vue.d.ts</h3> 
<p>shims: 垫片</p> 
<p>由于 TypeScript 默认并不支持 *.vue 后缀的文件，所以在 vue 项目中引入的时候需要创建一个shims-vue.d.ts 文件，放在项目应使用目录下，例如 src/shims-vue.d.ts，用来支持*.vue 后缀的文件；</p> 
<p>主要用于 TypeScript 识别.vue 文件，Ts默认并不支持导入 vue 文件，这个文件告诉ts 导入.vue 文件都按VueConstructor&lt;Vue&gt;处理</p> 
<p>&nbsp;</p> 
<pre><code class="language-javascript">declare module '*.vue' {
  import Vue from 'vue'
  export default Vue
}
</code></pre> 
<h3 id="%E5%8D%81%E3%80%81shims-tsx.d.ts">十、shims-tsx.d.ts</h3> 
<p>允许你以.tsx结尾的文件，在Vue项目中编写jsx代码</p> 
<pre><code class="language-javascript">import Vue, { VNode } from 'vue'

declare global {
  namespace JSX {
    // tslint:disable no-empty-interface
    interface Element extends VNode {}
    // tslint:disable no-empty-interface
    interface ElementClass extends Vue {}
    interface IntrinsicElements {
      [elem: string]: any;
    }
  }
}
</code></pre> 
<h3 id="%E5%8D%81%E4%B8%80%E3%80%81vuex-class">十一、vuex-class</h3> 
<p><a href="https://www.npmjs.com/package/vuex-class">https://www.npmjs.com/package/vuex-class</a></p> 
<p>使用仓库做加加减减</p> 
<p>仓库：</p> 
<pre><code class="language-javascript">import Vue from 'vue'
import Vuex from 'vuex'

Vue.use(Vuex)

interface Payload {
  key: string,
  value: any
}

export default new Vuex.Store({
  state: {
    count: 0
  },
  mutations: {
    setState(state:any, payload:Payload) {
      state[payload.key] = payload.value
    }
  },
  actions: {
  },
  modules: {
  }
})
</code></pre> 
<p>页面：</p> 
<pre><code class="language-javascript">&lt;template&gt;
  &lt;div&gt;
    &lt;div&gt;{<!-- -->{count}}&lt;/div&gt;
    &lt;button @click="handleSub"&gt;减&lt;/button&gt;
    &lt;button @click="handleAdd"&gt;加&lt;/button&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script lang="ts"&gt;
import Vue from 'vue'
import Component from 'vue-class-component'
import { State, Mutation } from 'vuex-class'

@Component
class Login extends Vue {
  @State('count') count!:number
  @Mutation('setState') setState!:Function

  handleSub() {
    let count = this.count - 1
    this.setState({ key: 'count', value: count })
  }

  handleAdd() {
    let count = this.count + 1
    this.setState({ key: 'count', value: count })
  }
}

export default Login
&lt;/script&gt;
</code></pre> 
<p>&nbsp;</p> 
<h3 id="%E5%8D%81%E4%BA%8C%E3%80%81ts">十二、ts</h3> 
<p>初始化：</p> 
<p>在空文件夹里打开终端&nbsp; -&gt; 输入tsc --init&nbsp; 自动生成tsconfig.json</p> 
<pre><code class="language-javascript">{
  "compilerOptions": {
    /* Basic Options */
    // "incremental": true,                   /* Enable incremental compilation */
    "target": "es5",                          /* Specify ECMAScript target version: 'ES3' (default), 'ES5', 'ES2015', 'ES2016', 'ES2017', 'ES2018', 'ES2019', 'ES2020', or 'ESNEXT'. */
    "module": "commonjs",                     /* Specify module code generation: 'none', 'commonjs', 'amd', 'system', 'umd', 'es2015', 'es2020', or 'ESNext'. */
    // "lib": [],                             /* Specify library files to be included in the compilation. */
    "allowJs": true,                       /* Allow javascript files to be compiled. */
    // "checkJs": true,                       /* Report errors in .js files. */
    // "jsx": "preserve",                     /* Specify JSX code generation: 'preserve', 'react-native', or 'react'. */
    // "declaration": true,                   /* Generates corresponding '.d.ts' file. */
    // "declarationMap": true,                /* Generates a sourcemap for each corresponding '.d.ts' file. */
    // "sourceMap": true,                     /* Generates corresponding '.map' file. */
    // "outFile": "./",                       /* Concatenate and emit output to single file. */
    "outDir": "./js",   //输出文件夹                      /* Redirect output structure to the directory. */
    // "rootDir": "./",                       /* Specify the root directory of input files. Use to control the output directory structure with --outDir. */
    // "composite": true,                     /* Enable project compilation */
    // "tsBuildInfoFile": "./",               /* Specify file to store incremental compilation information */
    // "removeComments": true,                /* Do not emit comments to output. */
    // "noEmit": true,                        /* Do not emit outputs. */
    // "importHelpers": true,                 /* Import emit helpers from 'tslib'. */
    // "downlevelIteration": true,            /* Provide full support for iterables in 'for-of', spread, and destructuring when targeting 'ES5' or 'ES3'. */
    // "isolatedModules": true,               /* Transpile each file as a separate module (similar to 'ts.transpileModule'). */

    /* Strict Type-Checking Options */
    "strict": true,                           /* Enable all strict type-checking options. */
    // "noImplicitAny": true,                 /* Raise error on expressions and declarations with an implied 'any' type. */
    // "strictNullChecks": true,              /* Enable strict null checks. */
    // "strictFunctionTypes": true,           /* Enable strict checking of function types. */
    // "strictBindCallApply": true,           /* Enable strict 'bind', 'call', and 'apply' methods on functions. */
    // "strictPropertyInitialization": true,  /* Enable strict checking of property initialization in classes. */
    // "noImplicitThis": true,                /* Raise error on 'this' expressions with an implied 'any' type. */
    // "alwaysStrict": true,                  /* Parse in strict mode and emit "use strict" for each source file. */

    /* Additional Checks */
    // "noUnusedLocals": true,                /* Report errors on unused locals. */
    // "noUnusedParameters": true,            /* Report errors on unused parameters. */
    // "noImplicitReturns": true,             /* Report error when not all code paths in function return a value. */
    // "noFallthroughCasesInSwitch": true,    /* Report errors for fallthrough cases in switch statement. */

    /* Module Resolution Options */
    // "moduleResolution": "node",            /* Specify module resolution strategy: 'node' (Node.js) or 'classic' (TypeScript pre-1.6). */
    // "baseUrl": "./",                       /* Base directory to resolve non-absolute module names. */
    // "paths": {},                           /* A series of entries which re-map imports to lookup locations relative to the 'baseUrl'. */
    // "rootDirs": [],                        /* List of root folders whose combined content represents the structure of the project at runtime. */
    // "typeRoots": [],                       /* List of folders to include type definitions from. */
    // "types": [],                           /* Type declaration files to be included in compilation. */
    // "allowSyntheticDefaultImports": true,  /* Allow default imports from modules with no default export. This does not affect code emit, just typechecking. */
    "esModuleInterop": true,                  /* Enables emit interoperability between CommonJS and ES Modules via creation of namespace objects for all imports. Implies 'allowSyntheticDefaultImports'. */
    // "preserveSymlinks": true,              /* Do not resolve the real path of symlinks. */
    // "allowUmdGlobalAccess": true,          /* Allow accessing UMD globals from modules. */

    /* Source Map Options */
    // "sourceRoot": "",                      /* Specify the location where debugger should locate TypeScript files instead of source locations. */
    // "mapRoot": "",                         /* Specify the location where debugger should locate map files instead of generated locations. */
    // "inlineSourceMap": true,               /* Emit a single file with source maps instead of having a separate file. */
    // "inlineSources": true,                 /* Emit the source alongside the sourcemaps within a single file; requires '--inlineSourceMap' or '--sourceMap' to be set. */

    /* Experimental Options */
    "experimentalDecorators": true,   //装饰器      /* Enables experimental support for ES7 decorators. */
    // "emitDecoratorMetadata": true,         /* Enables experimental support for emitting type metadata for decorators. */

    /* Advanced Options */
    "forceConsistentCasingInFileNames": true  /* Disallow inconsistently-cased references to the same file. */
  }
}
</code></pre> 
<p>监视ts文件变化，自动编译：</p> 
<p>vscode -&gt; 终端 -&gt; 运行任务 -&gt; typescript -&gt; tsc: 监视 - （tsconfig.json的目录）</p> 
<p>&nbsp;</p> 
<p>课堂练习（1）：</p> 
<pre><code class="language-javascript">function test(name:string) {
  console.log(name)
}

test('hello3')

//元组
let tuple:[string, number, string] = ['a', 1, 'b']
console.log(tuple)

//任意值
let person:any = 'xu'
console.log(person)

//四要素：调用， 参数，返回值，作用
function fun(name:string):string {
  console.log(name)
  return name
}

fun('xu')

//never 不可到达
const error = ():never =&gt; {
  throw new Error('错误')
}

//error()


const loop = () =&gt; {
  while(true);
}
//loop()

console.log(1)


//枚举
enum Color { Red = 2, Green, Blue }

console.log(Color.Red)  //2

enum obj {
  None,
  Read,
  G = '123'.length
}

console.log(obj)

enum Enum {
  A
}

let a = Enum.A
console.log(a)  //0

let na = Enum[a]
console.log(na)  //A




</code></pre> 
<p>课堂练习（2）:</p> 
<pre><code class="language-javascript">function sayHello(person: string) {
  return 'Hello,' + person
}

let user:string = 'a'
console.log(sayHello(user))

let num:number = 1

//没有显示声明类型，则会进行类型推断
let a = 'a'
a = 'b'  //赋值其他类型，则会报错

let flag:boolean = true

//数字类型的数组
let arr:number[] = [1,2]
let strArr:string[] = ['a', 'b']
let objArr:object[] = [{}]

//泛型方式
let arr1:Array&lt;number&gt; = [1]
let strArr1:Array&lt;string&gt; = ['a','b']

//元组
let arr2:[number, string, boolean] = [1, '2', true]

//null, undefined
let my_null:null = null
let my_undefined:undefined = undefined

//可以是字符串也可以是undefined
let c:string | undefined
console.log(c)

//never 从来不会出现的值
// let my_never: never = (() =&gt; {
//   throw new Error()
// })()

//any 任何类型
let my_any:any = '任何类型'
console.log(my_any)

//任何类型的数组
let arrAny:any[] = ['a', 1, true]

function run():void {
  console.log('run')
}

run()

function getName():string {
  return 'xu'
}

console.log(getName())

const myRun = ():void =&gt; {
  console.log('myRun')
}

myRun()

const myGetName = ():string =&gt; {
  return 'myGetName'
}

console.log(myGetName())

//构造函数Boolean 创造的不是布尔值
//let myBoolean:boolean = new Boolean(1)







</code></pre> 
<p>课堂练习（3）：</p> 
<pre><code class="language-javascript">//函数
//没有返回值是用void
function getInfo(name:string, age:number):string {
  return `我叫${name},今年${age}岁。`
}

console.log(getInfo('xu', 30))

let getInfo1 = (name:string, age:number):string =&gt; {
  return `我叫${name},今年${age}岁。`
}

console.log(getInfo('xu', 31))

//完整类型
let getInfo2:(name:string, age:number) =&gt; string = (name:string, age:number):string =&gt; {
  return `我叫${name},今年${age}岁。`
}

let getInfo3:Function = (name:string, age:number):string =&gt; {
  return `我叫${name},今年${age}岁。`
}

//函数可选参数,加个问好
function myInfo(name: string, age?: number):string {
  if (typeof age === 'number') {
    return `我叫${name},今年${age}岁。`
  } else {
    return `我叫${name}`
  }
}

console.log(myInfo('xu'))

//默认值
function myInfo1(name: string, age:number = 32):string {
  if (typeof age === 'number') {
    return `我叫${name},今年${age}岁。`
  } else {
    return `我加${name}`
  }
}

console.log(myInfo1('xu'))

//求和
function sum(a:number, b:number):number {
  return a + b
}

console.log(sum(1, 2))

//剩余参数
function sum1(...rest:number[]):number {
  console.log(rest) //数组
  return rest.reduce((prev, item) =&gt; {
    return prev + item
  }, 0)
}

console.log(sum1(1, 2, 3, 4, 5))

//枚举类型
// 0: 女， 1:男， 2:保密

enum Sex {
  gril,
  boy,
  secret
}

let xu:Sex = Sex.boy
console.log(xu)
let xu1:Sex = 3
console.log(xu1)

function getSex(sex:Sex):string {
  if (sex === Sex.gril) {
    return '我是女孩'
  } else if (sex === Sex.boy) {
    return '我是男孩'
  } else {
    return '保密'
  }
}

console.log(getSex(xu))


class A {
  v:number = 100
  test(num:number) {
    if (num &gt; this.v) {
      console.log('大了');
    } else if (num &lt; this.v) {
        console.log('小了')
    } else {
        console.log('对了')
    }
  }
}

let a = new A()

a.test(100)

let isDone:boolean = false

let isDone1:object = new Boolean(1)

let isDone2:Boolean = new Boolean(1)

let isDone3:boolean = Boolean(1)

//变量如果在声明的时候，未指定其类型，那么它会被识别为任意值类型
let something   //let something:any
something = 1
something = 'a'

//联合类型
let myA: string | number
myA = 'a'
myA = 1


function getLength(something: string | []):number {
  return something.length
}

let myB: string | number
myB = 'A'
myB.length
myB = 1
//myB.length  //报错

let arr:number[] = [1, 3, 2]
arr.sort((a, b) =&gt; {
  return a - b
})


console.log(arr)

function is(ar:string,sr:string):boolean {
  let result = true
  if(ar.length===sr.length){
      for(let i=0;i&lt;ar.length;i++){
          if(ar.indexOf(sr[i])===-1){
             result = false
          }
      }
     result = true
  } else {
    result = false
  }
  return result
}
console.log(is("asa","aas") )


function isAng(arr:string,trr:string):boolean{
  if(arr.length===trr.length){
      for(var i=0;i&lt;arr.length;i++){
          if(arr.indexOf(trr[i])===-1){
              return false
          }
      }
      return true
  }
  return false
}

console.log(isAng('listen', 'silenta'))

</code></pre> 
<p>课堂练习（4）：</p> 
<pre><code class="language-javascript">
//函数重载
function add(a:string, b:string):string;
function add(a:number, b:number):number;

function add(a:any, b:any): any {
  if (typeof a === 'string') {
    return a + '---' + b
  } else {
    return a + b
  }
}

console.log(add('a', 'b'))

//类
//修饰符 pubulic protected private
//静态属性 static
class Person {
  public name: string
  protected age: number

  static height: number = 170

  constructor(name:string, age:number) {
    this.name = name
    this.age = age
    console.log(Person.height, Person.getHeight())
  }

  protected getName():string {
    return `我的名字叫${this.name}`
  }

  static getHeight():number {
    return this.height
  }
}

let xu = new Person('xu', 30)
//console.log(xu.getName())
console.log(Person.getHeight())

// class Animal {
//   name:string
//   constructor(name:string) {
//     this.name = name
//   }
//   sayHi() {
//     return `My name is ${this.name}`
//   }
// }

// let a = new Animal('jack')
// console.log(a.sayHi())

//继承
class Programmer extends Person {
  job:string
  constructor(name:string, age:number, job:string) {
    super(name, age)
    this.job = job
    console.log(this.age)
  }
  getJob() {
    return `${this.getName()}，年龄${this.age}，我的工作是${this.job}`
  }
}

let xu1 = new Programmer('徐同保', 30, 'web前端')
//console.log(xu1.getName())
console.log(xu1.getJob())
//console.log(xu1.age)

//抽象类
abstract class Animal {
  name: string
  constructor(name: string) {
    this.name = name
  }
  getName():string {
    return this.name
  }
  abstract eat():void
}

class Cat extends Animal {
  food: string
  constructor(name: string, food: string) {
    super(name)
    this.food = food
  }
  eat():void {
    console.log(`${this.getName()}爱吃鱼`)
  }
}

let ketty = new Cat('小猫', '鱼')
ketty.eat()

//更简练的写法，不用定义name了，也不需要赋值
class MyAnimal {
  constructor(public name:string) {
  }
  getName() {
    return this.name
  }
}

let myAnimal = new MyAnimal('小猫')
console.log(myAnimal.getName())

//接口
interface Goods {
  name: string
  price: number
  flag: boolean
}

let cartList: Goods[] = [
  {
    name: '苹果',
    price: 8,
    flag: true
  },
  {
    name: '香蕉',
    price: 5,
    flag: false
  }
]

function goodsInfo(goods:Goods) {
  console.log(`${goods.name}现在${goods.price}元一斤${goods.flag ? '，正在促销' : ''}`)
}

cartList.forEach(item =&gt; {
  goodsInfo(item)
})

//函数接口
interface GoodsInfo {
  (goods: Goods): string
}

let myGoodsInfo: GoodsInfo = (goods:Goods):string =&gt; {
  return `${goods.name}现在${goods.price}元一斤${goods.flag ? '，正在促销' : ''}`
}

//类接口，实现接口的时候使用implements(实现)
interface PersonI {
  name: string,
  age: number,
  getName():string
}

interface WebI {
  name: string,
  age: number,
  job: string
  getName(): string
  getJob(): string
}

//接口也可以继承
interface WebIPlus extends PersonI {
  job: string,
  getJob(): string
}


class MyPerson implements PersonI {
  name: string
  age: number

  constructor(name:string, age:number) {
    this.name = name
    this.age = age
  }

  getName() {
    return this.name
  }
}

class Web extends MyPerson implements WebIPlus {
  job: string
  constructor(name: string, age: number, job: string) {
    super(name, age)
    this.job = job
  }

  getJob() {
    return this.job
  }

  getInfo() {
    return `${this.name},${this.age},${this.job}`
  }
}

let xu2 = new Web('xu', 30, 'web')
console.log(xu2.getInfo())





</code></pre> 
<p>课堂练习（5）：</p> 
<pre><code class="language-javascript">let arr:Array&lt;string&gt; = ['a', 'b', 'c']

//泛型函数
function getMin&lt;T&gt;(arr:T[]):T {
  let min:T = arr[0]
  arr.forEach(val =&gt; {
    if (val &lt; min) {
      min = val
    }
  })
  return min
}

let min = getMin&lt;number&gt;([5, 2, 8, 4, 4])
console.log(min)

let min1 = getMin&lt;string&gt;(['d', 's', 'c', 'e', 'f'])
console.log(min1)

//泛型类
class Min&lt;T&gt; {
  list: T[] = []
  add(params: T):void {
    this.list.push(params)
  }
  getMin(): T {
    let min:T = this.list[0]
    this.list.forEach(val =&gt; {
      if (val &lt; min) {
        min = val
      }
    })
    return min
  }
}

//函数接口泛型
interface Min&lt;T&gt; {
  (arr: T[]): T
}


//装饰器
function logClass(target:any) {
  console.log('我是装饰器', target)
  target.prototype.name = '我是装饰器添加的name'
  target.prototype.getName = function () {
    console.log('我是装饰器添加的方法')
  }
}

function logName(params:any) {
  console.log(params)
  return function(target:any, attr:any) {
    console.log('属性装饰器', target)  //实例
    console.log('attr', attr)  //使用装饰器的属性
    target[attr] = params
  }
}

// function logName(target:any, attr:any) {
//   console.log('属性装饰器', target)  //实例
//   console.log('attr', attr)  //使用装饰器的属性
//   target[attr] = 'xu'
// }

@logClass
class Person {
  @logName('我是Person类')
  myName: string | undefined

  @logName(40)
  age:number | undefined

  getInfo() {
    console.log(this.myName, this.age)
  }
}

let a = new Person()
console.log(a)
a.getInfo()







</code></pre> 
<p>&nbsp;</p> 
<p>笔记：</p> 
<p>TypeScript 中，使用 <code>:</code> 指定变量的类型，<code>:</code> 的前后有没有空格都可以。</p> 
<p>TypeScript 只会进行静态检查，如果发现有错误，编译的时候就会报错。</p> 
<p>构造函数 <code>Boolean</code> 创造的对象<strong>不是</strong>布尔值。</p> 
<p>当构造函数修饰为 <code>private</code> 时，该类不允许被继承或者实例化。</p> 
<p>当构造函数修饰为 <code>protected</code> 时，该类只允许被继承，不允许实例化。</p> 
<p>只读属性关键字，只允许出现在属性声明或索引签名或构造函数中。</p> 
<p>一个类只能继承自另一个类，但是可以实现多个接口。</p> 
<p>变量如果在声明的时候，未指定其类型，那么它会被识别为任意值类型。</p> 
<p>联合类型使用 <code>|</code> 分隔每个类型。</p> 
<p>泛型（Generics）是指在定义函数、接口或类的时候，不预先指定具体的类型，而在使用的时候再指定类型的一种特性。</p> 
<h3 id="%E5%8D%81%E4%B8%89%E3%80%81%E8%A3%85%E9%A5%B0%E5%99%A8%EF%BC%88Decorator%EF%BC%89">十三、装饰器（Decorator）</h3> 
<p><img alt="" src="https://img-blog.csdnimg.cn/20200505203518280.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p> 
<p>提案官网：<a href="https://github.com/tc39/proposal-decorators">https://github.com/tc39/proposal-decorators</a></p> 
<p><a href="https://tc39.es/proposal-decorators/">https://tc39.es/proposal-decorators/</a></p> 
<p><img alt="" height="128" src="https://img-blog.csdnimg.cn/20200505204030714.png" width="661"></p> 
<p>装饰器是一个对类进行处理的函数。装饰器函数的第一个参数，就是所要装饰的目标类。</p> 
<pre><code class="language-javascript">@decorator
class A {}

// 等同于

class A {}
A = decorator(A) || A;</code></pre> 
<p>如果觉得一个参数不够用，可以在装饰器外面再封装一层函数。</p> 
<pre><code class="language-javascript">function testable(isTestable) {
  return function(target) {
    target.isTestable = isTestable;
  }
}</code></pre> 
<p>mixins实例：</p> 
<pre><code class="language-javascript">//装饰器函数,list合并到原型链上
const mixins = (...list:any) =&gt; (target:any) =&gt; {
  Object.assign(target.prototype, ...list)
}

//待合并的对象
const Foo = {
  name: 'xu',
  foo() {
    console.log('foo')
  },
  bar() {
    console.log('bar')
  }
}

//使用装饰器
@mixins(Foo)
class MyClass {
  
}

//测试
let obj = new MyClass();
(obj as any).foo();
(obj as any).bar();
console.log((obj as any).name)</code></pre> 
<p>装饰器有注释的作用。</p> 
<p>由于存在函数提升，使得装饰器不能用于函数。</p> 
<p>日志实例：</p> 
<pre><code class="language-javascript">//计算器类
class Computed {
  name:string
  constructor(name:string) {
    this.name = name
  }
  @log
  add(a:number, b:number) {
    console.log(this.name)
    return a + b
  }

  @log
  sub(a:number, b:number) {
    return a - b
  }
}

//日志装饰器
function log(target:any, name:any, descriptor:any) {
  let oldValue = descriptor.value
  descriptor.value = function () {
    //日志
    console.log(`日志:调用${name},参数是${Array.from(arguments)}`)
    //return oldValue.call(this, ...arguments)  //执行老方法
    return oldValue.apply(this, arguments)
  }
  return descriptor
}

//测试
const computed = new Computed('xu')
console.log(computed.add(2, 4))
console.log(computed.sub(4, 2))</code></pre> 
<h3 id="%E5%8D%81%E5%9B%9B%E3%80%81%E7%BA%A2%E7%BB%BF%E7%81%AF">十四、红绿灯</h3> 
<pre><code class="language-javascript">class Light {
  constructor() {
    this.init()
  }
  init() {
    return this.light(3, '绿灯')
      .then(() =&gt; {
        return this.light(2, '红灯')
      })
      .then(() =&gt; {
        return this.light(1, '黄灯')
      }).then(() =&gt; {
        this.init()
      }).catch(() =&gt; {
        console.log('失败了')
      })
  }
  light(time: number, type: string) {
    return new Promise((resolve, reject) =&gt; {
      let timer = setInterval(() =&gt; {
        console.log(type, time)
        time--
        if (time === 0) {
          clearInterval(timer)
          resolve()
          //reject()
        }
      }, 1000)
    })
  }
}

let ligth = new Light()</code></pre> 
<p>&nbsp;</p> 
<pre><code class="language-javascript">interface LampI {
  loop: number
  start(): void
}

//红绿灯
class Lamp&lt;T&gt; {
  loop: number
  constructor(public green: number, public red: number, public yellow: number) {
    this.loop = 0
  }
  start() {
    let loopFun = async () =&gt; {
      await new Promise((resolve) =&gt; {
        setTimeout(() =&gt; {
          this.loop++
          this.print()
          loopFun()
        }, 1000)
      })
    }
    loopFun()
  }
  test(a:T) {
    console.log(a)
  }
  private print(): void {
    if (this.loop &lt;= this.green) {
      console.log(`绿灯${this.green + 1 - this.loop}`)
    } else if (this.loop &lt;= this.green + this.red) {
      console.log(`红灯${this.green + this.red + 1 - this.loop}`)
    } else if (this.loop &lt;= this.green + this.red + this.yellow) {
      console.log(`黄灯${this.green + this.red + this.yellow + 1 - this.loop}`)
    } else {
      this.loop = 1
      console.log(`绿灯${this.green}`)
    }
  }
}

let lamp = new Lamp(3, 2, 1)
lamp.start()
lamp.test([1, 2, 3])
lamp.test('hello')



</code></pre> 
<p>&nbsp;</p> 
<h3 id="%E5%8D%81%E4%BA%94%E3%80%81Property%20'%24router'%20does%20not%20exist%20on%20type%20'Login'">十五、Property '$router' does not exist on type 'Login'</h3> 
<p>解决办法：</p> 
<p>(1)在使用路由的组件导入路由包：</p> 
<pre><code class="language-javascript">import VueRouter from 'vue-router';</code></pre> 
<p>(2)把this断言为any</p> 
<pre><code class="language-javascript">(this as any).$router.push('/index')</code></pre> 
<p>（3）在类里定义$router属性</p> 
<pre><code class="language-javascript">export default class Login extends Vue {
  $router
}</code></pre> 
<h3 id="%E5%8D%81%E5%85%AD%E3%80%81%E4%BD%BF%E7%94%A8createDecorator%E8%87%AA%E5%AE%9A%E4%B9%89%E8%A3%85%E9%A5%B0%E5%99%A8">十六、使用createDecorator自定义装饰器</h3> 
<p>decorators.ts:</p> 
<pre><code class="language-javascript">import { createDecorator } from 'vue-class-component'

export const Log = createDecorator((options:any, key:string) =&gt; {
  // 备份原始方法
  const originalMethod = options.methods[key]

  // 添加日志逻辑
  options.methods[key] = function wrapperMethod(...args:any) {
    // 打印日志
    console.log(`日志: ${key}(`, ...args, ')')

    // 执行原始方法
    originalMethod.apply(this, args)
  }
})


export const LogPlus = (payload: string) =&gt; createDecorator((options:any, key:string) =&gt; {
  // 备份原始方法
  const originalMethod = options.methods[key]

  // 添加日志逻辑
  options.methods[key] = function wrapperMethod(...args:any) {
    // 打印日志
    console.log(`${payload}日志: ${key}(`, ...args, ')')

    // 执行原始方法
    originalMethod.apply(this, args)
  }
})
</code></pre> 
<p>使用：</p> 
<pre><code class="language-javascript">&lt;template&gt;
  &lt;div&gt;
    &lt;div&gt;{<!-- -->{msg}}&lt;/div&gt;
    &lt;div&gt;{<!-- -->{count}}&lt;/div&gt;
    &lt;button @click="handleSub(1)"&gt;减&lt;/button&gt;
    &lt;button @click="handleAdd(1)"&gt;加&lt;/button&gt;
    &lt;TestComponent name="hello"&gt;&lt;/TestComponent&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script lang="ts"&gt;
import { Vue, Component } from 'vue-property-decorator'
import { Log, LogPlus } from '../utils/decorators'
import TestComponent from '../components/TestComponent.vue'

@Component({
  components: {
    TestComponent
  }
})
export default class Test extends Vue {
  msg = 'hello'
  count = 0

  @Log
  handleAdd(step:number) {
    this.count += step
  }

  @LogPlus('减法')
  handleSub(step:number) {
    this.count -= step
  }
}
&lt;/script&gt;</code></pre> 
<p>&nbsp;</p> 
<h3 id="%E5%8D%81%E4%B8%83%E3%80%81TSLint%E5%8E%BB%E6%8E%89%E5%88%86%E5%8F%B7%E5%92%8C%E9%80%97%E5%8F%B7%E7%9A%84%E6%A3%80%E6%9F%A5">十七、TSLint去掉分号和逗号的检查</h3> 
<pre><code class="language-javascript">    "trailing-comma": [false],
    "semicolon": [false],</code></pre> 
<h3 id="%E5%8D%81%E5%85%AB%E3%80%81react%E4%B8%8ETS">十八、react与TS</h3> 
<p>脚手架：</p> 
<pre><code class="language-javascript">npx create-react-app react-ts-app --typescript</code></pre> 
<p>按装用到的包：</p> 
<pre><code class="language-javascript">yarn add react-router-dom redux react-redux redux-thunk redux-logger axios</code></pre> 
<p>安装TS版的声明：</p> 
<pre><code class="language-javascript">yarn add @types/react-router-dom @type/react-redux
</code></pre> 
<h3 id="%E5%8D%81%E4%B9%9D%E3%80%81%E5%9B%BE%E7%89%87%E8%BD%ACbase64">十九、图片转base64</h3> 
<pre><code class="language-javascript">  const getBase64Image = (url: string) =&gt; {
    return new Promise((resolve,reject) =&gt; {
      let image = new Image();
      // CORS 策略，会存在跨域问题https://stackoverflow.com/questions/20424279/canvas-todataurl-securityerror
      image.setAttribute("crossOrigin",'Anonymous');
      image.src = url;
      image.onload = () =&gt; {
        let canvas = document.createElement('canvas');
        canvas.width = image.width;
        canvas.height = image.height;
        (canvas as any).getContext('2d').drawImage(image,0,0);
        let result = canvas.toDataURL('image/png');
        resolve(result);
      }
      image.onerror = () =&gt; {
        reject('图片流异常');
      };
    })
    
  }
</code></pre> 
<p>&nbsp;</p> 
<h3 id="%E4%BA%8C%E5%8D%81%E3%80%81React%2BTS">二十、React+TS</h3> 
<p>受控组件：</p> 
<pre><code class="language-javascript">  handleInput(e: ChangeEvent&lt;HTMLInputElement&gt;, field: string) {
    // @ts-ignore
    this.setState({
      [field]: e.target.value
    })
  }</code></pre> 
<p>HTMLInputElement：</p> 
<p><img alt="" src="https://img-blog.csdnimg.cn/20200429155029992.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p> 
<p><img alt="" src="https://img-blog.csdnimg.cn/20200429155043360.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p> 
<p>keyUp事件：</p> 
<pre><code class="language-javascript">  handleEnter(e: KeyboardEvent&lt;HTMLInputElement&gt;) {
    if(e.keyCode === 13) {
      this.handleLogin()
    }
  }
</code></pre> 
<p><img alt="" src="https://img-blog.csdnimg.cn/20200429155335524.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p> 
<p>点击事件：</p> 
<pre><code class="language-javascript">  handleVisible(e: MouseEvent&lt;Element&gt;, count: number) {
    let { visible } = this.state
    this.setState({
      visible: !visible
    })
  }
</code></pre> 
<p>忽略类型检查：</p> 
<pre><code class="language-javascript">// @ts-ignore</code></pre> 
<p>滚动事件：</p> 
<pre><code class="language-javascript">  const handleScroll = (e: React.UIEvent&lt;HTMLDivElement, globalThis.UIEvent&gt;) =&gt; {
    let scrollTop = (e.target as Element).scrollTop
    console.log(scrollTop)
  }</code></pre> 
<p>withRouter：</p> 
<p><img alt="" src="https://img-blog.csdnimg.cn/202004291600038.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p> 
<p>redux数据读写：</p> 
<pre><code class="language-javascript">import React, { Dispatch } from 'react'
import { connect } from 'react-redux'
import { IState } from '../interface'

interface IProps {
  list: any[],
  currentId: number,
  onSetState: (key: string, value: any) =&gt; void
  onDispatch: (action: Function) =&gt; void
}


const Sidebar = (props: IProps) =&gt; {
  const { list, currentId } = props

  const handleNav = (id: number) =&gt; {
    props.onSetState('currentId', id);
    //@ts-ignore
    document.getElementById(id + '').scrollIntoView({ block: 'start', behavior: 'smooth' })
  }

  const sidebarDom = list.map((item: any) =&gt; (
    &lt;div key={item.id} className={`m-sidebar-item ${currentId === item.id ? 'active' : ''}`} onClick={() =&gt; handleNav(item.id) }&gt;{item.title}&lt;/div&gt;
  ))

  return (
    &lt;div className="m-sidebar"&gt;
      {sidebarDom}
    &lt;/div&gt;
  )
}

const mapStateToProps = (state: IState) =&gt; {
  return {
    list: state.book.list,
    currentId: state.book.currentId
  }
}

const mapDispatchToProps = (dispatch: Dispatch&lt;any&gt;) =&gt; {
  return {
    onSetState(key: string, value: any) {
      dispatch({ type: 'SET_STATE', key, value })
    },
    onDispatch(action: Function) {
      dispatch(action)
    }
  }
}

export default connect(mapStateToProps, mapDispatchToProps)(Sidebar)
</code></pre> 
<p>reducer：</p> 
<pre><code class="language-javascript">import { IBookState, IAction } from '../../interface'

const defaultState: IBookState = {
  title: '小米书城',
  currentId: 0,
  isRealScroll: true,
  list: [],
  myBooks: []
}

const reducer = (state = defaultState, action: IAction) =&gt; {
  switch (action.type) {
    case 'SET_STATE':
      let newState = JSON.parse(JSON.stringify(state))
      newState[action.key] = action.value
      return newState
    default:
      return state
  }
}

export default reducer</code></pre> 
<p>actionCreator.js:</p> 
<pre><code class="language-javascript">import { Dispatch } from 'react'
import Api from '../../api'

const list = () =&gt; (dispatch: Dispatch&lt;any&gt;) =&gt; {
  Api.list().then(res =&gt; {
    if (res.code === 200) {
      dispatch({ type: 'SET_STATE', key: 'list', value: res.data })
    }
  })
}

export default {
  list
}</code></pre> 
<p>接口：</p> 
<pre><code class="language-javascript">export interface IBookState {
  title: string,
  currentId: number,
  isRealScroll: boolean,
  list: any[],
  myBooks: any[]
}

export interface IState {
  book: IBookState
}

export interface IAction {
  type: string,
  key: string,
  value: any
}</code></pre> 
<p>登录页hook写法：</p> 
<pre><code class="language-javascript">import React, { useState, MouseEvent, KeyboardEvent } from 'react'
import { RouteComponentProps } from 'react-router-dom'
import Icon from '../components/Icon'
import Api from '../api'

const Login = (props: RouteComponentProps) =&gt; {
  const [ username, setUsername ] = useState('admin')
  const [ password, setPassword ] = useState('123456')
  const [ visible, setVisible ] = useState(false)

  const handleVisible = (e: MouseEvent, count: number ) =&gt; {
    setVisible(!visible)
  }

  const handleEnter = (e: KeyboardEvent&lt;HTMLInputElement&gt;) =&gt; {
    if (e.keyCode === 13 ) {
      handleLogin()
    }
  }

  const handleLogin = () =&gt; {
    Api.login({ username, password }).then(res =&gt; {
      if (res.code === 200) {
        localStorage.setItem('token', res.data.username)
        props.history.push('/index/home')
      }
    })
  }

  return (
    &lt;div&gt;
      &lt;div&gt;
        &lt;input value={username} onChange={(e) =&gt; setUsername(e.target.value)} placeholder="请输入用户名" autoFocus&gt;&lt;/input&gt;
      &lt;/div&gt;
      &lt;div&gt;
        &lt;input value={password} onChange={(e) =&gt; setPassword(e.target.value)} onKeyUp={ (e) =&gt; handleEnter(e)  } placeholder="请输入密码" type={ visible ? 'text' : 'password' }&gt;&lt;/input&gt;
        &lt;Icon name={ visible ? 'show' : 'hide' } onClick={ (e, count) =&gt; handleVisible(e, count) } className="m-login-icon"&gt;&lt;/Icon&gt;
      &lt;/div&gt;
      &lt;button onClick={() =&gt; handleLogin()}&gt;登录&lt;/button&gt;
    &lt;/div&gt;
  )
}

export default Login
</code></pre> 
<p>登录页class写法：</p> 
<pre><code class="language-javascript">import React, { Component, ChangeEvent, KeyboardEvent, MouseEvent } from 'react'
import { RouteComponentProps } from 'react-router-dom'
import Icon from '../components/Icon'
import Api from '../api'

interface IState {
  username: string,
  password: string,
  visible: boolean
}

interface IProp extends RouteComponentProps {

}

export default class LoginClass extends Component&lt;IProp, IState&gt; {
  constructor(props: IProp) {
    super(props)
    this.state = {
      username: 'admin',
      password: '123456',
      visible: false
    }
  }

  handleInput(e: ChangeEvent&lt;HTMLInputElement&gt;, field: string) {
    // @ts-ignore
    this.setState({
      [field]: e.target.value
    })
  }

  handleVisible(e: MouseEvent&lt;Element&gt;, count: number) {
    let { visible } = this.state
    this.setState({
      visible: !visible
    })
  }

  handleEnter(e: KeyboardEvent&lt;HTMLInputElement&gt;) {
    if(e.keyCode === 13) {
      this.handleLogin()
    }
  }

  handleLogin() {
    let { username, password } = this.state
    Api.login({ username, password }).then(res =&gt; {
      if (res.code === 200) {
        localStorage.setItem('token', res.data.username)
        this.props.history.push('/index/home')
      }
    })
  }

  render() {
    let { username, password, visible } = this.state
    return (
      &lt;div&gt;
        &lt;div&gt;
          &lt;input value={username} onChange={(e) =&gt; this.handleInput(e, 'username')} placeholder="请输入用户名" autoFocus /&gt;
        &lt;/div&gt;
        &lt;div&gt;
          &lt;input value={password} onChange={(e) =&gt; this.handleInput(e, 'password')} onKeyUp={ (e) =&gt; this.handleEnter(e) }  placeholder="请输入密码" type={ visible ? 'text' : 'password' }/&gt;
          &lt;Icon name={ visible ? 'show' : 'hide' } onClick={ (e, count) =&gt; this.handleVisible(e, count) } className="m-login-icon"&gt;&lt;/Icon&gt;
        &lt;/div&gt;
        &lt;button onClick={() =&gt; this.handleLogin()}&gt;登录&lt;/button&gt;
      &lt;/div&gt;
    )
  }
}
</code></pre> 
<p>Icon组件hook写法：</p> 
<pre><code class="language-javascript">import React, { MouseEvent } from 'react'

interface IProps {
  name: string,
  className?: string,
  onClick?: (e: MouseEvent, count: number) =&gt; void
}

const Icon = (props: IProps) =&gt; {
  let { name, className = '', onClick = () =&gt; {} } = props
  return (
    &lt;span className={`icon iconfont icon-${name} ${className}`} onClick={(e) =&gt; onClick(e, 1)}&gt;&lt;/span&gt;
  )
}

export default Icon
</code></pre> 
<p>Icon组件Class写法：</p> 
<pre><code class="language-javascript">import React, { Component, MouseEvent } from 'react'

interface IProps {
  name: string,
  className?: string,
  onClick?: (e: MouseEvent, count: number) =&gt; void
}


export default class IconClass extends Component&lt;IProps&gt; {
  render() {
    const { name, className = '', onClick = () =&gt; {} } = this.props
    return (
      &lt;span className={`icon iconfont icon-${name} ${className}`} onClick={(e) =&gt; onClick(e, 1)}&gt;&lt;/span&gt;
    )
  }
}
</code></pre> 
<p>ReactElement：</p> 
<pre><code class="language-javascript">import React, { Dispatch, ReactElement } from 'react'
import Header from '../components/Header'
import Footer from '../components/Footer'
import { Switch, Route } from 'react-router-dom'
import { connect } from 'react-redux'
import Home from './Home'
import MyBooks from './MyBooks'
import Me from './Me'

interface IProps {
  onSetState: (key: string, value: any) =&gt; void
  onDispatch: (action: Function) =&gt; void
}

const Index = (props: IProps) =&gt; {

  const renderComponent = (Component: ReactElement, title: string) =&gt; {
    setTimeout(() =&gt; {
      props.onSetState('title', title)
    })
    
    return Component
  }

  return (
    &lt;div className="m-wrap"&gt;
      &lt;Header&gt;&lt;/Header&gt;
      &lt;Switch&gt;
        &lt;Route path="/index/home" render={() =&gt; renderComponent(&lt;Home&gt;&lt;/Home&gt;, '小米书城')}&gt;&lt;/Route&gt;
        &lt;Route path="/index/my_books" render={() =&gt; renderComponent(&lt;MyBooks&gt;&lt;/MyBooks&gt;, '我的书包')}&gt;&lt;/Route&gt;
        &lt;Route path="/index/me" render={() =&gt; renderComponent(&lt;Me&gt;&lt;/Me&gt;, '个人中心')}&gt;&lt;/Route&gt;
      &lt;/Switch&gt;
      &lt;Footer&gt;&lt;/Footer&gt;
    &lt;/div&gt;
  )
}

const mapStateToProps = () =&gt; {
  return {
  }
}

const mapDispatchToProps = (dispatch: Dispatch&lt;any&gt;) =&gt; {
  return {
    onSetState(key: string, value: any) {
      dispatch({ type: 'SET_STATE', key, value })
    },
    onDispatch(action: Function) {
      dispatch(action)
    }
  }
}

export default connect(mapStateToProps, mapDispatchToProps)(Index)
</code></pre> 
<h3 id="%E4%BA%8C%E5%8D%81%E4%B8%80%E3%80%81%E5%A4%96%E9%83%A8%E5%A3%B0%E6%98%8E%E5%92%8C%E4%B8%89%E6%96%9C%E7%BA%BF%E6%8C%87%E4%BB%A4">二十一、外部声明和三斜线指令</h3> 
<p>declare:声明</p> 
<p>reference：引用</p> 
<p>env：environment 环境</p> 
<p>namespace：命名空间</p> 
<p>module： 模块</p> 
<p>外部声明一般针对第三方来历不明的库，当你想要在你的typescript项目中使用用javascript代码写的第三方库时，就需要用到外部声明。一个常见的例子，假设我们在HTML中通过`script`标签引入了全局`jQuery`:</p> 
<pre><code class="language-javascript">// 注册全局变量 $
&lt;script src="path/to/jquery.js"&gt;&lt;/script&gt;</code></pre> 
<p>path/to/jquery.js` 文件在会在全局作用域中引入对象 `$`，接下来如果在同一项目下的TypeScript文件中使用 `$`，TypeScript编译器会报错：</p> 
<pre><code class="language-javascript">// 错误，缺少名字 $ 的声明信息
// error TS2581: Cannot find name '$'. Do you need to install type definitions for jQuery? Try `npm i @types/jquery`
$('body').html('hello world');</code></pre> 
<p>由于没有任何类型信息，TypeScript编译器根本不知道 `$` 代表的是什么，此时需要引入**外部声明**（因为`$`是外部JavaScript引入TypeScript代码中的）。外部声明的关键字是：</p> 
<p>分析语句 `$('body').html('hello world');` 得出：</p> 
<ul><li>- `$`是一个函数，接收字符串参数</li><li>- `$`调用返回值是一个对象，此对象拥有成员函数 `html`，这个成员函数的参数也是字符串类型</li></ul>
<pre><code class="language-javascript">// 声明 $ 的类型信息
declare let $: (selector: string) =&gt; {
 html: (content: string) =&gt; void;
};

// 正确，$已经通过外部声明
$('body').html('hello world');</code></pre> 
<p>声明应该是纯粹对于一个标识符**类型或外观的描述**，便于编译器识别，外部声明具有以下特点:</p> 
<ul><li>- 必须使用 `declare` 修饰外部声明</li><li>- 不能包含实现或初始化信息（内部声明可以在声明的时候包含实现或初始化）</li></ul>
<pre><code class="language-javascript">// 声明a为一个数字
declare let a: number;
// 错误，外部声明不能初始化
// error TS1039: Initializers are not allowed in ambient contexts
declare let b: number = 2;

// 声明T为一个接口
declare interface T {}
// 声明接口类型变量b
let b: T;

// 声明fn为一个函数
// 错误，声明包含了函数实现
// error TS1183: An implementation cannot be declared in ambient contexts
declare function fn(){}

// 正确，不包含函数体实现
declare function fn(): void;

// 声明myFunc为一个函数
declare let myFunc: (a: number) =&gt; void;

// 声明MyEnum枚举类型
declare enum MyEnum {
 A, B
}

// 声明NS为命名空间
declare namespace NS {
 // 错误，声明不能初始化
 // error TS1039: Initializers are not allowed in ambient contexts
 const a: number = 1;
 // 正确，仅包含声明
 const b: number;
 // 正确，函数未包含函数体实现
 function c(): void;
}

// 声明一个类
declare class Greeter {
 constructor(greeting: string);
 greeting: string;
 showGreeting(): void;
}</code></pre> 
<p>外部声明还可以用于声明一个**模块**，如果一个外部模块的成员要被外部访问，模块成员应该用 `export` 声明导出：</p> 
<pre><code class="language-javascript">declare module 'io' {
 export function read(file: string): string;
 export function write(file: string, data: string): void;
}</code></pre> 
<p>习惯上，常常把外部声明写在一个后缀名为 `.d.ts` 的声明文件中，然后用三斜线指令引入进来</p> 
<pre><code class="language-javascript">// jquery.d.ts 文件
declare let $: (selector: string) =&gt; {
 html: (content: string) =&gt; void;
};

// main.ts 文件
/// &lt;reference path="./jquery.d.ts" /&gt;
$('body').html('hello world');</code></pre> 
<p>上述语句声明了 `main.ts` 依赖 `jquery.d.ts` 声明文件，在编译阶段，被依赖文件 `jquery.d.ts` 将被包含进来，就像将被依赖文件的源码展开在依赖声明处一样：</p> 
<pre><code class="language-javascript">// main.ts文件等价于将代码在三斜线指令处展开
declare let $: (selector: string) =&gt; {
 html: (content: string) =&gt; void;
};
$('body').html('hello world');</code></pre> 
<p>三斜线指令中需要注意的是 `path` 类型和 `types` 类型的区别：</p> 
<pre><code class="language-html">/// &lt;reference path="./jquery.d.ts" /&gt;
/// &lt;reference types="node" /&gt;</code></pre> 
<ul><li>- `path` 类型声明的是对本地文件的依赖，包含路径信息</li><li>- `types` 类型声明的是对 `node_modules/@types` 文件夹下的类型的依赖，不包含路径信息</li></ul>
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p><code>/// &lt;reference types="..." /&gt;</code>指令声明了对某个包的依赖。</p> 
<p>例如，把<code>/// &lt;reference types="node" /&gt;</code>引入到声明文件，表明这个文件使用了<code>@types/node/index.d.ts</code>里面声明的名字； 并且，这个包需要在编译阶段与声明文件一起被包含进来。</p> 
<p>仅当在你需要写一个<code>d.ts</code>文件时才使用这个指令。</p> 
<p>参考链接：</p> 
<p><a href="https://zhongsp.gitbook.io/typescript-handbook/handbook/triple-slash-directives#less-than-reference-path-greater-than">https://zhongsp.gitbook.io/typescript-handbook/handbook/triple-slash-directives#less-than-reference-path-greater-than</a></p> 
<p><a href="https://www.teaspect.com/detail/5586">https://www.teaspect.com/detail/5586</a></p> 
<h3 id="%E4%BA%8C%E5%8D%81%E4%BA%8C%E3%80%81TS%2BWebpack">二十二、TS+Webpack</h3> 
<p><img alt="" height="409" src="https://img-blog.csdnimg.cn/20200503164643711.png" width="233"></p> 
<p>webpack.config.js:</p> 
<pre><code class="language-javascript">module.exports = {
  mode: 'development',
  entry: './src/main.ts',
  output: {
    path: __dirname + '/dist',
    filename: 'bundle.js'
  },
  devtool: "source-map",
  resolve: {
    extensions: [ ".ts" ]
  },
  module: {
    rules: [
      {
        test: /\.ts$/,
        exclude: /node_modules/,
        use: [
          {
            loader: "ts-loader"
          }
        ]
      }
    ]
  }
}</code></pre> 
<p>package.json:</p> 
<pre><code class="language-javascript">{
  "name": "m-ts-webpack",
  "version": "1.0.0",
  "description": "",
  "main": "webpack.config.js",
  "scripts": {
    "test": "echo \"Error: no test specified\" &amp;&amp; exit 1"
  },
  "author": "",
  "license": "ISC",
  "dependencies": {
    "ts-loader": "^7.0.2",
    "typescript": "^3.8.3",
    "webpack": "^4.43.0",
    "webpack-cli": "^3.3.11"
  }
}
</code></pre> 
<p>项目代码：</p> 
<p><a href="https://github.com/baweireact/m-apps/tree/master/demo/ts/01TS%2BWebpack">https://github.com/baweireact/m-apps/tree/master/demo/ts/01TS%2BWebpack</a></p> 
<h3 id="%E4%BA%8C%E5%8D%81%E4%B8%89%E3%80%81yarn%E6%B8%85%E7%BC%93%E5%AD%98%E5%92%8C%E5%8D%B8%E8%BD%BD%E5%85%A8%E5%B1%80%E5%AE%89%E8%A3%85%E7%9A%84%E5%8C%85">二十三、yarn清缓存和卸载全局安装的包</h3> 
<pre><code class="language-javascript">yarn cache clean

yarn global remove @vue/cli

yarn global add @vue/cli</code></pre> 
<h3 id="%E4%BA%8C%E5%8D%81%E5%9B%9B%E3%80%81%E4%BF%AE%E6%94%B9%E8%84%9A%E6%89%8B%E6%9E%B6%E4%BD%BF%E7%94%A8npm%E4%B8%8B%E8%BD%BD%E8%BF%98%E6%98%AF%E4%BD%BF%E7%94%A8yarn%E4%B8%8B%E8%BD%BD">二十四、修改脚手架使用npm下载还是使用yarn下载</h3> 
<p><img alt="" src="https://img-blog.csdnimg.cn/20200515200009207.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p> 
<h3 id="%E4%BA%8C%E5%8D%81%E4%BA%94%E3%80%81%E5%80%92%E8%AE%A1%E6%97%B6">二十五、倒计时</h3> 
<pre><code class="language-javascript">interface IObj {
  endtime: string,
  wrapper: HTMLElement
}

class CountDown {
  endtime: string
  wrapper: HTMLElement
  constructor(obj: IObj) {
    this.endtime = obj.endtime
    this.wrapper = obj.wrapper
  }
  start() {
    setInterval(() =&gt; {
      let start = new Date().getTime()
      let end = new Date(this.endtime).getTime();
      let result = end - start
      let time = this.formatDateTime(result)
      console.log(time)
      this.wrapper.innerHTML = time
    }, 1000)
  }

  formatDateTime(shijiancha: number) {
    let days = shijiancha / 1000 / 60 / 60 / 24;
    let daysRound = Math.floor(days);
    let hours = shijiancha / 1000 / 60 / 60 - (24 * daysRound);
    let hoursRound = Math.floor(hours);
    let minutes = shijiancha / 1000 / 60 - (24 * 60 * daysRound) - (60 * hoursRound);
    let minutesRound = Math.floor(minutes);
    let seconds = shijiancha / 1000 - (24 * 60 * 60 * daysRound) - (60 * 60 * hoursRound) - (60 * minutesRound);

    return `限时特卖 ${daysRound}天 ${hoursRound}时 ${minutesRound}分 ${Math.floor(seconds)}秒`
  }
}


let countDown = new CountDown({ endtime: '2020/10/1', wrapper: document.getElementById('box') as HTMLElement })
countDown.start()
</code></pre> 
<p><img alt="" height="160" src="https://img-blog.csdnimg.cn/20200520130240861.gif" width="532"></p> 
<p>&nbsp;</p> 
<h3>二十六、找出英文句子中最长的单词</h3> 
<pre><code class="language-javascript">function longest(str?:string) {
  if (typeof str === 'undefined') {
    alert('未传递参数')
    return
  }
  let arr = str.split(' ')
  let result = 0
  let longestWord = ''
  for (let i = 0; i &lt; arr.length; i++) {
    if (arr[i].length &gt; result) {
      result = arr[i].length
      longestWord = arr[i]
    }
  }
  console.log(`最长的单词是：${longestWord}`)
  return result
}

let result = longest('let life be beautiful like summer flowers')
console.log(result)

longest()
</code></pre> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<h3 id="%E5%8F%82%E8%80%83%E9%93%BE%E6%8E%A5%EF%BC%9A">参考链接：</h3> 
<p><a href="https://blog.csdn.net/suhuaiqiang_janlay/article/details/80217323">一起来拥抱强大的TypeScript吧--Ts+Vue完全教程</a></p> 
<p><a href="https://zhongsp.gitbook.io/typescript-handbook/">中文手册</a></p> 
<p><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html">英文手册</a></p> 
<p><a href="https://ts.xcatliu.com/">入门教程</a></p> 
<p><a href="https://es6.ruanyifeng.com/#docs/decorator">装饰器----阮一峰</a></p> 
<p>Learn React with TypeScript 3（英文版）：</p> 
<p>链接：<a href="https://pan.baidu.com/s/1BriHov6-BRiQTIZlcR3dWw">https://pan.baidu.com/s/1BriHov6-BRiQTIZlcR3dWw</a><br> 提取码：7erx</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p>
                ]]></description></item><item><title>vue3.0</title><link>http://www.cnblogs.com/xutongbao/archive/2020/04/13/14876298.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Mon, 13 Apr 2020 02:12:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2020/04/13/14876298.html</guid><description><![CDATA[
                    <p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<h3>一、vue3.0尝鲜</h3> 
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;

&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;title&gt;vue-next尝鲜&lt;/title&gt;
  &lt;script src="https://s1.zhuanstatic.com/common/js/vue-next-3.0.0-alpha.0.js"&gt;&lt;/script&gt;
&lt;/head&gt;

&lt;body&gt;
  &lt;div id='app'&gt;&lt;/div&gt;
&lt;/body&gt;
&lt;script&gt;
  const { createApp, reactive, computed, effect } = Vue

  const RootComponent = {
    template: `
      &lt;button @click="increment"&gt;
        {<!-- -->{ state.name }}今年{<!-- -->{state.age}}岁了，乘以2是{<!-- -->{state.double}}
      &lt;/button&gt;
    `,
    setup() {

      const state = reactive({
        name: '徐同保',
        age: 18,
        double: computed(() =&gt; state.age * 2)
      })

      effect(() =&gt; {
        console.log(`effect 触发了！ - ${state.name}今年${state.age}岁了，乘以2是${state.double}`)
      })

      const increment = () =&gt; {
        state.age++
      }

      return {
        state,
        increment
      }
    }
  }
  createApp().mount(RootComponent, '#app')
&lt;/script&gt;

&lt;/html&gt;</code></pre> 
<p>&nbsp;</p> 
<h3>二、@vue/composition-api</h3> 
<p><a href="https://vue-composition-api-rfc.netlify.app/#summary">https://vue-composition-api-rfc.netlify.app/#summary</a></p> 
<p><a href="https://www.npmjs.com/package/@vue/composition-api">https://www.npmjs.com/package/@vue/composition-api</a></p> 
<p>装包：</p> 
<pre><code class="language-javascript">yarn add @vue/composition-api</code></pre> 
<p>&nbsp;</p> 
<p>main.js:</p> 
<pre><code class="language-javascript">import Vue from 'vue'
import App from './App.vue'
import router from './router'
import store from './store'
import VueCompositionApi from '@vue/composition-api'

Vue.config.productionTip = false
Vue.use(VueCompositionApi)

new Vue({
  router,
  store,
  render: h =&gt; h(App)
}).$mount('#app')
</code></pre> 
<p>App.js:</p> 
<pre><code class="language-javascript">&lt;template&gt;
  &lt;button @click="increment"&gt;
    Count is: {<!-- -->{ state.count }}, double is: {<!-- -->{ state.double }}
  &lt;/button&gt;
&lt;/template&gt;

&lt;script&gt;
import { reactive, computed } from '@vue/composition-api'

export default {
  setup() {
    const state = reactive({
      count: 0,
      double: computed(() =&gt; state.count * 2)
    })

    function increment() {
      state.count++
    }

    return {
      state,
      increment
    }
  }
}
&lt;/script&gt;
</code></pre> 
<p>加法:</p> 
<pre><code class="language-javascript">&lt;template&gt;
  &lt;div&gt;
    {<!-- -->{data.count}}
    &lt;div&gt;
      &lt;button @click="handleAdd(1)"&gt;加1&lt;/button&gt;
      &lt;button @click="handleAdd(2)"&gt;加2&lt;/button&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
import { reactive } from '@vue/composition-api'

export default {
  setup() {
    const data = reactive({
      count: 0
    })

    const handleAdd = (step) =&gt; {
      data.count += step
    }

    return {
      data,
      handleAdd
    }
  }
}
&lt;/script&gt;

&lt;style&gt;

&lt;/style&gt;</code></pre> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p>
                ]]></description></item><item><title>项目实战【vue，react，微信小程序】（1710C）</title><link>http://www.cnblogs.com/xutongbao/archive/2020/03/31/14876299.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 31 Mar 2020 05:26:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2020/03/31/14876299.html</guid><description><![CDATA[
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="%E4%B8%80%E3%80%81%E4%B8%A5%E6%A0%BC%E6%A8%A1%E5%BC%8F(Strict%20Mode)-toc" style="margin-left:80px;"><a href="#%E4%B8%80%E3%80%81%E4%B8%A5%E6%A0%BC%E6%A8%A1%E5%BC%8F%28Strict%20Mode%29">一、严格模式(Strict Mode)</a></p> 
<p id="%E4%BA%8C%E3%80%81React%E5%BF%AB%E6%8D%B7%E6%96%B9%E5%BC%8F-toc" style="margin-left:80px;"><a href="#%E4%BA%8C%E3%80%81React%E5%BF%AB%E6%8D%B7%E6%96%B9%E5%BC%8F">二、React快捷方式</a></p> 
<p id="%E4%B8%89%E3%80%81react%20%E7%B1%BB%E5%9E%8B%E6%A3%80%E6%9F%A5-toc" style="margin-left:80px;"><a href="#%E4%B8%89%E3%80%81react%20%E7%B1%BB%E5%9E%8B%E6%A3%80%E6%9F%A5">三、react 类型检查</a></p> 
<p id="%E5%9B%9B%E3%80%81immutable.js-toc" style="margin-left:80px;"><a href="#%E5%9B%9B%E3%80%81immutable.js">四、immutable.js</a></p> 
<p id="%E4%BA%94%E3%80%81100vh-toc" style="margin-left:80px;"><a href="#%E4%BA%94%E3%80%81100vh">五、100vh</a></p> 
<p id="%E5%85%AD%E3%80%81%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%9F%A5%E8%AF%A2dom%E4%BD%8D%E7%BD%AE-toc" style="margin-left:80px;"><a href="#%E5%85%AD%E3%80%81%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%9F%A5%E8%AF%A2dom%E4%BD%8D%E7%BD%AE">六、微信小程序查询dom位置</a></p> 
<p id="%E4%B8%83%E3%80%81%E7%BB%84%E4%BB%B6%E6%A0%B7%E5%BC%8F%E9%9A%94%E7%A6%BB-toc" style="margin-left:80px;"><a href="#%E4%B8%83%E3%80%81%E7%BB%84%E4%BB%B6%E6%A0%B7%E5%BC%8F%E9%9A%94%E7%A6%BB">七、组件样式隔离</a></p> 
<p id="%E5%85%AB%E3%80%81first-child-toc" style="margin-left:80px;"><a href="#%E5%85%AB%E3%80%81first-child">八、first-child</a></p> 
<hr id="hr-toc">
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<h3 id="%E4%B8%80%E3%80%81%E4%B8%A5%E6%A0%BC%E6%A8%A1%E5%BC%8F(Strict%20Mode)">一、严格模式(Strict Mode)</h3> 
<p><code>StrictMode</code> 是一个用以标记出应用中潜在问题的工具。</p> 
<p><a href="http://react.html.cn/docs/strict-mode.html">http://react.html.cn/docs/strict-mode.html</a></p> 
<p>&nbsp;</p> 
<h3 id="%E4%BA%8C%E3%80%81React%E5%BF%AB%E6%8D%B7%E6%96%B9%E5%BC%8F">二、React快捷方式</h3> 
<p>rcc：</p> 
<pre><code class="language-javascript">import React, { Component } from 'react'

export default class Footer extends Component {
  render() {
    return (
      &lt;div&gt;
        
      &lt;/div&gt;
    )
  }
}
</code></pre> 
<p>rafce：</p> 
<pre><code class="language-javascript">import React from 'react'

const Footer = () =&gt; {
  return (
    &lt;div&gt;
      
    &lt;/div&gt;
  )
}

export default Footer
</code></pre> 
<h3 id="%E4%B8%89%E3%80%81react%20%E7%B1%BB%E5%9E%8B%E6%A3%80%E6%9F%A5">三、react 类型检查</h3> 
<pre><code class="language-javascript">import React from 'react'
import PropTypes from 'prop-types'

const Icon = (props) =&gt; {
  let { name, className } = props

  return (
    &lt;span className={`icon iconfont icon-${name} ${className}`} onClick={props.onClick} &gt;&lt;/span&gt;
  )
}

Icon.propTypes = {
  name: PropTypes.string
}

export default Icon</code></pre> 
<h3 id="%E5%9B%9B%E3%80%81immutable.js">四、immutable.js</h3> 
<p>&nbsp;</p> 
<pre><code class="language-javascript">    let obj = fromJS({
      a: {
        b: 1
      },
      c: 2
    })
    let newObj = obj.setIn(['a', 'b'], 2)
    console.log('obj:', obj.toJS())
    console.log('newObj:', newObj.getIn(['a']).toJS())</code></pre> 
<h3 id="%E4%BA%94%E3%80%81100vh">五、100vh</h3> 
<p>vh就是当前屏幕可见高度的1%，也就是说</p> 
<p>height:100vh ==&nbsp;height:100%;</p> 
<p>但是当元素没有内容时候，设置height:100%，该元素不会被撑开，此时高度为0，</p> 
<p>但是设置height:100vh，该元素会被撑开屏幕高度一致。</p> 
<h3 id="%E5%85%AD%E3%80%81%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%9F%A5%E8%AF%A2dom%E4%BD%8D%E7%BD%AE">六、微信小程序查询dom位置</h3> 
<pre><code class="language-javascript">    handleImgLoad() {
      if (!isImgLoad) {
        const query = this.createSelectorQuery();
        query.selectAll('.js-category').boundingClientRect((res) =&gt; {
          topArr = res.map(item =&gt; item.top)
          topArr.push(Infinity)
          console.log(topArr)
        }).exec()
        isImgLoad = true
      }
    }</code></pre> 
<h3 id="%E4%B8%83%E3%80%81%E7%BB%84%E4%BB%B6%E6%A0%B7%E5%BC%8F%E9%9A%94%E7%A6%BB">七、组件样式隔离</h3> 
<pre><code class="language-javascript">  options: {
    styleIsolation: 'shared'
  },</code></pre> 
<h3 id="%E5%85%AB%E3%80%81first-child">八、first-child</h3> 
<pre><code class="language-css">.m-sidebar-item:first-child{border-top: 1rpx solid #ddd;}</code></pre> 
<h3>九、小程序理论题官网截屏</h3> 
<p><img alt="" src="https://img-blog.csdnimg.cn/2020041009312019.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p> 
<p><img alt="" src="https://img-blog.csdnimg.cn/20200410093133242.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p> 
<p><img alt="" src="https://img-blog.csdnimg.cn/20200410093151299.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p> 
<p><img alt="" src="https://img-blog.csdnimg.cn/20200410100249129.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p> 
<p><img alt="" src="https://img-blog.csdnimg.cn/20200410100314991.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p> 
<p><img alt="" src="https://img-blog.csdnimg.cn/20200410100327164.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p> 
<p><img alt="" src="https://img-blog.csdnimg.cn/2020041010034045.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p> 
<p><img alt="" src="https://img-blog.csdnimg.cn/20200410100349984.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p> 
<p><img alt="" src="https://img-blog.csdnimg.cn/20200410100401559.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p> 
<p><img alt="" src="https://img-blog.csdnimg.cn/20200410103206913.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p> 
<p><img alt="" src="https://img-blog.csdnimg.cn/20200410103220532.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p> 
<p><img alt="" src="https://img-blog.csdnimg.cn/20200410103244591.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p> 
<p><img alt="" src="https://img-blog.csdnimg.cn/20200410103254190.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p> 
<p><img alt="" src="https://img-blog.csdnimg.cn/20200410103319432.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p> 
<p><img alt="" src="https://img-blog.csdnimg.cn/2020041010333083.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p> 
<p><img alt="" src="https://img-blog.csdnimg.cn/20200410103339967.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p> 
<p><img alt="" src="https://img-blog.csdnimg.cn/20200410103350932.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p> 
<p><img alt="" src="https://img-blog.csdnimg.cn/20200410103402961.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p> 
<p><img alt="" src="https://img-blog.csdnimg.cn/20200410103415484.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p> 
<p><img alt="" src="https://img-blog.csdnimg.cn/20200410103429494.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p> 
<h3>十、vue对象 Vue 无法检测 property 的添加或移除</h3> 
<p><img alt="" src="https://img-blog.csdnimg.cn/20200413083238273.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p> 
<p>&nbsp;</p> 
<p><a href="https://cn.vuejs.org/v2/guide/reactivity.html#%E5%AF%B9%E4%BA%8E%E5%AF%B9%E8%B1%A1">https://cn.vuejs.org/v2/guide/reactivity.html#%E5%AF%B9%E4%BA%8E%E5%AF%B9%E8%B1%A1</a></p> 
<p>&nbsp;</p> 
<h3>十一、better-scroll</h3> 
<p>&nbsp;</p> 
<p><a href="https://zhuanlan.zhihu.com/p/27407024">https://zhuanlan.zhihu.com/p/27407024</a></p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>gitHub源码：</p> 
<p><a href="https://github.com/baweireact/m-apps/tree/master/demo">https://github.com/baweireact/m-apps/tree/master/demo</a></p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p>
                ]]></description></item><item><title>课程资料</title><link>http://www.cnblogs.com/xutongbao/archive/2020/03/31/14876300.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 31 Mar 2020 04:01:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2020/03/31/14876300.html</guid><description><![CDATA[
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="_0"></a>一、登录页</h2> 
<h3><a id="_2"></a>课程目标</h3> 
<ol><li>复习vue脚手架</li><li>搭建vue大型项目框架</li><li>制作一级路由页面登录页面</li></ol> 
<h3><a id="_8"></a>知识点</h3> 
<h4><a id="1vmodel_10"></a>1.v-model</h4> 
<p>登录页有两个输入框，分别是用户名和密码。用户在输入框里输入的内容可以通过v-model指令和data进行双向数据绑定。<br> 可以带着学生回忆一下在没有vue的时候怎么做这个功能。在react里没有v-model指令，是通过受控组件来做的，两者有什么<br> 区别？能否在vue里用受控组件代替v-model?</p> 
<p>语法格式：</p> 
<pre><code class="prism language-js"><span class="token operator">&lt;</span>input v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">"username"</span><span class="token operator">&gt;</span>
</code></pre> 
<h4><a id="2axios_20"></a>2.axios</h4> 
<p>前后端通信的工具，如何安装axios？添加登录按钮，并绑定登录事件，在登录回调函数里如何获取输入框里的值？<br> 获取到值后，使用axios把用户名和密码发送给后端。</p> 
<p>语法格式：</p> 
<pre><code class="prism language-js"><span class="token operator">&lt;</span>button @click<span class="token operator">=</span><span class="token string">"handleLogin"</span><span class="token operator">&gt;</span>登录<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>

methods<span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">handleLogin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    Api<span class="token punctuation">.</span><span class="token function">login</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> username<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>username<span class="token punctuation">,</span> password<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>password <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>res <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="3_36"></a>3.如何写后端接口</h4> 
<p>可以在vue.config.js里写，也可以利用在专高一时所学的知识，搭建后端项目，使用express写接口。<br> vue.config.js是vue脚手架的api，会随着项目的启动自动加载。建议安装body-parser解析post请求。</p> 
<p>语法格式：</p> 
<pre><code class="prism language-js"><span class="token keyword">const</span> bodyParser <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'body-parser'</span><span class="token punctuation">)</span>

<span class="token keyword">let</span> userList <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{<!-- --></span>
    id<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    username<span class="token punctuation">:</span> <span class="token string">'admin'</span><span class="token punctuation">,</span>
    password<span class="token punctuation">:</span> <span class="token string">'123456'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{<!-- --></span>
    id<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    username<span class="token punctuation">:</span> <span class="token string">'xu'</span><span class="token punctuation">,</span>
    password<span class="token punctuation">:</span> <span class="token string">'123'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
  lintOnSave<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
    open<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token function">before</span><span class="token punctuation">(</span>app<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

      app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>bodyParser<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

      app<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/api/login'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>req<span class="token punctuation">,</span> res<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">let</span> <span class="token punctuation">{<!-- --></span> username<span class="token punctuation">,</span> password <span class="token punctuation">}</span> <span class="token operator">=</span> req<span class="token punctuation">.</span>body
        <span class="token keyword">let</span> user <span class="token operator">=</span> userList<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>item <span class="token operator">=&gt;</span> item<span class="token punctuation">.</span>username <span class="token operator">===</span> username<span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>user<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>user<span class="token punctuation">.</span>password <span class="token operator">===</span> password<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
              code<span class="token punctuation">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
              data<span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
                username
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
              message<span class="token punctuation">:</span> <span class="token string">'登录成功'</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
          <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
            res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
              code<span class="token punctuation">:</span> <span class="token number">400</span><span class="token punctuation">,</span>
              message<span class="token punctuation">:</span> <span class="token string">'密码错误'</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
          res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
            code<span class="token punctuation">:</span> <span class="token number">400</span><span class="token punctuation">,</span>
            message<span class="token punctuation">:</span> <span class="token string">'用户名不存在'</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="4_95"></a>4.登录页面的优化</h4> 
<p>首页要做的是用户名输入框自动获取焦点，可以给学生看看百度首页，每次刷新时百度首页的搜索框都会自动获取焦点，这样<br> 做对用户来说使用起来很方便！<br> 语法格式：</p> 
<pre><code class="prism language-js"><span class="token operator">&lt;</span>input v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">"username"</span> placeholder<span class="token operator">=</span><span class="token string">"请输入用户名"</span> autofocus <span class="token operator">&gt;</span>
</code></pre> 
<p>还有一个需要优化的是回车登录。这个也可以举百度的例子，就是用户输入完成后，点击回车键即可搜索！<br> 在vue里可以使用.enter修饰keyup事件做到这个功能。</p> 
<p>语法格式：</p> 
<pre><code class="prism language-js"><span class="token operator">&lt;</span>input @keyup<span class="token punctuation">.</span>enter<span class="token operator">=</span><span class="token string">"handleLogin"</span> <span class="token operator">&gt;</span>
</code></pre> 
<h3><a id="_110"></a>授课思路</h3> 
<p><img src="https://img-blog.csdnimg.cn/20200331115916634.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p> 
<h3><a id="_114"></a>案例作业</h3> 
<p>1.练习v-model<br> 2.制作登录页<br> 3.前后端通信<br> 4.可以包含多个用户<br> 5.区分用户名错误和密码错误</p> 
<p><img src="https://img-blog.csdnimg.cn/20200331115934518.gif" alt="在这里插入图片描述"></p> 
<h2><a id="_124"></a>二、登录页控制密码显示隐藏</h2> 
<h3><a id="_126"></a>课程目标</h3> 
<ol><li>复习登录页主要知识点</li><li>复习vue组件化的思想</li><li>讲解父子组件传值</li><li>讲解iconfont的用法以及为什么要用iconfont</li><li>封装Icon组件，使用iconfont，控制密码输入框的密码显示和隐藏</li></ol> 
<h3><a id="_134"></a>知识点</h3> 
<h4><a id="1_136"></a>1.组件化思想</h4> 
<p>组件化就是把传统的一张大网页拆分成很多小组件，有些组件可以反复使用，有些组件也许只使用一次，拆分成很多组件的目的就是使页面解构更清晰更好维护，也方便多人协作开发一个大项目。</p> 
<h4><a id="2vue_139"></a>2.vue组件</h4> 
<p>首先带学生回忆一下react里如何创建组件，然后再用快捷方式创建一个vue的组件。讲解vue组件的模板、js以及样式这三大模块在react组件里是如何实现的，还可以讲解一下jsx多么的方便，而vue又哪些弊端。再给学生展示一下vue和react在github上star数对比以及npm下载量对比。</p> 
<h4><a id="3iconfont_142"></a>3.iconfont</h4> 
<p>讲解iconfont和雪碧图的区别。现场演示登录iconfont网站，并添加眼睛睁开和眼睛闭上的图标，并下载到本地。打开demo页，调试网页，<br> 介绍iconfont的原理。</p> 
<h4><a id="4Icon_146"></a>4.制作Icon组件</h4> 
<p>引入iconfont文件，编写Icon组件。<br> 重点内容：props的类型检查，如何动态绑定class，子组件触发父组件的方法</p> 
<p>语法格式：</p> 
<pre><code class="prism language-js"><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>span <span class="token punctuation">:</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"[ `icon iconfont icon-${name}` ]"</span> @click<span class="token operator">=</span><span class="token string">"handleClick"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
 props<span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
   name<span class="token punctuation">:</span> String
 <span class="token punctuation">}</span><span class="token punctuation">,</span>
 methods<span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
   <span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
     <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'onClick'</span><span class="token punctuation">)</span>
   <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> 
<h4><a id="5Icon_170"></a>5.在登录页使用Icon组件</h4> 
<p>如果引入组件并使用</p> 
<p>语法格式：</p> 
<pre><code class="prism language-js"><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>input v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">"username"</span> placeholder<span class="token operator">=</span><span class="token string">"请输入用户名"</span> autofocus <span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>input v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">"password"</span> placeholder<span class="token operator">=</span><span class="token string">"请输入密码"</span> <span class="token punctuation">:</span>type<span class="token operator">=</span><span class="token string">" visible ? 'text' : 'password'"</span> @keyup<span class="token punctuation">.</span>enter<span class="token operator">=</span><span class="token string">"handleLogin"</span> <span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>Icon <span class="token punctuation">:</span>name<span class="token operator">=</span><span class="token string">"visible ? 'xianshimima' : 'buxianshimima'"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"m-login-icon"</span> @onClick<span class="token operator">=</span><span class="token string">"handleVisible"</span> <span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Icon<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>button @click<span class="token operator">=</span><span class="token string">"handleLogin"</span><span class="token operator">&gt;</span>登录<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">'axios'</span>
<span class="token keyword">import</span> Icon <span class="token keyword">from</span> <span class="token string">'../components/Icon'</span>
<span class="token keyword">import</span> Api <span class="token keyword">from</span> <span class="token string">'../api'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
      username<span class="token punctuation">:</span> <span class="token string">'admin'</span><span class="token punctuation">,</span>
      password<span class="token punctuation">:</span> <span class="token string">'123456'</span><span class="token punctuation">,</span>
      visible<span class="token punctuation">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  components<span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
    Icon
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">handleLogin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      Api<span class="token punctuation">.</span><span class="token function">login</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> username<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>username<span class="token punctuation">,</span> password<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>password <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>res <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>code <span class="token operator">===</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
          localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'token'</span><span class="token punctuation">,</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>username<span class="token punctuation">)</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'/index/home'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
          <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$message</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> message<span class="token punctuation">:</span> res<span class="token punctuation">.</span>message<span class="token punctuation">,</span> duration<span class="token punctuation">:</span> <span class="token number">1000</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">handleVisible</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>visible <span class="token operator">=</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>visible
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>style<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
</code></pre> 
<h3><a id="_227"></a>授课思路</h3> 
<p><img src="https://img-blog.csdnimg.cn/20200331120338518.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p> 
<h3><a id="_231"></a>案例作业</h3> 
<p>1.完善登录页<br> 2.研究iconfont的用法<br> 3.编写vue组件<br> 4.控制密码的显示和隐藏</p> 
<p><img src="https://img-blog.csdnimg.cn/20200331120400622.gif" alt="在这里插入图片描述"></p> 
<h2><a id="Api_240"></a>三、封装Api</h2> 
<h3><a id="_242"></a>课程目标</h3> 
<ol><li>讲解为什么要封装Api</li><li>首先封装url</li><li>其次要复习复习Promise</li><li>讲解拦截器</li><li>讲解封装本身代码</li></ol> 
<h3><a id="_250"></a>知识点</h3> 
<h4><a id="1Api_252"></a>1.为啥要封装Api呢</h4> 
<p>为了好维护，减少代码量！把前后端通信的url单独写的一个文件里，有多少接口就一目了然了。把所有前端发起请求的方法也写到一个文件里，方法名抛出，可以减少代码量。另外还可以给axios添加拦截器，对报错信息统一处理，统一添加请求头等等。</p> 
<h4><a id="2url_255"></a>2.首先封装url</h4> 
<p>封装url并没有用到啥新技术，js模块化而已！把url归归类，也可以写写注释，甚至还可以继续拆分成多个文件，多人协同维护。</p> 
<p>语法格式：</p> 
<pre><code class="prism language-js"><span class="token keyword">const</span> urls <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
  login<span class="token punctuation">:</span> <span class="token string">'/api/login'</span><span class="token punctuation">,</span>
  list<span class="token punctuation">:</span> <span class="token string">'/api/list'</span><span class="token punctuation">,</span>
  myBooks<span class="token punctuation">:</span> <span class="token string">'/api/my_books'</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> urls
</code></pre> 
<h4><a id="3Promise_269"></a>3.复习Promise</h4> 
<p>axios请求本身就是一个promise，如果想对axios进行二次封装，要好好研究一下。promise对象是可以通过.then处理成功的回调的，在封装之前大家一直也都这么用，封装之后也需要继续保持。async函数本身也是一个promise，且async函数内部可以通过await等待异步函数执行。</p> 
<h4><a id="4_272"></a>4.拦截器</h4> 
<p>拦截器只是一个概念，其实很好理解。可以类比之前讲的express中间件，其实二者的语法格式都是一致的。重点不是语法，重点是拦截器能帮咱干啥。可以类比高速公路的上高速前领一张卡和下高速前把卡交回并缴费。回到拦截器里就是请求前可以在header里添加token等信息，请求后可以帮忙这一些消息框的提示拦截。</p> 
<h4><a id="5axios_275"></a>5.封装axios</h4> 
<p>这块是核心代码，会有点多，核心思想就是把请求的核心部分封装成一个函数，抛出多个函数对应多个接口。</p> 
<p>语法格式：</p> 
<pre><code class="prism language-js"><span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">'axios'</span>
<span class="token keyword">import</span> message <span class="token keyword">from</span> <span class="token string">'../components/message'</span>
<span class="token keyword">import</span> urls <span class="token keyword">from</span> <span class="token string">'./urls'</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">'development'</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  axios<span class="token punctuation">.</span>defaults<span class="token punctuation">.</span>baseURL <span class="token operator">=</span> <span class="token string">'http://localhost:81'</span>
<span class="token punctuation">}</span>

axios<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>request<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
  config<span class="token punctuation">.</span>headers<span class="token punctuation">.</span>token <span class="token operator">=</span> localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'token'</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> config
<span class="token punctuation">}</span><span class="token punctuation">)</span>

axios<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>response<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>code <span class="token operator">===</span> <span class="token number">400</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">message</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> message<span class="token punctuation">:</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>message<span class="token punctuation">,</span> duration<span class="token punctuation">:</span> <span class="token number">2000</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> res
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> common <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span>config<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">let</span> resolve <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">axios</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span>
  <span class="token keyword">return</span> resolve<span class="token punctuation">.</span>data
<span class="token punctuation">}</span>

<span class="token keyword">const</span> Api <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
  login<span class="token punctuation">:</span> <span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">common</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> url<span class="token punctuation">:</span> urls<span class="token punctuation">.</span>login<span class="token punctuation">,</span> data<span class="token punctuation">,</span> method<span class="token punctuation">:</span> <span class="token string">'post'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  list<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">common</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> url<span class="token punctuation">:</span> urls<span class="token punctuation">.</span>list <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  myBooks<span class="token punctuation">:</span> <span class="token punctuation">(</span>data<span class="token punctuation">,</span> method<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">common</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> url<span class="token punctuation">:</span> urls<span class="token punctuation">.</span>myBooks<span class="token punctuation">,</span> data<span class="token punctuation">,</span> method <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Api
</code></pre> 
<h3><a id="_314"></a>授课思路</h3> 
<p><img src="https://img-blog.csdnimg.cn/20200331120453335.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p> 
<h3><a id="_318"></a>案例作业</h3> 
<p>1.登录页调用封装后的api<br> 2.在后端添加对一个数组的增删查改的接口<br> 3.前端封装对应的接口并调用<br> 4.研究get请求和post请求的区别</p> 
<h2><a id="_325"></a>四、二级路由</h2> 
<h3><a id="_327"></a>课程目标</h3> 
<ol><li>登录后跳转到新页面</li><li>新页面是个三段式</li><li>header、footer拆分成组件</li><li>中间部分是二级路由，动态切换</li></ol> 
<h3><a id="_334"></a>知识点</h3> 
<h4><a id="1_336"></a>1.如何跳转路由</h4> 
<p>如果用户名和密码都是正确的，后端会返回登录成功，前端就需要跳转页面了。可以给学生扩展一下路由的原理，history模式和hash模式到底啥区别？</p> 
<p>语法格式：</p> 
<pre><code class="prism language-js">  <span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'/index/home'</span><span class="token punctuation">)</span>
</code></pre> 
<h4><a id="2_344"></a>2.三段式</h4> 
<p>盒子需要覆盖整个浏览器，flex纵向布局。头和尾高度固定，中间部分flex:1</p> 
<pre><code class="prism language-css"><span class="token selector">.m-wrap</span><span class="token punctuation">{<!-- --></span><span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span><span class="token property">flex-direction</span><span class="token punctuation">:</span> column<span class="token punctuation">;</span><span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span><span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span><span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span><span class="token property">right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span><span class="token property">bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token selector">.m-header</span><span class="token punctuation">{<!-- --></span><span class="token property">height</span><span class="token punctuation">:</span> 40px<span class="token punctuation">;</span><span class="token property">line-height</span><span class="token punctuation">:</span> 40px<span class="token punctuation">;</span><span class="token property">background</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span><span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span><span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token selector">.m-main</span><span class="token punctuation">{<!-- --></span><span class="token property">flex</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span><span class="token property">overflow-y</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token selector">.m-footer</span><span class="token punctuation">{<!-- --></span><span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span> <span class="token property">height</span><span class="token punctuation">:</span> 40px<span class="token punctuation">;</span><span class="token property">box-shadow</span><span class="token punctuation">:</span> 0 -5px 5px <span class="token function">rgba</span><span class="token punctuation">(</span>0,0,0,0.1<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token property">border-top</span><span class="token punctuation">:</span> 1px solid #ddd<span class="token punctuation">;</span> <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span><span class="token property">z-index</span><span class="token punctuation">:</span> 9<span class="token punctuation">;</span><span class="token punctuation">}</span>
</code></pre> 
<h4><a id="3_354"></a>3.拆分组件</h4> 
<p>组件化依然是主体，header和footer两个组件。这个两个组件还是有很多文章可以做的，可以简单讲一下先不展开，先把二级路由讲清楚！</p> 
<pre><code class="prism language-js"><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"m-wrap"</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>Header<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Header<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>router<span class="token operator">-</span>view<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>view<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>Footer<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Footer<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
</code></pre> 
<h4><a id="4_367"></a>4.二级路由</h4> 
<p>所谓二级，就是普通的页面里包含小页面。其实多少级都是一样的，学会二级就都学会了。router-view是页面渲染的地方，是可以嵌套。路由配置是数组对象，也可以通过children字段进行嵌套，和router-view形成对应。</p> 
<p>语法格式：</p> 
<pre><code class="prism language-js"><span class="token keyword">const</span> routes <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{<!-- --></span>
    path<span class="token punctuation">:</span> <span class="token string">'/index'</span><span class="token punctuation">,</span>
    component<span class="token punctuation">:</span> Index<span class="token punctuation">,</span>
    children<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">{<!-- --></span>
      path<span class="token punctuation">:</span> <span class="token string">'/index/home'</span><span class="token punctuation">,</span>
      component<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'../views/Home'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>

</code></pre> 
<h3><a id="_385"></a>授课思路</h3> 
<p><img src="https://img-blog.csdnimg.cn/20200331120534709.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p> 
<h3><a id="_389"></a>案例作业</h3> 
<p>1.登录成功后跳转新页面<br> 2.新页面是三段式，头和尾是组件，中间是二级路由<br> 3.研究路由懒加载<br> 4.预习vuex</p> 
<h2><a id="VueX_398"></a>五、引入VueX</h2> 
<h3><a id="_400"></a>课程目标</h3> 
<ol><li>通过案例引入VueX</li><li>让学生掌握VueX的基本语法</li><li>了解路由守卫</li></ol> 
<h3><a id="_406"></a>知识点</h3> 
<h4><a id="1VueX_408"></a>1.VueX</h4> 
<p>VueX是难点、重点。可以多举一些有趣的例子加深学生理解。仓库好比是杂货铺，又好比是手机里的应用商店等等。还可以带着学生安装一下VueX在chrome里的插件,这样学习起来更直观些。这里把Vuex的最精简、最易上手的语法展示一下，学会这些就足够了，不必全面学习官方Api。</p> 
<p>语法格式：</p> 
<pre><code class="prism language-js"><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> Vuex <span class="token keyword">from</span> <span class="token string">'vuex'</span>
<span class="token keyword">import</span> Api <span class="token keyword">from</span> <span class="token string">'../api'</span>

Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Vuex<span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  state<span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
    title<span class="token punctuation">:</span> <span class="token string">'小米书城'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  mutations<span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">setState</span><span class="token punctuation">(</span>state<span class="token punctuation">,</span> payload<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      state<span class="token punctuation">[</span>payload<span class="token punctuation">.</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> payload<span class="token punctuation">.</span>value
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  actions<span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">getList</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> commit <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      Api<span class="token punctuation">.</span><span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>res <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>code <span class="token operator">===</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
          <span class="token function">commit</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> type<span class="token punctuation">:</span> <span class="token string">'setState'</span><span class="token punctuation">,</span> key<span class="token punctuation">:</span> <span class="token string">'list'</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> res<span class="token punctuation">.</span>data <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre> 
<p>title是仓库里的值，mutations里的setState方法负责修改仓库里的值，actions只是一个写异步函数的地方。</p> 
<h4><a id="2Header_442"></a>2.在Header里获取仓库里的值</h4> 
<p>通过计算属性获取，语法很简单，获取之后的使用也和data里的数据完全一样。当然也可以使用辅助函数获取，不过我不喜欢使用。</p> 
<pre><code class="prism language-js"><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"m-header"</span><span class="token operator">&gt;</span>
    <span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span>title<span class="token punctuation">}</span><span class="token punctuation">}</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
  computed<span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">title</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>title
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> 
<h4><a id="3Footer_463"></a>3.完善Footer组件</h4> 
<p>Footer组件包含首页、书包和我的三个菜单，除了文字外，应该添加上小图标，这样会更加有趣！之前的课程中已经封装了Icon组件在密码输入框里使用，这里是第二次是否Icon组件，Icon组件还会再接下来的课程中继续使用。</p> 
<pre><code class="prism language-js"><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"m-footer"</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>router<span class="token operator">-</span>link to<span class="token operator">=</span><span class="token string">"/index/home"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"m-footer-item"</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>Icon name<span class="token operator">=</span><span class="token string">"shouye"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"m-footer-icon"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Icon<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"m-footer-text"</span><span class="token operator">&gt;</span>首页<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>link<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>router<span class="token operator">-</span>link to<span class="token operator">=</span><span class="token string">"/index/my_books"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"m-footer-item"</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>Icon name<span class="token operator">=</span><span class="token string">"shubao"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"m-footer-icon"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Icon<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"m-footer-text"</span><span class="token operator">&gt;</span>书包<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>link<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>router<span class="token operator">-</span>link to<span class="token operator">=</span><span class="token string">"/index/me"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"m-footer-item"</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>Icon name<span class="token operator">=</span><span class="token string">"wodedangxuan"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"m-footer-icon"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Icon<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"m-footer-text"</span><span class="token operator">&gt;</span>我的<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>link<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
</code></pre> 
<h4><a id="4Header_485"></a>4.点击底部菜单动态修改Header里的文本</h4> 
<p>如果直接在底部菜单上面绑定click事件，点击的时候修改仓库里的title值，确实可以实现这个需求，但是刷新后会出bug，你可以试一试！原因很简单，store里的数据刷新后就回到初始值了。这里推荐一个新的解决方案，通过路由守卫实现！</p> 
<p>语法格式：</p> 
<pre><code class="prism language-js">  children<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">{<!-- --></span>
    path<span class="token punctuation">:</span> <span class="token string">'/index/home'</span><span class="token punctuation">,</span>
    component<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'../views/Home'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    meta<span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
      title<span class="token punctuation">:</span> <span class="token string">'小米书城'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
    path<span class="token punctuation">:</span> <span class="token string">'/index/my_books'</span><span class="token punctuation">,</span>
    component<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'../views/MyBooks'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    meta<span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
      title<span class="token punctuation">:</span> <span class="token string">'我的书包'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
    path<span class="token punctuation">:</span> <span class="token string">'/index/me'</span><span class="token punctuation">,</span>
    component<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'../views/Me'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    meta<span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
      title<span class="token punctuation">:</span> <span class="token string">'个人中心'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">]</span>

router<span class="token punctuation">.</span><span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>to<span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">,</span> next<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
  store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> type<span class="token punctuation">:</span> <span class="token string">'setState'</span><span class="token punctuation">,</span> key<span class="token punctuation">:</span> <span class="token string">'title'</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> to<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>title <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre> 
<h3><a id="_517"></a>授课思路</h3> 
<p><img src="https://img-blog.csdnimg.cn/20200331120623845.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p> 
<h3><a id="_520"></a>案例作业</h3> 
<p>1.学习VueX语法<br> 2.实现底部菜单切换顶部Header文本<br> 3.学习Icon组件<br> 4.学习actions</p> 
<p><img src="https://img-blog.csdnimg.cn/20200331120638385.gif" alt="在这里插入图片描述"></p> 
<h2><a id="_528"></a>六、初识楼层</h2> 
<h3><a id="_530"></a>课程目标</h3> 
<ol><li>深入掌握VueX</li><li>深入掌握组件化思想</li><li>搭建楼层页面框架</li></ol> 
<h3><a id="_536"></a>知识点</h3> 
<h4><a id="1VueXactions_538"></a>1.VueX之actions</h4> 
<p>actions是写异步函数的地方，通过异步请求获取数据。函数的第一个参数是context，context里包含state、commit等。通过commit把获取的数据提交给mutations，然后更新state。这是VueX给咱们设计出来的一套语法格式。</p> 
<pre><code class="prism language-js"><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> Vuex <span class="token keyword">from</span> <span class="token string">'vuex'</span>
<span class="token keyword">import</span> Api <span class="token keyword">from</span> <span class="token string">'../api'</span>

Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Vuex<span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  state<span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
    title<span class="token punctuation">:</span> <span class="token string">'小米书城'</span><span class="token punctuation">,</span>
    list<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  mutations<span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">setState</span><span class="token punctuation">(</span>state<span class="token punctuation">,</span> payload<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      state<span class="token punctuation">[</span>payload<span class="token punctuation">.</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> payload<span class="token punctuation">.</span>value
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  actions<span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">getList</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> commit <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      Api<span class="token punctuation">.</span><span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>res <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>code <span class="token operator">===</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
          <span class="token function">commit</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> type<span class="token punctuation">:</span> <span class="token string">'setState'</span><span class="token punctuation">,</span> key<span class="token punctuation">:</span> <span class="token string">'list'</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> res<span class="token punctuation">.</span>data <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> 
<p>actions里的函数并不会自动触发，可以在组件挂载后这个生命周期里手动触发。</p> 
<pre><code class="prism language-js">  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> type<span class="token punctuation">:</span> <span class="token string">'getList'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
</code></pre> 
<h4><a id="2_577"></a>2.初始楼层页面</h4> 
<p>通过计算属性可以获取仓库里的数据。无论是哪个组件，都可以随时随地的获得仓库里的数据。我们在首页里使用两个组件，一个是侧边栏，另一个是列表。点击侧边栏的菜单可以控制列表滚动到对应的数据位置，同时右侧数据滚动时，侧边栏菜单的高亮也会有所变化，其实就是楼层的效果！</p> 
<p>这是首页的代码，可以清醒的看到使用了侧边栏组件和列表组件，以及在挂载完这个生命周期派发了getList这个action去请求数据</p> 
<pre><code class="prism language-js"><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"m-main m-home"</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>Sidebar<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Sidebar<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>List<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>List<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">import</span> Sidebar <span class="token keyword">from</span> <span class="token string">'../components/Sidebar'</span>
<span class="token keyword">import</span> List <span class="token keyword">from</span> <span class="token string">'../components/List'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
  components<span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
    Sidebar<span class="token punctuation">,</span>
    List
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> type<span class="token punctuation">:</span> <span class="token string">'getList'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> 
<h4><a id="3_605"></a>3.侧边栏组件</h4> 
<p>侧边栏里有菜单，菜单的数据需要从仓库里获得，仓库里的list数据是一个数组。</p> 
<p><img src="https://img-blog.csdnimg.cn/2020033112074174.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p> 
<p>我们需要使用v-for把数组里的第一层的title字段渲染成菜单，并给每一个菜单菜单绑定点击事件，通过点击事件控制仓库里的currentId，该字段和菜单的高亮有关。</p> 
<pre><code class="prism language-js"><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"m-sidebar"</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div 
      v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">"item in list"</span> 
      <span class="token punctuation">:</span>key<span class="token operator">=</span><span class="token string">"item.id"</span> 
      <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"m-sidebar-item"</span> 
      <span class="token punctuation">:</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"currentId === item.id ? 'active' : ''"</span>
      @click<span class="token operator">=</span><span class="token string">"handleNav(item.id)"</span><span class="token operator">&gt;</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span>item<span class="token punctuation">.</span>title<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">let</span> timer

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
  computed<span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>list
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">currentId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>currentId
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">handleNav</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> type<span class="token punctuation">:</span> <span class="token string">'setState'</span><span class="token punctuation">,</span> key<span class="token punctuation">:</span> <span class="token string">'currentId'</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> id <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> 
<h4><a id="4List_644"></a>4.List组件</h4> 
<p>List组件这节课并不讲太多内容，先渲染一下列表即可！渲染的时候需要注意一下这是一个两层的数组，第一层是分类，第二层是分类对应的列表。</p> 
<pre><code class="prism language-js"><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"m-list"</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">"categroy in list"</span> <span class="token punctuation">:</span>key<span class="token operator">=</span><span class="token string">"categroy.id"</span> <span class="token punctuation">:</span>id<span class="token operator">=</span><span class="token string">"categroy.id"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"m-category js-category"</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"m-category-title"</span><span class="token operator">&gt;</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span>categroy<span class="token punctuation">.</span>title<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>div v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">"book in categroy.list"</span> <span class="token punctuation">:</span>key<span class="token operator">=</span><span class="token string">"book.id"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"m-list-item"</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"m-info"</span><span class="token operator">&gt;</span>
          <span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span>book<span class="token punctuation">.</span>title<span class="token punctuation">}</span><span class="token punctuation">}</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
  computed<span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>list
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> 
<h3><a id="_672"></a>授课思路</h3> 
<p><img src="https://img-blog.csdnimg.cn/20200331120719861.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p> 
<h3><a id="_676"></a>案例作业</h3> 
<p>1.编辑actions函数并把返回的数据保存到仓库<br> 2.搭建楼层页面框架<br> 3.开发侧边栏组件并添加高亮<br> 4.开发列表组件</p> 
<p><img src="https://img-blog.csdnimg.cn/2020033112075786.gif" alt="在这里插入图片描述"></p>
                ]]></description></item><item><title>项目实战【vue，react，微信小程序】（1708E）</title><link>http://www.cnblogs.com/xutongbao/archive/2019/12/30/14876302.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Mon, 30 Dec 2019 02:01:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2019/12/30/14876302.html</guid><description><![CDATA[
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="%E4%B8%80%E3%80%81Promise-toc" style="margin-left:80px;"><a href="#%E4%B8%80%E3%80%81Promise">一、Promise</a></p> 
<p id="%E4%BA%8C%E3%80%81swiper-toc" style="margin-left:80px;"><a href="#%E4%BA%8C%E3%80%81swiper">二、swiper</a></p> 
<p id="%E4%B8%89%E3%80%81%24event-toc" style="margin-left:80px;"><a href="#%E4%B8%89%E3%80%81%24event">三、$event</a></p> 
<p id="%E5%9B%9B%E3%80%81transition%20%E8%BF%87%E6%B8%A1%E5%8A%A8%E7%94%BB-toc" style="margin-left:80px;"><a href="#%E5%9B%9B%E3%80%81transition%20%E8%BF%87%E6%B8%A1%E5%8A%A8%E7%94%BB">四、transition 过渡动画</a></p> 
<p id="%E4%BA%94%E3%80%81toast%E7%BB%84%E4%BB%B6-toc" style="margin-left:80px;"><a href="#%E4%BA%94%E3%80%81toast%E7%BB%84%E4%BB%B6">五、toast组件</a></p> 
<p id="%E5%85%AD%E3%80%81%E8%A7%A3%E6%9E%84%E5%B9%B6%E4%B8%8D%E8%83%BD%E5%AE%9E%E7%8E%B0%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%B7%B1%E6%8B%B7%E8%B4%9D-toc" style="margin-left:80px;"><a href="#%E5%85%AD%E3%80%81%E8%A7%A3%E6%9E%84%E5%B9%B6%E4%B8%8D%E8%83%BD%E5%AE%9E%E7%8E%B0%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%B7%B1%E6%8B%B7%E8%B4%9D">六、解构并不能实现对象的深拷贝</a></p> 
<p id="%E4%B8%83%E3%80%81%E4%BF%AE%E6%94%B9%E8%84%9A%E6%89%8B%E6%9E%B6%E9%BB%98%E8%AE%A4%E5%8C%85%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7-toc" style="margin-left:80px;"><a href="#%E4%B8%83%E3%80%81%E4%BF%AE%E6%94%B9%E8%84%9A%E6%89%8B%E6%9E%B6%E9%BB%98%E8%AE%A4%E5%8C%85%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7">七、修改脚手架默认包管理工具</a></p> 
<p id="%E5%85%AB%E3%80%81redux-toc" style="margin-left:80px;"><a href="#%E5%85%AB%E3%80%81redux">八、redux</a></p> 
<p id="%E4%B9%9D%E3%80%81react%E7%BB%84%E4%BB%B6props%E7%B1%BB%E5%9E%8B%E6%A3%80%E6%9F%A5%E5%92%8C%E9%BB%98%E8%AE%A4%E5%80%BC-toc" style="margin-left:80px;"><a href="#%E4%B9%9D%E3%80%81react%E7%BB%84%E4%BB%B6props%E7%B1%BB%E5%9E%8B%E6%A3%80%E6%9F%A5%E5%92%8C%E9%BB%98%E8%AE%A4%E5%80%BC">九、react组件props类型检查和默认值</a></p> 
<p id="%E5%8D%81%E3%80%81%E4%BD%BF%E7%94%A8webpack%E6%90%AD%E5%BB%BAreact%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83-toc" style="margin-left:80px;"><a href="#%E5%8D%81%E3%80%81%E4%BD%BF%E7%94%A8webpack%E6%90%AD%E5%BB%BAreact%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83">十、使用webpack搭建react开发环境</a></p> 
<p id="github%E6%BA%90%E7%A0%81%EF%BC%9A-toc" style="margin-left:80px;"><a href="#github%E6%BA%90%E7%A0%81%EF%BC%9A">github源码：</a></p> 
<hr id="hr-toc">
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<h3 id="%E4%B8%80%E3%80%81Promise">一、Promise</h3> 
<p>async函数会返回一个promise，并且Promise对象的状态值是resolved（成功的）</p> 
<pre class="has"><code class="language-javascript">    //Promise基础用法
    let pro = new Promise(resolve =&gt; {
      setTimeout(() =&gt; {
        resolve('hello world')
      }, 500)
    })

    pro.then(res =&gt; {
      console.log(res) // hello world
    })

    //Promise和async await相结合，async函数会返回一个promise，并且Promise对象的状态值是resolved（成功的）
    const fun = async () =&gt; {
      let result
      await new Promise((resolve, reject) =&gt; {
        setTimeout(() =&gt; {
          resolve({
            code: 200,
            data: { name: 'zhangsan' },
            message: '姓名'
          })
        }, 1000)
      }).then(res =&gt; {
        result = res
      })

      return result
    }

    Promise和async await相结合二
    fun().then(res =&gt; {
      console.log(res)
    })

    const fun2 = async () =&gt; {
      return await new Promise((resolve, reject) =&gt; {
        setTimeout(() =&gt; {
          resolve({
            code: 200,
            data: 'lishi',
            message: '消息'
          })
        }, 1500)
      })
    }

    fun2().then(res =&gt; {
      console.log(res)
    })
</code></pre> 
<p>&nbsp;</p> 
<h3 id="%E4%BA%8C%E3%80%81swiper">二、swiper</h3> 
<p>swiper.js:</p> 
<pre class="has"><code class="language-javascript">&lt;template&gt;
  &lt;div&gt;
    &lt;div&gt;
      &lt;swiper v-if="bannerList.length &gt; 0" :options="options"&gt;
        &lt;swiper-slide v-for="(item,index) in bannerList" :key="index"&gt;
          &lt;img :src="item" class="m-banner-img"/&gt;
        &lt;/swiper-slide&gt;
        &lt;div class="swiper-pagination" slot="pagination"&gt;&lt;/div&gt;
        &lt;div class="swiper-button-prev" slot="button-prev"&gt;&lt;/div&gt;
        &lt;div class="swiper-button-next" slot="button-next"&gt;&lt;/div&gt;
      &lt;/swiper&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
import Api from "../api";

export default {
  data() {
    return {
      bannerList: [],
      options: {
        loop: true,
        effect: 'cube', //slide, fade,cube, coverflow, flip
        speed: 1000,
        autoplay: {
          delay: 2000
        },
        pagination: {
          el: '.swiper-pagination',
          clickable: true
        },
        navigation: {
          nextEl: '.swiper-button-next',
          prevEl: '.swiper-button-prev'
        }
      }
    };
  },
  mounted() {
    Api.getBanner().then(res =&gt; {
      if (res.code === 200) {
        this.bannerList = res.data;
      }
    });
  }
};
&lt;/script&gt;

&lt;style&gt;
&lt;/style&gt;</code></pre> 
<p>main.js:</p> 
<pre class="has"><code class="language-javascript">import Vue from 'vue'
import lazyload from 'vue-lazyload'
import App from './App.vue'
import router from './router'
import store from './store'
import VueAwesomeSwiper from 'vue-awesome-swiper'
import 'swiper/dist/css/swiper.css'
import './font/iconfont.css'
import './index.css'
import img from './images/loading.png'


Vue.config.productionTip = false

Vue.use(lazyload, {
  loading: img
})

Vue.use(VueAwesomeSwiper)

new Vue({
  router,
  store,
  render: h =&gt; h(App)
}).$mount('#app')
</code></pre> 
<h3 id="%E4%B8%89%E3%80%81%24event">三、$event</h3> 
<p>有时也需要在内联语句处理器中访问原始的 DOM 事件。可以用特殊变量 <code>$event</code> 把它传入方法。</p> 
<p><a href="https://cn.vuejs.org/v2/guide/events.html#%E5%86%85%E8%81%94%E5%A4%84%E7%90%86%E5%99%A8%E4%B8%AD%E7%9A%84%E6%96%B9%E6%B3%95">https://cn.vuejs.org/v2/guide/events.html#%E5%86%85%E8%81%94%E5%A4%84%E7%90%86%E5%99%A8%E4%B8%AD%E7%9A%84%E6%96%B9%E6%B3%95</a></p> 
<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20200102135217878.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p> 
<h3 id="%E5%9B%9B%E3%80%81transition%20%E8%BF%87%E6%B8%A1%E5%8A%A8%E7%94%BB">四、transition 过渡动画</h3> 
<pre class="has"><code class="language-javascript">&lt;template&gt;
  &lt;div&gt;
    &lt;div&gt;
      &lt;router-link to="/index/home" class="m-nav-item"&gt;首页&lt;/router-link&gt;
      &lt;router-link to="/index/my_book" class="m-nav-item"&gt;书包&lt;/router-link&gt;
      &lt;router-link to="/index/exam1" class="m-nav-item"&gt;周考1&lt;/router-link&gt;
    &lt;/div&gt;
    &lt;transition name="slide"&gt;
      &lt;router-view class="m-router"&gt;&lt;/router-view&gt;
    &lt;/transition&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
}
&lt;/script&gt;

&lt;style&gt;
.m-router{position: absolute;width:100%}
.slide-enter-active{transition: all 1s linear;}
.slide-enter{transform: translateX(100%)}

/* .slide-leave-active{transition: all 1s linear;}
.slide-leave-to{transform: translateX(-100%)} */

.slide-leave-active{animation: slide 1s linear;}

@keyframes slide {
  0% {transform: translateX(0)}
  100% { transform: translateX(-100%)}
}
&lt;/style&gt;</code></pre> 
<h3 id="%E4%BA%94%E3%80%81toast%E7%BB%84%E4%BB%B6">五、toast组件</h3> 
<p>Toast.vue:</p> 
<pre class="has"><code class="language-javascript">&lt;template&gt;
  &lt;div class="m-toast-mask" :id="id" &gt;
    &lt;div class="m-toast"&gt;{<!-- -->{message}}&lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  data() {
    return {
      duration: 3000,
      message: '',
      id: Date.now()
    }
  },
  mounted() {
    setTimeout(() =&gt; {
      document.getElementById(this.id).remove()
    }, this.duration)
  }
}
&lt;/script&gt;

&lt;style&gt;

&lt;/style&gt;</code></pre> 
<p>index.js:</p> 
<pre class="has"><code class="language-javascript">import Vue from 'vue'
import Toast from './Toast'

const ToastConstructor = Vue.extend(Toast)

const toast = (options) =&gt; {
  let instance = new ToastConstructor({data: options}).$mount()
  document.body.appendChild(instance.$el)
}

export default toast</code></pre> 
<p>css:</p> 
<pre class="has"><code class="language-css">.m-toast-mask{display: flex; position: fixed;top: 0;left: 0;right: 0;bottom: 0;}
.m-toast{margin: auto;padding: 0 10px; min-width: 100px;line-height: 40px;border-radius: 3px;background: rgba(0, 0, 0, 0.5);text-align: center;color: #ffffff;}
</code></pre> 
<p>使用：</p> 
<pre class="has"><code class="language-javascript">&lt;template&gt;
  &lt;div&gt;
    &lt;div v-for="(item, index) in myBook" :key="item.id" class="m-my-book-item"&gt;
      &lt;div class="m-my-book-info"&gt;
        &lt;label&gt;
          &lt;input type="checkbox" :checked="item.checked" @change="handleCheck(index, $event)" /&gt;
          {<!-- -->{item.title}}
        &lt;/label&gt;
        ￥{<!-- -->{item.price}}
      &lt;/div&gt;
      &lt;div class="m-my-book-action"&gt;
        &lt;button @click="handleSub(index)"&gt;-&lt;/button&gt;
        {<!-- -->{item.count}}
        &lt;button @click="handleAdd(index)"&gt;+&lt;/button&gt;
        &lt;button @click="handleDelete(index)"&gt;删除&lt;/button&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div v-if="myBook.length &gt; 0"&gt;
      &lt;div&gt;
        &lt;label&gt;
          &lt;input type="checkbox" :checked="total.checkedAll" @click="handleCheckAll"&gt;
          全选
        &lt;/label&gt;
        &lt;button @click="handleShowDialog"&gt;删除&lt;/button&gt;
      &lt;/div&gt;
      &lt;div&gt;总价：￥{<!-- -->{total.totalPrice}},总数：{<!-- -->{total.totalCount}}&lt;/div&gt;
    &lt;/div&gt;
    &lt;div v-else&gt;书包空空如也~~~&lt;/div&gt;
    &lt;Dialog :visible="visible" title="删除"&gt;
      &lt;template v-slot:content&gt;
        &lt;div class="m-delete-info"&gt;
          &lt;Icon type="shanchu" classname="m-delete-icon"&gt;&lt;/Icon&gt;
          &lt;div class="m-delete-text"&gt;
            你确定要删除选中的商品吗？
          &lt;/div&gt;
        &lt;/div&gt;
      &lt;/template&gt;
      &lt;template v-slot:footer&gt;
        &lt;button class="m-btn" @click="handleHideDialog"&gt;取消&lt;/button&gt;
        &lt;button class="m-btn" @click="handleDeleteChecked"&gt;确定&lt;/button&gt;
      &lt;/template&gt;
    &lt;/Dialog&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
import Api from "../api";
import Dialog from '../components/Dialog'
import Icon from '../components/Icon'
import toast from '../components/Toast'

export default {
  data() {
    return {
      visible: false
    }
  },
  computed: {
    myBook() {
      return this.$store.state.myBook;
    },
    total() {
      let myBook = this.myBook;
      let totalCount = myBook.filter(item =&gt; item.checked).reduce((total, item) =&gt; {
        return total + item.count;
      }, 0);
      let totalPrice = myBook.filter(item =&gt; item.checked).reduce((total, item) =&gt; {
        return total + item.count * item.price;
      }, 0);
      return {
        totalCount,
        totalPrice,
        checkedAll: myBook.every(item =&gt; item.checked)
      };
    }
  },
  components:{
    Dialog,
    Icon
  },
  methods: {
    handleSub(index) {
      let myBook = this.myBook;
      if (myBook[index].count &gt; 1) {
        myBook[index].count--;
        this.$store.commit({ type: "setState", key: "myBook", value: myBook });
      }
    },
    handleAdd(index) {
      let myBook = this.myBook;
      myBook[index].count++;
      this.$store.commit({ type: "setState", key: "myBook", value: myBook });
    },
    handleDelete(index) {
      let myBook = this.myBook;
      myBook.splice(index, 1)
      this.$store.commit({ type: "setState", key: "myBook", value: myBook });
    },
    handleCheck(index, e) {
      let myBook = this.myBook;
      myBook[index].checked = e.target.checked
      this.$store.commit({ type: "setState", key: "myBook", value: myBook });
    },
    handleCheckAll(e) {
      let myBook = this.myBook;
      myBook.forEach(item =&gt; {
        item.checked = e.target.checked
      })
      this.$store.commit({ type: "setState", key: "myBook", value: myBook });
    },
    handleDeleteChecked() {
      let myBook = this.myBook;
      myBook = myBook.filter(item =&gt; !item.checked)
      this.$store.commit({ type: "setState", key: "myBook", value: myBook });
      this.handleHideDialog()
    },
    handleShowDialog() {
      if (this.myBook.filter(item =&gt; item.checked).length === 0) {
        //alert('请选择要删除的商品~')
        toast({message: '请选择要删除的商品~', duration: 1000})
        return
      }
      this.visible = true
    },
    handleHideDialog() {
      this.visible = false
    }
  },
  updated() {
    Api.update({ myBookNew: this.myBook }).then(res =&gt; {});
  },
  mounted() {
    this.$store.dispatch({ type: "getMyBook" });
  }
};
&lt;/script&gt;

&lt;style&gt;
&lt;/style&gt;</code></pre> 
<p>注册到全局：</p> 
<pre class="has"><code class="language-javascript">import toast from './components/Toast'

Vue.prototype.$toast = toast</code></pre> 
<p>使用：</p> 
<pre class="has"><code class="language-javascript">this.$toast({message: 'test'})</code></pre> 
<p>appendChild() 方法在指定元素节点的最后一个子节点之后添加节点。</p> 
<p><a href="https://www.w3school.com.cn/xmldom/met_element_appendchild.asp">https://www.w3school.com.cn/xmldom/met_element_appendchild.asp</a></p> 
<p>&nbsp;</p> 
<h3 id="%E5%85%AD%E3%80%81%E8%A7%A3%E6%9E%84%E5%B9%B6%E4%B8%8D%E8%83%BD%E5%AE%9E%E7%8E%B0%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%B7%B1%E6%8B%B7%E8%B4%9D">六、解构并不能实现对象的深拷贝</h3> 
<pre class="has"><code class="language-javascript">      let obj = {
        a: 1,
        b: {
          c: '1'
        },
        fun() {
          console.log(1)
        },
        time: new Date(),
        d: undefined
      }
      let newObj = { ...obj }

      newObj.b.c = '2'
      console.log(obj)
      console.log(newObj)
      console.log(obj.b.c) // 2</code></pre> 
<h3 id="%E4%B8%83%E3%80%81%E4%BF%AE%E6%94%B9%E8%84%9A%E6%89%8B%E6%9E%B6%E9%BB%98%E8%AE%A4%E5%8C%85%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7">七、修改脚手架默认包管理工具</h3> 
<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20200104080609708.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p> 
<h3 id="%E5%85%AB%E3%80%81redux">八、redux</h3> 
<p>&nbsp;</p> 
<p>reducer 一定要保持纯净，只要传入参数相同，返回计算得到的下一个 state 就一定相同。没有特殊情况、没有副作用，没有 API 请求、没有变量修改，单纯执行计算。</p> 
<p>时刻谨记永远不要在克隆 <code>state</code> 前修改它。</p> 
<p>在<a href="https://link.jianshu.com?t=https://github.com/gaearon/redux-devtools">redux-devtools</a>中,我们可以查看到redux下所有通过reducer更新state的记录,每一个记录都对应着内存中某一个具体的state,让用户可以追溯到每一次历史操作产生与执行时,当时的具体状态,这也是使用redux管理状态的重要优势之一.</p> 
<p>若不创建副本,redux的所有操作都将指向内存中的同一个state,我们将无从获取每一次操作前后,state的具体状态与改变,若没有副本,redux-devtools列表里所有的state都将被最后一次操作的结果所取代.我们将无法追溯state变更的历史记录.</p> 
<p>创建副本也是为了保证向下传入的this.props与nextProps能得到正确的值,以便我们能够利用前后props的改变情况以决定如何render组件。</p> 
<p><span style="color:#f33b45;"><strong>直接修改state（错误的）：</strong></span></p> 
<pre class="has"><code class="language-javascript">      const defaultState = {
        count: 0
      }

      //直接修改改state，所有的state都将被最后一次操作的结果所取代.我们将无法追溯state变更的历史记录
      const reducer = (state = defaultState ) =&gt; {
        state.count++
        return state
      }

      let previousState = { count: 0 }
      let newState = reducer(previousState)
      console.log(previousState)  //{ count: 1 }
      console.log(newState)       //{ count: 1 }</code></pre> 
<p><span style="color:#f33b45;"><strong>深拷贝(性能很差）：</strong></span></p> 
<pre class="has"><code class="language-javascript">      const defaultState = {
        count: 0
      }

      //深拷贝可以解决这个问题
      const reducer = (state = defaultState ) =&gt; {
        state = JSON.parse(JSON.stringify(state))
        state.count++
        return state
      }

      let previousState = { count: 0 }
      let newState = reducer(previousState)
      console.log(previousState)  //{ count: 0 }
      console.log(newState)       //{ count: 1 }</code></pre> 
<p><span style="color:#f33b45;"><strong>解构:</strong></span></p> 
<pre class="has"><code class="language-javascript">      const defaultState = {
        count: 0
      }

      //解构可以解决这个问题
      const reducer = (state = defaultState ) =&gt; {
        let newState = {...state}
        newState.count++
        return newState
      }

      let previousState = { count: 0 }
      let newState = reducer(previousState)
      console.log(previousState)  //{ count: 0 }
      console.log(newState)       //{ count: 1 }</code></pre> 
<p><span style="color:#f33b45;"><strong>解构属于浅拷贝，解决不了嵌套的场景：</strong></span></p> 
<pre class="has"><code class="language-javascript">      const defaultState = {
        obj: {
          count: 0
        }
      }

      //解构属于浅拷贝，解决不了嵌套问题
      const reducer = (state = defaultState ) =&gt; {
        let newState = {...state}
        newState.obj.count++
        return newState
      }

      let previousState = {
        obj: {
          count: 0
        }
      }
      let newState = reducer(previousState)
      console.log(previousState)  //{ obj: { count: 1 } }
      console.log(newState)       //{ obj: { count: 1 } }</code></pre> 
<p><span style="color:#f33b45;"><strong>非要用解构，也行：</strong></span></p> 
<pre class="has"><code class="language-javascript">      const defaultState = {
        obj: {
          count: 0
        }
      }

      //解构属于浅拷贝，解决不了嵌套问题，不过可以这样解决，只是比较难理解
      const reducer = (state = defaultState ) =&gt; {
        let newObj = {...state.obj}
        newObj.count++
        return {...state, obj: newObj}
      }

      let previousState = {
        obj: {
          count: 0
        }
      }
      let newState = reducer(previousState)
      console.log(previousState)  //{ obj: { count: 0 } }
      console.log(newState)       //{ obj: { count: 1 } }</code></pre> 
<p><span style="color:#f33b45;"><strong>immutable.js:</strong></span></p> 
<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;

&lt;head&gt;
&lt;/head&gt;

&lt;body&gt;
  &lt;div&gt;
    &lt;script src="https://cdn.bootcss.com/immutable/4.0.0-rc.12/immutable.js"&gt;&lt;/script&gt;
    &lt;script&gt;

      const defaultState = Immutable.fromJS({
        obj: {
          count: 0
        }
      })

      //推荐使用immutable.js,由Facebook工程师耗时三年完成！
      const reducer = (state = defaultState ) =&gt; {
        return state.setIn(['obj', 'count'], Immutable.fromJS(state.getIn(['obj', 'count']) + 1))
      }

      let previousState = Immutable.fromJS({
        obj: {
          count: 0
        }
      })
      let newState = reducer(previousState)
      console.log(previousState.getIn(['obj']).toJS())  //{ count: 0 }
      console.log(newState.getIn(['obj']).toJS())       //{ count: 1 }

    &lt;/script&gt;
  &lt;/div&gt;


&lt;/body&gt;

&lt;/html&gt;</code></pre> 
<p><span style="color:#f33b45;">把业务代码提出来：</span></p> 
<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;

&lt;head&gt;
&lt;/head&gt;

&lt;body&gt;
  &lt;div&gt;
    &lt;script src="https://cdn.bootcss.com/immutable/4.0.0-rc.12/immutable.js"&gt;&lt;/script&gt;
    &lt;script&gt;

      const defaultState = Immutable.fromJS({
        obj: {
          count: 0
        }
      })

      //推荐使用immutable.js,有Facebook工程师耗时三年完成！可以把业务代码提出来，reducer变成动态的key和动态的value
      const reducer = (state = defaultState, action ) =&gt; {
        return state.setIn(action.key, Immutable.fromJS(action.value))
      }

      let previousState = Immutable.fromJS({
        obj: {
          count: 0
        }
      })
      let action = { key: ['obj'], value: { count : 1} } 
      let newState = reducer(previousState, action)
      console.log(previousState.getIn(['obj']).toJS())  //{ count: 0 }
      console.log(newState.getIn(['obj']).toJS())       //{ count: 1 }

    &lt;/script&gt;
  &lt;/div&gt;


&lt;/body&gt;

&lt;/html&gt;</code></pre> 
<h3 id="%E4%B9%9D%E3%80%81react%E7%BB%84%E4%BB%B6props%E7%B1%BB%E5%9E%8B%E6%A3%80%E6%9F%A5%E5%92%8C%E9%BB%98%E8%AE%A4%E5%80%BC">九、react组件props类型检查和默认值</h3> 
<p>不需要安装prop-types包，脚手架已经默认安装</p> 
<pre class="has"><code class="language-javascript">import React, { Component } from 'react'
import PropTypes from 'prop-types'

export default class Icon extends Component {
  // static defaultProps = {
  //   type: 'xingxing'
  // }
  render() {
    let { type, className } = this.props
    return (
      &lt;span className={`icon iconfont icon-${type} ${className ? className : ''}`} onClick={this.props.onClick}&gt;&lt;/span&gt;
    )
  }
}

Icon.propTypes = {
  type: PropTypes.string,
  className: PropTypes.string
}

Icon.defaultProps = {
  type: 'shubao'
}

</code></pre> 
<p>参考链接：</p> 
<p><a href="https://zh-hans.reactjs.org/docs/typechecking-with-proptypes.html#___gatsby">https://zh-hans.reactjs.org/docs/typechecking-with-proptypes.html#___gatsby</a></p> 
<p><a href="https://www.npmjs.com/package/prop-types">https://www.npmjs.com/package/prop-types</a></p> 
<p>&nbsp;</p> 
<h3 id="%E5%8D%81%E3%80%81%E4%BD%BF%E7%94%A8webpack%E6%90%AD%E5%BB%BAreact%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83">十、使用webpack搭建react开发环境</h3> 
<p>webpack.config.js:</p> 
<pre class="has"><code class="language-javascript">const MiniCssExtractPlugin = require('mini-css-extract-plugin')
const HtmeWebpackPlugin = require('html-webpack-plugin')

module.exports = {
  mode: 'development',
  devtool: 'source-map',
  entry: __dirname + '/index.js',
  output: {
    path: __dirname + '/dist',
    filename: 'bundle-[hash].js'
  },
  devServer: {
    inline: true,
    hot: true,
    port: 9000,
    contentBase: __dirname + '/dist',
    open: true
  },
  module: {
    rules: [
      {
        test: /\.(js|jsx)$/,
        use: {
          loader: 'babel-loader',
          options: {
            presets: ["@babel/preset-react", "@babel/preset-env"]
          }
        },
        exclude: /node_modules/
      }, {
        test: /\.css$/,
        use: [{
          loader: MiniCssExtractPlugin.loader
        }, {
          loader: 'css-loader'
        }]
      }]
  },
  plugins: [
    new HtmeWebpackPlugin({
      template: __dirname + '/public/index.html'
    }),
    new MiniCssExtractPlugin({
      filename: '[name]-[hash].css'
    })
  ]
}</code></pre> 
<p>package.json:</p> 
<pre class="has"><code class="language-javascript">{
  "name": "toast",
  "version": "1.0.0",
  "description": "",
  "main": "/toast/index.js",
  "scripts": {
    "test": "echo \"Error: no test specified\" &amp;&amp; exit 1",
    "build": "webpack",
    "start": "webpack-dev-server"
  },
  "author": "",
  "license": "ISC",
  "devDependencies": {
    "@babel/core": "^7.7.7",
    "@babel/preset-env": "^7.7.7",
    "@babel/preset-react": "^7.7.4",
    "babel-loader": "^8.0.6",
    "css-loader": "^3.4.2",
    "html-webpack-plugin": "^3.2.0",
    "mini-css-extract-plugin": "^0.9.0",
    "react": "^16.12.0",
    "react-dom": "^16.12.0",
    "style-loader": "^1.1.2",
    "webpack": "^4.41.5",
    "webpack-cli": "^3.3.10",
    "webpack-dev-server": "^3.10.1"
  }
}
</code></pre> 
<p>github：</p> 
<p><a href="https://github.com/baweireact/m-apps/tree/master/m-app-1708E/react/01%E4%BD%BF%E7%94%A8webpack%E6%90%AD%E5%BB%BAreact%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83">https://github.com/baweireact/m-apps/tree/master/m-app-1708E/react/01%E4%BD%BF%E7%94%A8webpack%E6%90%AD%E5%BB%BAreact%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83</a></p> 
<p>&nbsp;</p> 
<h3>十一、webpack搭建react项目时在二级路由页面刷新报404的解决办法</h3> 
<p>react-router 使用webpack-dev-server做服务器时 单级刷新报错 Cannot GET /xx。多级刷新报错404</p> 
<p>&nbsp;</p> 
<pre class="has"><code class="language-javascript">  output: {
    path: __dirname + '/dist',
    filename: 'bundle-[hash].js',
    publicPath: '/'   //第二处要添加的
  },
  devServer: {
    inline: true,
    hot: true,
    port: 9000,
    contentBase: __dirname + '/dist',
    open: true,
    historyApiFallback: true  //第一处要添加的
  },</code></pre> 
<p>参考链接：</p> 
<p><a href="https://blog.csdn.net/limonsea/article/details/96865906">https://blog.csdn.net/limonsea/article/details/96865906</a></p> 
<h3>十二、webpack图解</h3> 
<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20200112143908567.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p> 
<p>webpack+webpack-dev-server:</p> 
<p><a href="https://segmentfault.com/q/1010000005767033/a-1020000005767079">https://segmentfault.com/q/1010000005767033/a-1020000005767079</a></p> 
<p>&nbsp;</p> 
<p>通过node启动webpack-dev-server:</p> 
<p><a href="https://webpack.docschina.org/guides/hot-module-replacement/#%E9%80%9A%E8%BF%87-node-js-api">https://webpack.docschina.org/guides/hot-module-replacement/#%E9%80%9A%E8%BF%87-node-js-api</a></p> 
<p>&nbsp;</p> 
<p><strong>devServer.overlay:</strong></p> 
<p>这个配置属性用来在编译出错的时候，在浏览器页面上显示错误，默认是false，可设置为true</p> 
<pre class="has"><code class="language-javascript">devServer: {
    overlay: true
}</code></pre> 
<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20200112165149789.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p> 
<h3>十三、import对象解构失败问题</h3> 
<p>用惯了es6语法中的解构赋值，在对于import引入的对象进行解构赋值时发现对象变成了<code>undefined</code>。</p> 
<p>解决办法：</p> 
<pre class="has"><code class="language-javascript">// main.js
import { foo, bar } from "./static"

// static.js
let foo =  "foo"
let bar = "bar"
export { foo, bar }</code></pre> 
<p>参考链接：</p> 
<p><a href="https://blog.csdn.net/momDIY/article/details/88375677">https://blog.csdn.net/momDIY/article/details/88375677</a></p> 
<h3>十四、<a href="https://www.cnblogs.com/mytt/p/6684199.html" id="cb_post_title_url">FileZilla连接ftp服务器失败，提示"AUTH TLS"解决方法</a></h3> 
<p><a href="https://www.cnblogs.com/mytt/p/6684199.html">https://www.cnblogs.com/mytt/p/6684199.html</a></p> 
<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20200206103833930.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<h3 id="github%E6%BA%90%E7%A0%81%EF%BC%9A">github源码：</h3> 
<p><a href="https://github.com/baweireact/m-apps/tree/master/m-app-1708E">https://github.com/baweireact/m-apps/tree/master/m-app-1708E</a></p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p>
                ]]></description></item><item><title>项目实战【vue，react，微信小程序】（1707B）</title><link>http://www.cnblogs.com/xutongbao/archive/2019/11/29/14876303.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Fri, 29 Nov 2019 00:37:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2019/11/29/14876303.html</guid><description><![CDATA[
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="%E4%B8%80%E3%80%81transition%E8%BF%87%E6%B8%A1%E5%8A%A8%E7%94%BB-toc" style="margin-left:80px;"><a href="#%E4%B8%80%E3%80%81transition%E8%BF%87%E6%B8%A1%E5%8A%A8%E7%94%BB">一、transition过渡动画</a></p> 
<p id="%E4%BA%8C%E3%80%81%E6%AF%94%E8%BE%83%E4%B8%A4%E4%B8%AA%E5%AF%B9%E8%B1%A1%E6%98%AF%E5%90%A6%E7%9B%B8%E7%AD%89-toc" style="margin-left:80px;"><a href="#%E4%BA%8C%E3%80%81%E6%AF%94%E8%BE%83%E4%B8%A4%E4%B8%AA%E5%AF%B9%E8%B1%A1%E6%98%AF%E5%90%A6%E7%9B%B8%E7%AD%89">二、比较两个对象是否相等</a></p> 
<p id="%E4%B8%89%E3%80%81%E5%9B%BE%E7%89%87%E6%87%92%E5%8A%A0%E8%BD%BD%E4%BD%BF%E7%94%A8gif%E5%9B%BE%E5%81%9Aloading-toc" style="margin-left:80px;"><a href="#%E4%B8%89%E3%80%81%E5%9B%BE%E7%89%87%E6%87%92%E5%8A%A0%E8%BD%BD%E4%BD%BF%E7%94%A8gif%E5%9B%BE%E5%81%9Aloading">三、图片懒加载使用gif图做loading</a></p> 
<p id="%E5%9B%9B%E3%80%81%E5%9B%BE%E7%89%87%E6%87%92%E5%8A%A0%E8%BD%BD%E4%BD%BF%E7%94%A8%E5%8A%A8%E7%94%BB%E5%81%9Aloading-toc" style="margin-left:80px;"><a href="#%E5%9B%9B%E3%80%81%E5%9B%BE%E7%89%87%E6%87%92%E5%8A%A0%E8%BD%BD%E4%BD%BF%E7%94%A8%E5%8A%A8%E7%94%BB%E5%81%9Aloading">四、图片懒加载使用动画做loading</a></p> 
<p id="%E4%BA%94%E3%80%81forEach-toc" style="margin-left:80px;"><a href="#%E4%BA%94%E3%80%81forEach">五、forEach</a></p> 
<p id="%E5%85%AD%E3%80%81vuex%20getters-toc" style="margin-left:80px;"><a href="#%E5%85%AD%E3%80%81vuex%20getters">六、vuex getters</a></p> 
<p id="%E4%B8%83%E3%80%81%E8%AF%A6%E6%83%85%E9%A1%B5%E5%AF%B9%E8%B1%A1%E5%8F%98%E6%9B%B4%E6%A3%80%E6%9F%A5%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9-toc" style="margin-left:80px;"><a href="#%E4%B8%83%E3%80%81%E8%AF%A6%E6%83%85%E9%A1%B5%E5%AF%B9%E8%B1%A1%E5%8F%98%E6%9B%B4%E6%A3%80%E6%9F%A5%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9">七、详情页对象变更检查注意事项</a></p> 
<p id="%E5%85%AB%E3%80%81%E5%AF%B9%E8%AF%9D%E6%A1%86%E7%BB%84%E4%BB%B6-toc" style="margin-left:80px;"><a href="#%E5%85%AB%E3%80%81%E5%AF%B9%E8%AF%9D%E6%A1%86%E7%BB%84%E4%BB%B6">八、对话框组件</a></p> 
<p id="%E4%B9%9D%E3%80%81%E8%87%AA%E5%AE%9A%E4%B9%89alert%EF%BC%8C%E5%85%A8%E5%B1%80%E5%87%BD%E6%95%B0%E4%BD%BF%E7%94%A8-toc" style="margin-left:80px;"><a href="#%E4%B9%9D%E3%80%81%E8%87%AA%E5%AE%9A%E4%B9%89alert%EF%BC%8C%E5%85%A8%E5%B1%80%E5%87%BD%E6%95%B0%E4%BD%BF%E7%94%A8">九、自定义alert，全局函数使用</a></p> 
<p id="%E5%8D%81%E3%80%81%E7%80%91%E5%B8%83%E6%B5%81-toc" style="margin-left:80px;"><a href="#%E5%8D%81%E3%80%81%E7%80%91%E5%B8%83%E6%B5%81">十、瀑布流</a></p> 
<p id="%E5%8D%81%E4%B8%80%E3%80%81reduce-toc" style="margin-left:80px;"><a href="#%E5%8D%81%E4%B8%80%E3%80%81reduce">十一、reduce和immutable.js</a></p> 
<p id="%E5%8D%81%E4%BA%8C%E3%80%81%E4%BD%BF%E7%94%A8immutable%E5%AE%9E%E7%8E%B0%E5%AF%B9%E8%B1%A1%E6%B7%B1%E6%8B%B7%E8%B4%9D-toc" style="margin-left:80px;"><a href="#%E5%8D%81%E4%BA%8C%E3%80%81%E4%BD%BF%E7%94%A8immutable%E5%AE%9E%E7%8E%B0%E5%AF%B9%E8%B1%A1%E6%B7%B1%E6%8B%B7%E8%B4%9D">十二、使用immutable实现对象深拷贝</a></p> 
<p id="%E5%8D%81%E4%B8%89%E3%80%81%E8%B7%AF%E7%94%B1%E6%87%92%E5%8A%A0%E8%BD%BD-toc" style="margin-left:80px;"><a href="#%E5%8D%81%E4%B8%89%E3%80%81%E8%B7%AF%E7%94%B1%E6%87%92%E5%8A%A0%E8%BD%BD">十三、路由懒加载</a></p> 
<p id="%E5%8D%81%E5%9B%9B%E3%80%81%E5%B0%8F%E7%A8%8B%E5%BA%8F%E8%87%AA%E5%AE%9A%E4%B9%89%E5%AF%B9%E8%AF%9D%E6%A1%86%E7%BB%84%E4%BB%B6-toc" style="margin-left:80px;"><a href="#%E5%8D%81%E5%9B%9B%E3%80%81%E5%B0%8F%E7%A8%8B%E5%BA%8F%E8%87%AA%E5%AE%9A%E4%B9%89%E5%AF%B9%E8%AF%9D%E6%A1%86%E7%BB%84%E4%BB%B6">十四、小程序自定义对话框组件</a></p> 
<p id="%E5%8D%81%E4%BA%94%E3%80%81%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%A1%88%E4%BE%8B-toc" style="margin-left:80px;"><a href="#%E5%8D%81%E4%BA%94%E3%80%81%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%A1%88%E4%BE%8B">十五、小程序案例</a></p> 
<p id="github%E6%BA%90%E4%BB%A3%E7%A0%81%3A-toc" style="margin-left:80px;"><a href="#github%E6%BA%90%E4%BB%A3%E7%A0%81%3A">github源代码:</a></p> 
<hr id="hr-toc">
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<h3 id="%E4%B8%80%E3%80%81transition%E8%BF%87%E6%B8%A1%E5%8A%A8%E7%94%BB">一、transition过渡动画</h3> 
<p><img alt="" class="has" height="389" src="https://img-blog.csdnimg.cn/20191201195108786.gif" width="421"></p> 
<p>过渡：</p> 
<pre class="has"><code class="language-javascript">&lt;template&gt;
  &lt;div&gt;
    &lt;div&gt;
      &lt;router-link to="/index/home" class="m-nav-item"&gt;首页&lt;/router-link&gt;
      &lt;router-link to="/index/my_book" class="m-nav-item"&gt;书包&lt;/router-link&gt;
      &lt;router-link to="/index/news" class="m-nav-item"&gt;新闻&lt;/router-link&gt;
    &lt;/div&gt;
    &lt;transition name="m-slide"&gt;
      &lt;router-view class="m-router"&gt;&lt;/router-view&gt;
    &lt;/transition&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  watch: {
    $route(to, from) {
      console.log(to);
    }
  },
  methods: {

  }
};
&lt;/script&gt;

&lt;style&gt;
.m-router {
  position: absolute;
  width: 100%;
}
/* 新路由的初始样式 */
.m-slide-enter {
  transform: scale(2, 2) rotate(-5deg) translate(100%, 0);
  opacity: 0;
}

/* 新路由的目标样式 */
.m-slide-enter-to {
  color: red!important;
}

/* 新路由动画 */
.m-slide-enter-active {
  transition: all 1s ease-in-out;
}

/* 老路由目标样式 */
.m-slide-leave-to {
  transform: translate(-100%, 0);
}

/* 老路由动画 */
.m-slide-leave-active {
  transition: all 1s ease-in-out;
}
&lt;/style&gt;</code></pre> 
<p>动画：</p> 
<pre class="has"><code class="language-javascript">&lt;template&gt;
  &lt;div&gt;
    &lt;div&gt;
      &lt;router-link to="/index/home" class="m-nav-item"&gt;首页&lt;/router-link&gt;
      &lt;router-link to="/index/my_book" class="m-nav-item"&gt;书包&lt;/router-link&gt;
      &lt;router-link to="/index/news" class="m-nav-item"&gt;新闻&lt;/router-link&gt;
    &lt;/div&gt;
    &lt;transition name="m-slide"&gt;
      &lt;router-view class="m-router"&gt;&lt;/router-view&gt;
    &lt;/transition&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  watch: {
    $route(to, from) {
      console.log(to);
    }
  },
  methods: {

  }
};
&lt;/script&gt;

&lt;style&gt;
.m-router {
  position: absolute;
  width: 100%;
}

/* 新路由动画 */
.m-slide-enter-active {
  animation: new-router 1s ease-in-out;
}

/* 老路由动画 */
.m-slide-leave-active {
  animation: old-router 1s ease-in-out;
}

@keyframes new-router {
  0% {
    transform: scale(2, 2) rotate(-5deg) translate(100%, 0);
    opacity: 0;
  }
  50% {
    color: red;
  }
  100% {

  }
}

@keyframes old-router {
  0% {
    transform: translate(100px)
  }
  100% {
    transform: translate(-100%, 0);
  }
}
&lt;/style&gt;</code></pre> 
<h3 id="%E4%BA%8C%E3%80%81%E6%AF%94%E8%BE%83%E4%B8%A4%E4%B8%AA%E5%AF%B9%E8%B1%A1%E6%98%AF%E5%90%A6%E7%9B%B8%E7%AD%89">二、比较两个对象是否相等</h3> 
<p><strong>使用immutable:</strong></p> 
<pre class="has"><code class="language-javascript">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;

&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;title&gt;immutable.js实例&lt;/title&gt;
  &lt;style type="text/css"&gt;
  &lt;/style&gt;
&lt;/head&gt;

&lt;body&gt;
  &lt;script src="https://cdn.bootcss.com/immutable/4.0.0-rc.12/immutable.js"&gt;&lt;/script&gt;
  &lt;script type="text/javascript"&gt;
    // 原来的写法
    var foo = { a: { b: 1 } };
    var bar = foo;
    bar.a.b = 2;
    console.log(foo.a.b);  // 打印 2
    console.log(foo === bar);  //  打印 true

    // 使用 immutable.js 后
    var foo = Immutable.fromJS({ a: { b: 1 } });
    var bar = foo.setIn(['a', 'b'], 2);   // 使用 setIn 赋值
    console.log(foo.getIn(['a', 'b']));  // 使用 getIn 取值，打印 1
    console.log(foo === bar);  //  打印 false     
    console.log(bar.getIn(['a', 'b']))  //2
    console.log(bar.toJS())  //转变成js对象

    let obj1 = Immutable.fromJS({
      a: {
        b: 1,
        c: [1, 2]
      }
    })

    let obj2 = Immutable.fromJS({
      a: {
        b: 1,
        c: [1, 2]
      }
    })

    //比较两个对象是否相等
    console.log(Immutable.is(obj1, obj2))
  &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre> 
<p><strong>&nbsp;使用原生js（核心代码）：</strong></p> 
<pre class="has"><code class="language-javascript">    function compare2Objects(x, y) {
      for (let p in x) {
        // if (y.hasOwnProperty(p) !== x.hasOwnProperty(p)) {
        //   return false;
        // } else if (typeof y[p] !== typeof x[p]) {
        //   return false;
        // }
        
        switch (typeof (x[p])) {
          case 'object':
            if (!compare2Objects(x[p], y[p])) {
              return false;
            }
            break;
          default:
            if (x[p] !== y[p]) {
              return false;
            }
            break;
        }
      }

      return true;
    }

    let obj3 = {
      a: {
        b: 1,
        c: [1, 2]
      }
    }

    let obj4 = {
      a: {
        b: 1,
        c: [1, 3]
      }
    }

    console.log(compare2Objects(obj3, obj4))</code></pre> 
<p>&nbsp;</p> 
<p>详细代码请参考：</p> 
<p><a href="https://www.jianshu.com/p/90ed8b728975">https://www.jianshu.com/p/90ed8b728975</a></p> 
<h3 id="%E4%B8%89%E3%80%81%E5%9B%BE%E7%89%87%E6%87%92%E5%8A%A0%E8%BD%BD%E4%BD%BF%E7%94%A8gif%E5%9B%BE%E5%81%9Aloading">三、图片懒加载使用gif图做loading</h3> 
<p><img alt="" class="has" height="671" src="https://img-blog.csdnimg.cn/2019120213560930.gif" width="448"></p> 
<pre class="has"><code class="language-javascript">import Vue from 'vue'
import App from './App.vue'
import router from './router'
import store from './store'
import lazyload from 'vue-lazyload'
import './index.css'
import loading from './images/loading.gif'

Vue.use(lazyload, {
  loading: loading
})

Vue.config.productionTip = false

new Vue({
  router,
  store,
  render: h =&gt; h(App)
}).$mount('#app')
</code></pre> 
<pre class="has"><code class="language-javascript">    &lt;div v-for="item in list" :key="item.id" class="m-list-item"&gt;
      &lt;div class="m-img-wrap"&gt;
        &lt;img v-lazy="item.avatar" class="m-img"&gt;
      &lt;/div&gt;
      &lt;div class="m-info"&gt;
        {<!-- -->{item.title}}
      &lt;/div&gt;
    &lt;/div&gt;</code></pre> 
<pre class="has"><code class="language-css">.m-list-item{display: flex;margin: 5px;}
.m-img-wrap{display: flex; width: 122px;height: 150px;background: #dddddd;}
.m-img{width: 122px;height: 150px;}
.m-img[lazy=loading]{margin: auto; width: 38px;height: 38px;}
.m-info{flex:1}</code></pre> 
<h3 id="%E5%9B%9B%E3%80%81%E5%9B%BE%E7%89%87%E6%87%92%E5%8A%A0%E8%BD%BD%E4%BD%BF%E7%94%A8%E5%8A%A8%E7%94%BB%E5%81%9Aloading">四、图片懒加载使用动画做loading</h3> 
<pre class="has"><code class="language-javascript">import Vue from 'vue'
import App from './App.vue'
import router from './router'
import store from './store'
import lazyload from 'vue-lazyload'
import './index.css'


Vue.use(lazyload)

Vue.config.productionTip = false

new Vue({
  router,
  store,
  render: h =&gt; h(App)
}).$mount('#app')
</code></pre> 
<pre class="has"><code class="language-javascript">    &lt;div v-for="item in list" :key="item.id" class="m-list-item"&gt;
      &lt;div class="m-img-wrap"&gt;
        &lt;img v-lazy="item.avatar" class="m-img"&gt;
      &lt;/div&gt;
      &lt;div class="m-info"&gt;
        {<!-- -->{item.title}}
      &lt;/div&gt;
    &lt;/div&gt;</code></pre> 
<pre class="has"><code class="language-css">.m-list-item{display: flex;margin: 5px;}
.m-img-wrap{display: flex; width: 122px;height: 150px;background: #dddddd;}
.m-img-wrap::before{content: '';margin: auto;width: 38px;height: 38px;background-image: url(./images/loading.png);animation: loading 1s linear infinite;}
.m-img{position: absolute; width: 122px;height: 150px;}
.m-img[lazy=loading]{margin: auto; width: 38px;height: 38px;}
.m-info{flex:1}

@keyframes loading {
  0% {transform: rotate(0);}
  100%{transform: rotate(360deg);}
}

</code></pre> 
<h3 id="%E4%BA%94%E3%80%81forEach">五、forEach</h3> 
<p>在forEach中，不能使用&nbsp;continue 和&nbsp;break ，可以使用&nbsp;return 或&nbsp;return false 跳出循环，效果与&nbsp;for&nbsp;中 continue 一样。注意该方法无法一次结束所有循环，需要一次性结束所有循环，还是老老实实使用for方法。</p> 
<pre class="has"><code class="language-javascript">var arr = ['a', 'b', 'c', 'd', 'e'];
arr.forEach(function(item, index) {
    if (item === 'b') {
        return true;  //相当于continue
    }
    if (item === 'c') {
        return false;  //相当于continue
    }
    console.log(index + ':' + item);
});</code></pre> 
<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191202141131882.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p> 
<h3 id="%E5%85%AD%E3%80%81vuex%20getters">六、vuex getters</h3> 
<p>通过属性访问：</p> 
<pre class="has"><code class="language-javascript">  getters: {
    getCurrentList(state) {
      return state.currentList
    }
  },</code></pre> 
<pre class="has"><code class="language-javascript">export default {
  computed: {
    list() {
      return this.$store.getters.getCurrentList
    }
  }
}</code></pre> 
<p>通过方法访问：</p> 
<pre class="has"><code class="language-javascript">  getters: {
    getTaskList(state) {
      return (type, search) =&gt; {
        return state.taskList.filter(item =&gt; {
          if (type) {
            return item.type === type
          } else {
            return true
          }
        }).filter(item =&gt; {
          if (search) {
            return item.name.includes(search)
          } else {
            return true
          }
        })
      }
    }
  },</code></pre> 
<pre class="has"><code class="language-javascript">  methods: {
    handleTask(type) {
      this.taskList = this.$store.getters.getTaskList(type, this.search)
      this.type = type
      console.log(this.taskList)
    },
    handleSearch() {
      this.taskList = this.$store.getters.getTaskList(this.type, this.search)
      console.log(this.taskList)
    }
  },</code></pre> 
<h3 id="%E4%B8%83%E3%80%81%E8%AF%A6%E6%83%85%E9%A1%B5%E5%AF%B9%E8%B1%A1%E5%8F%98%E6%9B%B4%E6%A3%80%E6%9F%A5%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9">七、详情页对象变更检查注意事项</h3> 
<p>&nbsp;</p> 
<pre class="has"><code class="language-javascript">&lt;template&gt;
  &lt;div&gt;
    &lt;img :src="detail.avatar" /&gt;
    &lt;div&gt;
      {<!-- -->{detail.summary}}
    &lt;/div&gt;
    &lt;div&gt;
      &lt;button v-if="detail.is_in_my_book"&gt;已收藏&lt;/button&gt;
      &lt;button v-else @click="handleAdd(detail)"&gt;收藏&lt;/button&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
import Api from '../api'

export default {
  data() {
    return {
      detail: {}
    };
  },
  methods: {
    handleAdd(detail) {
      detail.count = 1
      Api.add({
        book: detail
      }).then(res =&gt; {
        if(res.code === 200) {
          //this.detail.is_in_my_book = true   //不推荐的写法
          //this.$set(this.detail, 'is_in_my_book', true)   //推荐的写法
          //this.detail = {...this.detail, is_in_my_book: true} //推荐的写法
          this.detail = Object.assign({}, this.detail, {is_in_my_book: true})  //推荐的写法
        }
      })
    }
  },
  mounted() {
    let { id } = this.$route.params;
    Api.getDetail(`?id=${id}`).then(res =&gt; {
      if (res.code === 200) {
        this.detail = res.data;
      }
    });
  }
};
&lt;/script&gt;

&lt;style&gt;
&lt;/style&gt;</code></pre> 
<p>参考链接：</p> 
<p><a href="https://cn.vuejs.org/v2/guide/list.html#%E5%AF%B9%E8%B1%A1%E5%8F%98%E6%9B%B4%E6%A3%80%E6%B5%8B%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9">https://cn.vuejs.org/v2/guide/list.html#%E5%AF%B9%E8%B1%A1%E5%8F%98%E6%9B%B4%E6%A3%80%E6%B5%8B%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9</a></p> 
<p>&nbsp;</p> 
<h3 id="%E5%85%AB%E3%80%81%E5%AF%B9%E8%AF%9D%E6%A1%86%E7%BB%84%E4%BB%B6">八、对话框组件</h3> 
<p>Dialog.vue:</p> 
<pre class="has"><code class="language-javascript">&lt;template&gt;
  &lt;div class="m-dialog-wrap" :class="{active: visible}"&gt;
    &lt;div class="m-dialog"&gt;
      &lt;div class="m-dialog-title"&gt;{<!-- -->{title}}&lt;/div&gt;
      &lt;div class="m-dialog-content"&gt;
        &lt;slot&gt;&lt;/slot&gt;
      &lt;/div&gt;
      &lt;div class="m-dialog-footer"&gt;
        &lt;slot name="footer"&gt;&lt;/slot&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  props: ['visible', 'title']
}
&lt;/script&gt;

&lt;style&gt;

&lt;/style&gt;</code></pre> 
<p>css:</p> 
<pre class="has"><code class="language-css">.m-dialog-wrap{display: none;position: fixed;top: 0;left: 0;right: 0;bottom: 0;background: rgba(0, 0, 0, 0.2);}
.m-dialog-wrap.active{display: flex;}
.m-dialog{display: flex;flex-direction: column; margin: auto;padding: 10px; min-width: 200px;min-height: 150px; background: #ffffff;border-radius: 5px;}
.m-dialog-title{line-height: 50px;font-weight: bold;}
.m-dialog-content{flex: 1;}
.m-dialog-footer{line-height: 50px; text-align: right;}
</code></pre> 
<p>使用：</p> 
<pre class="has"><code class="language-javascript">    &lt;Dialog :visible="visible" title="提示"&gt;
      &lt;div&gt;你确定要删除选中的图书吗？&lt;/div&gt;
      &lt;div&gt;...&lt;/div&gt;
      &lt;template v-slot:footer&gt;
        &lt;div&gt;
          &lt;button @click="handleHideDialog"&gt;取消&lt;/button&gt;
          &lt;button @click="handleDeleteSelected"&gt;确定&lt;/button&gt;
        &lt;/div&gt;
      &lt;/template&gt;
    &lt;/Dialog&gt;</code></pre> 
<p>&nbsp;</p> 
<h3 id="%E4%B9%9D%E3%80%81%E8%87%AA%E5%AE%9A%E4%B9%89alert%EF%BC%8C%E5%85%A8%E5%B1%80%E5%87%BD%E6%95%B0%E4%BD%BF%E7%94%A8">九、自定义alert，全局函数使用</h3> 
<p>参考链接：</p> 
<p><a href="https://www.jb51.net/article/159958.htm">https://www.jb51.net/article/159958.htm</a></p> 
<p><span style="color:#f33b45;"><strong>vue.extend():</strong></span></p> 
<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191205134529506.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p> 
<p><a href="https://cn.vuejs.org/v2/api/#Vue-extend">https://cn.vuejs.org/v2/api/#Vue-extend</a></p> 
<p>&nbsp;</p> 
<p>Vue.extend()&nbsp; 参数是一个vue组件，使用脚手架开发时即.vue的文件，返回值是一个构造函数，这个构造函数使用new创建一个组件实例</p> 
<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191205135333649.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p> 
<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191205135534670.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p> 
<p>&nbsp;</p> 
<p>Alert.vue:</p> 
<pre class="has"><code class="language-javascript">&lt;template&gt;
  &lt;div class="m-dialog-wrap" :class="{active: visible}"&gt;
    &lt;div class="m-dialog"&gt;
      &lt;div class="m-dialog-title"&gt;{<!-- -->{title}}&lt;/div&gt;
      &lt;div class="m-dialog-content"&gt;
        {<!-- -->{message}}
      &lt;/div&gt;
      &lt;div class="m-dialog-footer"&gt;
        &lt;button @click="handleHideDialog"&gt;确定&lt;/button&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  data() {
    return {
      title: '',
      message: '',
      visible: true
    }
  },
  methods: {
    handleHideDialog() {
      this.visible = false
    }
  }
}
&lt;/script&gt;

&lt;style&gt;
  
&lt;/style&gt;</code></pre> 
<p>index.js:</p> 
<pre class="has"><code class="language-javascript">import Vue from 'vue'
import Alert from './Alert'

const AlertConstructor = Vue.extend(Alert)

const AlertFun = (options) =&gt; {
  let instance = new AlertConstructor({data: options}).$mount()
  document.body.appendChild(instance.$el)
}

export default AlertFun</code></pre> 
<p>vue入口函数在原型链上添加函数：</p> 
<pre class="has"><code class="language-javascript">import Vue from 'vue'
import App from './App.vue'
import router from './router'
import store from './store'

import Alert from './components/Alert/index.js'

Vue.prototype.$MyAlert = Alert

new Vue({
  router,
  store,
  render: h =&gt; h(App)
}).$mount('#app')
</code></pre> 
<p>在组件里使用：</p> 
<pre class="has"><code class="language-javascript">this.$MyAlert({title: '标题', message: '请选择要删除的图书~'})</code></pre> 
<p>在拦截器里使用：</p> 
<pre class="has"><code class="language-javascript">import MyAlert from '../components/Alert'

axios.defaults.baseURL = 'http://localhost:85'

axios.interceptors.response.use((res) =&gt; {
  if (res.data.code === 400) {
    MyAlert({title: '标题', message: res.data.message})
  }
  return res
})</code></pre> 
<h3 id="%E5%8D%81%E3%80%81%E7%80%91%E5%B8%83%E6%B5%81">十、瀑布流</h3> 
<p><img alt="" class="has" height="753" src="https://img-blog.csdnimg.cn/2019120614500779.gif" width="405"></p> 
<p>Waterfall.vue:</p> 
<pre class="has"><code class="language-javascript">&lt;template&gt;
  &lt;div class="m-news-wrap"&gt;
    &lt;div class="m-news-serarch"&gt;
      &lt;input type="text" placeholder="请输入关键词" v-model="search" @keyup.enter="handleSearch" /&gt;
    &lt;/div&gt;
    &lt;div class="m-waterfall js-waterfall" @scroll="handleScroll"&gt;
      &lt;div id="m-waterfall-top"&gt;&lt;/div&gt;
      &lt;div&gt;
        &lt;div v-for="item in list" :key="item.id" class="m-waterfall-item-wrap js-waterfall-item-wrap"&gt;
          &lt;div class="m-waterfall-item"&gt;
            &lt;img :src="item.image" class="m-waterfall-img" :height="imageHeight(item.image)" /&gt;
            &lt;div class="m-waterfall-info"&gt;{<!-- -->{item.id}} {<!-- -->{item.name}}&lt;/div&gt;
          &lt;/div&gt;
        &lt;/div&gt;
      &lt;/div&gt;
      &lt;div class="m-waterfall-end"&gt;{<!-- -->{end}}&lt;/div&gt;
    &lt;/div&gt;
    &lt;el-backtop target=".js-waterfall"&gt;&lt;/el-backtop&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
import Api from "../api";

let isUpdated = true;
export default {
  data() {
    return {
      list: [],
      page: 1,
      search: "",
      end: ""
    };
  },
  methods: {
    handleScroll(e) {
      console.log(
        e.target.clientHeight,
        e.target.scrollTop,
        e.target.scrollHeight
      );
      let { scrollTop, clientHeight, scrollHeight } = e.target;
      if (
        scrollTop + clientHeight + 200 &gt; scrollHeight &amp;&amp;
        isUpdated &amp;&amp;
        this.end === ""
      ) {
        this.page++;
        isUpdated = false;
        Api.news(`?page=${this.page}&amp;size=10&amp;search=${this.search}`).then(
          res =&gt; {
            if (res.code === 200) {
              this.list = [...this.list, ...res.data];
              if (res.data.length &lt; 10) {
                this.end = "我是有底线的~";
              }
            }
          }
        );
      }
    },
    handleSearch() {
      document.getElementById("m-waterfall-top").scrollIntoView(true);
      Api.news(`?page=1&amp;size=10&amp;search=${this.search}`).then(res =&gt; {
        if (res.code === 200) {
          this.list = res.data;
          this.page = 1;
          this.end = "";
        }
      });
    },
    waterFall() {
      let items = document.getElementsByClassName("js-waterfall-item-wrap");
      items = Array.from(items);
      items[0].style.top = 0; //第一个元素
      items[0].style.left = 0;
      items[1].style.top = 0; //第二个元素
      items[1].style.left = "50%";

      let arr = [];
      arr.push(items[0].offsetHeight); //第一个元素
      arr.push(items[1].offsetHeight); //第二个元素
      for (let i = 2; i &lt; items.length; i++) {
        let minHeight = arr[0];
        let index = 0;
        for (let j = 0; j &lt; arr.length; j++) {
          if (minHeight &gt; arr[j]) {
            minHeight = arr[j];
            index = j;
          }
        }
        items[i].style.top = arr[index] + "px";
        items[i].style.left = items[index].offsetLeft + "px";
        arr[index] = arr[index] + items[i].offsetHeight;
      }
    },
    imageHeight(url) {
      let size = url.slice(url.lastIndexOf("/") + 1).split("x");
      //真实宽度 / 真实高度 = 原始宽度  / 原始高度
      //真实高度 = 真实宽度 / 原始宽度 * 原始高度
      let height =
        ((window.document.body.clientWidth / 2 - 20) / size[0]) * size[1];
      return height;
    }
  },
  updated() {
    isUpdated = true;
    this.waterFall();
  },
  mounted() {
    Api.news("?page=1&amp;size=10").then(res =&gt; {
      if (res.code === 200) {
        this.list = res.data;
      }
    });
  }
};
&lt;/script&gt;

&lt;style&gt;
&lt;/style&gt;</code></pre> 
<p>css:</p> 
<pre class="has"><code class="language-css">.m-waterfall{position: relative; flex:1; overflow-y: auto;overflow-x: hidden; background: #eeeeee;}
.m-waterfall-item-wrap{display: inline-block;position: absolute; width: 50%;padding: 10px;box-sizing: border-box;vertical-align: top;}
.m-waterfall-item-wrap:last-child{margin: 0 0 50px 0;}
.m-waterfall-item{border-radius: 10px;}
.m-waterfall-img{width: 100%; border-top-left-radius: 10px;border-top-right-radius: 10px;}
.m-waterfall-info{margin: -4px 0 0;padding: 5px; height: 100px;background: #ffffff;border-bottom-right-radius: 10px;border-bottom-left-radius: 10px;}
.m-waterfall-end{position: fixed;width: 100%;line-height: 50px; bottom: 0; text-align: center;color: #aaaaaa;}
</code></pre> 
<p>mock数据：</p> 
<pre class="has"><code class="language-javascript">const news = Mock.mock({
	'list|500': [{
		'id|+1': 1,
		'name': '@cname',
		//'image': Mock.Random.image(null, '#ff0000', '#ffff00', 'hello'),
		'image': '@image()',
		'title': '@ctitle',
		'paragraph': '@cparagraph',
		'datetime': '@datetime'
	}]
}).list</code></pre> 
<p>分页+搜索接口：</p> 
<pre class="has"><code class="language-javascript">app.get('/api/news', (req, res) =&gt; {
  let { page, size, search = '' } = req.query
  let newsSearchResult = news.filter(item =&gt; item.name.includes(search))
  let start = (page - 1) * size
  let end = start + size * 1
  res.send({
    code: 200,
    data: newsSearchResult.slice(start, end),
    message: '新闻'
  })
})
</code></pre> 
<h3 id="%E5%8D%81%E4%B8%80%E3%80%81reduce">十一、reduce和immutable.js</h3> 
<p>Immutable Data 就是一旦创建，就不能再被更改的数据。对 Immutable 对象的任何修改或添加删除操作都会返回一个新的 Immutable 对象。Immutable 实现的原理是 <strong>Persistent Data Structure（持久化数据结构）</strong>，也就是使用旧数据创建新数据时，要保证旧数据同时可用且不变。同时为了避免 deepCopy 把所有节点都复制一遍带来的性能损耗，Immutable 使用了<a href="https://link.jianshu.com?t=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F27133830%3Fgroup_id%3D851585269567213568">Structural Sharing（结构共享）</a>，即如果对象树中一个节点发生变化，只修改这个节点和受它影响的父节点，其它节点则进行共享。请看下面动画：</p> 
<p><img alt="" class="has" height="575" src="https://img-blog.csdnimg.cn/20191211130730986.gif" width="613"></p> 
<p>1. 降低 Mutable 带来的复杂度</p> 
<p>2. 节省内存空间</p> 
<p>3. Undo/Redo，Copy/Paste，随意穿越！</p> 
<p>4. 拥抱函数式编程</p> 
<p><strong>不要修改 <code>state：</code></strong></p> 
<p><a href="https://www.redux.org.cn/docs/basics/Reducers.html">https://www.redux.org.cn/docs/basics/Reducers.html</a></p> 
<p><a href="https://segmentfault.com/a/1190000017294051">https://segmentfault.com/a/1190000017294051</a></p> 
<p>immutable官网：</p> 
<p><a href="https://immutable-js.github.io/immutable-js/">https://immutable-js.github.io/immutable-js/</a></p> 
<p>为啥要使用immutable：</p> 
<p><a href="http://yunlaiwu.github.io/blog/2016/12/01/react+redux+immutablejs/#2">http://yunlaiwu.github.io/blog/2016/12/01/react+redux+immutablejs/#2</a></p> 
<p>简介：</p> 
<p>Facebook 工程师 Lee Byron 花费 3 年时间打造！</p> 
<p><a href="https://www.jianshu.com/p/0fa8c7456c15">https://www.jianshu.com/p/0fa8c7456c15</a></p> 
<p>&nbsp;</p> 
<pre class="has"><code class="language-javascript">import { createStore, applyMiddleware } from 'redux'
import thunk from 'redux-thunk'
import { fromJS } from 'immutable'

const defaultState = fromJS({
  listAll: [],
  currentId: 0,
  myBook: []
})

const reducer = (state = defaultState, action) =&gt; {
  switch (action.type) {
    case 'SET_STATE':
      // let newState = JSON.parse(JSON.stringify(state))
      // newState[action.key] = action.value
      //state是一个immutable对象，调用setIn方法并不会修改state的值，因为state是immutable对象
      //newState是基于state和action创建出来的新immutable对象，这个创建过程并不是深拷贝，深拷贝性能很低
      //这个创建过程会共享没有改变的部分，避免深拷贝把所有节点都复制一遍带来的性能损耗
      //对象树中一个节点发生变化，只修改这个节点和受它影响的父节点，其它节点则进行共享
      let newState = state.setIn(action.key, fromJS(action.value))
      console.log(state.toJS())
      console.log(newState.toJS())
      return newState
    default: 
      return state
  }
}

const store = createStore(reducer, applyMiddleware(thunk))

store.subscribe(() =&gt; {
  //console.log(store.getState().toJS())
})

export default store</code></pre> 
<pre class="has"><code class="language-javascript">const mapStateToProps = (state) =&gt; {
  state = state.toJS()
  return {
    navList: state.navList,
    currentId: state.currentId,
    currentList: state.currentList
  }
}

const mapDispatchToProps = (dispatch) =&gt; {
  return ({
    setState(key, value) {
      dispatch({ type: 'SET_STATE', key, value })
    }
  })
}

export default connect(mapStateToProps, mapDispatchToProps)(List)</code></pre> 
<h3 id="%E5%8D%81%E4%BA%8C%E3%80%81%E4%BD%BF%E7%94%A8immutable%E5%AE%9E%E7%8E%B0%E5%AF%B9%E8%B1%A1%E6%B7%B1%E6%8B%B7%E8%B4%9D">十二、使用immutable实现对象深拷贝</h3> 
<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;

&lt;head&gt;
&lt;/head&gt;

&lt;body&gt;
  &lt;div&gt;
    &lt;script src="https://cdn.bootcss.com/immutable/4.0.0-rc.12/immutable.js"&gt;&lt;/script&gt;
    &lt;script&gt;
      let obj = {
        a: 1,
        b: {
          c: '1'
        },
        fun() {
          console.log(1)
        },
        time: new Date(),
        d: undefined
      }
      //有兼容性问题，https://www.cnblogs.com/sweet-ice/p/10583192.html
      let objClone = JSON.parse(JSON.stringify(obj))
      console.log(objClone)
      //使用immutable可以深拷贝值为undefined、函数和日期的key
      let objClone2 = Immutable.fromJS(obj).toJS()
      console.log(objClone2)
      objClone2.a = 2
      console.log(obj.a)  //1
      console.log(objClone2.a)  //2

      
    &lt;/script&gt;
  &lt;/div&gt;


&lt;/body&gt;

&lt;/html&gt;</code></pre> 
<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191210083556685.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<h3 id="%E5%8D%81%E4%B8%89%E3%80%81%E8%B7%AF%E7%94%B1%E6%87%92%E5%8A%A0%E8%BD%BD">十三、路由懒加载</h3> 
<pre class="has"><code class="language-javascript">import React, { Component, Suspense, lazy } from 'react'
import { Switch, Route } from 'react-router-dom'
import Header from '../components/Header'
import Footer from '../components/Footer'
import Home from './Home'
//import MyBook from './MyBook'  //无懒加载
import Me from './Me'
//const MyBook = lazy(() =&gt; import('./MyBook'))  //有懒加载
import Loading from '../components/Loading'

//懒加载延时1
// const MyBook = lazy(async () =&gt; {
//   return await new Promise((resolve, reject) =&gt; {
//     setTimeout(() =&gt; {
//       resolve(import('./MyBook'))
//     }, 500)
//   })
// })

//懒加载延时2
const MyBook = lazy(async () =&gt; {
  let component
  await new Promise((resolve, reject) =&gt; {
    setTimeout(() =&gt; {
      resolve(import('./MyBook'))
    }, 500)
  }).then(res =&gt; {
    component = res
  })

  return component
})

export default class Index extends Component {
  render() {
    return (
      &lt;div className="m-wrap"&gt;
        &lt;Header&gt;&lt;/Header&gt;
        &lt;Suspense fallback={&lt;div className="m-main"&gt;&lt;Loading lazyLoading={true}&gt;&lt;/Loading&gt;&lt;/div&gt;}&gt;
          &lt;Switch&gt;
            &lt;Route path="/index/home" component={Home}&gt;&lt;/Route&gt;
            &lt;Route path="/index/my_book" component={MyBook}&gt;&lt;/Route&gt;
            &lt;Route path="/index/me" component={Me}&gt;&lt;/Route&gt;
          &lt;/Switch&gt;
        &lt;/Suspense&gt;
        &lt;Footer&gt;&lt;/Footer&gt;
        &lt;Loading&gt;&lt;/Loading&gt;
      &lt;/div&gt;
    )
  }
}
</code></pre> 
<h3 id="%E5%8D%81%E5%9B%9B%E3%80%81%E5%B0%8F%E7%A8%8B%E5%BA%8F%E8%87%AA%E5%AE%9A%E4%B9%89%E5%AF%B9%E8%AF%9D%E6%A1%86%E7%BB%84%E4%BB%B6">十四、小程序自定义对话框组件</h3> 
<p>dialog.js:</p> 
<pre class="has"><code class="language-javascript">// components/dialog/dialog.js
Component({
  options: {
    styleIsolation: 'apply-shared', //isolatiion apply-shared shared
    multipleSlots: true
  },
  /**
   * 组件的属性列表
   */
  properties: {
    visible: Boolean,
    title: String
  },

  /**
   * 组件的初始数据
   */
  data: {

  },

  /**
   * 组件的方法列表
   */
  methods: {
    //小程序阻止遮罩层下的页面滚动
    handleMove(e) {

    }
  }
})
</code></pre> 
<p>dialog.wxml:</p> 
<p>除&nbsp;<code>bind</code>&nbsp;外，也可以用&nbsp;<code>catch</code>&nbsp;来绑定事件。与&nbsp;<code>bind</code>&nbsp;不同，&nbsp;<code>catch</code>&nbsp;会阻止事件向上冒泡。</p> 
<pre class="has"><code class="language-html">&lt;!--components/dialog/dialog.wxml--&gt;
&lt;view class="m-dialog-wrap {<!-- -->{visible ? 'active' : ''}}" catch:touchmove="handleMove"&gt;
  &lt;view class="m-dialog"&gt;
    &lt;view class="m-dialog-header"&gt;{<!-- -->{title}}&lt;/view&gt;
    &lt;view class="m-dialog-content"&gt;
      &lt;slot name="content"&gt;&lt;/slot&gt;
    &lt;/view&gt;
    &lt;view class="m-dialog-footer"&gt;
      &lt;slot name="footer"&gt;&lt;/slot&gt;
    &lt;/view&gt;
  &lt;/view&gt;
&lt;/view&gt;
</code></pre> 
<p>dialog.wxss:</p> 
<pre class="has"><code class="language-css">/* components/dialog/dialog.wxss */
.m-dialog-wrap{display: none; position: fixed;top: 0;left: 0;right: 0;bottom: 0;background: rgba(0, 0, 0, 0.5);z-index: 99;}
.m-dialog-wrap.active{display: flex;}
.m-dialog{display: flex;flex-direction: column; margin: auto;padding: 10rpx; min-width: 600rpx;min-height: 400rpx;background: #ffffff;border-radius: 10rpx;}
.m-dialog-header{height: 80rpx;font-weight: bold;}
.m-dialog-content{flex: 1;}
.m-dialog-footer{height: 80rpx;text-align: right;}



</code></pre> 
<p>使用dialog组件：</p> 
<pre class="has"><code class="language-html">  &lt;dialog visible="{<!-- -->{visible}}" title="添加"&gt;
    &lt;view slot="content" class="m-count-wrap"&gt;
      &lt;view class="m-count"&gt;
        &lt;text class="m-text-btn" bind:tap="handleSub"&gt;-&lt;/text&gt;
        &lt;input class="m-input" placeholder="请输入" value="{<!-- -->{item.count}}"&gt;&lt;/input&gt;
        &lt;text class="m-text-btn" bind:tap="handleAdd"&gt;+&lt;/text&gt;
      &lt;/view&gt;
    &lt;/view&gt;
    &lt;view slot="footer"&gt;
      &lt;button size="mini" class="m-btn" bind:tap="handleHideDialog"&gt;取消&lt;/button&gt;
      &lt;button size="mini" class="m-btn" bind:tap="handleAddToMyBook"&gt;确定&lt;/button&gt;
    &lt;/view&gt;
  &lt;/dialog&gt;</code></pre> 
<p>&nbsp;</p> 
<h3 id="%E5%8D%81%E4%BA%94%E3%80%81%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%A1%88%E4%BE%8B">十五、小程序案例</h3> 
<p><img alt="" class="has" height="714" src="https://img-blog.csdnimg.cn/20191218094719786.gif" width="403"></p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<h3 id="github%E6%BA%90%E4%BB%A3%E7%A0%81%3A">github源代码:</h3> 
<p><a href="https://github.com/baweireact/m-apps/tree/master/m-app-1707B">https://github.com/baweireact/m-apps/tree/master/m-app-1707B</a></p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p>
                ]]></description></item><item><title>项目实战【vue，react，微信小程序】（1706C）</title><link>http://www.cnblogs.com/xutongbao/archive/2019/11/01/14876304.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Fri, 01 Nov 2019 01:50:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2019/11/01/14876304.html</guid><description><![CDATA[
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="%E4%B8%80%E3%80%81%E6%8E%A5%E5%8F%A3%E5%B0%81%E8%A3%85-toc" style="margin-left:80px;"><a href="#%E4%B8%80%E3%80%81%E6%8E%A5%E5%8F%A3%E5%B0%81%E8%A3%85">一、接口封装</a></p> 
<p id="%E4%BA%8C%E3%80%81%E5%9B%BE%E7%89%87%E6%87%92%E5%8A%A0%E8%BD%BD-toc" style="margin-left:80px;"><a href="#%E4%BA%8C%E3%80%81%E5%9B%BE%E7%89%87%E6%87%92%E5%8A%A0%E8%BD%BD">二、vue图片懒加载</a></p> 
<p id="%E4%B8%89%E3%80%81%E5%90%8E%E7%AB%AF%E6%8E%A5%E5%8F%A3-toc" style="margin-left:80px;"><a href="#%E4%B8%89%E3%80%81%E5%90%8E%E7%AB%AF%E6%8E%A5%E5%8F%A3">三、书城后端接口</a></p> 
<p id="%E5%9B%9B%E3%80%81%E7%99%BB%E5%BD%95%E3%80%81%E6%B3%A8%E5%86%8C%E3%80%81%E4%BF%AE%E6%94%B9%E5%AF%86%E7%A0%81%E5%90%8E%E7%AB%AF%E6%8E%A5%E5%8F%A3-toc" style="margin-left:80px;"><a href="#%E5%9B%9B%E3%80%81%E7%99%BB%E5%BD%95%E3%80%81%E6%B3%A8%E5%86%8C%E3%80%81%E4%BF%AE%E6%94%B9%E5%AF%86%E7%A0%81%E5%90%8E%E7%AB%AF%E6%8E%A5%E5%8F%A3">四、登录、注册、修改密码后端接口</a></p> 
<p id="%E4%BA%94%E3%80%81%E6%97%B6%E9%97%B4%E6%88%B3%E8%BD%AC%E6%97%A5%E6%9C%9F-toc" style="margin-left:80px;"><a href="#%E4%BA%94%E3%80%81%E6%97%B6%E9%97%B4%E6%88%B3%E8%BD%AC%E6%97%A5%E6%9C%9F">五、时间戳转日期</a></p> 
<p id="%E5%85%AD%E3%80%81%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E5%8D%95%E4%B8%AA%E6%96%87%E4%BB%B6-toc" style="margin-left:80px;"><a href="#%E5%85%AD%E3%80%81%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E5%8D%95%E4%B8%AA%E6%96%87%E4%BB%B6">六、文件上传单个文件</a></p> 
<p id="%C2%A0%E4%B8%83%E3%80%81%E4%B8%8A%E4%BC%A0%E5%A4%9A%E4%B8%AA%E6%96%87%E4%BB%B6-toc" style="margin-left:80px;"><a href="#%C2%A0%E4%B8%83%E3%80%81%E4%B8%8A%E4%BC%A0%E5%A4%9A%E4%B8%AA%E6%96%87%E4%BB%B6">&nbsp;七、上传多个文件</a></p> 
<p id="%E5%85%AB%E3%80%81%E8%AE%BE%E7%BD%AE%E6%B7%98%E5%AE%9D%E9%95%9C%E5%83%8F-toc" style="margin-left:80px;"><a href="#%E5%85%AB%E3%80%81%E8%AE%BE%E7%BD%AE%E6%B7%98%E5%AE%9D%E9%95%9C%E5%83%8F">八、设置淘宝镜像</a></p> 
<p id="%E4%B9%9D%E3%80%81yarn%E5%92%8Cnpm%E6%B8%85%E7%BC%93%E5%AD%98-toc" style="margin-left:80px;"><a href="#%E4%B9%9D%E3%80%81yarn%E5%92%8Cnpm%E6%B8%85%E7%BC%93%E5%AD%98">九、yarn和npm清缓存</a></p> 
<p id="%E5%8D%81%E3%80%81react%E5%9B%BE%E7%89%87%E6%87%92%E5%8A%A0%E8%BD%BD-toc" style="margin-left:80px;"><a href="#%E5%8D%81%E3%80%81react%E5%9B%BE%E7%89%87%E6%87%92%E5%8A%A0%E8%BD%BD">十、react图片懒加载</a></p> 
<p id="%E5%8D%81%E4%B8%80%E3%80%81yarn-toc" style="margin-left:80px;"><a href="#%E5%8D%81%E4%B8%80%E3%80%81yarn">十一、yarn</a></p> 
<p id="%E5%8D%81%E4%BA%8C%E3%80%81react%E8%B7%AF%E7%94%B1%E6%87%92%E5%8A%A0%E8%BD%BD-toc" style="margin-left:80px;"><a href="#%E5%8D%81%E4%BA%8C%E3%80%81react%E8%B7%AF%E7%94%B1%E6%87%92%E5%8A%A0%E8%BD%BD">十二、react路由懒加载</a></p> 
<p id="%E5%8D%81%E4%B8%89%E3%80%81%E8%AE%A9%E6%89%80%E6%9C%89%E6%8E%A5%E5%8F%A3%E5%BB%B6%E6%97%B6%E8%BF%94%E5%9B%9E-toc" style="margin-left:80px;"><a href="#%E5%8D%81%E4%B8%89%E3%80%81%E8%AE%A9%E6%89%80%E6%9C%89%E6%8E%A5%E5%8F%A3%E5%BB%B6%E6%97%B6%E8%BF%94%E5%9B%9E">十三、让所有接口延时返回</a></p> 
<p id="%E5%8D%81%E5%9B%9B%E3%80%81%E5%89%8D%E7%AB%AF%E4%BD%BF%E7%94%A8%E4%BB%A3%E7%90%86%E8%A7%A3%E5%86%B3%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98-toc" style="margin-left:80px;"><a href="#%E5%8D%81%E5%9B%9B%E3%80%81%E5%89%8D%E7%AB%AF%E4%BD%BF%E7%94%A8%E4%BB%A3%E7%90%86%E8%A7%A3%E5%86%B3%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98">十四、前端使用代理解决跨域问题</a></p> 
<p id="%E5%8D%81%E4%BA%94%E3%80%81mock%E5%BE%88%E5%A4%9A%E6%95%B0%E6%8D%AE%E3%80%81%E5%88%86%E9%A1%B5%E6%9F%A5%E6%89%BE-toc" style="margin-left:80px;"><a href="#%E5%8D%81%E4%BA%94%E3%80%81mock%E5%BE%88%E5%A4%9A%E6%95%B0%E6%8D%AE%E3%80%81%E5%88%86%E9%A1%B5%E6%9F%A5%E6%89%BE">十五、mock很多数据、分页查找</a></p> 
<p id="%E5%8D%81%E5%85%AD%E3%80%81%E5%A6%82%E4%BD%95%E4%B8%8A%E7%BA%BF-toc" style="margin-left:80px;"><a href="#%E5%8D%81%E5%85%AD%E3%80%81%E5%A6%82%E4%BD%95%E4%B8%8A%E7%BA%BF">十六、如何上线</a></p> 
<p id="%E5%8D%81%E4%B8%83%E3%80%81%E5%B0%8F%E7%A8%8B%E5%BA%8F%E8%BD%AE%E6%92%AD%E5%9B%BE-toc" style="margin-left:80px;"><a href="#%E5%8D%81%E4%B8%83%E3%80%81%E5%B0%8F%E7%A8%8B%E5%BA%8F%E8%BD%AE%E6%92%AD%E5%9B%BE">十七、小程序轮播图</a></p> 
<p id="%E5%8D%81%E5%85%AB%E3%80%81%E7%88%B6%E5%AD%90%E7%BB%84%E4%BB%B6%E9%80%9A%E8%AE%AF-toc" style="margin-left:80px;"><a href="#%E5%8D%81%E5%85%AB%E3%80%81%E7%88%B6%E5%AD%90%E7%BB%84%E4%BB%B6%E9%80%9A%E8%AE%AF">十八、父子组件通讯</a></p> 
<p id="%E5%8D%81%E4%B9%9D%E3%80%81%E8%B7%AF%E7%94%B1-toc" style="margin-left:80px;"><a href="#%E5%8D%81%E4%B9%9D%E3%80%81%E8%B7%AF%E7%94%B1">十九、路由</a></p> 
<p id="%E4%BA%8C%E5%8D%81%E3%80%81tabBar-toc" style="margin-left:80px;"><a href="#%E4%BA%8C%E5%8D%81%E3%80%81tabBar">二十、tabBar</a></p> 
<p id="%E4%BA%8C%E5%8D%81%E4%B8%80%E3%80%81%E7%BB%84%E4%BB%B6%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F-toc" style="margin-left:80px;"><a href="#%E4%BA%8C%E5%8D%81%E4%B8%80%E3%80%81%E7%BB%84%E4%BB%B6%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F">二十一、组件生命周期</a></p> 
<p id="%E4%BA%8C%E5%8D%81%E4%BA%8C%E3%80%81%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7-toc" style="margin-left:80px;"><a href="#%E4%BA%8C%E5%8D%81%E4%BA%8C%E3%80%81%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7">二十二、计算属性</a></p> 
<p id="%E4%BA%8C%E5%8D%81%E4%B8%89%E3%80%81%E5%B0%8F%E7%A8%8B%E5%BA%8F%E8%B4%AD%E8%BD%A6-toc" style="margin-left:80px;"><a href="#%E4%BA%8C%E5%8D%81%E4%B8%89%E3%80%81%E5%B0%8F%E7%A8%8B%E5%BA%8F%E8%B4%AD%E8%BD%A6">二十三、小程序购车</a></p> 
<p id="%E4%BA%8C%E5%8D%81%E5%9B%9B%E3%80%81%E4%BD%BF%E7%94%A8%20Component%20%E6%9E%84%E9%80%A0%E5%99%A8%E6%9E%84%E9%80%A0%E9%A1%B5%E9%9D%A2-toc" style="margin-left:80px;"><a href="#%E4%BA%8C%E5%8D%81%E5%9B%9B%E3%80%81%E4%BD%BF%E7%94%A8%20Component%20%E6%9E%84%E9%80%A0%E5%99%A8%E6%9E%84%E9%80%A0%E9%A1%B5%E9%9D%A2">二十四、使用 Component 构造器构造页面</a></p> 
<p id="%E4%BA%8C%E5%8D%81%E4%BA%94%E3%80%81%E4%BD%BF%E7%94%A8%E7%BB%84%E4%BB%B6observers%E5%81%9A%E6%95%B0%E6%8D%AE%E7%9B%91%E5%90%AC%E5%99%A8-toc" style="margin-left:80px;"><a href="#%E4%BA%8C%E5%8D%81%E4%BA%94%E3%80%81%E4%BD%BF%E7%94%A8%E7%BB%84%E4%BB%B6observers%E5%81%9A%E6%95%B0%E6%8D%AE%E7%9B%91%E5%90%AC%E5%99%A8">二十五、使用组件observers做数据监听器</a></p> 
<p id="github%E6%BA%90%E7%A0%81%EF%BC%9A-toc" style="margin-left:80px;"><a href="#github%E6%BA%90%E7%A0%81%EF%BC%9A">github源码：</a></p> 
<hr id="hr-toc">
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<h3 id="%E4%B8%80%E3%80%81%E6%8E%A5%E5%8F%A3%E5%B0%81%E8%A3%85">一、接口封装</h3> 
<p>index.js:</p> 
<pre class="has"><code class="language-javascript">import axios from 'axios'
import urls from './urls'

console.log(process)
if (process.env.NODE_ENV === 'development') {
  console.log('env', process.env.NODE_ENV)
  axios.defaults.baseURL = 'http://localhost'
}


axios.interceptors.request.use((config) =&gt; {
  return config
})

axios.interceptors.response.use((res) =&gt; {
  if (res.data.code === 400) {
    alert(res.data.message)
  }
  return res
})

const common = async (config) =&gt; {
  let response = await axios(config)
  return response.data
}

export default {
  login: (data) =&gt; common({ url: urls.login, data, method: 'post' }),
  getNav: () =&gt; common({ url: urls.getNav }),
  getList: (url) =&gt; common({ url: urls.getList + url }),
  updateMyBook: (data) =&gt; common({ url: urls.updateMyBook, data, method: 'post' }),
  add:(data) =&gt; common({ url: urls.add, data, method: 'post' }),
  getMyBook: () =&gt; common({ url: urls.getMyBook }),
  getDetail: (url) =&gt; common({ url: urls.getDetail + url })
}</code></pre> 
<p>urls.js：</p> 
<pre class="has"><code class="language-javascript">const urls = {
  login: '/api/login',
  getNav: '/api/nav',
  getList: '/api/list',
  updateMyBook: '/api/update_my_book',
  add: '/api/add',
  getMyBook: '/api/get_my_book',
  getDetail: '/api/detail'
}

export default urls</code></pre> 
<p>拦截器参考链接：<a href="http://www.axios-js.com/zh-cn/docs/#%E6%8B%A6%E6%88%AA%E5%99%A8">http://www.axios-js.com/zh-cn/docs/#%E6%8B%A6%E6%88%AA%E5%99%A8</a></p> 
<h3 id="%E4%BA%8C%E3%80%81%E5%9B%BE%E7%89%87%E6%87%92%E5%8A%A0%E8%BD%BD">二、vue图片懒加载</h3> 
<p>参考链接：<a href="https://www.npmjs.com/package/vue-lazyload">https://www.npmjs.com/package/vue-lazyload</a></p> 
<p>注册：</p> 
<pre class="has"><code class="language-javascript">import Vue from 'vue'
import VueLazyload from 'vue-lazyload'
import loadingImg from './images/loading.gif'

Vue.use(VueLazyload, {
  preLoad: 1.3,
  error: loadingImg,
  loading: loadingImg,
  attempt: 1
})

new Vue({
  render: h =&gt; h(App)
}).$mount('#app')
</code></pre> 
<p>&nbsp;v-lazy:</p> 
<pre class="has"><code class="language-javascript">      &lt;div class="m-list-item-img-wrap"&gt;
        &lt;img v-lazy="item.avatar" alt="" class="m-list-item-img"&gt;
      &lt;/div&gt;</code></pre> 
<p>样式：</p> 
<pre class="has"><code class="language-css">.m-list-item-img-wrap{display: flex; width: 112px;height: 150px;background: #dddddd;}
.m-list-item-img{width: 100%;}
.m-list-item-img[lazy=loading]{margin: auto; width: 40px;height: 40px;}</code></pre> 
<h3 id="%E4%B8%89%E3%80%81%E5%90%8E%E7%AB%AF%E6%8E%A5%E5%8F%A3">三、书城后端接口</h3> 
<pre class="has"><code class="language-javascript">const express = require('express')
const { bookNavData, bookMallData, bookMallDetailData } = require('./data')
const bodyParser = require('body-parser')
const cors = require('cors')
const history = require('connect-history-api-fallback')

const app = express()

//用户列表
let userList = [{
  id: '001',
  username: 'admin',
  password: '123456'
}, {
  id: '002',
  username: 'xu',
  password: '123'
}, {
  id: '003',
  username: 'a',
  password: '123456'
}]

//书包
let myBook = []

//跨域
app.use(cors())
//解析post请求

// parse application/json
app.use(bodyParser.json())
app.use(history())

// parse application/x-www-form-urlencoded
//app.use(bodyParser.urlencoded({ extended: false }))

//静态web服务器
app.use(express.static( __dirname + '/public'))
 
//登录
app.post('/api/login', (req, res) =&gt; {
  let { username, password } = req.body
  console.log(JSON.stringify(req.body))
  console.log(username, password)
  let user = userList.find(item =&gt; item.username === username)
  if (user) {
    if (user.password === password) {
      res.send({
        code: 200,
        data: {
          username
        },
        message: '登录成功'
      })
    } else {
      res.send({
        code: 400,
        message: '密码错误'
      })
    }
  } else {
    res.send({
      code: 400,
      message: '用户名不存在'
    })
  }

})

//导航
app.get('/api/nav', (req, res) =&gt; {
  res.send({
    code: 200,
    data: bookNavData,
    message: '导航'
  })
})

//列表
app.get('/api/list', (req, res) =&gt; {
  let { id } = req.query
  let list = bookMallData.find(item =&gt; item.id == id).list
  list.forEach(item =&gt; {
    item.is_in_my_book = myBook.findIndex(book =&gt; book.id === item.id) &gt;= 0
  })
  res.send({
    code: 200,
    data: list,
    message: '列表'
  })
})

//详情
app.get('/api/detail', (req, res) =&gt; {
  let { id } = req.query
  let detail 
  bookMallDetailData.forEach(item =&gt; {
    item.list.forEach(book =&gt; {
      if (book.id == id) {
        book.is_in_my_book = myBook.findIndex(item =&gt; item.id === book.id) &gt;= 0
        detail = book
      }
    })
  })

  res.send({
    code: 200,
    data: detail,
    message: '详情'
  })
})

//更新书包
app.post('/api/update_my_book', (req, res) =&gt; {
  let { myBookNew } = req.body
  myBook = myBookNew
  res.send({
    code: 200,
    data: myBook,
    message: '更新成功'
  })
})

//添加
app.post('/api/add', (req, res) =&gt; {
  let { book } = req.body
  myBook.push(book)
  res.send({
    code: 200,
    data: myBook,
    message: '添加成功'
  }) 
})

//获取书包
app.get('/api/get_my_book', (req, res) =&gt; {
  res.send({
    code: 200,
    data: myBook,
    message: '书包'
  })
})

app.listen(80)
console.log(80)</code></pre> 
<h3 id="%E5%9B%9B%E3%80%81%E7%99%BB%E5%BD%95%E3%80%81%E6%B3%A8%E5%86%8C%E3%80%81%E4%BF%AE%E6%94%B9%E5%AF%86%E7%A0%81%E5%90%8E%E7%AB%AF%E6%8E%A5%E5%8F%A3">四、登录、注册、修改密码后端接口</h3> 
<pre class="has"><code class="language-javascript">const express = require('express')
const bodyParser = require('body-parser')
const cors = require('cors')
const history = require('connect-history-api-fallback')
const uuidv1 = require('uuid/v1')
const jwt = require('jwt-simple')
const redis = require('redis')

//用户列表
let userList = [{
  id: '001',
  username: 'admin',
  password: '123456'
}, {
  id: '002',
  username: 'xu',
  password: '123'
}, {
  id: '003',
  username: 'a',
  password: '123456'
}]

//token加密密码
let secret = 'xxx'

const app = express()

const client = redis.createClient()
client.on('error', err =&gt; {
  console.log('redis错误：' + err)
})

//跨域
app.use(cors())
//解析post请求

// parse application/json
app.use(bodyParser.json())
//let jsonParser = bodyParser.json()

//处理react前端路由(BrowserRoute)，vue前端路由(mode:history)，注意：开启后无法用postman和浏览器地址栏调试get接口
//app.use(history())

//静态web服务器
app.use(express.static(__dirname + '/public'))

//通过中间件检查登录是否过期，并自动续期
const checkTokenByMiddleware = (req, res, next) =&gt; {
  let token = req.headers.token
  client.get(token, (err, response) =&gt; {
    if (response) {
      client.set(token, token, 'EX', 60)
      next()
    } else {
      res.send({
        code: 403,
        message: '登录过期'
      })
    }
  })
  console.log(2)
}

//登录
app.post('/api/login', (req, res) =&gt; {
  let { username, password } = req.body
  let user = userList.find(item =&gt; item.username === username)
  if (user) {
    if (user.password === password) {
      let token = jwt.encode(user.id, secret)
      client.set(token, token, 'EX', 60)
      res.send({
        code: 200,
        data: {
          username,
          token
        },
        message: '登录成功'
      })
    } else {
      res.send({
        code: 400,
        message: '密码错误'
      })
    }
  } else {
    res.send({
      code: 400,
      message: '用户名不存在'
    })
  }
})

//注册
app.post('/api/register', (req, res) =&gt; {
  let { username, password } = req.body
  console.log(username, password)
  let user = userList.find(item =&gt; item.username === username)
  if (user) {
    res.send({
      code: 400,
      message: '用户名已存在'
    })
  } else {
    let id = uuidv1()
    userList.push({
      id,
      username,
      password,
    })
    let token = jwt.encode(id, secret)
    client.set(token, token, 'EX', 60)
    res.send({
      code: 200,
      data: {
        userList,
        token
      },
      message: '注册成功'
    })
  }
})

//修改密码
app.post('/api/modify_password', checkTokenByMiddleware, async (req, res) =&gt; {
  let token = req.headers.token
  let { password } = req.body
  let id = jwt.decode(token, secret)
  console.log(id)
  let index = userList.findIndex(item =&gt; item.id === id)
  userList[index].password = password
  res.send({
    code: 200,
    data: userList,
    message: '修改成功'
  })
})

//动态路由
app.get('/api/test/:id', (req, res) =&gt; {
  let { id } = req.params
  res.send({
    code: 200,
    data: id,
    message: '动态路由测试'
  })
})

app.listen(82)
console.log(82)</code></pre> 
<h3 id="%E4%BA%94%E3%80%81%E6%97%B6%E9%97%B4%E6%88%B3%E8%BD%AC%E6%97%A5%E6%9C%9F">五、时间戳转日期</h3> 
<p>参考链接：<a href="http://momentjs.cn/">http://momentjs.cn/</a></p> 
<pre class="has"><code class="language-javascript">import moment from "moment"
moment.locale('zh-cn')     

console.log(moment(1573042782076).format('YYYY年MM月DD日 hh:mm:ss'))
console.log(moment(1573042782076).fromNow())</code></pre> 
<p><img alt="" class="has" height="57" src="https://img-blog.csdnimg.cn/20191106204422505.png" width="501"></p> 
<h3 id="%E5%85%AD%E3%80%81%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E5%8D%95%E4%B8%AA%E6%96%87%E4%BB%B6">六、文件上传单个文件</h3> 
<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191109092400324.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p> 
<p>controller/upload.js:</p> 
<pre class="has"><code class="language-javascript">const multer = require('multer')

const storage = multer.diskStorage({
  destination: (req ,file, cb) =&gt; {
    cb(null, 'upload')
  },
  filename: (req, file, cb) =&gt; {
    cb(null, `${Date.now()} - ${file.originalname}` )
  }
})

const upload = multer({ storage })

const uploadImg = (req, res) =&gt; {
  res.send({
    code: 200,
    data: req.file,
    message: '上传成功'
  })
}

module.exports = {
  upload,
  uploadImg
}</code></pre> 
<p>router/upload.js：</p> 
<pre class="has"><code class="language-javascript">const express = require('express')
const router = express.Router()
const { upload, uploadImg } = require('../controller/upload')

router.post('/upload', upload.single('img'), uploadImg)

module.exports = router</code></pre> 
<p>app.js:</p> 
<pre class="has"><code class="language-javascript">const express = require('express')
const bodyParser = require('body-parser')
const cors = require('cors')
const history = require('connect-history-api-fallback')
const upload = require('./router/upload')

const app = express()

//跨域
app.use(cors())
//解析post请求

// parse application/json
app.use(bodyParser.json())
//let jsonParser = bodyParser.json()

//处理react前端路由(BrowserRoute)，vue前端路由(mode:history)，注意：开启后无法用postman和浏览器地址栏调试get接口
app.use(history())

//静态web服务器
app.use(express.static(__dirname + '/public'))
app.use(express.static(__dirname + '/upload'))

//上传文件
app.use('/api/', upload)

app.listen(82)
console.log(82)</code></pre> 
<p>使用postman测试上传接口：</p> 
<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191109092413356.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p> 
<p>前端：</p> 
<pre class="has"><code class="language-javascript">&lt;input type="file" @change="handleUpload" &gt;

    handleUpload(e) {
      const data = new FormData()

      data.append('img', e.target.files[0])

      axios({
        url: '/api/upload',
        data,
        method: 'post',
        timeout: 1000 * 60
      }).then(res =&gt; {
        if (res.code === 200) {

        }
      })
    }</code></pre> 
<h3 id="%C2%A0%E4%B8%83%E3%80%81%E4%B8%8A%E4%BC%A0%E5%A4%9A%E4%B8%AA%E6%96%87%E4%BB%B6">&nbsp;七、上传多个文件</h3> 
<p>controller/upload.js:</p> 
<pre class="has"><code class="language-javascript">const multer = require('multer')

const storage = multer.diskStorage({
  destination: (req ,file, cb) =&gt; {
    cb(null, 'upload')
  },
  filename: (req, file, cb) =&gt; {
    cb(null, `${Date.now()}-${file.originalname}` )
  }
})

const upload = multer({ storage })

const uploadImg = (req, res) =&gt; {
  res.send({
    code: 200,
    data: req.files,   //单个文件:req.file 多个文件:req.files
    message: '上传成功'
  })
}

module.exports = {
  upload,
  uploadImg
}</code></pre> 
<p>router/upload.js:</p> 
<pre class="has"><code class="language-javascript">const express = require('express')
const router = express.Router()
const { upload, uploadImg } = require('../controller/upload')

//上传单个文件
//router.post('/upload', upload.single('img'), uploadImg)

router.post('/upload', upload.array('img', 9), uploadImg)

module.exports = router
</code></pre> 
<p>app.js和上传单个文件相同</p> 
<p>使用postman测试上传多个文件：</p> 
<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191109095926102.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p> 
<p>前端代码：</p> 
<pre class="has"><code class="language-javascript">&lt;input type="file" multiple="multiple" @change="handleUpload" &gt;


    handleUpload(e) {
      const data = new FormData()
      let files = e.target.files
      files.forEach(item =&gt; {
        data.append('img', item)
      })
      axios({
        url: '/api/upload',
        data,
        method: 'post',
        timeout: 1000 * 60
      }).then(res =&gt; {
        if (res.code === 200) {

        }
      })
    }
  },</code></pre> 
<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191109100258358.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p> 
<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191109100310606.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<h3 id="%E5%85%AB%E3%80%81%E8%AE%BE%E7%BD%AE%E6%B7%98%E5%AE%9D%E9%95%9C%E5%83%8F">八、设置淘宝镜像</h3> 
<pre class="has"><code class="language-javascript">yarn config set registry http://registry.npm.taobao.org/

yarn config set sass-binary-site http://npm.taobao.org/mirrors/node-sass</code></pre> 
<h3 id="%E4%B9%9D%E3%80%81yarn%E5%92%8Cnpm%E6%B8%85%E7%BC%93%E5%AD%98">九、yarn和npm清缓存</h3> 
<pre class="has"><code class="language-javascript">npm cache clean --force

yarn cache clean</code></pre> 
<h3 id="%E5%8D%81%E3%80%81react%E5%9B%BE%E7%89%87%E6%87%92%E5%8A%A0%E8%BD%BD">十、react图片懒加载</h3> 
<p>参考链接：</p> 
<p><a href="https://www.npmjs.com/package/react-lazy-load">https://www.npmjs.com/package/react-lazy-load</a></p> 
<pre class="has"><code class="language-javascript">import LazyLoad from 'react-lazy-load'

      &lt;div key={item.id} className="m-list-item"&gt;
        &lt;LazyLoad className="m-list-item-img-wrap"&gt;
          &lt;img src={item.avatar} className="m-list-item-img"&gt;&lt;/img&gt;
        &lt;/LazyLoad&gt;
        &lt;div className="m-list-item-info"&gt;
          {item.title}
        &lt;/div&gt;
      &lt;/div&gt;</code></pre> 
<pre class="has"><code class="language-css">.m-list-item{display: flex;margin: 5px;}
.m-list-item-img-wrap{display: flex; width: 112px;height: 150px;background: #dddddd;}
.m-list-item-img-wrap::before{content: '';margin: auto;width: 38px;height: 38px;background-image: url(./images/loading.png);animation: loading 0.5s linear infinite;}
.m-list-item-img{position: absolute; width: 112px;height: 150px;}
.m-list-item-info{flex:1}

@keyframes loading {
  from {transform: rotate(0deg);}
  to{transform: rotate(360deg);}
}</code></pre> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<h3 id="%E5%8D%81%E4%B8%80%E3%80%81yarn">十一、yarn</h3> 
<p><strong>yarn是什么? 能干什么？</strong><br> yarn是facebook发布的一种包管理工具，作用同npm 一样，是一个包管理用具</p> 
<p>&nbsp;</p> 
<p><strong>优点：</strong></p> 
<p>快速： 1.会缓存它下载的每个包， 无需重复下载；能并行化操作以最大资源利用率</p> 
<p>可靠： 使用格式详尽而又简洁的 lockfile文件 和确定性算法来安装依赖，能够保证在一个系统上的运行的安装过程也会以同样的方式运行在其他系统上。</p> 
<p>安全： 安装包被执行前校验其完整性</p> 
<p>&nbsp;</p> 
<h3 id="%E5%8D%81%E4%BA%8C%E3%80%81react%E8%B7%AF%E7%94%B1%E6%87%92%E5%8A%A0%E8%BD%BD">十二、react路由懒加载</h3> 
<p>参考链接：</p> 
<p><a href="https://zh-hans.reactjs.org/docs/code-splitting.html#reactlazy">https://zh-hans.reactjs.org/docs/code-splitting.html#reactlazy</a></p> 
<pre class="has"><code class="language-javascript">import React, { Component, Suspense, lazy } from 'react'
import { NavLink, Switch, Route } from 'react-router-dom'
import Home from './Home'
//import MyBook from './MyBook'
import Loading from '../components/Loading'
const MyBook = lazy(async () =&gt; { 
  return await new Promise((resolve, reject) =&gt; {
    setTimeout(() =&gt; {
      resolve(import('./MyBook'))
    }, 2000)
  })
})

export default class Index extends Component {
  render() {
    return (
      &lt;div&gt;
        &lt;div&gt;
          &lt;NavLink to="/index/home" className="m-nav-item"&gt;首页&lt;/NavLink&gt;
          &lt;NavLink to="/index/my_book" className="m-nav-item"&gt;书包&lt;/NavLink&gt;
        &lt;/div&gt;
        &lt;Suspense fallback={&lt;Loading lazyLoading={true}&gt;&lt;/Loading&gt;}&gt;
          &lt;Switch&gt;
            &lt;Route path="/index/home" component={Home}&gt;&lt;/Route&gt;
            &lt;Route path="/index/my_book" component={MyBook}&gt;&lt;/Route&gt;
          &lt;/Switch&gt;
        &lt;/Suspense&gt;
      &lt;/div&gt;
    )
  }
}
</code></pre> 
<p>Loading.js:</p> 
<pre class="has"><code class="language-javascript">import React, { Component } from 'react'
import { connect } from 'react-redux'

class Loading extends Component {
  render() {
    let { loading, lazyLoading } = this.props
    return (
      &lt;div className={"m-loading-wrap " + (loading ? 'active ' : '') + (lazyLoading ? 'active' : '')}&gt;
        &lt;span className="m-loading-img"&gt;&lt;/span&gt;
      &lt;/div&gt;
    )
  }
}

const mapStateToProps = (state) =&gt; {
  state = state.toJS()
  return {
    loading: state.loading
  }
}

export default connect(mapStateToProps)(Loading)
</code></pre> 
<p>loading样式文件：</p> 
<pre class="has"><code class="language-css">.m-loading-wrap{position: fixed;display: none; top: 0;left: 0;right: 0;bottom: 0; background: rgba(0, 0, 0, 0.5);z-index: 999;}
.m-loading-wrap.active{display: flex;}
.m-loading-img{ display: inline-block;margin: auto; width: 38px;height: 38px;background-image: url(./images/loading.png);background-size: 100% 100%; animation: loading 0.5s linear infinite; }

@keyframes loading {
  from {transform: rotate(0deg);}
  to{transform: rotate(360deg);}
}</code></pre> 
<p>路由懒加载时，需要懒加载的路由组件特别小，这时很难观察到加载的loading效果，怎么办呢？</p> 
<p>可以把使用Promise模拟延时：</p> 
<pre class="has"><code class="language-javascript">const MyBook = lazy(async () =&gt; { 
  return await new Promise((resolve, reject) =&gt; {
    setTimeout(() =&gt; {
      resolve(import('./MyBook'))
    }, 2000)
  })
})</code></pre> 
<h3 id="%E5%8D%81%E4%B8%89%E3%80%81%E8%AE%A9%E6%89%80%E6%9C%89%E6%8E%A5%E5%8F%A3%E5%BB%B6%E6%97%B6%E8%BF%94%E5%9B%9E">十三、让所有接口延时返回</h3> 
<p>目的是测试前端loading效果</p> 
<pre class="has"><code class="language-javascript">//让所有接口延时返回
app.use((req, res, next) =&gt; {
  setTimeout(() =&gt; {
    next()
  }, 500)
})</code></pre> 
<h3 id="%E5%8D%81%E5%9B%9B%E3%80%81%E5%89%8D%E7%AB%AF%E4%BD%BF%E7%94%A8%E4%BB%A3%E7%90%86%E8%A7%A3%E5%86%B3%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98">十四、前端使用代理解决跨域问题</h3> 
<p>To tell the development server to proxy any unknown requests to your API server in development, add a <code>proxy</code> field to your <code>package.json</code>, for example:</p> 
<pre class="has"><code class="language-javascript">"proxy": "http://localhost:83"</code></pre> 
<p>也可以增加一个文件：</p> 
<p>装包：</p> 
<pre class="has"><code class="language-javascript">yarn add http-proxy-middleware</code></pre> 
<p>&nbsp;<code>在src目录下面建一个文件，文件名是setupProxy.js&nbsp; 即 src/setupProxy.js：</code></p> 
<pre class="has"><code class="language-javascript">const proxy = require('http-proxy-middleware');
module.exports = function(app) {
  app.use(
    '/api',
    proxy({
      target: 'http://localhost:83',
      changeOrigin: true,
    })
  );
};</code></pre> 
<p>参考链接：</p> 
<p><a href="https://create-react-app.dev/docs/proxying-api-requests-in-development/">https://create-react-app.dev/docs/proxying-api-requests-in-development/</a></p> 
<h3 id="%E5%8D%81%E4%BA%94%E3%80%81mock%E5%BE%88%E5%A4%9A%E6%95%B0%E6%8D%AE%E3%80%81%E5%88%86%E9%A1%B5%E6%9F%A5%E6%89%BE">十五、mock很多数据、分页查找</h3> 
<p>装包：</p> 
<pre class="has"><code class="language-javascript">yarn add mockjs</code></pre> 
<p>&nbsp;</p> 
<pre class="has"><code class="language-javascript">const Mock = require('mockjs')


const mockDataList = Mock.mock({
	'list|100': [{
		'id|+1': 1,
		'name': '@cname',
		'title': '@ctitle',
		'image': '@image(300x300)',
		'address': '@county(true)'
	}]
}).list</code></pre> 
<pre class="has"><code class="language-javascript">//分页
app.get('/api/mock_data', (req, res) =&gt; {
  let { page, size } = req.query
  let start = (page - 1) * size
  let end = start + Number(size)
  console.log(start, end)
  let data = mockDataList.slice(start, end)

  res.send({
    code: 200,
    data: data,
    message: '列表'
  })
})</code></pre> 
<p>前端分页，滚动到底加载更多：</p> 
<pre class="has"><code class="language-javascript">import React, { Component } from 'react'
import axios from 'axios'

let updateDone = true
export default class App extends Component {
  constructor(props) {
    super(props)
    this.state = {
      list: [],
      end: '',
      page: 1
    }
  }
  handleScroll(e) {
    let { list, end, page} = this.state
    if (
      e.target.clientHeight + e.target.scrollTop + 200 &gt;
        e.target.scrollHeight &amp;&amp;
      end === "" &amp;&amp; updateDone
    ) {
      updateDone = false
      page = page + 1;
      axios({
        url: `/api/mock_data?page=${page}&amp;size=20`
      }).then(res =&gt; {
        if (res.data.code === 200) {
          this.setState({
            list: list.concat(res.data.data),
            page
          })
          if (res.data.data.length &lt; 20) {
            console.log("到底了");
            this.setState({
              end: "到底了"
            })
          }
        }
      });
    }
  }
  componentDidUpdate() {
    updateDone = true
  }
  componentDidMount() {
    axios({
      url: '/api/mock_data?page=1&amp;size=20'
    }).then(res =&gt; {
      if (res.data.code === 200) {
        this.setState({
          list: res.data.data
        })
      }
    })
  }
  render() {
    let { list, end } = this.state
    let listDom = list.map(item =&gt; (
      &lt;div key={item.id} className="m-list-item"&gt;{item.name}&lt;/div&gt;
    ))

    return (
      &lt;div className="m-warp" onScroll={this.handleScroll.bind(this)}&gt;
        {listDom}
        &lt;div className="m-end"&gt;{end}&lt;/div&gt;
      &lt;/div&gt;
    )
  }
}
</code></pre> 
<h3 id="%E5%8D%81%E5%85%AD%E3%80%81%E5%A6%82%E4%BD%95%E4%B8%8A%E7%BA%BF">十六、如何上线</h3> 
<p>打包：</p> 
<pre class="has"><code class="language-javascript">yarn build</code></pre> 
<p id="利用-express-托管静态文件">利用 Express 托管静态文件：</p> 
<pre class="has"><code class="language-javascript">//静态web服务器
app.use(express.static(__dirname + '/public'))</code></pre> 
<pre class="has"><code class="language-javascript">app.use(express.static('public'))</code></pre> 
<p>参考链接：</p> 
<p><a href="http://www.expressjs.com.cn/starter/static-files.html">http://www.expressjs.com.cn/starter/static-files.html</a></p> 
<p>利用 connect-history-api-fallback 解决前端history路由刷新报错：</p> 
<pre class="has"><code>const history = require('connect-history-api-fallback')

//处理react前端路由(BrowserRoute)，vue前端路由(mode:history)，注意：开启后无法用postman和浏览器地址栏调试get接口
app.use(history())
</code></pre> 
<p>参考链接：</p> 
<p><a href="https://www.npmjs.com/package/connect-history-api-fallback">https://www.npmjs.com/package/connect-history-api-fallback</a></p> 
<p>&nbsp;</p> 
<h3 id="%E5%8D%81%E4%B8%83%E3%80%81%E5%B0%8F%E7%A8%8B%E5%BA%8F%E8%BD%AE%E6%92%AD%E5%9B%BE">十七、小程序轮播图</h3> 
<pre class="has"><code class="language-javascript">  //图片的宽高比等于手机屏幕的宽度和swiper的高度比
  handleImageLoad(e) {
    let { windowWidth } = wx.getSystemInfoSync()
    let { height, width } = e.detail
    height = height /  width * windowWidth
    this.setData({
      height
    })
  },</code></pre> 
<pre class="has"><code class="language-html">  &lt;swiper 
    indicator-dots="{<!-- -->{true}}"
    autoplay="{<!-- -->{true}}"
    interval="{<!-- -->{5000}}"
    circular="{<!-- -->{true}}"
    style="height:{<!-- -->{height}}px"&gt;
    &lt;swiper-item wx:for="{<!-- -->{banner}}" wx:key="{<!-- -->{index}}"&gt;
      &lt;image src="{<!-- -->{item}}" mode="widthFix" class="m-item-img" bindload="handleImageLoad"&gt;&lt;/image&gt;
    &lt;/swiper-item&gt;
  &lt;/swiper&gt;</code></pre> 
<h3 id="%E5%8D%81%E5%85%AB%E3%80%81%E7%88%B6%E5%AD%90%E7%BB%84%E4%BB%B6%E9%80%9A%E8%AE%AF">十八、父子组件通讯</h3> 
<p>父组件：</p> 
<pre class="has"><code class="language-html">&lt;book-nav navList="{<!-- -->{navList}}" currentId="{<!-- -->{currentId}}" bind:onNav="handleNav"&gt;&lt;/book-nav&gt;</code></pre> 
<p>&nbsp;</p> 
<pre class="has"><code class="language-javascript">  handleNav(e) {
    let { id } = e.detail
    this.setData({
      currentId: id
    })
    wx.request({
      url: `${host}/api/list?id=${id}`,
      success: (res) =&gt; {
        if (res.data.code === 200) {
          this.setData({
            currentList: res.data.data
          })
        }
      }
    })
  },</code></pre> 
<p>子组件：</p> 
<pre class="has"><code class="language-javascript">// components/book-nav/book-nav.js
Component({
  /**
   * 组件的属性列表
   */
  properties: {
    navList: Array,
    currentId: Number
  },

  /**
   * 组件的初始数据
   */
  data: {

  },

  /**
   * 组件的方法列表
   */
  methods: {
    handleNav(e) {
      let { id } = e.mark
      this.triggerEvent('onNav', { id })
    }
  }
})
</code></pre> 
<h3 id="%E5%8D%81%E4%B9%9D%E3%80%81%E8%B7%AF%E7%94%B1">十九、路由</h3> 
<pre class="has"><code class="language-javascript">      wx.navigateTo({
        url: `/pages/detail/detail?id=${id}`,
      })</code></pre> 
<pre class="has"><code class="language-javascript">  onLoad: function (options) {
    let { id } = options
    wx.request({
      url: `${host}/api/detail?id=${id}`,
      success: (res) =&gt; {
        if (res.data.code === 200) {
          this.setData({
            detail: res.data.data
          })
        }
      }
    })
  },</code></pre> 
<h3 id="%E4%BA%8C%E5%8D%81%E3%80%81tabBar">二十、tabBar</h3> 
<pre class="has"><code class="language-javascript">  "tabBar": {
    "color": "#333333",
    "selectedColor": "#ff0000",
    "list": [
      {
        "pagePath": "pages/home/home",
        "text": "首页",
        "iconPath": "/static/images/home.png",
        "selectedIconPath": "/static/images/home-active.png"
      },
      {
        "pagePath": "pages/my-book/my-book",
        "text": "书包",
        "iconPath": "/static/images/cart.png",
        "selectedIconPath": "/static/images/cart-active.png"
      },
      {
        "pagePath": "pages/index/index",
        "text": "我的",
        "iconPath": "/static/images/me.png",
        "selectedIconPath": "/static/images/me-active.png"
      }
    ]
  }</code></pre> 
<h3 id="%E4%BA%8C%E5%8D%81%E4%B8%80%E3%80%81%E7%BB%84%E4%BB%B6%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F">二十一、组件生命周期</h3> 
<pre class="has"><code class="language-javascript">  lifetimes: {
    ready() {
      wx.request({
        url: `${host}/api/my_book`,
      })
    }
  }</code></pre> 
<pre class="has"><code class="language-javascript">  pageLifetimes: {
    show() {
      wx.request({
        url: `${host}/api/my_book`,
        success: (res) =&gt; {
          if (res.data.code === 200) {
            this.setData({
              myBook: res.data.data
            })
          }
        }
      })
    }
  }</code></pre> 
<h3 id="%E4%BA%8C%E5%8D%81%E4%BA%8C%E3%80%81%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7">二十二、计算属性</h3> 
<p>在终端进入小程序目录，使用下面的命令省事package.json文件</p> 
<pre class="has"><code class="language-javascript">npm init -y</code></pre> 
<p>装包：</p> 
<pre class="has"><code class="language-javascript">yarn add miniprogram-computed</code></pre> 
<p>构建npm:</p> 
<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191119100335918.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p> 
<p>构建后生成miniprogram_npm：</p> 
<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191119100432896.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p> 
<p>使用计算属性计算总价，总数：</p> 
<pre class="has"><code class="language-javascript">// pages/my-book/my-book.js
const computedBehavior = require('miniprogram-computed')
const { host } = getApp().globalData

Component({
  behaviors: [computedBehavior],
  /**
   * 组件的属性列表
   */
  properties: {

  },

  /**
   * 组件的初始数据
   */
  data: {
    myBook: []
  },

  computed: {
    total(data) {
      let totalPrice = 0, totalCount = 0
      data.myBook.forEach(item =&gt; {
        totalCount += item.count
        totalPrice += item.count * item.price
      })
      return {
        totalCount,
        totalPrice
      }
    }
  },

  /**
   * 组件的方法列表
   */
  methods: {

  },

  pageLifetimes: {
    show() {
      wx.request({
        url: `${host}/api/my_book`,
        success: (res) =&gt; {
          if (res.data.code === 200) {
            this.setData({
              myBook: res.data.data
            })
          }
        }
      })
    }
  }
})
</code></pre> 
<p>参考链接：</p> 
<p><a href="https://github.com/wechat-miniprogram/computed">https://github.com/wechat-miniprogram/computed</a></p> 
<p><a href="https://developers.weixin.qq.com/miniprogram/dev/devtools/npm.html">https://developers.weixin.qq.com/miniprogram/dev/devtools/npm.html</a></p> 
<h3 id="%E4%BA%8C%E5%8D%81%E4%B8%89%E3%80%81%E5%B0%8F%E7%A8%8B%E5%BA%8F%E8%B4%AD%E8%BD%A6">二十三、小程序购车</h3> 
<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/2019112110015833.gif"></p> 
<p>&nbsp;</p> 
<h3 id="%E4%BA%8C%E5%8D%81%E5%9B%9B%E3%80%81%E4%BD%BF%E7%94%A8%20Component%20%E6%9E%84%E9%80%A0%E5%99%A8%E6%9E%84%E9%80%A0%E9%A1%B5%E9%9D%A2">二十四、使用 Component 构造器构造页面</h3> 
<p>页面的生命周期方法（即&nbsp;<code>on</code>&nbsp;开头的方法），应写在&nbsp;<code>methods</code>&nbsp;定义段中。</p> 
<pre class="has"><code class="language-javascript">Component({

  properties: {
    paramA: Number,
    paramB: String,
  },

  methods: {
    onLoad: function(options) {
      let { id } = options
      this.data.paramA // 页面参数 paramA 的值
      this.data.paramB // 页面参数 paramB 的值
    },
    onShow() {

    }
  }
})</code></pre> 
<p>也可以写在pageLifetimes字段里(去掉on）：</p> 
<pre class="has"><code class="language-javascript">
Component({
  properties: {

  },


  data: {
    detail: {}
  },

  pageLifetimes: {
    load(options) {
      let { id } = options
    },
    show() {

    }
  }
})
</code></pre> 
<h3 id="%E4%BA%8C%E5%8D%81%E4%BA%94%E3%80%81%E4%BD%BF%E7%94%A8%E7%BB%84%E4%BB%B6observers%E5%81%9A%E6%95%B0%E6%8D%AE%E7%9B%91%E5%90%AC%E5%99%A8">二十五、使用组件observers做数据监听器</h3> 
<p>可以代替计算属性</p> 
<pre class="has"><code class="language-javascript">  observers: {
    'myBook': function (myBook) {
      this.update(myBook)
      let totalPrice = 0, totalCount = 0
      myBook.filter(item =&gt; item.checked).forEach(item =&gt; {
        totalCount += item.count
        totalPrice += item.count * item.price
      })
      let total = {
        totalCount,
        totalPrice,
        selectedAll: myBook.length === myBook.filter(item =&gt; item.checked).length &amp;&amp; myBook.length &gt; 0
      }
      this.setData({
        total
      })
    }
  },</code></pre> 
<h3>二十六、antd移动版</h3> 
<p><a href="https://mobile.ant.design/components/carousel-cn/">https://mobile.ant.design/components/carousel-cn/</a></p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<h3 id="github%E6%BA%90%E7%A0%81%EF%BC%9A">github源码：</h3> 
<p><a href="https://github.com/baweireact/m-app-1706C">https://github.com/baweireact/m-app-1706C</a></p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p>
                ]]></description></item><item><title>node入门</title><link>http://www.cnblogs.com/xutongbao/archive/2019/10/23/11915669.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 23 Oct 2019 11:58:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2019/10/23/11915669.html</guid><description><![CDATA[
                                            <p id="main-toc"><strong>目录</strong></p>

<p id="-toc" style="margin-left:80px;">&nbsp;</p>

<p style="margin-left:80px;">&nbsp;</p>

<p style="margin-left:80px;">&nbsp;</p>

<p id="1%E3%80%81%E4%BB%80%E4%B9%88%E6%98%AFnpm-toc" style="margin-left:80px;"><a href="#1%E3%80%81%E4%BB%80%E4%B9%88%E6%98%AFnpm" rel="nofollow">一、什么是npm</a></p>

<p id="1%E3%80%81%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%A8%8B%E5%BA%8F%EF%BC%9A-toc" style="margin-left:80px;"><a href="#1%E3%80%81%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%A8%8B%E5%BA%8F%EF%BC%9A" rel="nofollow">二、命令行程序</a></p>

<p id="3%E3%80%81commander.js-toc" style="margin-left:80px;"><a href="#3%E3%80%81commander.js" rel="nofollow">三、commander.js</a></p>

<p id="4%E3%80%81npm%E5%8C%85%E7%AE%A1%E7%90%86-toc" style="margin-left:80px;"><a href="#4%E3%80%81npm%E5%8C%85%E7%AE%A1%E7%90%86" rel="nofollow">四、npm包管理</a></p>

<p id="5%E3%80%81node%E6%8F%90%E4%BE%9B%E4%B8%80%E4%B8%AA%E9%93%BE%E6%8E%A5%E5%8F%AF%E4%BB%A5%E4%B8%8B%E8%BD%BD%E5%9B%BE%E7%89%87-toc" style="margin-left:80px;"><a href="#5%E3%80%81node%E6%8F%90%E4%BE%9B%E4%B8%80%E4%B8%AA%E9%93%BE%E6%8E%A5%E5%8F%AF%E4%BB%A5%E4%B8%8B%E8%BD%BD%E5%9B%BE%E7%89%87" rel="nofollow">五、node提供一个链接可以下载图片</a></p>

<p id="6%E3%80%81%E4%BD%BF%E7%94%A8node%E5%8E%9F%E7%94%9Fhttp%E6%A8%A1%E5%9D%97%E5%86%99%E6%8E%A5%E5%8F%A3-toc" style="margin-left:80px;"><a href="#6%E3%80%81%E4%BD%BF%E7%94%A8node%E5%8E%9F%E7%94%9Fhttp%E6%A8%A1%E5%9D%97%E5%86%99%E6%8E%A5%E5%8F%A3" rel="nofollow">六、使用node原生http模块写接口</a></p>

<p id="7%E3%80%81%E4%BD%BF%E7%94%A8node%E5%8E%9F%E7%94%9Fhttp%E6%A8%A1%E5%9D%97%E5%AE%9E%E7%8E%B0%E8%B4%AD%E7%89%A9%E8%BD%A6%E6%89%80%E6%9C%89%E6%8E%A5%E5%8F%A3%EF%BC%88%E4%B8%8D%E9%9C%80%E8%A6%81%E8%A3%85%E5%8C%85%EF%BC%8C%E4%B8%8D%E9%9C%80%E8%A6%81%E4%B8%AD%E9%97%B4%E4%BB%B6%EF%BC%89-toc" style="margin-left:80px;"><a href="#7%E3%80%81%E4%BD%BF%E7%94%A8node%E5%8E%9F%E7%94%9Fhttp%E6%A8%A1%E5%9D%97%E5%AE%9E%E7%8E%B0%E8%B4%AD%E7%89%A9%E8%BD%A6%E6%89%80%E6%9C%89%E6%8E%A5%E5%8F%A3%EF%BC%88%E4%B8%8D%E9%9C%80%E8%A6%81%E8%A3%85%E5%8C%85%EF%BC%8C%E4%B8%8D%E9%9C%80%E8%A6%81%E4%B8%AD%E9%97%B4%E4%BB%B6%EF%BC%89" rel="nofollow">七、使用node原生http模块实现购物车所有接口（不需要装包，不需要中间件）</a></p>

<p id="%E5%85%AB%E3%80%81node%E5%8E%9F%E7%94%9F%E5%86%99%E6%8E%A5%E5%8F%A3%EF%BC%8C%E6%90%AD%E5%BB%BA%E9%9D%99%E6%80%81web%E6%9C%8D%E5%8A%A1%E5%99%A8%EF%BC%8C%E5%A4%84%E7%90%86%E5%89%8D%E7%AB%AFhistory%E8%B7%AF%E7%94%B1-toc" style="margin-left:80px;"><a href="#%E5%85%AB%E3%80%81node%E5%8E%9F%E7%94%9F%E5%86%99%E6%8E%A5%E5%8F%A3%EF%BC%8C%E6%90%AD%E5%BB%BA%E9%9D%99%E6%80%81web%E6%9C%8D%E5%8A%A1%E5%99%A8%EF%BC%8C%E5%A4%84%E7%90%86%E5%89%8D%E7%AB%AFhistory%E8%B7%AF%E7%94%B1" rel="nofollow">八、node原生写接口，搭建静态web服务器，处理前端history路由</a></p>

<p id="%E4%B9%9D%E3%80%81%E5%AE%89%E8%A3%85FileZilla%E6%9C%8D%E5%8A%A1%E7%AB%AF-toc" style="margin-left:80px;"><a href="#%E4%B9%9D%E3%80%81%E5%AE%89%E8%A3%85FileZilla%E6%9C%8D%E5%8A%A1%E7%AB%AF" rel="nofollow">九、安装FileZilla服务端</a></p>

<p id="%E5%8D%81%E3%80%81%E5%AE%89%E8%A3%85FileZilla%E5%AE%A2%E6%88%B7%E7%AB%AF-toc" style="margin-left:80px;"><a href="#%E5%8D%81%E3%80%81%E5%AE%89%E8%A3%85FileZilla%E5%AE%A2%E6%88%B7%E7%AB%AF" rel="nofollow">十、安装FileZilla客户端</a></p>

<p id="%E5%8D%81%E4%B8%80%E3%80%81%E9%98%BF%E9%87%8C%E4%BA%91%E9%85%8D%E7%BD%AE%E6%94%AF%E6%8C%81FTP-toc" style="margin-left:80px;"><a href="#%E5%8D%81%E4%B8%80%E3%80%81%E9%98%BF%E9%87%8C%E4%BA%91%E9%85%8D%E7%BD%AE%E6%94%AF%E6%8C%81FTP" rel="nofollow">十一、阿里云配置支持FTP</a></p>

<p id="%E5%8D%81%E4%BA%8C%E3%80%81colors-toc" style="margin-left:80px;"><a href="#%E5%8D%81%E4%BA%8C%E3%80%81colors" rel="nofollow">十二、colors</a></p>

<p id="%E5%8D%81%E4%B8%89%E3%80%81express%E8%84%9A%E6%89%8B%E6%9E%B6-toc" style="margin-left:80px;"><a href="#%E5%8D%81%E4%B8%89%E3%80%81express%E8%84%9A%E6%89%8B%E6%9E%B6" rel="nofollow">十三、express脚手架</a></p>

<p id="%E5%8D%81%E4%B8%89%E3%80%81npm%20view%E6%8C%87%E4%BB%A4-toc" style="margin-left:80px;"><a href="#%E5%8D%81%E4%B8%89%E3%80%81npm%20view%E6%8C%87%E4%BB%A4" rel="nofollow">十三、npm view指令</a></p>

<p id="%E5%8D%81%E5%9B%9B%E3%80%81String-toc" style="margin-left:80px;"><a href="#%E5%8D%81%E5%9B%9B%E3%80%81String" rel="nofollow">十四、String</a></p>

<p id="%E5%8D%81%E4%BA%94%E3%80%81node%E6%98%AF%E5%8D%95%E7%BA%BF%E7%A8%8B-toc" style="margin-left:80px;"><a href="#%E5%8D%81%E4%BA%94%E3%80%81node%E6%98%AF%E5%8D%95%E7%BA%BF%E7%A8%8B" rel="nofollow">十五、node是单线程</a></p>

<p id="%E5%8D%81%E5%85%AD%E3%80%81%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86-toc" style="margin-left:80px;"><a href="#%E5%8D%81%E5%85%AD%E3%80%81%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86" rel="nofollow">十六、错误处理</a></p>

<p id="%E5%8D%81%E4%B8%83%E3%80%81process.nextTick(callback)-toc" style="margin-left:80px;"><a href="#%E5%8D%81%E4%B8%83%E3%80%81process.nextTick(callback)" rel="nofollow">十七、process.nextTick(callback)</a></p>

<p id="%E5%8D%81%E5%85%AB%E3%80%81%E6%A0%B9%E6%8D%AE%E4%B8%8B%E6%A0%87%E6%89%93%E5%8D%B0%E5%8A%A8%E7%89%A9-toc" style="margin-left:80px;"><a href="#%E5%8D%81%E5%85%AB%E3%80%81%E6%A0%B9%E6%8D%AE%E4%B8%8B%E6%A0%87%E6%89%93%E5%8D%B0%E5%8A%A8%E7%89%A9" rel="nofollow">十八、根据下标打印动物</a></p>

<p id="%E5%8D%81%E4%B9%9D%E3%80%81node%E9%80%9A%E8%BF%87%E7%BD%91%E9%A1%B5%E8%AF%BB%E5%8F%96%E6%96%87%E4%BB%B6%E7%9B%AE%E5%BD%95-toc" style="margin-left:80px;"><a href="#%E5%8D%81%E4%B9%9D%E3%80%81node%E9%80%9A%E8%BF%87%E7%BD%91%E9%A1%B5%E8%AF%BB%E5%8F%96%E6%96%87%E4%BB%B6%E7%9B%AE%E5%BD%95" rel="nofollow">十九、node通过网页读取文件目录</a></p>

<p id="20%E3%80%81%E9%87%8D%E5%91%BD%E5%90%8D%E6%96%87%E4%BB%B6%E6%88%96%E6%96%87%E4%BB%B6%E5%A4%B9-toc" style="margin-left:80px;"><a href="#20%E3%80%81%E9%87%8D%E5%91%BD%E5%90%8D%E6%96%87%E4%BB%B6%E6%88%96%E6%96%87%E4%BB%B6%E5%A4%B9" rel="nofollow">20、重命名文件或文件夹</a></p>

<p id="21%E3%80%81js%E5%8C%BA%E5%88%86%E5%AF%B9%E8%B1%A1%E5%87%BD%E6%95%B0%E5%92%8C%E6%95%B0%E7%BB%84-toc" style="margin-left:80px;"><a href="#21%E3%80%81js%E5%8C%BA%E5%88%86%E5%AF%B9%E8%B1%A1%E5%87%BD%E6%95%B0%E5%92%8C%E6%95%B0%E7%BB%84" rel="nofollow">21、js区分对象函数和数组</a></p>

<p id="22%E3%80%81%E4%BA%8B%E4%BB%B6%E8%A7%A6%E5%8F%91%E5%99%A8-toc" style="margin-left:80px;"><a href="#22%E3%80%81%E4%BA%8B%E4%BB%B6%E8%A7%A6%E5%8F%91%E5%99%A8" rel="nofollow">22、事件触发器</a></p>

<p id="23%E3%80%81%E6%89%8B%E5%8A%A8%E5%B0%81%E8%A3%85%E4%BA%8B%E4%BB%B6-toc" style="margin-left:80px;"><a href="#23%E3%80%81%E6%89%8B%E5%8A%A8%E5%B0%81%E8%A3%85%E4%BA%8B%E4%BB%B6" rel="nofollow">23、手动封装事件</a></p>

<p id="24%E3%80%81%E7%88%B6%E5%AD%90%E8%BF%9B%E7%A8%8B%E9%80%9A%E4%BF%A1-toc" style="margin-left:80px;"><a href="#24%E3%80%81%E7%88%B6%E5%AD%90%E8%BF%9B%E7%A8%8B%E9%80%9A%E4%BF%A1" rel="nofollow">24、父子进程通信</a></p>

<hr id="hr-toc"><p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<h3>&nbsp;</h3>

<h3>&nbsp;</h3>

<h3>&nbsp;</h3>

<p>Node.js是单线程的，基于事件循环，非阻塞 IO的。事件循环中使用一个事件队列，在每个<strong>时间点</strong>上，系统只会处理一个事件，即使电脑有多个CPU核心，也无法同时并行的处理多个事件。因此，node.js适合处理I／O型的应用，不适合那种CPU运算密集型的应用。在I／O型的应用中，给每一个输入输出定义一个回调函数，node.js会自动将其加入到事件轮询的处理队列里，当I／O操作完成后，这个回调函数会被触发，系统会继续处理其他的请求。</p>

<h3 id="1%E3%80%81%E4%BB%80%E4%B9%88%E6%98%AFnpm">一、什么是npm</h3>

<p>npm是javascript的包管理工具，是前端模块化下的一个标志性产物。简单地地说，就是通过npm下载模块，复用已有的代码，提高工作效率。</p>

<ul><li>1.从社区的角度：把针对某一特定问题的模块发布到npm的服务器上，供社区里的其他人下载和使用，同时自己也可以在社区里寻找特定的模块的资源，解决问题</li>
	<li>2.从团队的角度：有了npm这个包管理工具，复用团队既有的代码也变的更加地方便</li>
</ul><p>新建一个项目，cd进去，然后执行<code>npm init</code>来初始化项目的配置。</p>

<p>在执行<code>npm init</code>之前，有两点需要我们注意一下：</p>

<ul><li>包名不能重复</li>
	<li>npm对包名的限制：不能有大写字母/空格/下划线</li>
</ul><p>npm init 一路回车</p>

<p>或者：npm init -y</p>

<p>生成的package.json文件：</p>

<p>name和version组成唯一标识。每次发包时都要修改版本号。</p>

<p>description:描述</p>

<p>main：入口，别人安装你的npm包后，import时自动找到这个文件</p>

<p id="scripts">scripts： 脚本 npm run test或者yarn test</p>

<p>keywords：关键字。放简介，字符串。方便别人查找。</p>

<p>author： 作者</p>

<p>license： 许可证</p>

<p>ISC许可证：<a href="https://baike.baidu.com/item/ISC%E8%AE%B8%E5%8F%AF%E8%AF%81/5490986?fr=aladdin" rel="nofollow">https://baike.baidu.com/item/ISC%E8%AE%B8%E5%8F%AF%E8%AF%81/5490986?fr=aladdin</a></p>

<p>MIT许可证：<a href="https://baike.baidu.com/item/MIT%E8%AE%B8%E5%8F%AF%E8%AF%81/6671281?fr=aladdin" rel="nofollow">https://baike.baidu.com/item/MIT%E8%AE%B8%E5%8F%AF%E8%AF%81/6671281?fr=aladdin</a></p>

<p>files：files是一个包含项目中的文件的数组。如果命名了一个文件夹，那也会包含文件夹中的文件。</p>

<pre class="has"><code class="language-javascript">{
  "name": "xu-20191024",
  "version": "1.0.0",
  "description": "",
  "main": "index.js",
  "scripts": {
    "test": "echo \"Error: no test specified\" &amp;&amp; exit 1"
  },
  "keywords": [],
  "author": "",
  "license": "ISC"
}
</code></pre>

<pre class="has"><code class="language-javascript">{
  "name": "xu-20191024",
  "version": "1.0.2",
  "description": "1705E，项目实战",
  "main": "index.js",
  "scripts": {
    "test": "echo \"Error: no test specified\" &amp;&amp; exit 1"
  },
  "keywords": ["1705E","1706E"],
  "author": "徐同保",
  "license": "ISC"
}
</code></pre>

<p>检查包名是否存在：</p>

<p><a href="https://www.npmjs.com/package/xu-20191025" rel="nofollow">https://www.npmjs.com/package/xu-20191025</a></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191024103851489.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"><br>
&nbsp;</p>

<p>通过keywords找：</p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191024105749421.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>repository：npm和git关联</p>

<pre class="has"><code class="language-javascript">  "repository": {
    "type": "git",
    "url": "https://github.com/xutongbao"
  },</code></pre>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191024120520687.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>homepage： 项目官网</p>

<pre class="has"><code class="language-javascript">  "homepage": "https://blog.csdn.net/xutongbao",</code></pre>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191024120805163.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>&nbsp;</p>

<p>dependencies与devDependencies的区别：</p>

<p>在发布npm包的时候，本身dependencies下的模块会作为依赖，一起被下载；devDependencies下面的模块就不会自动下载了；但对于项目而言，npm install 会自动下载devDependencies和dependencies下面的模块。</p>

<p>当别人使用我们的插件时，<strong>peerDependencies</strong>就会告诉明确告诉使用方，你需要安装该插件哪个宿主版本：</p>

<pre class="has"><code class="language-javascript">  "dependencies": {
    "axios": "^0.19.0"
  },
  "devDependencies": {
    "element-ui": "^2.12.0"
  },
  "peerDependencies": {
    "react": "^16.11.0"
  },
  "optionalDependencies": {
    "redux": "^4.0.4"
  }</code></pre>

<p><img alt="" class="has" height="176" src="https://img-blog.csdnimg.cn/20191024130504199.png" width="835"></p>

<p>参考链接：</p>

<p><a href="https://blog.csdn.net/yq_oxygen/article/details/90040392" rel="nofollow">https://blog.csdn.net/yq_oxygen/article/details/90040392</a></p>

<p><a href="https://cloud.tencent.com/developer/ask/40773" rel="nofollow">https://cloud.tencent.com/developer/ask/40773</a></p>

<p><a href="https://nodejs.org/zh-cn/blog/npm/peer-dependencies/" rel="nofollow">https://nodejs.org/zh-cn/blog/npm/peer-dependencies/</a></p>

<p>optionalDependencies：</p>

<p>可选依赖，如果有一些依赖包即使安装失败，项目仍然能够运行或者希望npm继续运行，就可以使用optionalDependencies。另外optionalDependencies会覆盖dependencies中的同名依赖包，所以不要在两个地方都写。</p>

<p>bin字段：</p>

<p>参考链接：</p>

<p><a href="https://blog.csdn.net/feng98ren/article/details/93729399" rel="nofollow">https://blog.csdn.net/feng98ren/article/details/93729399</a></p>

<p>src/index.js:</p>

<p>请确保你的index.js文件里面最开头写上 #!/usr/bin/env node，否则文件里的脚本不会再Node环境下执行</p>

<pre class="has"><code class="language-javascript">#!/usr/bin/env node
console.log(1)</code></pre>

<pre class="has"><code class="language-javascript">  "bin": {
    "myapp": "./src/index.js"
  },</code></pre>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191024175655448.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" height="127" src="https://img-blog.csdnimg.cn/20191024175738109.png" width="584"></p>

<p>全局安装：</p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191024175949187.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191024180156362.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>&nbsp;</p>

<p>常用命令：</p>

<pre class="has"><code class="language-javascript">npm config list

npm config ls -l</code></pre>

<p>安装npm包，安装到dependencies：</p>

<pre class="has"><code class="language-javascript">npm install commander --save-prod

npm install commander --save

npm install commander -S

npm install commander

npm add commander

npm i commander</code></pre>

<p>安装npm包，安装到devDependencies：</p>

<pre class="has"><code class="language-javascript">npm install commander --save-dev

npm install commander -D
</code></pre>

<p>卸载npm包：</p>

<pre class="has"><code class="language-javascript">npm uninstall commander

npm unlink commander

npm remove commander

npm rm commander

npm un commander

npm r commander</code></pre>

<p>安装到全局：</p>

<pre class="has"><code class="language-javascript">npm install create-react-app -g</code></pre>

<p>从全局删除：</p>

<pre class="has"><code class="language-javascript">npm un create-react-app -g </code></pre>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<h3 id="1%E3%80%81%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%A8%8B%E5%BA%8F%EF%BC%9A">二、命令行程序</h3>

<pre class="has"><code class="language-javascript">console.log('hello world!')</code></pre>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191023195345351.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p id="%C2%A02%E3%80%81%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%8F%82%E6%95%B0">命令行参数：</p>

<p>1）</p>

<pre class="has"><code class="language-javascript">console.log('hello world!', process.argv[2])</code></pre>

<p><img alt="" class="has" height="62" src="https://img-blog.csdnimg.cn/20191023195834859.png" width="582"></p>

<p>2）</p>

<pre class="has"><code class="language-javascript">console.log('hello world!', process.argv[1])</code></pre>

<p><img alt="" class="has" height="62" src="https://img-blog.csdnimg.cn/20191023195916263.png" width="601"></p>

<h3 id="3%E3%80%81commander.js">三、commander.js</h3>

<p>使用<code>.option()</code>方法定义<code>commander</code>的选项<code>options</code></p>

<p>短标志可以作为单个arg传递，例如-abc相当于-a -b -c。</p>

<p>多词组成的选项，像“--template-engine”会变成 program.templateEngine 等</p>

<p>&lt;&gt;代表必填，[]代表选填，选填可以设置默认值</p>

<p>.version('0.0.1')&nbsp; 使用node&nbsp;app&nbsp;-V查版本</p>

<p>.version('0.0.1',&nbsp;'-v,&nbsp;--version')&nbsp;&nbsp; 使用node&nbsp;app&nbsp;-v或node app --version查版本</p>

<p>使用node app -h或node app --help查看帮助</p>

<p>program.parse方法用于解析process.argv，解析后可以program.xxx使用</p>

<pre class="has"><code class="language-javascript">const program = require('commander');
 
program
  .version('0.0.1')  //node app -V
  //.version('0.0.1', '-v, --version')   //node app -v
  .option('-d, --debug', 'output extra debugging')
  .option('-s, --small', 'small pizza size')
  .option('-p, --pizza-type &lt;type&gt;', 'flavour of pizza');
  
program.parse(process.argv);
 
if (program.debug) console.log(program.opts());
console.log('pizza details:');
if (program.small) console.log('- small pizza size');
if (program.pizzaType) console.log(`- ${program.pizzaType}`);</code></pre>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191023205604700.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>求和：</p>

<pre class="has"><code class="language-javascript">const program = require('commander');
 
program
  .version('0.0.1')
  .option('-a, --my-a, &lt;a&gt;', '第一个值')
  .option('-b, --my-b, &lt;b&gt;', '第二个值')
  .parse(process.argv);

console.log(program.myA)
console.log(program.myB)
console.log(program.myA*1 + program.myB*1)</code></pre>

<p><img alt="" class="has" height="88" src="https://img-blog.csdnimg.cn/20191024081416997.png" width="598"></p>

<p>求和二：</p>

<pre class="has"><code class="language-javascript">const program = require('commander');
 
program
  .version('0.0.1')
  .option('-a, --add', '求和')
  .parse(process.argv);
  
if (program.add) {
  let sum = 0
  program.args.forEach(item =&gt; {
    sum += item * 1
  })
  console.log(sum)
}
</code></pre>

<p><img alt="" class="has" height="57" src="https://img-blog.csdnimg.cn/20191024081827342.png" width="698"></p>

<p>阶乘：</p>

<pre class="has"><code class="language-javascript">const program = require('commander');
 
program
  .version('0.0.1')
  .option('-a, --add', '求和')
  .option('-f, --factorial &lt;num&gt;', '阶乘')
  .parse(process.argv);

const factorial = (num) =&gt; {
  if (num &lt; 0) {
    return -1
  } else if (num === 0 || num === 1) {
    return 1
  } else {
    return num * factorial(num - 1)
  }
}

if (program.add) {
  let sum = 0
  program.args.forEach(item =&gt; {
    sum += item * 1
  })
  console.log(sum)
} else if (program.factorial) {
  let result = factorial(program.factorial)
  console.log(result)
}

</code></pre>

<p><img alt="" class="has" height="50" src="https://img-blog.csdnimg.cn/20191024083121118.png" width="579"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/2019102408320129.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>多单词形式：</p>

<pre class="has"><code class="language-javascript">const program = require('commander');
 
program
  .version('0.0.1')
  .option('-a, --my-add', '求和,多单词形式')
  .parse(process.argv);

//驼峰
if (program.myAdd) {
  let sum = 0
  program.args.forEach(item =&gt; {
    sum += item * 1
  })
  console.log(sum)
}


</code></pre>

<p>以--no形式开头的选项，代表后面紧跟单词的相反面：</p>

<pre class="has"><code class="language-javascript">const program = require('commander');
 
program
  .version('0.0.1')
  .option('-a, --no-add', '求和,以--no形式开头的选项，代表后面紧跟单词的相反面')
  .parse(process.argv);

console.log(program)  

if (program.add) {
  let sum = 0
  program.args.forEach(item =&gt; {
    sum += item * 1
  })
  console.log(sum)
} else {
  console.log('取反')
}

</code></pre>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191024084223736.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>command方法，自定义命令</p>

<p>description方法， 命令的描述性语句</p>

<p>action方法，定义命令的回调函数</p>

<pre class="has"><code class="language-javascript">const program = require('commander');
program
  .version('1.0.0')
  .command('my-add &lt;num&gt;')
  .option('-a, --add, &lt;num&gt;', '加法')
	.action((num, cmd) =&gt; {
    console.log(num, cmd.add)
  })

program
  .option('-u, --upadte', '更新')  
  .description('描述信息！！！')
  
program.parse(process.argv)
</code></pre>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/201910240903336.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>参考链接：</p>

<p><a href="https://juejin.im/post/5c8be466f265da2dc849af70" rel="nofollow">https://juejin.im/post/5c8be466f265da2dc849af70</a></p>

<p><a href="https://www.npmjs.com/package/commander#commands" rel="nofollow">https://www.npmjs.com/package/commander#commands</a></p>

<h3 id="4%E3%80%81npm%E5%8C%85%E7%AE%A1%E7%90%86">四、npm包管理</h3>

<p>发布npm包：</p>

<p>1.先注册一个npm账号</p>

<p>2.在终端登录npm账号：npm login 回车输入用户名密码和邮箱</p>

<p>3.新建一个文件夹，cd到新创建的文件夹，使用npm init 生成package.json</p>

<p>4.使用npm publish上传npm包，你会收到一封邮件，在npm官网可以看到刚上传的npm包</p>

<p>&nbsp;</p>

<p>yarn更新包：</p>

<pre class="has"><code class="language-javascript">yarn upgrade</code></pre>

<h3 id="5%E3%80%81node%E6%8F%90%E4%BE%9B%E4%B8%80%E4%B8%AA%E9%93%BE%E6%8E%A5%E5%8F%AF%E4%BB%A5%E4%B8%8B%E8%BD%BD%E5%9B%BE%E7%89%87">五、node提供一个链接可以下载图片</h3>

<p>&nbsp;</p>

<pre class="has"><code class="language-javascript">const fs = require('fs')
const request = require('request')
const program = require('commander')

program
  .option('-d, --down &lt;url&gt;', '下载')
  .parse(process.argv)
  
let url = program.down

const name = url.slice(url.lastIndexOf('/') + 1)
request(url).pipe(fs.createWriteStream('./' + name));

//node app -d https://n3-q.mafengwo.net/s15/M00/16/18/CoUBGV2xnO6ALntcAB_DZLkVUnY568.png
//node app -d https://p4-q.mafengwo.net/s15/M00/B3/B1/CoUBGV2wYYmAAByNACD9lHJSPKY794.png
//node app --down https://n2-q.mafengwo.net/s15/M00/D0/E4/CoUBGV2vBYGAbzADAB1W_rqrlCM012.png

</code></pre>

<h3 id="6%E3%80%81%E4%BD%BF%E7%94%A8node%E5%8E%9F%E7%94%9Fhttp%E6%A8%A1%E5%9D%97%E5%86%99%E6%8E%A5%E5%8F%A3">六、使用node原生http模块写接口</h3>

<p>跨域：</p>

<p>所以ajax跨域请求附带自定义响应头时，被请求服务器除了添加Access-Control-Allow-Origin响应头，还得注意注意添加Access-Control-Allow-Headers响应头为对应的自定义请求头的名称，多个自定义请求头用英文状态下逗号分开。</p>

<pre class="has"><code class="language-javascript">  //跨域
  res.setHeader('Access-Control-Allow-Origin', '*')  //可以把 * 改成 http://localhost:3000 避免xss攻击
  //res.setHeader('Access-Control-Allow-Methods', 'GET,PUT,POST,PATCH,DELETE,HEAD,OPTIONS')   //放行的方法
  res.setHeader('Access-Control-Allow-Headers', 'content-type')  //放行的请求头
  res.setHeader('Access-Control-Max-Age', 1800)  //隔30分钟才发起预检请求，1800秒</code></pre>

<p>url.parse：</p>

<p>url.parse(<a href="http://localhost:3000/" rel="nofollow">'http://localhost:3000/api/list?id=0'</a>)&nbsp; :</p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191026200422823.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>url.parse(<a href="http://localhost:3000/" rel="nofollow">'http://localhost:3000/api/list?id=0'</a>, true)&nbsp; :</p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191026200612133.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>204状态码：</p>

<p><code>请求收到，但返回信息为空。</code>请求执行成功，但是没有数据，浏览器不用刷新页面.也不用导向新的页面。常用于跨域请求。</p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191026200637223.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191026200650188.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>&nbsp;跨域请求：</p>

<p><img alt="" class="has" height="150" src="https://img-blog.csdnimg.cn/20191026201453763.png" width="1024"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191026202239450.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>OPTIONS是一种“预检请求”，浏览器在处理跨域访问的请求时如果判断请求为复杂请求，则会先向服务器发送一条预检请求，根据服务器返回的内容浏览器判断服务器是否允许该请求访问。如果web服务器采用cors的方式支持跨域访问，在处理复杂请求时这个预检请求是不可避免的。&nbsp;</p>

<p>跨域不可避免，预检请求也不可避免，那我们能做的，就是减少预检请求，处理办法就是设置跨域的有效期Access-Control-Max-Age，这样就只会跨域预检一次了。</p>

<p>浏览器的同源策略，就是出于安全考虑，浏览器会限制从脚本发起的跨域HTTP请求（比如异步请求GET, POST, PUT, DELETE, OPTIONS等等），所以浏览器会向所请求的服务器发起两次请求，第一次是浏览器使用OPTIONS方法发起一个预检请求，第二次才是真正的异步请求，第一次的预检请求获知服务器是否允许该跨域请求：如果允许，才发起第二次真实的请求；如果不允许，则拦截第二次请求。</p>

<p>Access-Control-Max-Age用来指定本次预检请求的有效期，单位为秒，，在此期间不用发出另一条预检请求。</p>

<p>例如：</p>

<p>res.setHeader('Access-Control-Max-Age',&nbsp;1800)&nbsp;表示隔30分钟才发起预检请求。也就是说，发送两次请求</p>

<p>&nbsp;</p>

<h3 id="7%E3%80%81%E4%BD%BF%E7%94%A8node%E5%8E%9F%E7%94%9Fhttp%E6%A8%A1%E5%9D%97%E5%AE%9E%E7%8E%B0%E8%B4%AD%E7%89%A9%E8%BD%A6%E6%89%80%E6%9C%89%E6%8E%A5%E5%8F%A3%EF%BC%88%E4%B8%8D%E9%9C%80%E8%A6%81%E8%A3%85%E5%8C%85%EF%BC%8C%E4%B8%8D%E9%9C%80%E8%A6%81%E4%B8%AD%E9%97%B4%E4%BB%B6%EF%BC%89">七、使用node原生http模块实现购物车所有接口（不需要装包，不需要中间件）</h3>

<pre class="has"><code class="language-javascript">const http = require('http')
const fs = require('fs')
const url = require('url')
const { bookNavData, bookMallData, userList } = require('./data')

let bookList = []

const server = http.createServer((req, res) =&gt; {
  //跨域
  res.setHeader('Access-Control-Allow-Origin', '*')  //可以把 * 改成 http://localhost:3000 避免xss攻击
  //res.setHeader('Access-Control-Allow-Methods', 'GET,PUT,POST,PATCH,DELETE,HEAD,OPTIONS')   //放行的方法
  res.setHeader('Access-Control-Allow-Headers', 'content-type')  //放行的请求头
  res.setHeader('Access-Control-Max-Age', 1800)  //隔30分钟才发起预检请求，1800秒
  
  let { pathname } = url.parse(req.url, true)
  console.log(req.method, url.parse(req.url, true))
  console.log(pathname)

  if (req.url === '/') {   //hello world!
    res.writeHead(200, { 'Content-Type': 'text/html' })
    res.write('hello world!')
    res.end()
  } else if (req.url === '/home') {  //路由
    res.writeHead(200, { 'Content-Type': 'text/html' })
    const home = fs.readFileSync('./index.html')   //读文件
    res.end(home)
  } else if (req.url === '/banner01') {   //图片
    //res.writeHead(200, { 'Content-Type': 'image/jpg' })
    const banner01 = fs.readFileSync('./images/banner01.jpg')  //读图片
    res.end(banner01)
  } else if (req.method == 'OPTIONS') { //跨域，处理options请求
    res.writeHead(204) //204 无内容
    res.end()
  } else if (req.method === 'POST' &amp;&amp; pathname === '/api/login') { //登录
    let body = ''

    // 通过req的data事件监听函数，每当接受到请求体的数据，就累加到body变量中
    req.on('data', (chunk) =&gt; {
      body += chunk
    })

    // 在end事件触发后，通过JSON.parse将body解析为真正的POST请求格式
    req.on('end', () =&gt;{
      body = JSON.parse(body)
      let { username, password } = body
      let user = userList.find(item =&gt; item.username === username)
      res.writeHead(200, { 'Content-Type': 'application/json' })
      if (user) {
        if (user.password === password) {
          res.write(JSON.stringify({
            code: 200,
            data: {
              username
            },
            message: '登录成功'
          }))
        } else {
          res.write(JSON.stringify({
            code: 400,
            message: '密码错误'
          }))
        }
      } else {
        res.write(JSON.stringify({
          code: 400,
          data: body,
          message: '用户不存在'
        }))
      }
      res.end()
    })
  } else if (pathname === '/api/nav') {  //导航
    res.writeHead(200, { 'Content-Type': 'application/json' })
    res.end(JSON.stringify({
      code: 200,
      data: bookNavData,
      message: '导航'
    }))
  } else if (pathname === '/api/list') {  //列表
    let { id } = url.parse(req.url, true).query
    let list = bookMallData.find(item =&gt; item.id == id).list
    list.forEach(item =&gt; {
      if (bookList.findIndex(book =&gt; book.id === item.id) &gt;= 0) {
        item.is_in_my_book = true
      } else {
        item.is_in_my_book = false
      }
    })
    res.writeHead(200, { 'Content-Type': 'application/json' })
    res.end(JSON.stringify({
      code: 200,
      data: list,
      message: '列表'
    }))
  } else if (pathname === '/api/get_book_list') { //书包
    res.writeHead(200, { 'Content-Type': 'application/json' })
    res.end(JSON.stringify({
      code: 200,
      data: bookList,
      message: '书包'
    }))
  } else if (pathname === '/api/add') {  //添加到书包
    let body = ''
    req.on('data', (chunk) =&gt; {
      body += chunk
    })

    req.on('end', () =&gt; {
      body = JSON.parse(body)
      let { item } = body
      bookList.push(item)
      res.writeHead(200, { 'Content-Type': 'application/json' })
      res.end(JSON.stringify({
        code: 200,
        data: bookList,
        message: '添加成功'
      }))
    })
  } else if (pathname === '/api/detail') {   //详情
    let { id } = url.parse(req.url, true).query
    let detail
    bookMallData.forEach(listItem =&gt; {
      listItem.list.forEach(book =&gt; {
        if (book.id == id) {
          detail = book
        }
      })
    })

    if (bookList.find(book =&gt; book.id === detail.id)) {
      detail.is_in_my_book = true
    } else {
      detail.is_in_my_book = false
    }
    res.writeHead(200, { 'Content-Type': 'application/json' })
    res.end(JSON.stringify({
      code: 200,
      data: detail,
      message: '详情'
    }))
  } else if (pathname === '/api/delete') {  //删除
    let body = ''
    req.on('data', (chunk) =&gt; {
      body +=chunk
      console.log('chunk:', chunk)
    })
    req.on('end', () =&gt; {
      body = JSON.parse(body)
      let { ids } = body
      bookList = bookList.filter(item =&gt; !ids.find(id =&gt; id === item.id))
      res.writeHead(200, { 'Content-Type': 'application/json' })
      res.end(JSON.stringify({
        code: 200,
        data: bookList,
        message: '删除成功'
      }))
    })
  } else if (pathname === '/api/update') {
    let body = ''
    req.on('data', (chunk) =&gt; {
      body += chunk
    })
    req.on('end', () =&gt; {
      body = JSON.parse(body)
      let { bookListNew } = body
      bookList = bookListNew
      res.writeHead(200, { 'Content-Type': 'application/json' })
      res.end(JSON.stringify({
        code: 200,
        data: bookList,
        message: '更新成功'
      }))
    })
  } else {   //404
    res.writeHead(404, { 'Content-Type': 'text/html' })
    res.end('404')
  }
})

server.listen(9999, () =&gt; {
  console.log(9999)
})

</code></pre>

<h3 id="%E5%85%AB%E3%80%81node%E5%8E%9F%E7%94%9F%E5%86%99%E6%8E%A5%E5%8F%A3%EF%BC%8C%E6%90%AD%E5%BB%BA%E9%9D%99%E6%80%81web%E6%9C%8D%E5%8A%A1%E5%99%A8%EF%BC%8C%E5%A4%84%E7%90%86%E5%89%8D%E7%AB%AFhistory%E8%B7%AF%E7%94%B1">八、node原生写接口，搭建静态web服务器，处理前端history路由</h3>

<p>参考链接：</p>

<p><a href="https://www.npmjs.com/package/connect" rel="nofollow">https://www.npmjs.com/package/connect</a></p>

<p><a href="https://www.npmjs.com/package/connect-history-api-fallback" rel="nofollow">https://www.npmjs.com/package/connect-history-api-fallback</a></p>

<p>项目上线啦：</p>

<p><a href="http://39.97.238.175/index/home" rel="nofollow">http://39.97.238.175/index/home</a></p>

<pre class="has"><code class="language-javascript">const http = require('http')
const url = require('url')
const path = require('path')
const fs = require('fs')
const connect = require('connect')
const history = require('connect-history-api-fallback')
const { bookNavData, bookMallData, userList } = require('./data')

let bookList = []

//使原生http模块可以使用中间件功能
const app = connect()

//处理react前端路由(BrowserRoute)，vue前端路由(mode:history)
app.use(history())

//跨域，静态web服务器
app.use((req, res, next) =&gt; {
  //跨域
  res.setHeader('Access-Control-Allow-Origin', '*')  //可以把 * 改成 http://localhost:3000 避免xss攻击
  //res.setHeader('Access-Control-Allow-Methods', 'GET,PUT,POST,PATCH,DELETE,HEAD,OPTIONS')   //放行的方法
  res.setHeader('Access-Control-Allow-Headers', 'content-type')  //放行的请求头
  res.setHeader('Access-Control-Max-Age', 1800)  //隔30分钟才发起预检请求，1800秒

  let { pathname } = url.parse(req.url, true)
  let extName = path.extname(pathname)
  console.log(pathname, extName)
  if (pathname === '/') {
    pathname = '/index.html'
  }
  if  (pathname.indexOf('/api') &gt;= 0) {
    next()
  } else {
    fs.readFile(`./public/${pathname}`, (err, data) =&gt; {
      if (err) {
        res.writeHead(404, {'Content-Type': 'text/html' })
        res.end('404')
      } else {
        if (extName === '.css') {
          res.writeHead(200, {'Content-Type': 'text/css'})
        }
        res.end(data)
      }
    })
  }
})

//接口
app.use((req, res) =&gt; {
  let { pathname } = url.parse(req.url, true)

  if (req.method == 'OPTIONS') { //跨域，处理options请求
    res.writeHead(204) //204 无内容
    res.end()
  } else if (req.method === 'POST' &amp;&amp; pathname === '/api/login') { //登录
    let body = ''

    // 通过req的data事件监听函数，每当接受到请求体的数据，就累加到body变量中
    req.on('data', (chunk) =&gt; {
      body += chunk
    })

    // 在end事件触发后，通过JSON.parse将body解析为真正的POST请求格式
    req.on('end', () =&gt;{
      body = JSON.parse(body)
      let { username, password } = body
      let user = userList.find(item =&gt; item.username === username)
      res.writeHead(200, { 'Content-Type': 'application/json' })
      if (user) {
        if (user.password === password) {
          res.write(JSON.stringify({
            code: 200,
            data: {
              username
            },
            message: '登录成功'
          }))
        } else {
          res.write(JSON.stringify({
            code: 400,
            message: '密码错误'
          }))
        }
      } else {
        res.write(JSON.stringify({
          code: 400,
          data: body,
          message: '用户不存在'
        }))
      }
      res.end()
    })
  } else if (pathname === '/api/nav') {  //导航
    res.writeHead(200, { 'Content-Type': 'application/json' })
    res.end(JSON.stringify({
      code: 200,
      data: bookNavData,
      message: '导航'
    }))
  } else if (pathname === '/api/list') {  //列表
    let { id } = url.parse(req.url, true).query
    let list = bookMallData.find(item =&gt; item.id == id).list
    list.forEach(item =&gt; {
      if (bookList.findIndex(book =&gt; book.id === item.id) &gt;= 0) {
        item.is_in_my_book = true
      } else {
        item.is_in_my_book = false
      }
    })
    res.writeHead(200, { 'Content-Type': 'application/json' })
    res.end(JSON.stringify({
      code: 200,
      data: list,
      message: '列表'
    }))
  } else if (pathname === '/api/get_book_list') { //书包
    res.writeHead(200, { 'Content-Type': 'application/json' })
    res.end(JSON.stringify({
      code: 200,
      data: bookList,
      message: '书包'
    }))
  } else if (pathname === '/api/add') {  //添加到书包
    let body = ''
    req.on('data', (chunk) =&gt; {
      body += chunk
    })

    req.on('end', () =&gt; {
      body = JSON.parse(body)
      let { item } = body
      bookList.push(item)
      res.writeHead(200, { 'Content-Type': 'application/json' })
      res.end(JSON.stringify({
        code: 200,
        data: bookList,
        message: '添加成功'
      }))
    })
  } else if (pathname === '/api/detail') {  //详情
    let { id } = url.parse(req.url, true).query
    let detail
    bookMallData.forEach(listItem =&gt; {
      listItem.list.forEach(book =&gt; {
        if (book.id == id) {
          detail = book
        }
      })
    })

    if (bookList.find(book =&gt; book.id === detail.id)) {
      detail.is_in_my_book = true
    } else {
      detail.is_in_my_book = false
    }
    res.writeHead(200, { 'Content-Type': 'application/json' })
    res.end(JSON.stringify({
      code: 200,
      data: detail,
      message: '详情'
    }))
  } else if (pathname === '/api/delete') {  //删除
    let body = ''
    req.on('data', (chunk) =&gt; {
      body +=chunk
      console.log('chunk:', chunk)
    })
    req.on('end', () =&gt; {
      body = JSON.parse(body)
      let { ids } = body
      bookList = bookList.filter(item =&gt; !ids.find(id =&gt; id === item.id))
      res.writeHead(200, { 'Content-Type': 'application/json' })
      res.end(JSON.stringify({
        code: 200,
        data: bookList,
        message: '删除成功'
      }))
    })
  } else if (pathname === '/api/update') {  //更新
    let body = ''
    req.on('data', (chunk) =&gt; {
      body += chunk
    })
    req.on('end', () =&gt; {
      body = JSON.parse(body)
      let { bookListNew } = body
      bookList = bookListNew
      res.writeHead(200, { 'Content-Type': 'application/json' })
      res.end(JSON.stringify({
        code: 200,
        data: bookList,
        message: '更新成功'
      }))
    })
  } else {   //404
    res.writeHead(404, { 'Content-Type': 'text/html' })
    res.end('404')
  }
})

const server = http.createServer(app)

server.listen(9998)
console.log(9998)</code></pre>

<h3 id="%E4%B9%9D%E3%80%81%E5%AE%89%E8%A3%85FileZilla%E6%9C%8D%E5%8A%A1%E7%AB%AF">九、安装FileZilla服务端</h3>

<p>下载filezilla客户端和服务端：</p>

<p><a href="https://filezilla-project.org/" rel="nofollow">https://filezilla-project.org/</a></p>

<p>安装server端：</p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191028204404187.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>&nbsp;</p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191028204417974.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191028204426646.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191028204439608.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191028204452449.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191028204504805.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191028204525318.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191028204537736.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191028204548502.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191028204607202.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191028204619964.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191028204632221.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191028204655655.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<h3 id="%E5%8D%81%E3%80%81%E5%AE%89%E8%A3%85FileZilla%E5%AE%A2%E6%88%B7%E7%AB%AF">十、安装FileZilla客户端</h3>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/2019102820491565.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191028204925821.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191028204935701.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191028204945782.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191028204955252.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191028205006691.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/2019102820501613.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191028205027535.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191028205038193.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191028205048412.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191028205100511.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<h3 id="%E5%8D%81%E4%B8%80%E3%80%81%E9%98%BF%E9%87%8C%E4%BA%91%E9%85%8D%E7%BD%AE%E6%94%AF%E6%8C%81FTP">十一、阿里云配置支持FTP</h3>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191028205202968.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191028205213363.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/2019102820533267.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/2019102820534367.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/2019102820535357.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<h3 id="%E5%8D%81%E4%BA%8C%E3%80%81colors">十二、colors</h3>

<p>装包：</p>

<pre class="has"><code class="language-javascript">yarn add colors</code></pre>

<p>node代码：</p>

<pre class="has"><code class="language-javascript">const color = require('colors')

console.log('hello world!'.green)
console.log('hello world!'.underline.red)
console.log('hello world!'.inverse)
console.log('hello world!'.rainbow)</code></pre>

<p>效果：</p>

<p><img alt="" class="has" height="116" src="https://img-blog.csdnimg.cn/20191029121310349.png" width="561"></p>

<h3 id="%E5%8D%81%E4%B8%89%E3%80%81express%E8%84%9A%E6%89%8B%E6%9E%B6">十三、express脚手架</h3>

<p>装包：</p>

<pre class="has"><code class="language-javascript">yarn global add express-generator</code></pre>

<p>运行：</p>

<pre class="has"><code class="language-javascript">express --view=pug m-express-demo

cd m-express-demo

yarn

yarn start</code></pre>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191029131227191.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<h3 id="%E5%8D%81%E4%B8%89%E3%80%81npm%20view%E6%8C%87%E4%BB%A4">十三、npm view指令</h3>

<p>显示npm包的相关信息：</p>

<pre class="has"><code class="language-javascript">npm view axios

npm show axios

npm info axios

npm v axios</code></pre>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191030082607501.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>查询npm包的所有版本号：</p>

<pre class="has"><code class="language-javascript">npm view axios versions</code></pre>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191030083556705.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>查询npm包的所有版本号和所有依赖：</p>

<pre class="has"><code class="language-javascript">npm view axios versions dependencies</code></pre>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191030083906740.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<h3 id="%E5%8D%81%E5%9B%9B%E3%80%81String">十四、String</h3>

<pre class="has"><code class="language-javascript">    let a = 'hello'
    let b = 'hello'
    let c = new String('hello')

    console.log(a === b)  //true
    console.log(a === c)  //false
    console.log(typeof a) //string
    console.log(typeof c) //object
    console.log(a instanceof String) //false
    console.log(c instanceof String) //true</code></pre>

<h3 id="%E5%8D%81%E4%BA%94%E3%80%81node%E6%98%AF%E5%8D%95%E7%BA%BF%E7%A8%8B">十五、node是单线程</h3>

<pre class="has"><code class="language-javascript">    let start = Date.now()
    console.log(start)
    setTimeout(() =&gt; {
      console.log(Date.now() - start)  //1000左右
      for (let i = 0; i &lt; 5000000000; i++) {
        
      }
    }, 1000)
    setTimeout(() =&gt; {
      console.log(Date.now() - start)  //大于2000，具体大多少，取决于上面for循序的次数
    }, 2000)</code></pre>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191030103758400.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>&nbsp;</p>

<h3 id="%E5%8D%81%E5%85%AD%E3%80%81%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86">十六、错误处理</h3>

<p><strong>错误堆栈：</strong></p>

<p>test.js:</p>

<pre class="has"><code class="language-javascript">const a = () =&gt; {
  console.log(obj.name)
}

const b = () =&gt; {
  a()
}

b()</code></pre>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191030144802205.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><strong>在异步函数中，堆栈信息将丢失：</strong></p>

<pre class="has"><code class="language-javascript">const a = () =&gt; {
  setTimeout(() =&gt; {
    console.log(obj.name)
  }, 10)
}

const b = () =&gt; {
  a()
}

b()</code></pre>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191030145053700.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><strong>uncaughtException捕获异常（丢失了错误发生位置的上下文）：</strong></p>

<pre class="has"><code class="language-javascript">process.on('uncaughtException', (error) =&gt; {
  console.error("xu:", error)
})

const a = () =&gt; {
  console.log(obj.name)
}

const b = () =&gt; {
  a()
}

b()</code></pre>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191030145339243.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p id="domain%E6%A8%A1%E5%9D%97%EF%BC%9A"><strong>domain模块：</strong></p>

<p>当res是上下文时，可以把错误信息返回给前端！</p>

<p>参考链接：<a href="https://www.runoob.com/nodejs/nodejs-domain-module.html" rel="nofollow">https://www.runoob.com/nodejs/nodejs-domain-module.html</a></p>

<pre class="has"><code class="language-javascript">const domain = require('domain')

const d = domain.create()

let name = 'tom'


d.on('error', (error) =&gt; {
  console.log('上下文环境：', name)
  console.log('domain捕获到的异常信息：', error.stack)
})

d.run(() =&gt; {
  console.log(obj.name)
})
</code></pre>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191030152736624.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<h3 id="%E5%8D%81%E4%B8%83%E3%80%81process.nextTick(callback)">十七、<strong>process.nextTick(callback) </strong></h3>

<p>在事件循环的下一次循环中调用 callback 回调函数。</p>

<pre class="has"><code class="language-javascript">console.log(1)

process.nextTick(() =&gt; {
  console.log(2)
})

console.log(3)
</code></pre>

<p><img alt="" class="has" height="92" src="https://img-blog.csdnimg.cn/20191030161142144.png" width="513"></p>

<h3 id="%E5%8D%81%E5%85%AB%E3%80%81%E6%A0%B9%E6%8D%AE%E4%B8%8B%E6%A0%87%E6%89%93%E5%8D%B0%E5%8A%A8%E7%89%A9">十八、根据下标打印动物</h3>

<pre class="has"><code class="language-javascript">const program = require('commander')
const fs = require('fs')
const packageInfo = require('./package.json')

program.version(packageInfo.version)
  .option('-i, --index &lt;type&gt;', "下标")

program.parse(process.argv)

console.log(program.index)

fs.readFile('./animals.txt', 'utf-8', (err, data) =&gt; {
  if (err) {
    return
  }
  let animalsArr = data.split('===============++++SEPERATOR++++====================')
  console.log(animalsArr[program.index])
})</code></pre>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/2019110417334983.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>动物数据：</p>

<p>链接：<a href="https://pan.baidu.com/s/1C3LKzQtdVifCAap7Nr9gAQ" rel="nofollow">https://pan.baidu.com/s/1C3LKzQtdVifCAap7Nr9gAQ</a><br>
提取码：g1sv</p>

<h3 id="%E5%8D%81%E4%B9%9D%E3%80%81node%E9%80%9A%E8%BF%87%E7%BD%91%E9%A1%B5%E8%AF%BB%E5%8F%96%E6%96%87%E4%BB%B6%E7%9B%AE%E5%BD%95">十九、node通过网页读取文件目录</h3>

<pre class="has"><code class="language-javascript">const program = require('commander')
const fs = require('fs')
const http = require('http')
const { exec } = require('child_process')
const path = require('path')
const packageInfo = require('./package.json')

program.version(packageInfo.version)
  .option('-p, --port &lt;port&gt;', "set port")

program.parse(process.argv)

let PORT = program.port || 8000

const app = http.createServer((req, res) =&gt; {
  let rootPath = process.cwd()
  if (req.url === '/favicon.ico') {
    res.end()
    return
  }
  let myPath = path.join(rootPath, req.url)
  console.log('a', myPath)
  if (fs.statSync(myPath).isFile()) {
    fs.readFile(myPath, 'utf8', (err, data) =&gt; {
      res.end(data)
    })
  } else {
    let list = fs.readdirSync(myPath).map(filePath =&gt; {
      return `&lt;div&gt;
      &lt;a href="${path.join(req.url, filePath)}"&gt;${filePath}&lt;/a&gt;
      &lt;/div&gt;`
    }).join('')
    let html = fs.readFileSync(__dirname + '/public/index.html', 'utf8')
    html = html.replace("{{list}}", list)
    res.end(html)
  }
})

app.listen(PORT, () =&gt; {
  //exec(`start http://localhost:${PORT}`)
})
</code></pre>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191106135631715.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191106135639929.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<h3 id="20%E3%80%81%E9%87%8D%E5%91%BD%E5%90%8D%E6%96%87%E4%BB%B6%E6%88%96%E6%96%87%E4%BB%B6%E5%A4%B9">20、重命名文件或文件夹</h3>

<pre class="has"><code class="language-javascript">const fs = require('fs')
const path = require('path')

let target = process.argv[2]
let rename = process.argv[3]
let rootPath = process.cwd()

target = path.join(rootPath, target)
if (fs.existsSync(target)) {
  fs.renameSync(target, path.join(rootPath, rename))
} else {
  console.log('文件或文件夹不存在')
}</code></pre>

<h3 id="21%E3%80%81js%E5%8C%BA%E5%88%86%E5%AF%B9%E8%B1%A1%E5%87%BD%E6%95%B0%E5%92%8C%E6%95%B0%E7%BB%84">21、js区分对象函数和数组</h3>

<pre class="has"><code class="language-javascript">const fs = require('fs')
const path = require('path')

let obj = {}

console.log(obj instanceof Object)  //true
console.log(typeof obj)  //object
console.log(Object.prototype.toString.call(obj))  //[object Object]

let fun = () =&gt; {}

console.log(fun instanceof Function)  //true
console.log(fun instanceof Object)  //true
console.log(typeof fun)   //function
console.log(Object.prototype.toString.call(fun))  //[object Function]

let arr = []

console.log(arr instanceof Array)  //true
console.log(arr instanceof Object)  //true
console.log(typeof arr)   //object

console.log(Object.prototype.toString.call(arr))  //[object Array]</code></pre>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191107134941861.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<h3 id="22%E3%80%81%E4%BA%8B%E4%BB%B6%E8%A7%A6%E5%8F%91%E5%99%A8">22、事件触发器</h3>

<pre class="has"><code class="language-javascript">const EventEmitter = require('events')
class MyEmitter extends EventEmitter {}
const myEmitter = new MyEmitter()

myEmitter.on('myEventName', (a, b) =&gt; {
  console.log(a, b)
})

myEmitter.emit('myEventName', 1, 2)
myEmitter.emit('myEventName', 1, 2)

myEmitter.once('myOnce', () =&gt; {
  console.log('只触发一次')
})

myEmitter.emit('myOnce')
myEmitter.emit('myOnce')

myEmitter.on('error', (err) =&gt; {
  console.error(err)
})

myEmitter.emit('error', new Error('错误'))</code></pre>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191107140821304.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<h3 id="23%E3%80%81%E6%89%8B%E5%8A%A8%E5%B0%81%E8%A3%85%E4%BA%8B%E4%BB%B6">23、手动封装事件</h3>

<pre class="has"><code class="language-javascript">class MyEmitter {
  constructor() {
    this.events = {}
  }
  on(eventName, callback) {
    if (this.events[eventName]) {
      this.events[eventName].push(callback)
    } else {
      this.events[eventName] = [callback]
    }
  }

  emit(eventName, ...arg) {
    let callbackArr = this.events[eventName]
    callbackArr &amp;&amp; callbackArr.forEach(item =&gt; {
      if (Object.prototype.toString.call(item) === '[object Function]') {
        item(...arg)
      } else if (Object.prototype.toString.call(item) === '[object Object]') {
        if (item.once) {
          item.callback(...arg)
          item.callback = () =&gt; {}
        }
      }
    })
  }

  once(eventName, callback) {
    if (this.events[eventName]) {
      this.events[eventName].push({
        once: true,
        callback
      })
    } else {
      this.events[eventName] = [{
        once: true,
        callback
      }]
    }
  }
}
const myEmitter = new MyEmitter()

module.exports = myEmitter</code></pre>

<h3 id="24%E3%80%81%E7%88%B6%E5%AD%90%E8%BF%9B%E7%A8%8B%E9%80%9A%E4%BF%A1">24、父子进程通信</h3>

<p>app.js:</p>

<pre class="has"><code class="language-javascript">const child_process = require('child_process')

const child = child_process.fork('./compute.js')

child.send({ type: 'start' })
child.on('message', (action) =&gt; {
  if (action.type === 'sum') {
    console.log('子进程计算出来的结果:', action.sum)
    process.exit()
    
  }
})

process.on('exit', () =&gt; {
  console.log('主进程结束')
})

console.log('运行到这里')</code></pre>

<p>compute.js:</p>

<pre class="has"><code class="language-javascript">
const computeSum = () =&gt; {
  let sum = 0
  for (let i = 0; i &lt; 1000000; i++) {
    sum += i
  }
  return sum
}

process.on('message', (action) =&gt; {
  if (action.type === 'start') {
    let sum = computeSum()
    process.send({
      type: 'sum',
      sum
    })
  }
})</code></pre>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191108175315719.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<h3>25、docker</h3>

<p>docker：码头工人</p>

<p>doctor：医生</p>

<p>docker toolbox下载链接：<a href="https://github.com/docker/toolbox/releases" rel="nofollow">https://github.com/docker/toolbox/releases</a></p>

<p>docker toolbox 国内下载地址：<a href="http://mirrors.aliyun.com/docker-toolbox/windows/docker-toolbox/" rel="nofollow">http://mirrors.aliyun.com/docker-toolbox/windows/docker-toolbox/</a></p>

<p>docker官网：<a href="https://www.docker.com/" rel="nofollow">https://www.docker.com/</a></p>

<p>docker hub官网：<a href="https://hub.docker.com/" rel="nofollow">https://hub.docker.com/</a></p>

<p>docker菜鸟教程：<a href="https://www.runoob.com/docker/docker-tutorial.html" rel="nofollow">https://www.runoob.com/docker/docker-tutorial.html</a></p>

<p>安装：</p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191116110145124.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191116110212851.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191116110220718.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191116110231571.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191116110240744.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191116110250178.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191116110257986.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191116110310416.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191116110320848.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191116110549891.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>下载最新版的 boot2docker.iso 放在本地缓存文件夹里，否则启动时会联网下载最新版的，切很难下载下来，会报错</p>

<p>可以去百度云盘下载：</p>

<p>链接：<a href="https://pan.baidu.com/s/1Y9bLSSvyNdyK_dYvVzKW8w" rel="nofollow">https://pan.baidu.com/s/1Y9bLSSvyNdyK_dYvVzKW8w</a><br>
提取码：esp0<br><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191116110559484.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><strong>hello world: </strong></p>

<pre class="has"><code class="language-javascript">docker run ubuntu:15.10 /bin/echo "hello world"</code></pre>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191116111315488.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>&nbsp;</p>

<p><strong>运行交互式的容器:</strong></p>

<pre class="has"><code class="language-javascript">docker run -i -t ubuntu:15.10 /bin/bash</code></pre>

<p><img alt="" class="has" height="146" src="https://img-blog.csdnimg.cn/20191116112402209.png" width="1070"></p>

<p>ctrl + D 或者 exit 退出</p>

<p>&nbsp;</p>

<pre class="has"><code class="language-javascript">docker run -d ubuntu:15.10 /bin/sh -c "while true; do echo hello; sleep 5;done"

docker ps

docker logs determined_meitner</code></pre>

<p><img alt="" class="has" height="97" src="https://img-blog.csdnimg.cn/20191116120219463.png" width="829"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191116120123722.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>进入容器：</p>

<pre class="has"><code class="language-javascript">docker attach determined_meitner</code></pre>

<h3>26、koa-compose</h3>

<p><a href="https://github.com/koajs/compose" rel="nofollow">https://github.com/koajs/compose</a></p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>
                                    ]]></description></item><item><title>使用react hook做一个小型完整项目（包括二级路由，动态路由，redux，tab切换，列表跳详情，登录， 守卫）</title><link>http://www.cnblogs.com/xutongbao/archive/2019/10/16/11915670.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 16 Oct 2019 01:05:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2019/10/16/11915670.html</guid><description><![CDATA[
                                            <p><em>Hook</em>&nbsp;是 React 16.8 的新增特性。它可以让你在不编写 class 的情况下使用 state 以及其他的 React 特性。&nbsp;</p>

<p><img alt="" class="has" height="785" src="https://img-blog.csdnimg.cn/20191016090222675.gif" width="509"></p>

<p>项目源码：</p>

<p><a href="https://github.com/baweireact/m-app-1705E/tree/master/16%E4%B9%A6%E6%9E%B6%EF%BC%88hook%E7%89%88%EF%BC%89" rel="nofollow">https://github.com/baweireact/m-app-1705E/tree/master/16%E4%B9%A6%E6%9E%B6%EF%BC%88hook%E7%89%88%EF%BC%89</a></p>

<p>&nbsp;</p>

<p>参考链接:</p>

<p><a href="https://cloud.tencent.com/developer/article/1468196" rel="nofollow">https://cloud.tencent.com/developer/article/1468196</a></p>

<p><a href="https://react.docschina.org/docs/hooks-intro.html" rel="nofollow">https://react.docschina.org/docs/hooks-intro.html</a></p>

<p>&nbsp;</p>

<p>重要代码：</p>

<p>Nav.js:</p>

<pre class="has"><code class="language-javascript">import React, { useEffect } from 'react'
import { connect } from 'react-redux'
import axios from 'axios'

const Nav = (props) =&gt; {

  const handleNav = (index, id) =&gt; {
    props.onSetState('currentIndex', index)
    props.onSetState('currentId', id)
    axios({
      url: `/api/get_list?id=${id}`
    }).then(res =&gt; {
      if (res.data.code === 200) {
        props.onSetState('contentList', res.data.data)
      }
    })
  }

  useEffect(() =&gt; {
    axios({
      url: '/api/get_nav'
    }).then(res =&gt; {
      if (res.data.code === 200) {
        props.onSetState('navList', res.data.data)
      }
    })

    axios({
      url: `/api/get_list?id=0`
    }).then(res =&gt; {
      if (res.data.code === 200) {
        props.onSetState('contentList', res.data.data)
      }
    })
  }, [])

  let { navList, currentIndex } = props
  let navListDom = navList.map((item, index) =&gt; (
    &lt;span 
      key={item.id} 
      className={"m-nav-item " + (currentIndex === index ? 'active' : '')} 
      onClick={handleNav.bind(this, index, item.id)}&gt;
      {item.title}
    &lt;/span&gt;
  ))

  return (
    &lt;div&gt;
      {navListDom}
    &lt;/div&gt;
  )
}

const mapStateToProps = (state) =&gt; {
  return {
    navList: state.navList,
    currentIndex: state.currentIndex
  }
}

const mapDispatchToProps = (dispatch) =&gt; {
  return {
    onSetState(key, value) {
      dispatch({ type: 'SET_STATE', key, value })
    }
  }
}

export default connect(mapStateToProps, mapDispatchToProps)(Nav)</code></pre>

<p>BookList.js:</p>

<pre class="has"><code class="language-javascript">import React from 'react'
import { connect } from 'react-redux'
import { withRouter } from 'react-router-dom'
import axios from 'axios'

const BookList = (props) =&gt; {

  const handleDetail = (id) =&gt; {
    props.history.push('/index/home/detail/' + id)
  }

  const handleAdd = (item) =&gt; {
    if (!localStorage.getItem('username')) {
      props.history.push('/login')
    }
    axios({
      url: '/api/add_book',
      data: {
        item
      },
      method: 'post'
    }).then(res =&gt; {
      if (res.data.code === 200) {
        let { currentId } = props
        axios({
          url: `/api/get_list?id=${currentId}`
        }).then(res =&gt; {
          if (res.data.code === 200) {
            props.onSetState('contentList', res.data.data)
          }
        })
      }
    })
  }

  let { contentList } = props

  let listDom = contentList.map(item =&gt; (
    &lt;div key={item.id}&gt;
      {item.title}&lt;button onClick={handleDetail.bind(this, item.id)}&gt;详情&lt;/button&gt;
      &lt;button onClick={handleAdd.bind(this, item)} className={'m-add-btn ' + (item.is_in_my_book ? "" : 'active')}&gt;收藏&lt;/button&gt;
    &lt;/div&gt;
  ))

  return (
    &lt;div&gt;
      {listDom}
    &lt;/div&gt;
  )
}

const mapStateToProps = (state) =&gt; {
  return {
    contentList: state.contentList,
    currentId: state.currentId
  }
}

const mapDispatchToProps = (dispatch) =&gt; {
  return {
    onSetState(key, value) {
      dispatch({ type: 'SET_STATE', key, value })
    }
  }
}

export default connect(mapStateToProps, mapDispatchToProps)(withRouter(BookList))
</code></pre>

<p>MyBook.js:</p>

<pre class="has"><code class="language-javascript">import React, { useState, useEffect } from 'react'
import { connect } from 'react-redux'
import axios from 'axios'

const MyBook = (props) =&gt; {
  const [selected, setSelected] = useState([])
  const [selectAll, setSelectAll] = useState(false)


  const handleSelected = (id, e) =&gt; {
    let { myBook } = props
    let selectedClone = JSON.parse(JSON.stringify(selected))
    let index = selectedClone.findIndex(item =&gt; item === id)
    if (e.target.checked) {
      selectedClone.push(id)
    } else {
      selectedClone.splice(index, 1)
    }
    setSelected(selectedClone)
    setSelectAll(selectedClone.length === myBook.length)
  }

  const handleDelete = (ids) =&gt; {
    axios({
      url: '/api/delete_book',
      data: {
        ids
      },
      method: 'post'
    }).then(res =&gt; {
      if (res.data.code === 200) {
        props.onSetState('myBook', res.data.data)
      }
    })
  }

  const handleDeleteMore = () =&gt; {
    axios({
      url: '/api/delete_book',
      data: {
        ids: selected
      },
      method: 'post'
    }).then(res =&gt; {
      if (res.data.code === 200) {
        props.onSetState('myBook', res.data.data)
      }
    })
  }

  const handleSelectAll = (e) =&gt; {
    let { myBook } = props
    setSelectAll(e.target.checked)
    if (e.target.checked) {
      let selected = myBook.map(item =&gt; item.id)
      setSelected(selected)
    } else {
      setSelected([])
    }
  }

  useEffect(() =&gt; {
    axios({
      url: '/api/get_my_book'
    }).then(res =&gt; {
      if (res.data.code === 200) {
        props.onSetState('myBook', res.data.data)
      }
    })
  }, [])

  useEffect(() =&gt; {
    console.log(selected)
  })


  let { myBook } = props

  let myBookDom = myBook.map(item =&gt; (
    &lt;div key={item.id}&gt;
      &lt;input type="checkbox" checked={selected.findIndex(id =&gt; id === item.id) &gt;= 0 ? true : false} onChange={handleSelected.bind(this, item.id)} /&gt;
      {item.title}
      &lt;button onClick={handleDelete.bind(this, [item.id])}&gt;删除&lt;/button&gt;
    &lt;/div&gt;
  ))

  return (
    &lt;div&gt;
      &lt;input type="checkbox" checked={selectAll} onChange={handleSelectAll.bind(this)}&gt;&lt;/input&gt;全选
        &lt;button onClick={handleDeleteMore.bind(this)}&gt;删除&lt;/button&gt;
      {myBookDom}
    &lt;/div&gt;
  )
}

const mapStateToProps = (state) =&gt; {
  return {
    myBook: state.myBook
  }
}

const mapDispatchToProps = (dispatch) =&gt; {
  return {
    onSetState(key, value) {
      dispatch({ type: 'SET_STATE', key, value })
    }
  }
}

export default connect(mapStateToProps, mapDispatchToProps)(MyBook)
</code></pre>

<p>&nbsp;</p>

<p><span style="color:#f33b45;"><strong>hook是2019年2月6号新增加的：</strong></span></p>

<p>&nbsp;</p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191018172542897.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>&nbsp;</p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191018172552832.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>
                                    ]]></description></item><item><title>chrome 突然出现 ERR_PROXY_CONNECTION_FAILED</title><link>http://www.cnblogs.com/xutongbao/archive/2019/10/11/11915671.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Fri, 11 Oct 2019 09:38:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2019/10/11/11915671.html</guid><description><![CDATA[
                                            <p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191011173702982.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>&nbsp;<img alt="" class="has" src="https://img-blog.csdnimg.cn/2019101117371840.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>
                                    ]]></description></item><item><title>项目实战【vue，react，微信小程序】（1705E）</title><link>http://www.cnblogs.com/xutongbao/archive/2019/09/26/11915672.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 26 Sep 2019 03:21:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2019/09/26/11915672.html</guid><description><![CDATA[
                                            <p id="main-toc"><strong>目录</strong></p>

<p id="-toc" style="margin-left:40px;">&nbsp;</p>

<p style="margin-left:40px;">&nbsp;</p>

<p style="margin-left:40px;">&nbsp;</p>

<p style="margin-left:40px;">&nbsp;</p>

<p id="%E4%B8%80%E3%80%81git-toc" style="margin-left:40px;"><a href="#%E4%B8%80%E3%80%81git" rel="nofollow">一、git</a></p>

<p id="1%E3%80%81git%E7%AE%80%E4%BB%8B-toc" style="margin-left:80px;"><a href="#1%E3%80%81git%E7%AE%80%E4%BB%8B" rel="nofollow">1、git简介</a></p>

<p id="2%E3%80%81github%E7%AE%80%E4%BB%8B-toc" style="margin-left:80px;"><a href="#2%E3%80%81github%E7%AE%80%E4%BB%8B" rel="nofollow">2、github简介</a></p>

<p id="3%E3%80%81%E5%9C%A8github%E4%B8%8A%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE-toc" style="margin-left:80px;"><a href="#3%E3%80%81%E5%9C%A8github%E4%B8%8A%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE" rel="nofollow">3、在github上创建项目</a></p>

<p id="2%E3%80%81%E5%85%8B%E9%9A%86%E4%BB%A3%E7%A0%81-toc" style="margin-left:80px;"><a href="#2%E3%80%81%E5%85%8B%E9%9A%86%E4%BB%A3%E7%A0%81" rel="nofollow">4、克隆代码</a></p>

<p id="3%E3%80%81%E6%8F%90%E4%BA%A4%E4%BB%A3%E7%A0%81-toc" style="margin-left:80px;"><a href="#3%E3%80%81%E6%8F%90%E4%BA%A4%E4%BB%A3%E7%A0%81" rel="nofollow">5、提交代码</a></p>

<p id="4%E3%80%81git%E5%B7%A5%E4%BD%9C%E5%8C%BA-toc" style="margin-left:80px;"><a href="#4%E3%80%81git%E5%B7%A5%E4%BD%9C%E5%8C%BA" rel="nofollow">6、git工作区</a></p>

<p id="5%E3%80%81%E5%88%86%E6%94%AF-toc" style="margin-left:80px;"><a href="#5%E3%80%81%E5%88%86%E6%94%AF" rel="nofollow">7、分支</a></p>

<p id="6%E3%80%81%E5%AF%B9%E6%AF%94%E5%88%86%E6%94%AF-toc" style="margin-left:80px;"><a href="#6%E3%80%81%E5%AF%B9%E6%AF%94%E5%88%86%E6%94%AF" rel="nofollow">8、对比分支</a></p>

<p id="7%E3%80%81%E7%94%9F%E6%88%90ssh%20key-toc" style="margin-left:80px;"><a href="#7%E3%80%81%E7%94%9F%E6%88%90ssh%20key" rel="nofollow">9、生成ssh key</a></p>

<p id="10%E3%80%81%E5%AE%89%E8%A3%85git-toc" style="margin-left:80px;"><a href="#10%E3%80%81%E5%AE%89%E8%A3%85git" rel="nofollow">10、安装git</a></p>

<p id="11%E3%80%81%E5%AE%89%E8%A3%85%E5%B0%8F%E4%B9%8C%E9%BE%9F-toc" style="margin-left:80px;"><a href="#11%E3%80%81%E5%AE%89%E8%A3%85%E5%B0%8F%E4%B9%8C%E9%BE%9F" rel="nofollow">11、安装小乌龟</a></p>

<p id="12%E3%80%81%E5%BF%BD%E7%95%A5%E6%8F%90%E4%BA%A4.gitignore-toc" style="margin-left:80px;"><a href="#12%E3%80%81%E5%BF%BD%E7%95%A5%E6%8F%90%E4%BA%A4.gitignore" rel="nofollow">12、忽略提交.gitignore</a></p>

<p id="13%E3%80%81git%E9%85%8D%E7%BD%AE%E7%94%A8%E6%88%B7%E5%90%8D%E5%92%8C%E9%82%AE%E7%AE%B1-toc" style="margin-left:80px;"><a href="#13%E3%80%81git%E9%85%8D%E7%BD%AE%E7%94%A8%E6%88%B7%E5%90%8D%E5%92%8C%E9%82%AE%E7%AE%B1" rel="nofollow">13、git配置用户名和邮箱</a></p>

<p id="14%E3%80%81git%E5%85%8D%E5%AF%86-toc" style="margin-left:80px;"><a href="#14%E3%80%81git%E5%85%8D%E5%AF%86" rel="nofollow">14、git免密</a></p>

<p id="%E5%8F%82%E8%80%83%E9%93%BE%E6%8E%A5-toc" style="margin-left:80px;"><a href="#%E5%8F%82%E8%80%83%E9%93%BE%E6%8E%A5" rel="nofollow">参考链接</a></p>

<p id="%E4%BA%8C%E3%80%81MySql-toc" style="margin-left:40px;"><a href="#%E4%BA%8C%E3%80%81MySql" rel="nofollow">二、MySql</a></p>

<p id="1%E3%80%81%E5%AE%89%E8%A3%85mysql-toc" style="margin-left:80px;"><a href="#1%E3%80%81%E5%AE%89%E8%A3%85mysql" rel="nofollow">1、安装mysql</a></p>

<p id="2%E3%80%81%E5%AE%89%E8%A3%85Navicat-toc" style="margin-left:80px;"><a href="#2%E3%80%81%E5%AE%89%E8%A3%85Navicat" rel="nofollow">2、安装Navicat</a></p>

<p id="3%E3%80%81%E7%A0%B4%E8%A7%A3Navicat-toc" style="margin-left:80px;"><a href="#3%E3%80%81%E7%A0%B4%E8%A7%A3Navicat" rel="nofollow">3、破解Navicat</a></p>

<p id="%C2%A04%E3%80%81Navicat%E8%BF%9E%E6%8E%A5mysql%E6%8A%A5%E9%94%99%E7%9A%84%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95-toc" style="margin-left:80px;"><a href="#%C2%A04%E3%80%81Navicat%E8%BF%9E%E6%8E%A5mysql%E6%8A%A5%E9%94%99%E7%9A%84%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95" rel="nofollow">4、Navicat连接mysql报错的解决办法</a></p>

<p id="5%E3%80%81%E4%BD%BFmysql%E5%85%81%E8%AE%B8%E5%A4%96%E9%83%A8%E8%BF%9E%E6%8E%A5%E8%AE%BF%E9%97%AE-toc" style="margin-left:80px;"><a href="#5%E3%80%81%E4%BD%BFmysql%E5%85%81%E8%AE%B8%E5%A4%96%E9%83%A8%E8%BF%9E%E6%8E%A5%E8%AE%BF%E9%97%AE" rel="nofollow">5、使mysql允许外部连接访问</a></p>

<p id="6%E3%80%81Navicat%E5%BB%BA%E7%AB%8BMySql%E8%BF%9E%E6%8E%A5-toc" style="margin-left:80px;"><a href="#6%E3%80%81Navicat%E5%BB%BA%E7%AB%8BMySql%E8%BF%9E%E6%8E%A5" rel="nofollow">6、Navicat建立MySql连接</a></p>

<p id="7%E3%80%81%E9%80%9A%E8%BF%87sql%E8%AF%AD%E5%8F%A5%E5%BB%BA%E8%A1%A8-toc" style="margin-left:80px;"><a href="#7%E3%80%81%E9%80%9A%E8%BF%87sql%E8%AF%AD%E5%8F%A5%E5%BB%BA%E8%A1%A8" rel="nofollow">7、sql语句简介</a></p>

<p id="8%E3%80%81nodejs%E5%B0%81%E8%A3%85sql%E6%9F%A5%E8%AF%A2-toc" style="margin-left:80px;"><a href="#8%E3%80%81nodejs%E5%B0%81%E8%A3%85sql%E6%9F%A5%E8%AF%A2" rel="nofollow">8、nodejs封装sql查询</a></p>

<p id="9%E3%80%81%E4%B8%8D%E4%BD%BF%E7%94%A8vue.config.js%EF%BC%8C%E5%8D%95%E7%8B%AC%E4%BD%BF%E7%94%A8node-toc" style="margin-left:80px;"><a href="#9%E3%80%81%E4%B8%8D%E4%BD%BF%E7%94%A8vue.config.js%EF%BC%8C%E5%8D%95%E7%8B%AC%E4%BD%BF%E7%94%A8node" rel="nofollow">9、不使用vue.config.js，单独使用node</a></p>

<p id="10%E3%80%81%E5%B0%81%E8%A3%85api%E6%8E%A5%E5%8F%A3-toc" style="margin-left:80px;"><a href="#10%E3%80%81%E5%B0%81%E8%A3%85api%E6%8E%A5%E5%8F%A3" rel="nofollow">10、封装api接口</a></p>

<p id="11%E3%80%81axios%E6%8B%A6%E6%88%AA%E5%99%A8-toc" style="margin-left:80px;"><a href="#11%E3%80%81axios%E6%8B%A6%E6%88%AA%E5%99%A8" rel="nofollow">11、axios拦截器</a></p>

<p id="12%E3%80%81redis-toc" style="margin-left:80px;"><a href="#12%E3%80%81redis" rel="nofollow">12、redis</a></p>

<p id="13%E3%80%81jwt-simple-toc" style="margin-left:80px;"><a href="#13%E3%80%81jwt-simple" rel="nofollow">13、jwt-simple</a></p>

<p id="14%E3%80%81uuid-toc" style="margin-left:80px;"><a href="#14%E3%80%81uuid" rel="nofollow">14、uuid</a></p>

<p id="15%E3%80%81node%E6%93%8D%E7%BA%B5mysql%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9B%E8%A1%8C%E5%A2%9E%E5%88%A0%E6%9F%A5%E6%94%B9%E4%BB%A5%E5%8F%8A%E7%99%BB%E5%BD%95%E9%80%80%E5%87%BA-toc" style="margin-left:80px;"><a href="#15%E3%80%81node%E6%93%8D%E7%BA%B5mysql%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9B%E8%A1%8C%E5%A2%9E%E5%88%A0%E6%9F%A5%E6%94%B9%E4%BB%A5%E5%8F%8A%E7%99%BB%E5%BD%95%E9%80%80%E5%87%BA" rel="nofollow">15、node操纵mysql数据库进行增删查改以及登录退出</a></p>

<p id="%E4%B8%89%E3%80%81vue-toc" style="margin-left:40px;"><a href="#%E4%B8%89%E3%80%81vue" rel="nofollow">三、vue</a></p>

<p id="1%E3%80%81%E5%91%A8%E8%80%83%E4%B8%80-toc" style="margin-left:80px;"><a href="#1%E3%80%81%E5%91%A8%E8%80%83%E4%B8%80" rel="nofollow">1、周考一</a></p>

<p id="%E5%9B%9B%E3%80%81react-toc" style="margin-left:40px;"><a href="#%E5%9B%9B%E3%80%81react" rel="nofollow">四、react</a></p>

<p id="1%E3%80%81hook%E5%85%A5%E9%97%A8-toc" style="margin-left:80px;"><a href="#1%E3%80%81hook%E5%85%A5%E9%97%A8" rel="nofollow">1、hook入门</a></p>

<p id="%E5%9B%9B%E3%80%81%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F-toc" style="margin-left:40px;"><a href="#%E5%9B%9B%E3%80%81%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F" rel="nofollow">五、微信小程序</a></p>

<p id="1%E3%80%81%E4%B9%A6%E5%9F%8E-toc" style="margin-left:80px;"><a href="#1%E3%80%81%E4%B9%A6%E5%9F%8E" rel="nofollow">1、书城</a></p>

<p style="margin-left:40px;">&nbsp;</p>

<p id="github%E6%BA%90%E7%A0%81-toc" style="margin-left:40px;"><a href="#github%E6%BA%90%E7%A0%81" rel="nofollow">github源码</a></p>

<hr id="hr-toc"><p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<h2>&nbsp;</h2>

<h2>&nbsp;</h2>

<h2>&nbsp;</h2>

<h2>&nbsp;</h2>

<h2 id="%E4%B8%80%E3%80%81git">一、git</h2>

<h3 id="1%E3%80%81git%E7%AE%80%E4%BB%8B">1、git简介</h3>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190926151608109.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>Git 是一个开源的分布式版本控制系统，用于敏捷高效地处理任何或小或大的项目。</p>

<p>Git 是 Linus Torvalds 为了帮助管理 Linux 内核开发而开发的一个开放源码的版本控制软件。</p>

<p>Git 与常用的版本控制工具 CVS, Subversion 等不同，它采用了分布式版本库的方式，不必服务器端软件支持。</p>

<h3 id="2%E3%80%81github%E7%AE%80%E4%BB%8B">2、github简介</h3>

<p>章鱼猫：GitHub的吉祥物（Octocat）</p>

<p><img alt="" class="has" height="182" src="https://img-blog.csdnimg.cn/20190926152011788.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70" width="321"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190926151516943.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>GitHub是一个面向<a href="https://baike.baidu.com/item/%E5%BC%80%E6%BA%90/20720669" rel="nofollow">开源</a>及私有<a href="https://baike.baidu.com/item/%E8%BD%AF%E4%BB%B6/12053" rel="nofollow">软件</a>项目的托管平台，因为只支持git 作为唯一的版本库格式进行托管，故名GitHub。</p>

<p>2018年6月4日，微软宣布，通过75亿美元的股票交易收购代码托管平台GitHub。</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<h3 id="3%E3%80%81%E5%9C%A8github%E4%B8%8A%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE">3、在github上创建项目</h3>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190926082932585.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190926082953882.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<h3 id="2%E3%80%81%E5%85%8B%E9%9A%86%E4%BB%A3%E7%A0%81">4、克隆代码</h3>

<pre class="has"><code class="language-javascript">git clone git@github.com:baweireact/m-app-test.git
</code></pre>

<h3 id="3%E3%80%81%E6%8F%90%E4%BA%A4%E4%BB%A3%E7%A0%81">5、提交代码</h3>

<p>添加要上传的文件：</p>

<pre class="has"><code class="language-javascript">git add README.md
</code></pre>

<p>提交到本地：</p>

<pre class="has"><code class="language-javascript">git commit -m "first commit"
</code></pre>

<p>提交到远程：</p>

<pre class="has"><code class="language-javascript">git push origin master
</code></pre>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190926091655645.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>&nbsp;&nbsp;</p>

<pre class="has"><code class="language-javascript">git add readme.txt

git add readme.txt ant.txt

git add *.html

git add all 

git add .

git add *

git log

git status</code></pre>

<p>git add . 会把本地所有untrack的文件都加入暂存区，并且会根据.gitignore做过滤，但是git add * 会忽略.gitignore把任何文件都加入&nbsp;</p>

<h3 id="4%E3%80%81git%E5%B7%A5%E4%BD%9C%E5%8C%BA">6、git工作区</h3>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190926094650215.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>使用 git add 命令将想要快照的内容写入缓存区， 而执行 git commit 将缓存区内容添加到本地仓库中。&nbsp;</p>

<p>&nbsp;</p>

<h3 id="5%E3%80%81%E5%88%86%E6%94%AF">7、分支</h3>

<pre class="has"><code class="language-javascript">::切换到develop分支
git checkout beta

git pull origin beta

::把develop分支的代码合并到beta上
git merge develop

git status

::push到远程beta
git push origin beta

::切换到develop分支 
git checkout develop

echo. &amp; pause </code></pre>

<p>新建分支：</p>

<pre class="has"><code class="language-javascript">git branch feature_x</code></pre>

<p>将分支提交到远程：</p>

<pre class="has"><code class="language-javascript">git push origin feature_x</code></pre>

<p>切换分支：</p>

<pre class="has"><code class="language-javascript">git checkout master
</code></pre>

<p>查看有所有分支：</p>

<pre class="has"><code class="language-javascript">git branch -a
</code></pre>

<p>查看本地分支：</p>

<pre class="has"><code class="language-javascript">git branch
</code></pre>

<p>创建新分支并立即切换到该分支下：</p>

<pre class="has"><code class="language-javascript">git checkout -b feature_login</code></pre>

<p>&nbsp;</p>

<p>在github上查看有哪些分支：</p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190926102235765.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>删除本地分支：</p>

<pre class="has"><code class="language-javascript">git branch -d feature_x
</code></pre>

<p>删除远程分支：</p>

<pre class="has"><code class="language-javascript">git push origin -d feature_x</code></pre>

<p>合并分支，合并后再提交到远程仓库（先切换到master分支，然后合并feature_login分支到master分支，然后再把合并后的代码提交到远程仓库）：</p>

<pre class="has"><code class="language-javascript">git merge feature_login

git push origin master
</code></pre>

<p>查看历史记录（按Q键退出历史记录）：</p>

<pre class="has"><code class="language-javascript">git log</code></pre>

<p>查看简洁历史记录：</p>

<pre class="has"><code class="language-javascript">git log --oneline</code></pre>

<p>反顺序的历史记录：</p>

<pre class="has"><code class="language-javascript">git log --reverse</code></pre>

<p>&nbsp;</p>

<h3 id="6%E3%80%81%E5%AF%B9%E6%AF%94%E5%88%86%E6%94%AF">8、对比分支</h3>

<pre class="has"><code class="language-javascript">git diff master feature_login
</code></pre>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190926110432481.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>&nbsp;</p>

<h3 id="7%E3%80%81%E7%94%9F%E6%88%90ssh%20key">9、生成ssh key</h3>

<p>&nbsp; git clone 时，可以所用不同的协议，包括 ssh, git, https 等，其中最常用的是 <span style="color:#f33b45;"><strong>ssh</strong></span>，因为速度较快，还可以配置公钥免输入密码</p>

<pre class="has"><code class="language-javascript">ssh-keygen -t rsa -C "1183391880@qq.com"</code></pre>

<p>&nbsp;</p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190926114122777.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>&nbsp;</p>

<p>生成的key的位置：</p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190926114414380.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>github添加key：</p>

<p>点击setting：</p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190926114729893.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>&nbsp;</p>

<p>新建ssh key ：</p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190926114801410.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>&nbsp;</p>

<p>把生成的key粘贴到github上：</p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190926114856395.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190926120742826.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;确保启用 SSH 代理：</p>

<pre class="has"><code class="language-javascript">$ eval "$(ssh-agent -s)"</code></pre>

<p>为 SSH key 启用 SSH 代理：</p>

<pre class="has"><code class="language-javascript">$ ssh-add ~/.ssh/id_rsa</code></pre>

<p><img alt="" class="has" height="172" src="https://img-blog.csdnimg.cn/20190926121619560.png" width="737"></p>

<h3 id="10%E3%80%81%E5%AE%89%E8%A3%85git">10、安装git</h3>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190926122015204.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<h3 id="11%E3%80%81%E5%AE%89%E8%A3%85%E5%B0%8F%E4%B9%8C%E9%BE%9F">11、安装小乌龟</h3>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190926122151541.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>配置ssh：</p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190926122617967.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190926122630419.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>&nbsp;</p>

<h3 id="12%E3%80%81%E5%BF%BD%E7%95%A5%E6%8F%90%E4%BA%A4.gitignore">12、忽略提交.gitignore</h3>

<p>在使用Git的过程中，我们喜欢有的文件比如日志，临时文件，编译的中间文件等不要提交到代码仓库，这时就要设置相应的忽略规则，来忽略这些文件的提交。</p>

<p>/mtk 过滤整个文件夹<br>
*.zip 过滤所有.zip文件</p>

<p>参考链接：</p>

<p><a href="https://www.jianshu.com/p/74bd0ceb6182" rel="nofollow">https://www.jianshu.com/p/74bd0ceb6182</a></p>

<p>&nbsp;</p>

<h3 id="13%E3%80%81git%E9%85%8D%E7%BD%AE%E7%94%A8%E6%88%B7%E5%90%8D%E5%92%8C%E9%82%AE%E7%AE%B1">13、git配置用户名和邮箱</h3>

<p>&nbsp;&nbsp; 全局配置用户名：</p>

<pre class="has"><code class="language-javascript">git config --global user.name "xutongbao"
</code></pre>

<p>&nbsp;&nbsp; 全局配置邮箱：</p>

<pre class="has"><code class="language-javascript">git config --global user.email "1183391880@qq.com"</code></pre>

<h3 id="14%E3%80%81git%E5%85%8D%E5%AF%86">14、git免密</h3>

<p>ssh配置失败的同学，可以用https协议下载代码，而且也可以配置免密！</p>

<p>用git时，每次都需要输入密码会比较麻烦。<br>
可以进行设置，这样在输入过一次密码之后，以后就不需要每次都输入密码了。<br>
打开终端输入 ：</p>

<pre class="has"><code class="language-javascript">touch ~/.git-credentials</code></pre>

<p>再输入：</p>

<pre class="has"><code class="language-javascript">git config --global credential.helper store</code></pre>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<h3 id="%E5%8F%82%E8%80%83%E9%93%BE%E6%8E%A5">参考链接</h3>

<p>git使用简易指南：</p>

<p><a href="https://www.bootcss.com/p/git-guide/" rel="nofollow">https://www.bootcss.com/p/git-guide/</a></p>

<p>加入到暂存区参考链接：</p>

<p><a href="http://www.softwhy.com/article-8489-1.html" rel="nofollow">http://www.softwhy.com/article-8489-1.html</a></p>

<p>设置ssh key出问题的可以参考下面的链接：</p>

<p><a href="https://blog.csdn.net/felicity294250051/article/details/53606158" rel="nofollow">https://blog.csdn.net/felicity294250051/article/details/53606158</a></p>

<p><a href="https://blog.csdn.net/goawaycow1/article/details/78069487" rel="nofollow">https://blog.csdn.net/goawaycow1/article/details/78069487</a></p>

<p>&nbsp;</p>

<h2 id="%E4%BA%8C%E3%80%81MySql">二、MySql</h2>

<h3 id="1%E3%80%81%E5%AE%89%E8%A3%85mysql">1、安装mysql</h3>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/2019092617122922.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190926171239769.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190926171356209.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190926171410461.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190926171419929.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190926171429432.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190926171439317.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190926171450538.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190926171503605.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190926171517862.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190926171529797.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190926171630157.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190926171639214.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190926171648121.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190926171659598.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190926171711135.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190926171720372.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190926171729628.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190926171739886.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190926171749453.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190926171757573.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190926171805996.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190926171815181.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<h3 id="2%E3%80%81%E5%AE%89%E8%A3%85Navicat">2、安装Navicat</h3>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190926171859123.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190926171908289.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190926171917754.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190926171942293.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190926171956522.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190926172004825.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<h3 id="3%E3%80%81%E7%A0%B4%E8%A7%A3Navicat">3、破解Navicat</h3>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190926172021206.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/201909261720582.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>&nbsp;</p>

<h3 id="%C2%A04%E3%80%81Navicat%E8%BF%9E%E6%8E%A5mysql%E6%8A%A5%E9%94%99%E7%9A%84%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95">4、Navicat连接mysql报错的解决办法</h3>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190926172112570.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>&nbsp;</p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190926172244107.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>第一句：修改加密规则</p>

<p>第二句：更新用户密码</p>

<p>第三句：刷新权限</p>

<pre class="has"><code class="language-sql">alter user 'root'@'localhost' identified by 'root' password expire never;

alter user 'root'@'localhost' identified with mysql_native_password by 'root';

flush privileges;</code></pre>

<p>参考链接：</p>

<p><a href="https://www.jianshu.com/p/c8eb6d2471f8" rel="nofollow">https://www.jianshu.com/p/c8eb6d2471f8</a></p>

<h3 id="5%E3%80%81%E4%BD%BFmysql%E5%85%81%E8%AE%B8%E5%A4%96%E9%83%A8%E8%BF%9E%E6%8E%A5%E8%AE%BF%E9%97%AE">5、使mysql允许外部连接访问</h3>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190926172642730.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<pre class="has"><code class="language-sql">update user set host='%' where user='root';

flush privileges;</code></pre>

<h3 id="6%E3%80%81Navicat%E5%BB%BA%E7%AB%8BMySql%E8%BF%9E%E6%8E%A5">6、Navicat建立MySql连接</h3>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190926173223219.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190926173231271.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190926173241151.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190926173508175.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<h3 id="7%E3%80%81%E9%80%9A%E8%BF%87sql%E8%AF%AD%E5%8F%A5%E5%BB%BA%E8%A1%A8">7、sql语句简介</h3>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190926174954877.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190926175005441.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>&nbsp;通过sql语句实现增删查改：</p>

<pre class="has"><code class="language-sql">-- 建表
create table user (
	id varchar(100) primary key,
	username varchar(100),
	password varchar(100)
);

-- 增
insert into user values ('001', 'admin', '123456');
insert into user values ('002', 'xu', '123456');
insert into user values ('003', 'xutongbao', '123456');

-- 删
delete from user;

delete from user where id = '003';

-- 查
select * from user;

select username from user;

select * from user where id = '002';

-- 模糊搜索
select * from user where username like '%n%';

-- 降序
select * from user order by username desc;

-- 升序
select * from user order by username asc;

-- 分页
select * from user order by username asc limit 1,2;

-- 数量
select count(*) from user;


-- 改
update user set password = '123';

update user set password = '1234' where id = '001';</code></pre>

<h3 id="8%E3%80%81nodejs%E5%B0%81%E8%A3%85sql%E6%9F%A5%E8%AF%A2">8、nodejs封装sql查询</h3>

<p><strong>mysqlQuery.js:</strong></p>

<pre class="has"><code class="language-javascript">const mysql = require('mysql')

let connection = mysql.createConnection({
  host: 'localhost',
  user: 'root',
  password: 'root',
  database: 'demo'
})

connection.connect((error) =&gt; {
  if (error) {
    console.log('失败')
  } else {
    console.log('成功')
  }
})

//使用回调函数返回查询结果
const query = (sql, callback) =&gt; {
  connection.query(sql, (error, results) =&gt; {
    if (error) {
      throw error
    } else {
      callback &amp;&amp; callback(results)
    }
  })
}

//使用promise封装sql查询
const queryPromise = (sql) =&gt; {
  return new Promise((resolve, reject) =&gt; {
    connection.query(sql, (error, results) =&gt; {
      if (error) {
        reject(error)
      } else {
        resolve(results)
      }
    })
  })
}

module.exports = {
  query,
  queryPromise
}</code></pre>

<p><strong>vue.config.js:</strong></p>

<pre class="has"><code class="language-javascript">const { query, queryPromise } = require('./mysqlQuery')

module.exports = {
  devServer: {
    open: true,
    before(app) {
      app.get('/api/get_user_query', async (req, res) =&gt; {
        query(`select * from user`, (results) =&gt; {
          res.send({
            code: 200,
            data: results,
            message: '用户列表'
          })
        })
      })
      app.get('/api/get_user', async (req, res) =&gt; {
        let results = await queryPromise(`select * from user`)
        res.send({
          code: 200,
          data: results,
          message: '用户列表'
        })
      })
    }
  }
}</code></pre>

<h3 id="9%E3%80%81%E4%B8%8D%E4%BD%BF%E7%94%A8vue.config.js%EF%BC%8C%E5%8D%95%E7%8B%AC%E4%BD%BF%E7%94%A8node">9、不使用vue.config.js，单独使用node</h3>

<p>主要是为了可以使用nodemon，<span style="color:#f33b45;"><strong>后端代码改变时不需要重启</strong></span></p>

<pre class="has"><code class="language-javascript">const express = require('express')
const cors = require('cors')
const { queryPromise } = require('./mysqlQuery')

const app = express()

app.use(cors())

app.get('/api/get_user', async (req, res) =&gt; {
  let users = await queryPromise('select * from user')
  res.send({
    code: 200,
    data: users,
    message: '用户列表'
  })
})

app.listen(3000, () =&gt; {
  console.log('3000端口')
})</code></pre>

<p>参考链接：</p>

<p>跨域：</p>

<p><a href="http://www.expressjs.com.cn/en/resources/middleware/cors.html" rel="nofollow">http://www.expressjs.com.cn/en/resources/middleware/cors.html</a></p>

<p>express：</p>

<p><a href="http://www.expressjs.com.cn/starter/hello-world.html" rel="nofollow">http://www.expressjs.com.cn/starter/hello-world.html</a></p>

<p>nodemon：</p>

<p><a href="https://www.npmjs.com/package/nodemon" rel="nofollow">https://www.npmjs.com/package/nodemon</a></p>

<p>&nbsp;</p>

<h3 id="10%E3%80%81%E5%B0%81%E8%A3%85api%E6%8E%A5%E5%8F%A3">10、封装api接口</h3>

<p id="index.js%3A"><strong>index.js:</strong></p>

<pre class="has"><code class="language-javascript">import axios from 'axios'
import url from './url'

axios.defaults.baseURL = 'http://localhost:3000'

const common = async (config) =&gt; {
  const response = await axios(config)
  return response
}

export default {
  getUser: () =&gt; common({ url: url.getUser })
}</code></pre>

<p id="url.js%3A"><strong>url.js:</strong></p>

<pre class="has"><code class="language-javascript">export default {
  getUser: '/api/get_user'
}</code></pre>

<h3 id="11%E3%80%81axios%E6%8B%A6%E6%88%AA%E5%99%A8">11、axios拦截器</h3>

<p><strong>前端请求前添加token，请求后判断状态码：</strong></p>

<pre class="has"><code class="language-javascript">import axios from 'axios'
import url from './url'

axios.defaults.baseURL = 'http://localhost:3000'

axios.interceptors.request.use((config) =&gt; {
  config.headers.token = '666'
  return config
})

axios.interceptors.response.use((res) =&gt; {
  if (res.data.code === 200) {
    return res
  } else if (res.data.code === 400) {
    alert(res.data.message)
    return res
  } else if (res.data.code === 403) {
    window.location.href = '/login'
  }
})

const common = async (config) =&gt; {
  const response = await axios(config)
  return response
}

export default {
  getUser: () =&gt; common({ url: url.getUser })
}</code></pre>

<p><strong>后端接收token：</strong></p>

<pre class="has"><code class="language-javascript">const express = require('express')
const cors = require('cors')
const { queryPromise } = require('./mysqlQuery')

const app = express()

app.use(cors())

app.get('/api/get_user', async (req, res) =&gt; {
  let token = req.headers.token
  console.log(token)
  let users = await queryPromise('select * from user')
  res.send({
    code: 400,
    data: users,
    message: '用户列表'
  })
})

app.listen(3000, () =&gt; {
  console.log('3000端口')
})</code></pre>

<p>&nbsp;</p>

<p>参考链接：</p>

<p><a href="http://www.axios-js.com/docs/#Interceptors" rel="nofollow">http://www.axios-js.com/docs/#Interceptors</a></p>

<h3 id="12%E3%80%81redis">12、redis</h3>

<p>用于保存token</p>

<p>安装：</p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190929130255646.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>启动：</p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190929130517682.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>在控制台使用：</p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190929130754487.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<pre class="has"><code class="language-javascript">//启动
redis-server.exe redis.windows.conf

//访问
redis-cli.exe -h 127.0.0.1 -p 6379

//设置值
set a 1

//获取值
get a

//删除key
del a

//设置一个值20秒后删除
set a 1 EX 20</code></pre>

<p>参考链接：</p>

<p><a href="https://www.npmjs.com/package/redis" rel="nofollow">https://www.npmjs.com/package/redis</a></p>

<h3 id="13%E3%80%81jwt-simple">13、jwt-simple</h3>

<p>用于生成token</p>

<p>参考链接：</p>

<p><a href="https://www.npmjs.com/package/jwt-simple" rel="nofollow">https://www.npmjs.com/package/jwt-simple</a></p>

<h3 id="14%E3%80%81uuid">14、uuid</h3>

<p>用于生成用户id</p>

<p>参考链接：</p>

<p><a href="https://www.npmjs.com/package/uuid" rel="nofollow">https://www.npmjs.com/package/uuid</a></p>

<h3 id="15%E3%80%81node%E6%93%8D%E7%BA%B5mysql%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9B%E8%A1%8C%E5%A2%9E%E5%88%A0%E6%9F%A5%E6%94%B9%E4%BB%A5%E5%8F%8A%E7%99%BB%E5%BD%95%E9%80%80%E5%87%BA">15、node操纵mysql数据库进行增删查改以及登录退出</h3>

<p>app.js：</p>

<pre class="has"><code class="language-javascript">const express = require('express')
const cors = require('cors')
const redis = require('redis')
const bodyParser = require('body-parser')
const jwt = require('jwt-simple')
const uuidv1 = require('uuid/v1')
const { queryPromise } = require('./mysqlQuery')

const app = express()

//跨域
app.use(cors())
app.use(bodyParser.json())

var secret = 'xxx';

//如果没有启动redis,会报错，启动redis方法，在cd到redis的安装目录，执行redis-server.exe redis.windows.conf
const client = redis.createClient()
client.on('error', (err) =&gt; {
  console.log('redis错误：' + err)
})

//检查token是否存在,并更新token过期时间
const checkToken = async (token) =&gt; {
  let result = await new Promise((resolve) =&gt; {
    client.get(token, function (err, res) {
      return resolve(res);
    });
  });
  console.log(result)
  if (result) {
    client.set(token, token , 'EX', 600)
    return true
  } else {
    return false
  }
}

//增
app.post('/api/add_user', async (req, res) =&gt; {
  let token = req.headers.token
  let { username, password } = req.body
  let isLogin = await checkToken(token)
  if (isLogin) {
    let users = await queryPromise(`select * from user where username = '${username}'`)
    console.log(users)
    if (users.length &gt; 0) {
      res.send({
        code: 400,
        data: {
          username
        },
        message: '用户名已存在'
      })
    } else {
      let id = uuidv1()
      let user = await queryPromise(`insert into user values('${id}', '${username}', '${password}')`)
      if (user) {
        res.send({
          code: 200,
          data: user,
          message: '添加成功'
        })
      }
    }
  } else {
    res.send({
      code: 403,
      message: '登录过期'
    })
  }
})

//删
app.post('/api/delete_user', async (req, res) =&gt; {
  let token = req.headers.token
  let { ids } = req.body
  let isLogin = await checkToken(token)
  if (isLogin) {
    let idString = ''
    for (let i = 0; i &lt; ids.length; i++) {
      if (i === ids.length - 1) {
        idString += ` id = '${ids[i]}' `
      } else {
        idString += ` id = '${ids[i]}' or `
      }
    }
    let result = await queryPromise(`delete from user where ${idString}`)
    res.send({
      code: 200,
      data: result,
      message: '删除成功'
    })
  } else {
    res.send({
      code: 403,
      message: '登录过期'
    })
  }
})

//查
app.get('/api/get_user', async (req, res) =&gt; {
  let token = req.headers.token
  let isLogin = await checkToken(token)
  if (isLogin) {
    let users = await queryPromise('select * from user')
    res.send({
      code: 200,
      data: users,
      message: '用户列表'
    })
  } else {
    res.send({
      code: 403,
      message: '登录过期'
    })
  }
})

//改
app.post('/api/update_user', async (req, res) =&gt; {
  let token = req.headers.token
  let { id, username, password } = req.body
  let isLogin = await checkToken(token)
  if (isLogin) {
    let result = await queryPromise(`update user set username = '${username}', password = '${password}' where id = '${id}' `)
    res.send({
      code: 200,
      data: result,
      message: '更新成功'
    })
  } else {
    res.send({
      code: 403,
      message: '登录过期'
    })
  }
})

//登录
app.post('/api/login', async (req, res) =&gt; {
  let { username, password } = req.body
  let users = await queryPromise('select * from user')
  let user = users.find(item =&gt; item.username === username &amp;&amp; item.password === password)
  if (user) {
    let token = jwt.encode(user.id, secret)
    client.set(token, token , 'EX', 600)  //60秒后验证码过期知道
    res.send({
      code: 200,
      data: {
        username,
        token
      },
      message: '登录成功'
    })
  } else {
    res.send({
      code: 400,
      message: '登录失败'
    })
  }
})

//退出
app.post('/api/login_out', (req, res) =&gt; {
  let token = req.headers.token
  client.del(token)
  res.send({
    code: 200,
    message: '退出'
  })
})

app.listen(3000, () =&gt; {
  console.log('3000端口')
})</code></pre>

<p>mysqlQuery.js:</p>

<pre class="has"><code class="language-javascript">const mysql = require('mysql')

let connection = mysql.createConnection({
  host: 'localhost',
  user: 'root',
  password: 'root',
  database: 'demo'
})

connection.connect((error) =&gt; {
  if (error) {
    console.log('失败')
  } else {
    console.log('成功')
  }
})

//使用回调函数返回查询结果
const query = (sql, callback) =&gt; {
  connection.query(sql, (error, results) =&gt; {
    if (error) {
      throw error
    } else {
      callback &amp;&amp; callback(results)
    }
  })
}

//使用promise封装sql查询
const queryPromise = (sql) =&gt; {
  return new Promise((resolve, reject) =&gt; {
    connection.query(sql, (error, results) =&gt; {
      if (error) {
        reject(error)
      } else {
        resolve(results)
      }
    })
  })
}

module.exports = {
  query,
  queryPromise
}</code></pre>

<p>&nbsp;</p>

<h2 id="%E4%B8%89%E3%80%81vue">三、vue</h2>

<h3 id="1%E3%80%81%E5%91%A8%E8%80%83%E4%B8%80">1、周考一</h3>

<p><img alt="" class="has" height="401" src="https://img-blog.csdnimg.cn/20191009175926665.gif" width="838"></p>

<p>&nbsp;</p>

<h2 id="%E5%9B%9B%E3%80%81react">四、react</h2>

<h3 id="1%E3%80%81hook%E5%85%A5%E9%97%A8">1、hook入门</h3>

<p>React的组件化给前端开发带来了前所未有的体验，我们可以像玩乐高玩具一样将组件堆积拼接起来，组成完整的UI界面，在加快开发速度的同时又提高了代码的可维护性。</p>

<p><em>Hook</em>&nbsp;是 React 16.8 的新增特性。它可以让你在不编写 class 的情况下使用 state 以及其他的 React 特性。</p>

<p><span style="color:#f33b45;">hook </span>=<span style="color:#f33b45;"> 钩子</span></p>

<p><span style="color:#f33b45;"><img alt="" class="has" height="81" src="https://img-blog.csdnimg.cn/20191016081648601.png" width="300"></span></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191016081818222.jpeg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>&nbsp;<img alt="" class="has" src="https://img-blog.csdnimg.cn/20191016081911515.jpeg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>参考链接:</p>

<p><a href="https://cloud.tencent.com/developer/article/1468196" rel="nofollow">https://cloud.tencent.com/developer/article/1468196</a></p>

<p><a href="https://react.docschina.org/docs/hooks-intro.html" rel="nofollow">https://react.docschina.org/docs/hooks-intro.html</a></p>

<p><strong>useState、useEffect:</strong></p>

<pre class="has"><code class="language-javascript">import React, { useState, useEffect } from 'react'

const App = () =&gt; {
  const [ count, setCount ] = useState(0)
  const [ obj, setObj ] = useState({
    name: 'xu',
    job: 'web'
  })

  //初始化state可以使用函数
  const [ name, setName ] = useState(() =&gt; {
    return 'xu'
  })
  
  //每次更新完都会执行
  useEffect(() =&gt; {
    console.log(count)
    return () =&gt; {
      console.log('执行当前effect之前对上一个effect进行清除！' + count)
    }
  })

  //只执行一次
  useEffect(() =&gt; {
    console.log('只执行一次！')
  }, [])

  useEffect(() =&gt; {
    console.log('count更新时执行' + count)
  }, ['count'])

  return (
    &lt;div&gt;
      { count }
      &lt;div&gt;
        &lt;button onClick={() =&gt; { setCount(count - 1) }}&gt;减&lt;/button&gt;
        &lt;button onClick={() =&gt; { setCount(count + 1) }}&gt;加&lt;/button&gt;
        &lt;button onClick={() =&gt; { setCount(prevCount =&gt;  {
          return prevCount + 1
        }) }}&gt;加&lt;/button&gt;
        &lt;button onClick={() =&gt; setCount(0)}&gt;重置&lt;/button&gt;
      &lt;/div&gt;
      { obj.name }, { obj.job }
      &lt;div&gt;
        &lt;button onClick={() =&gt; setObj({ name: '徐' })}&gt;改名(删除了job字段)&lt;/button&gt;
        &lt;button onClick={() =&gt; setObj( prevObj =&gt; {
          return {...prevObj,  name: '星河'}
        })}&gt;改名(不会删除job字段)&lt;/button&gt;
      &lt;/div&gt;
      &lt;div&gt;
        {name}
      &lt;/div&gt;
    &lt;/div&gt;
  )
}

export default App</code></pre>

<p><strong>useReducer:</strong></p>

<pre class="has"><code class="language-javascript">import React, { useReducer } from 'react'

const initalState = { count: 0 }

const reducer = (state, action) =&gt; {
  switch (action.type) {
    case 'increment':
      return { count: state.count + 1 }
    case 'decrement':
      return { count: state.count - 1 }
    default:
      return state
  }
}

const App = () =&gt; {
  const [state, dispatch] = useReducer(reducer, initalState)
  return (
    &lt;div&gt;
      {state.count}
      &lt;div&gt;
        &lt;button onClick={() =&gt; { dispatch({ type: 'decrement' }) }}&gt;减&lt;/button&gt;
        &lt;button onClick={() =&gt; { dispatch({ type: 'increment' }) }}&gt;加&lt;/button&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  )
}

export default App</code></pre>

<p><strong>使用函数初始化state：</strong></p>

<pre class="has"><code class="language-javascript">import React, { useReducer } from 'react'

const initalState = { count: 0 }

const init = (a) =&gt; {
  return {count: a.count + 1}
}

const reducer = (state, action) =&gt; {
  switch (action.type) {
    case 'increment':
      return { count: state.count + 1 }
    case 'decrement':
      return { count: state.count - 1 }
    default:
      return state
  }
}

const App = () =&gt; {
  const [state, dispatch] = useReducer(reducer, initalState, init)
  return (
    &lt;div&gt;
      {state.count}
      &lt;div&gt;
        &lt;button onClick={() =&gt; { dispatch({ type: 'decrement' }) }}&gt;减&lt;/button&gt;
        &lt;button onClick={() =&gt; { dispatch({ type: 'increment' }) }}&gt;加&lt;/button&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  )
}

export default App</code></pre>

<p><strong>useRef,输入框获取焦点：</strong></p>

<pre class="has"><code class="language-javascript">import React, { useRef, useEffect } from 'react'

const App = () =&gt; {
  const inputEl = useRef(null)

  const handleFocus = () =&gt; {
    inputEl.current.focus()
  }  

  useEffect(() =&gt; {
    inputEl.current.focus()
  }, [])

  return (
    &lt;div&gt;
      &lt;input ref={inputEl}&gt;&lt;/input&gt;
      &lt;div&gt;
        &lt;button onClick={handleFocus}&gt;获取焦点&lt;/button&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  )
}

export default App</code></pre>

<p><strong>自定义hook，获取上一轮的state：</strong></p>

<pre class="has"><code class="language-javascript">import React, { useState, useRef, useEffect } from 'react'

//自定义hook，获取上一轮的state
const usePrevious = (value) =&gt; {
  const ref = useRef()
  useEffect(() =&gt; {
    ref.current = value
  })
  return ref.current
}

const App = () =&gt; {
  const [ count, setCount ] = useState(0)

  const prevCount = usePrevious(count)

  return (
    &lt;div&gt;
      {count}, {prevCount}
      &lt;div&gt;
        &lt;button onClick={() =&gt; setCount(count + 1)}&gt;加&lt;/button&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  )
}

export default App</code></pre>

<p>获取数据：</p>

<pre class="has"><code class="language-javascript">function SearchResults() {
  const [data, setData] = useState({ hits: [] });
  const [query, setQuery] = useState('react');

  useEffect(() =&gt; {
    let ignore = false;

    async function fetchData() {
      const result = await axios('https://hn.algolia.com/api/v1/search?query=' + query);
      if (!ignore) setData(result.data);
    }

    fetchData();
    return () =&gt; { ignore = true; }
  }, [query]);

  return (
    &lt;&gt;
      &lt;input value={query} onChange={e =&gt; setQuery(e.target.value)} /&gt;
      &lt;ul&gt;
        {data.hits.map(item =&gt; (
          &lt;li key={item.objectID}&gt;
            &lt;a href={item.url}&gt;{item.title}&lt;/a&gt;
          &lt;/li&gt;
        ))}
      &lt;/ul&gt;
    &lt;/&gt;
  );
}</code></pre>

<h3>2、路由懒加载，代码分割</h3>

<p>参考链接：</p>

<p><a href="https://zh-hans.reactjs.org/docs/react-api.html#reactsuspense" rel="nofollow">https://zh-hans.reactjs.org/docs/react-api.html#reactsuspense</a></p>

<p><a href="https://blog.csdn.net/xutongbao/article/details/84822315" rel="nofollow">https://blog.csdn.net/xutongbao/article/details/84822315</a></p>

<p><img alt="" class="has" height="743" src="https://img-blog.csdnimg.cn/20191015135540538.gif" width="801"></p>

<pre class="has"><code class="language-javascript">import React, { Component, Suspense, lazy } from 'react'
import { Switch, Route, NavLink, Redirect } from 'react-router-dom'
// import Home from './Home'
// import MyBook from './MyBook'
import Detail from './Detail'
import Loading from '../components/Loading'
const MyBook = lazy(() =&gt; import('./MyBook'))
const Home = lazy(() =&gt; import('./Home'))

class Index extends Component {
  render() {
    return (
      &lt;div&gt;
        &lt;div&gt;
          &lt;NavLink to="/index/home" className="m-nav-item"&gt;首页&lt;/NavLink&gt;
          &lt;NavLink to="/index/my_book" className="m-nav-item"&gt;书架&lt;/NavLink&gt;
        &lt;/div&gt;
        &lt;Suspense fallback={&lt;Loading&gt;&lt;/Loading&gt;}&gt;
          &lt;Switch&gt;
            &lt;Route exact path="/index/home" component={Home}&gt;&lt;/Route&gt;
            &lt;Route path="/index/my_book" render={() =&gt; {
              if (localStorage.getItem('username')) {
                return &lt;MyBook&gt;&lt;/MyBook&gt;
              } else {
                return &lt;Redirect to="/login"&gt;&lt;/Redirect&gt;
              }
            }}&gt;&lt;/Route&gt;
            &lt;Route path="/index/home/detail/:id" component={Detail}&gt;&lt;/Route&gt;
          &lt;/Switch&gt;
        &lt;/Suspense&gt;
      &lt;/div&gt;
    )
  }
}

export default Index</code></pre>

<h3>3、图片懒加载</h3>

<p><img alt="" class="has" height="551" src="https://img-blog.csdnimg.cn/20191016132621968.gif" width="880"></p>

<p>装包：</p>

<pre class="has"><code class="language-javascript">yarn add react-lazy-load</code></pre>

<pre class="has"><code class="language-javascript">        &lt;LazyLoad height={300} onContentVisible={() =&gt; console.log(item.title)}&gt;
          &lt;img src={item.avatar} &gt;&lt;/img&gt;
        &lt;/LazyLoad&gt;</code></pre>

<p>&nbsp;参考链接：</p>

<p><a href="https://www.npmjs.com/package/react-lazy-load" rel="nofollow">https://www.npmjs.com/package/react-lazy-load</a></p>

<p>&nbsp;</p>

<h2 id="%E5%9B%9B%E3%80%81%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F">五、微信小程序</h2>

<h3 id="1%E3%80%81%E4%B9%A6%E5%9F%8E">1、购物车</h3>

<p><img alt="" class="has" height="720" src="https://img-blog.csdnimg.cn/20191020164250355.gif" width="403"></p>

<p>&nbsp;</p>

<h3>2、入门</h3>

<p>申请账号：</p>

<p><a href="https://mp.weixin.qq.com/wxopen/waregister?action=step1" rel="nofollow">https://mp.weixin.qq.com/wxopen/waregister?action=step1</a></p>

<p>安装开发者工具：</p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191016135229545.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>登录账号：</p>

<p><a href="https://mp.weixin.qq.com/" rel="nofollow">https://mp.weixin.qq.com/</a></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191016135545192.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191016135558693.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20191016141520645.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<h3>3、轮播图</h3>

<p>参考链接：<a href="https://www.cnblogs.com/zjjDaily/p/8041734.html" rel="nofollow">https://www.cnblogs.com/zjjDaily/p/8041734.html</a></p>

<pre class="has"><code class="language-javascript">  &lt;swiper 
    indicator-dots="{{true}}"
    autoplay="{{true}}"
    interval="{{1000}}"
    style="height:{{height}}px"&gt;
    &lt;swiper-item wx:for="{{banner}}" wx:key="{{index}}"&gt;
      &lt;image src="{{item}}" mode="widthFix" class="m-item-img" bindload="handleImageLoad"&gt;&lt;/image&gt;
    &lt;/swiper-item&gt;
  &lt;/swiper&gt;</code></pre>

<h3>4、tabbar</h3>

<pre class="has"><code class="language-javascript">  "tabBar": {
    "list": [{
      "text": "首页",
      "selectedIconPath": "./static/index-active.png",
      "iconPath": "./static/index.png",
      "pagePath": "pages/home/index"
    }, {
      "text": "书架",
      "selectedIconPath": "./static/cart-active.png",
      "iconPath": "./static/cart.png",
      "pagePath": "pages/mybook/mybook"
    }]
  }</code></pre>

<h3>&nbsp;5、不支持状态管理</h3>

<p><a href="https://developers.weixin.qq.com/community/develop/doc/d4b0566fcd760a529181f2d4b009341c?_at=1558693595388" rel="nofollow">https://developers.weixin.qq.com/community/develop/doc/d4b0566fcd760a529181f2d4b009341c?_at=1558693595388</a></p>

<h2>六、node&nbsp;</h2>

<h3>1.koa，egg</h3>

<pre class="has"><code class="language-javascript">$ npm i egg-init -g
$ egg-init egg-example --type=simple
$ cd egg-example
$ npm i</code></pre>

<p>egg官网：<a href="https://eggjs.org/zh-cn/intro/quickstart.html" rel="nofollow">https://eggjs.org/zh-cn/intro/quickstart.html</a></p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<h2>&nbsp;</h2>

<h2 id="github%E6%BA%90%E7%A0%81">github源码</h2>

<p><a href="https://github.com/baweireact/m-app-1705E" rel="nofollow">https://github.com/baweireact/m-app-1705E</a></p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>
                                    ]]></description></item><item><title>Vue（1706E）</title><link>http://www.cnblogs.com/xutongbao/archive/2019/08/31/11915673.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Sat, 31 Aug 2019 00:01:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2019/08/31/11915673.html</guid><description><![CDATA[
                                            <p id="main-toc"><strong>目录</strong></p>

<p id="-toc" style="margin-left:40px;">&nbsp;</p>

<p id="%E4%B8%80%E3%80%81webpack%E7%9B%B8%E5%85%B3-toc" style="margin-left:40px;"><a href="#%E4%B8%80%E3%80%81webpack%E7%9B%B8%E5%85%B3" rel="nofollow">一、webpack相关</a></p>

<p id="1%E3%80%81%E6%9C%80%E7%AE%80%E5%8D%95%E7%9A%84%E9%85%8D%E7%BD%AE-toc" style="margin-left:80px;"><a href="#1%E3%80%81%E6%9C%80%E7%AE%80%E5%8D%95%E7%9A%84%E9%85%8D%E7%BD%AE" rel="nofollow">1、最简单的配置</a></p>

<p id="2%E3%80%81%E6%9C%80%E7%AE%80%E5%8D%95%E7%9A%84vue%E7%8E%AF%E5%A2%83-toc" style="margin-left:80px;"><a href="#2%E3%80%81%E6%9C%80%E7%AE%80%E5%8D%95%E7%9A%84vue%E7%8E%AF%E5%A2%83" rel="nofollow">2、最简单的vue环境</a></p>

<p id="3%E3%80%81vue%2Bdevserver-toc" style="margin-left:80px;"><a href="#3%E3%80%81vue%2Bdevserver" rel="nofollow">3、vue+devserver</a></p>

<p id="4%E3%80%81html-webpack-plugin%E6%8F%92%E4%BB%B6-toc" style="margin-left:80px;"><a href="#4%E3%80%81html-webpack-plugin%E6%8F%92%E4%BB%B6" rel="nofollow">4、html-webpack-plugin插件</a></p>

<p id="5%E3%80%81%E4%BD%BF%E7%94%A8babel-loader%E5%B0%86js%E6%96%87%E4%BB%B6%E9%87%8C%E7%9A%84ES6%E8%BD%ACES5-toc" style="margin-left:80px;"><a href="#5%E3%80%81%E4%BD%BF%E7%94%A8babel-loader%E5%B0%86js%E6%96%87%E4%BB%B6%E9%87%8C%E7%9A%84ES6%E8%BD%ACES5" rel="nofollow">5、使用babel-loader将js文件里的ES6语法转换为ES5语法</a></p>

<p id="6%E3%80%81devtool-toc" style="margin-left:80px;"><a href="#6%E3%80%81devtool" rel="nofollow">6、devtool</a></p>

<p id="7%E3%80%81style-loader%E3%80%81css-loader-toc" style="margin-left:80px;"><a href="#7%E3%80%81style-loader%E3%80%81css-loader" rel="nofollow">7、style-loader、css-loader</a></p>

<p id="8%E3%80%81sass-loader-toc" style="margin-left:80px;"><a href="#8%E3%80%81sass-loader" rel="nofollow">8、sass-loader</a></p>

<p id="9%E3%80%81url-loader-toc" style="margin-left:80px;"><a href="#9%E3%80%81url-loader" rel="nofollow">9、url-loader和file-loader</a></p>

<p id="10%E3%80%81mini-css-extract-plugin%EF%BC%88%E6%8F%90%E5%8F%96%E6%A0%B7%E5%BC%8F%E6%96%87%E4%BB%B6%EF%BC%89-toc" style="margin-left:80px;"><a href="#10%E3%80%81mini-css-extract-plugin%EF%BC%88%E6%8F%90%E5%8F%96%E6%A0%B7%E5%BC%8F%E6%96%87%E4%BB%B6%EF%BC%89" rel="nofollow">10、mini-css-extract-plugin（提取样式文件）</a></p>

<p id="11%E3%80%81clean-webpack-plugin-toc" style="margin-left:80px;"><a href="#11%E3%80%81clean-webpack-plugin" rel="nofollow">11、clean-webpack-plugin</a></p>

<p id="12%E3%80%81%E9%85%8D%E7%BD%AEsrc%E7%9B%AE%E5%BD%95%E8%AE%BF%E9%97%AE%E5%88%AB%E5%90%8D%EF%BC%8C%E8%87%AA%E5%8A%A8%E8%A7%A3%E6%9E%90%E7%A1%AE%E5%AE%9A%E7%9A%84%E6%89%A9%E5%B1%95-toc" style="margin-left:80px;"><a href="#12%E3%80%81%E9%85%8D%E7%BD%AEsrc%E7%9B%AE%E5%BD%95%E8%AE%BF%E9%97%AE%E5%88%AB%E5%90%8D%EF%BC%8C%E8%87%AA%E5%8A%A8%E8%A7%A3%E6%9E%90%E7%A1%AE%E5%AE%9A%E7%9A%84%E6%89%A9%E5%B1%95" rel="nofollow">12、配置src目录访问别名，自动解析确定的扩展</a></p>

<p id="13%E3%80%81%E5%AD%97%E4%BD%93%E6%96%87%E4%BB%B6-toc" style="margin-left:80px;"><a href="#13%E3%80%81%E5%AD%97%E4%BD%93%E6%96%87%E4%BB%B6" rel="nofollow">13、字体文件</a></p>

<p id="%E4%BA%8C%E3%80%81vue%E7%9B%B8%E5%85%B3-toc" style="margin-left:40px;"><a href="#%E4%BA%8C%E3%80%81vue%E7%9B%B8%E5%85%B3" rel="nofollow">二、vue相关</a></p>

<p id="1%E3%80%81%E4%BD%BF%E7%94%A8%E8%84%9A%E6%89%8B%E6%9E%B6%E7%94%9F%E6%88%90%E7%AC%AC%E4%B8%80%E4%B8%AA%E9%A1%B9%E7%9B%AE-toc" style="margin-left:80px;"><a href="#1%E3%80%81%E4%BD%BF%E7%94%A8%E8%84%9A%E6%89%8B%E6%9E%B6%E7%94%9F%E6%88%90%E7%AC%AC%E4%B8%80%E4%B8%AA%E9%A1%B9%E7%9B%AE" rel="nofollow">1、使用脚手架生成第一个项目</a></p>

<p id="2%E3%80%81%E6%B7%BB%E5%8A%A0vue.config.js%E6%96%87%E4%BB%B6-toc" style="margin-left:80px;"><a href="#2%E3%80%81%E6%B7%BB%E5%8A%A0vue.config.js%E6%96%87%E4%BB%B6" rel="nofollow">2、添加vue.config.js文件</a></p>

<p id="3%E3%80%81render%3A%20h%20%3D%3E%20h(App)%E7%9A%84%E8%AF%A6%E7%BB%86%E8%A7%A3%E9%87%8A-toc" style="margin-left:80px;"><a href="#3%E3%80%81render%3A%20h%20%3D%3E%20h(App)%E7%9A%84%E8%AF%A6%E7%BB%86%E8%A7%A3%E9%87%8A" rel="nofollow">3、render: h =&gt; h(App)的详细解释</a></p>

<p id="4%E3%80%81%E7%BB%84%E4%BB%B6%E7%9A%84data%E4%B8%BA%E4%BB%80%E4%B9%88%E6%98%AF%E4%B8%80%E4%B8%AA%E5%87%BD%E6%95%B0-toc" style="margin-left:80px;"><a href="#4%E3%80%81%E7%BB%84%E4%BB%B6%E7%9A%84data%E4%B8%BA%E4%BB%80%E4%B9%88%E6%98%AF%E4%B8%80%E4%B8%AA%E5%87%BD%E6%95%B0" rel="nofollow">4、组件的data为什么是一个函数</a></p>

<p id="5%E3%80%81%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F-toc" style="margin-left:80px;"><a href="#5%E3%80%81%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F" rel="nofollow">5、生命周期</a></p>

<p id="6%E3%80%81%E7%BB%84%E4%BB%B6-toc" style="margin-left:80px;"><a href="#6%E3%80%81%E7%BB%84%E4%BB%B6" rel="nofollow">6、组件</a></p>

<p id="7%E3%80%81mock%E6%95%B0%E6%8D%AE-toc" style="margin-left:80px;"><a href="#7%E3%80%81mock%E6%95%B0%E6%8D%AE" rel="nofollow">7、mock数据</a></p>

<p id="8%E3%80%81%E4%B8%8A%E6%8B%89%E5%8A%A0%E8%BD%BD%E6%9B%B4%E5%A4%9A-toc" style="margin-left:80px;"><a href="#8%E3%80%81%E4%B8%8A%E6%8B%89%E5%8A%A0%E8%BD%BD%E6%9B%B4%E5%A4%9A" rel="nofollow">8、上拉加载更多</a></p>

<p id="9%E3%80%81%E9%BC%A0%E6%A0%87%E6%BB%91%E8%BF%87%E7%8E%B0%E5%AE%9E%E6%B6%88%E6%81%AF%E6%A1%86-toc" style="margin-left:80px;"><a href="#9%E3%80%81%E9%BC%A0%E6%A0%87%E6%BB%91%E8%BF%87%E7%8E%B0%E5%AE%9E%E6%B6%88%E6%81%AF%E6%A1%86" rel="nofollow">9、鼠标滑过现实消息框</a></p>

<p id="11%E3%80%81%E5%AF%B9%E8%AF%9D%E6%A1%86%E7%BB%84%E4%BB%B6-toc" style="margin-left:80px;"><a href="#11%E3%80%81%E5%AF%B9%E8%AF%9D%E6%A1%86%E7%BB%84%E4%BB%B6" rel="nofollow">11、对话框组件</a></p>

<p id="12%E3%80%81%E5%85%B7%E5%90%8D%E6%8F%92%E6%A7%BD%EF%BC%88slot%EF%BC%89-toc" style="margin-left:80px;"><a href="#12%E3%80%81%E5%85%B7%E5%90%8D%E6%8F%92%E6%A7%BD%EF%BC%88slot%EF%BC%89" rel="nofollow">12、具名插槽（slot）</a></p>

<p id="13%E3%80%81%E6%9C%80%E7%AE%80%E8%B7%AF%E7%94%B1demo-toc" style="margin-left:80px;"><a href="#13%E3%80%81%E6%9C%80%E7%AE%80%E8%B7%AF%E7%94%B1demo" rel="nofollow">13、最简路由demo</a></p>

<p id="14%E3%80%81%E8%B7%AF%E7%94%B1%E5%8F%82%E6%95%B0-toc" style="margin-left:80px;"><a href="#14%E3%80%81%E8%B7%AF%E7%94%B1%E5%8F%82%E6%95%B0" rel="nofollow">14、路由基础</a></p>

<p id="15%E3%80%81%E5%8A%A8%E6%80%81%E8%B7%AF%E7%94%B1-toc" style="margin-left:80px;"><a href="#15%E3%80%81%E5%8A%A8%E6%80%81%E8%B7%AF%E7%94%B1" rel="nofollow">15、动态路由</a></p>

<p id="16%E3%80%81%E5%B5%8C%E5%A5%97%E8%B7%AF%E7%94%B1-toc" style="margin-left:80px;"><a href="#16%E3%80%81%E5%B5%8C%E5%A5%97%E8%B7%AF%E7%94%B1" rel="nofollow">16、嵌套路由</a></p>

<p id="17%E3%80%81%E4%BA%8B%E4%BB%B6%E4%BF%AE%E9%A5%B0%E7%AC%A6-toc" style="margin-left:80px;"><a href="#17%E3%80%81%E4%BA%8B%E4%BB%B6%E4%BF%AE%E9%A5%B0%E7%AC%A6" rel="nofollow">17、事件修饰符</a></p>

<p id="18%E3%80%81%E8%BE%93%E5%85%A5%E6%A1%86%E8%87%AA%E5%8A%A8%E8%8E%B7%E5%8F%96%E7%84%A6%E7%82%B9-toc" style="margin-left:80px;"><a href="#18%E3%80%81%E8%BE%93%E5%85%A5%E6%A1%86%E8%87%AA%E5%8A%A8%E8%8E%B7%E5%8F%96%E7%84%A6%E7%82%B9" rel="nofollow">18、输入框自动获取焦点</a></p>

<p id="19%E3%80%81props-toc" style="margin-left:80px;"><a href="#19%E3%80%81props" rel="nofollow">19、props</a></p>

<p id="20%E3%80%81keep-alive-toc" style="margin-left:80px;"><a href="#20%E3%80%81keep-alive" rel="nofollow">20、keep-alive</a></p>

<p id="21%E3%80%81%E7%A6%81%E7%94%A8eslint-toc" style="margin-left:80px;"><a href="#21%E3%80%81%E7%A6%81%E7%94%A8eslint" rel="nofollow">21、禁用eslint</a></p>

<p id="22%E3%80%81%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7%E7%BC%93%E5%AD%98%20vs%20%E6%96%B9%E6%B3%95-toc" style="margin-left:80px;"><a href="#22%E3%80%81%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7%E7%BC%93%E5%AD%98%20vs%20%E6%96%B9%E6%B3%95" rel="nofollow">22、计算属性缓存 vs 方法</a></p>

<p id="23%E3%80%81watch%E7%9B%91%E5%90%AC%E5%B1%9E%E6%80%A7-toc" style="margin-left:80px;"><a href="#23%E3%80%81watch%E7%9B%91%E5%90%AC%E5%B1%9E%E6%80%A7" rel="nofollow">23、watch监听属性</a></p>

<p id="24%E3%80%81%E7%BC%A9%E5%86%99-toc" style="margin-left:80px;"><a href="#24%E3%80%81%E7%BC%A9%E5%86%99" rel="nofollow">24、缩写</a></p>

<p id="25%E3%80%81%E8%B4%AD%E7%89%A9%E8%BD%A6-toc" style="margin-left:80px;"><a href="#25%E3%80%81%E8%B4%AD%E7%89%A9%E8%BD%A6" rel="nofollow">25、购物车</a></p>

<p id="26%E3%80%81%E5%90%B8%E9%A1%B6-toc" style="margin-left:80px;"><a href="#26%E3%80%81%E5%90%B8%E9%A1%B6" rel="nofollow">26、吸顶</a></p>

<p id="17%E3%80%81%E7%9B%92%E6%A8%A1%E5%9E%8B-toc" style="margin-left:80px;"><a href="#17%E3%80%81%E7%9B%92%E6%A8%A1%E5%9E%8B" rel="nofollow">17、盒模型</a></p>

<p id="18%E3%80%81%E5%8D%95%E5%8F%8C%E6%8E%92%E5%92%8C%E6%A8%A1%E7%B3%8A%E6%90%9C%E7%B4%A2-toc" style="margin-left:80px;"><a href="#18%E3%80%81%E5%8D%95%E5%8F%8C%E6%8E%92%E5%92%8C%E6%A8%A1%E7%B3%8A%E6%90%9C%E7%B4%A2" rel="nofollow">18、单双排和模糊搜索</a></p>

<p id="19%E3%80%81%E5%B1%95%E5%BC%80%E6%8A%98%E5%8F%A0%E5%92%8Cloading%E6%95%88%E6%9E%9C-toc" style="margin-left:80px;"><a href="#19%E3%80%81%E5%B1%95%E5%BC%80%E6%8A%98%E5%8F%A0%E5%92%8Cloading%E6%95%88%E6%9E%9C" rel="nofollow">19、展开折叠和loading效果</a></p>

<p id="20%E3%80%81%E9%80%9A%E8%AE%AF%E5%BD%95-toc" style="margin-left:80px;"><a href="#20%E3%80%81%E9%80%9A%E8%AE%AF%E5%BD%95" rel="nofollow">20、通讯录</a></p>

<p id="%E9%A1%B9%E7%9B%AEgithub%E6%BA%90%E7%A0%81%EF%BC%9A-toc" style="margin-left:40px;"><a href="#%E9%A1%B9%E7%9B%AEgithub%E6%BA%90%E7%A0%81%EF%BC%9A" rel="nofollow">项目github源码</a></p>

<hr id="hr-toc"><p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<h2>&nbsp;</h2>

<h2 id="%E4%B8%80%E3%80%81webpack%E7%9B%B8%E5%85%B3">一、webpack相关</h2>

<h3 id="1%E3%80%81%E6%9C%80%E7%AE%80%E5%8D%95%E7%9A%84%E9%85%8D%E7%BD%AE">1、最简单的配置</h3>

<pre class="has"><code class="language-javascript">module.exports = {
  mode: 'development',
  entry: './src/main.js',
  output: {
    path: __dirname +  '/dist',
    filename: 'bundle.js'
  }
}</code></pre>

<h3 id="2%E3%80%81%E6%9C%80%E7%AE%80%E5%8D%95%E7%9A%84vue%E7%8E%AF%E5%A2%83">2、最简单的vue环境</h3>

<pre class="has"><code class="language-javascript">const VueLoaderPlugin = require('vue-loader/lib/plugin.js') 

module.exports = {
  mode: 'development',
  entry: './src/main.js',
  output: {
    path: __dirname + '/dist',
    filename: 'bundle.js'
  },
  module: {
    rules: [
      {
        test: /\.vue$/,
        loader: 'vue-loader'
      }
    ]
  },
  plugins: [
    new VueLoaderPlugin()
  ]
}</code></pre>

<p><span style="color:#f33b45;">vue-loader</span>配置参考链接：</p>

<p><a href="https://vue-loader.vuejs.org/zh/guide/#%E6%89%8B%E5%8A%A8%E8%AE%BE%E7%BD%AE" rel="nofollow">https://vue-loader.vuejs.org/zh/guide/#%E6%89%8B%E5%8A%A8%E8%AE%BE%E7%BD%AE</a></p>

<h3 id="3%E3%80%81vue%2Bdevserver">3、vue+devserver</h3>

<pre class="has"><code class="language-javascript">const VueLoaderPlugin = require('vue-loader/lib/plugin.js') 
const webpack = require('webpack')

module.exports = {
  mode: 'development',
  entry: './src/main.js',
  output: {
    path: __dirname + '/dist',
    filename: 'bundle.js'
  },
  devServer: {
    hot: true,
    inline: true,
    port: 8080,
    contentBase: __dirname + '/dist',
    open: true
  },
  module: {
    rules: [
      {
        test: /\.vue$/,
        loader: 'vue-loader'
      }
    ]
  },
  plugins: [
    new VueLoaderPlugin(),
    new webpack.HotModuleReplacementPlugin()
  ]
}</code></pre>

<p><strong><code>devServer.inline</code>：</strong></p>

<p>在 dev-server 的两种不同模式之间切换。默认情况下，应用程序启用<em>内联模式(inline mode)</em>。这意味着一段处理实时重载的脚本被插入到你的包(bundle)中，并且构建消息将会出现在浏览器控制台。</p>

<p>也可以使用 <strong>iframe 模式</strong>，它在通知栏下面使用 <code>&lt;iframe&gt;</code> 标签，包含了关于构建的消息。切换到 <strong>iframe 模式</strong></p>

<p><code>inline:true 代码改变时刷新浏览器:</code></p>

<p><code><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190831082003535.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></code></p>

<p><code>inline:false 代码改变时也会刷新浏览器：</code></p>

<p><code><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190831081842294.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></code></p>

<p><strong>hot:true</strong></p>

<p>启用 webpack 的模块热替换特性</p>

<p>代码更新时会重新加载改变的部分，而不是刷新整个页面，性能比较高</p>

<p>Note that <code>webpack.HotModuleReplacementPlugin</code> is required to fully enable HMR. If <code>webpack</code> or <code>webpack-dev-server</code> are launched with the <code>--hot</code> option, this plugin will be added automatically, so you may not need to add this to your <code>webpack.config.js</code>. See the <a href="https://www.webpackjs.com/concepts/hot-module-replacement" rel="nofollow">HMR concepts page</a> for more information.</p>

<p>hot：true，热更新插件会自动添加上，不需要手动添加</p>

<pre class="has"><code class="language-javascript">const VueLoaderPlugin = require('vue-loader/lib/plugin.js') 

module.exports = {
  mode: 'development',
  entry: './src/main.js',
  output: {
    path: __dirname + '/dist',
    filename: 'bundle.js'
  },
  devServer: {
    hot: true,
    inline: true,
    port: 8080,
    contentBase: __dirname + '/dist',
    open: true
  },
  module: {
    rules: [
      {
        test: /\.vue$/,
        loader: 'vue-loader'
      }
    ]
  },
  plugins: [
    new VueLoaderPlugin()
  ]
}</code></pre>

<h3 id="4%E3%80%81html-webpack-plugin%E6%8F%92%E4%BB%B6">4、html-webpack-plugin插件</h3>

<p><span style="color:#f33b45;">参考位置：webpack官网-》中文文档-》插件-》HtmlWebpackPlugin</span></p>

<p>参考链接：</p>

<p><a href="https://www.webpackjs.com/plugins/html-webpack-plugin/" rel="nofollow">https://www.webpackjs.com/plugins/html-webpack-plugin/</a></p>

<p>&nbsp;</p>

<p>当出口文件包含hash值是，可以动态的引用编译出来的包含hash值的文件</p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190831085026843.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<pre class="has"><code class="language-javascript">const VueLoaderPlugin = require('vue-loader/lib/plugin.js') 
const htmlWebpackPlugin = require("html-webpack-plugin")

module.exports = {
  mode: 'development',
  entry: './src/main.js',
  output: {
    path: __dirname + '/dist',
    filename: 'main-[hash].js'
  },
  devServer: {
    hot: true,
    inline: true,
    port: 8080,
    contentBase: __dirname + '/dist',
    open: true
  },
  module: {
    rules: [
      {
        test: /\.vue$/,
        loader: 'vue-loader'
      }
    ]
  },
  plugins: [
    new VueLoaderPlugin(),
    new htmlWebpackPlugin({
      template: __dirname + '/dist/index.html'
    })
  ]
}</code></pre>

<h3 id="5%E3%80%81%E4%BD%BF%E7%94%A8babel-loader%E5%B0%86js%E6%96%87%E4%BB%B6%E9%87%8C%E7%9A%84ES6%E8%BD%ACES5">5、使用babel-loader将js文件里的ES6语法转换为ES5语法</h3>

<p>首页安装三的npm包：</p>

<p>yarn add babel-loader&nbsp;@babel/core @babel/preset-env</p>

<p>Babel其实是几个模块化的包，其核心功能位于称为<span style="color:#f33b45;"><strong><code>@babel-core</code></strong></span>的npm包中，webpack可以把其不同的包整合在一起使用，对于每一个你需要的功能或拓展，你都需要安装单独的包，用得最多的是解析ES6的<span style="color:#f33b45;"><strong>@babel/preset-env</strong></span>包。</p>

<pre class="has"><code class="language-javascript">const htmlWebpackPlugin = require("html-webpack-plugin")

module.exports = {
  mode: 'development',
  devtool: 'source-map',
  entry: './src/main.js',
  output: {
    path: __dirname + '/dist',
    filename: 'bundle.js'
  },
  module: {
    rules: [
      {
        test: /\.js$/,
        exclude: /node_modules/,
        use: {
          loader: 'babel-loader',
          options: {
            presets: ['@babel/preset-env']
          }
        }
      }
    ]
  },
  plugins: [
    new htmlWebpackPlugin({
      template: __dirname + '/src/index.html'
    })
  ]
}</code></pre>

<p>箭头函数编译后变成普通函数：</p>

<pre class="has"><code class="language-javascript">const test = () =&gt; {
  console.log('hello babel!1')
}

test()</code></pre>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/2019083119034344.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<h3 id="6%E3%80%81devtool">6、devtool</h3>

<p>devtool用作调试，在找错误方面给了我们很大的帮助，然而官网的devtool有十几种配置，最常用的是source-map。</p>

<p><span style="color:#f33b45;"><strong>source-map</strong></span>这种配置会生成一个带有.map文件，这个map文件会和原始文件做一个映射，调试的时候，就是通国这个.map文件去定位原来的代码位置的。</p>

<p>&nbsp;参考链接：</p>

<p><a href="https://www.jianshu.com/p/62dc120d96d0" rel="nofollow">https://www.jianshu.com/p/62dc120d96d0</a></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190831185811671.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>编译后会生成一个后缀为.map的文件：</p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190831185951841.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>调试的时候可以看到打包前的源代码，如果没有设置devtool则看不到：</p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190831190155818.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<h3 id="7%E3%80%81style-loader%E3%80%81css-loader">7、style-loader、css-loader</h3>

<p>装包：</p>

<pre class="has"><code class="language-javascript">yarn add style-loader css-loader</code></pre>

<p>建议将 <code>style-loader</code> 与 <a href="https://github.com/webpack/css-loader" rel="nofollow"><code>css-loader</code></a> 结合使用，syle-loader和css-loader作用是不同的。</p>

<p><span style="color:#f33b45;"><strong>css-loader</strong></span>：加载.css文件</p>

<p><span style="color:#f33b45;"><strong>style-loader</strong></span>: 使用&lt;style&gt;标签将css-loader内部样式注入到HTML页面。这是通过js动态注入的。</p>

<pre class="has"><code class="language-javascript">const htmlWebpackPlugin = require("html-webpack-plugin")

module.exports = {
  mode: 'development',
  devtool: 'source-map',
  entry: './src/main.js',
  output: {
    path: __dirname + '/dist',
    filename: 'bundle.js'
  },
  module: {
    rules: [
      {
        test: /\.js$/,
        exclude: /node_modules/,
        use: {
          loader: 'babel-loader',
          options: {
            presets: ['@babel/preset-env']
          }
        }
      }, {
        test: /\.css$/,
        use: [
          {
            loader: 'style-loader'
          }, {
            loader: 'css-loader'
          }
        ]
      }
    ]
  },
  plugins: [
    new htmlWebpackPlugin({
      template: __dirname + '/src/index.html'
    })
  ]
}</code></pre>

<p>main.js使用import引入css文件</p>

<pre class="has"><code class="language-javascript">import './index.css'

const test = () =&gt; {
  console.log('hello babel!1')
}

test()</code></pre>

<p>index.css：</p>

<pre class="has"><code class="language-css">body{background: #dddddd;}</code></pre>

<p>打包后的js文件里包含注入到页面的代码：</p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190831193133587.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>注入后的效果，body背景色变成灰色了：</p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/201908311928035.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<h3 id="8%E3%80%81sass-loader">8、sass-loader</h3>

<p>装包：</p>

<pre class="has"><code class="language-javascript">yarn add node-sass sass-loader</code></pre>

<pre class="has"><code class="language-javascript">const htmlWebpackPlugin = require("html-webpack-plugin")

module.exports = {
  mode: 'development',
  devtool: 'source-map',
  entry: './src/main.js',
  output: {
    path: __dirname + '/dist',
    filename: 'bundle.js'
  },
  module: {
    rules: [
      {
        test: /\.js$/,
        exclude: /node_modules/,
        use: {
          loader: 'babel-loader',
          options: {
            presets: ['@babel/preset-env']
          }
        }
      }, {
        test: /\.css$/,
        use: [
          {
            loader: 'style-loader'
          }, {
            loader: 'css-loader'
          }
        ]
      }, {
        test: /\.scss$/,
        use: [
          {
            loader: 'style-loader'
          }, {
            loader: 'css-loader'
          }, {
            loader: 'sass-loader'
          }
        ]
      }
    ]
  },
  plugins: [
    new htmlWebpackPlugin({
      template: __dirname + '/src/index.html'
    })
  ]
}</code></pre>

<p>index.scss:</p>

<pre class="has"><code class="language-javascript">body{
  background: #dddddd;
  #app{
    height: 100px;
    background: #f66f0c;
  }
}</code></pre>

<p>注入页面后的效果：</p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190831194830392.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<h3 id="9%E3%80%81url-loader">9、url-loader和file-loader</h3>

<p>装包：</p>

<pre class="has"><code class="language-javascript">yarn add url-loader</code></pre>

<pre class="has"><code class="language-javascript">  module: {
    rules: [
      {
        test: /.(png|jpg|gif)$/,
        use: [
          {
            loader:'url-loader',
            options: {
              limit: 50000,
              name: '[path][name]-[hash].[ext]'
            }
          }
        ]
      }
    ]
  },</code></pre>

<p>limit的单位是B，50000代表50kb，小于50kb的图片将转换成base64的格式，大于50kb的图片则通过url访问，转换成base64的好处是减少图片的请求，缺点的图片会失帧。可以通过img标签的src属性引用图片，也可以通过background-img:url()引用图片。</p>

<p>Index.vue：</p>

<pre class="has"><code class="language-javascript">&lt;template&gt;
  &lt;div&gt;
    &lt;div class="m-message"&gt;{{message}}&lt;/div&gt;
    &lt;img :src="clothes_44kb"&gt;
    &lt;img :src="clothes_79kb"&gt;
    &lt;div class="m-clothes-44kb"&gt;&lt;/div&gt;
    &lt;div class="m-clothes-79kb"&gt;&lt;/div&gt;
    &lt;div class="m-count"&gt;{{count}}&lt;/div&gt;
    &lt;div&gt;
      &lt;button @click="handleSub"&gt;减&lt;/button&gt;
      &lt;button @click="handleAdd"&gt;加&lt;/button&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
import clothes_44kb from '../static/images/clothes_44kb.png'
import clothes_79kb from '../static/images/clothes_79kb.png'

export default {
  data() {
    return {
      message: 'hello vue!1',
      clothes_44kb: clothes_44kb,
      clothes_79kb: clothes_79kb,
      count: 0
    }
  },
  methods: {
    handleAdd() {
      this.count = this.count + 1
    },
    handleSub() {
      this.count = this.count - 1
    }
  }
}
&lt;/script&gt;

&lt;style&gt;
.m-count{font-size: 36px;color: #ff0000;}
&lt;/style&gt;</code></pre>

<p>index.scss:</p>

<pre class="has"><code class="language-css">.m-clothes-44kb{display: inline-block;width: 159px;height: 178px;background-image: url(./static/images/clothes_44kb.png);background-size: 100% 100%;}
.m-clothes-79kb{display: inline-block;width: 159px;height: 178px;background-image: url(./static/images/clothes_79kb.png);background-size: 100% 100%;}
</code></pre>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190901113110668.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>file-loader装包：</p>

<pre class="has"><code class="language-javascript">yarn add file-loader</code></pre>

<pre class="has"><code class="language-javascript">  module: {
    rules: [
      {
        test: /.(png|jpg|gif)$/,
        use: [
          {
            loader:'file-loader',
            options: {
              name: '[path][name]-[hash].[ext]'
            }
          }
        ]
      }
    ]
  },</code></pre>

<p>file-loader没有limit字段，所以无论图片大小是多少，都是通过url访问。url-loader可以代替file-loader。</p>

<p>&nbsp;</p>

<h3 id="10%E3%80%81mini-css-extract-plugin%EF%BC%88%E6%8F%90%E5%8F%96%E6%A0%B7%E5%BC%8F%E6%96%87%E4%BB%B6%EF%BC%89">10、mini-css-extract-plugin（提取样式文件）</h3>

<p>装包：</p>

<pre class="has"><code class="language-javascript">yarn add mini-css-extract-plugin</code></pre>

<pre class="has"><code class="language-javascript">const htmlWebpackPlugin = require("html-webpack-plugin")
const VueLoaderPlugin = require("vue-loader/lib/plugin")
const MiniCssExtractPlugin = require('mini-css-extract-plugin')

module.exports = {
  mode: 'development',
  devtool: 'source-map',
  entry: './src/main.js',
  output: {
    path: __dirname + '/dist',
    filename: 'main-[hash].js'
  },
  devServer: {
    contentBase: __dirname + '/dist',
    port: 8080,
    inline: true,
    open: true,
    hot: true,
  },
  module: {
    rules: [
      {
        test: /\.js$/,
        exclude: /node_modules/,
        use: {
          loader: 'babel-loader',
          options: {
            presets: ['@babel/preset-env']
          }
        }
      },
       {
        test: /\.css$/,
        use: [
          {
            loader: 'style-loader'
          }, {
            loader: MiniCssExtractPlugin.loader
          }, {
            loader: 'css-loader'
          }
        ]
      }, 
      {
        test: /\.scss$/,
        use: [
          {
            loader: 'style-loader'
          }, {
            loader: 'css-loader'
          }, {
            loader: 'sass-loader'
          }
        ]
      }, 
      {
        test: /.(png|jpg|gif)$/,
        use: [
          {
            loader:'url-loader',
            options: {
              limit: 50000,
              name: '[path][name]-[hash].[ext]'
            }
          }
        ]
      }, 
      {
        test: /\.vue$/,
        use: [
          {
            loader: 'vue-loader'
          }
        ]
      }
    ]
  },
  plugins: [
    new htmlWebpackPlugin({
      template: __dirname + '/src/index.html'
    }),
    new VueLoaderPlugin(),
    new MiniCssExtractPlugin({
      filename: '[name].css'
    }),
  ]
}</code></pre>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190901120601486.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>参考链接：</p>

<p><a href="https://www.npmjs.com/package/mini-css-extract-plugin" rel="nofollow">https://www.npmjs.com/package/mini-css-extract-plugin</a></p>

<h3 id="11%E3%80%81clean-webpack-plugin">11、clean-webpack-plugin</h3>

<p>打包后的文件添加hash值是为了合理的使用浏览器的缓存，但是每次打包后由于hash值都会变，所以会产生很多残余的文件，可以使用clean-webpack-plugin插件清除残余文件</p>

<pre class="has"><code class="language-javascript">const htmlWebpackPlugin = require("html-webpack-plugin")
const VueLoaderPlugin = require("vue-loader/lib/plugin")
const MiniCssExtractPlugin = require('mini-css-extract-plugin')
const { CleanWebpackPlugin } = require("clean-webpack-plugin")

module.exports = {
  mode: 'development',
  devtool: 'source-map',
  entry: './src/main.js',
  output: {
    path: __dirname + '/dist',
    filename: 'main-[hash].js'
  },
  devServer: {
    contentBase: __dirname + '/dist',
    port: 8080,
    inline: true,
    open: true,
    hot: true,
  },
  module: {
    rules: [
      {
        test: /\.js$/,
        exclude: /node_modules/,
        use: {
          loader: 'babel-loader',
          options: {
            presets: ['@babel/preset-env']
          }
        }
      },
       {
        test: /\.css$/,
        use: [
          {
            loader: 'style-loader'
          }, {
            loader: MiniCssExtractPlugin.loader
          }, {
            loader: 'css-loader'
          }
        ]
      }, 
      {
        test: /\.scss$/,
        use: [
          {
            loader: 'style-loader'
          }, {
            loader: 'css-loader'
          }, {
            loader: 'sass-loader'
          }
        ]
      }, 
      {
        test: /.(png|jpg|gif)$/,
        use: [
          {
            loader:'url-loader',
            options: {
              limit: 50000,
              name: '[path][name]-[hash].[ext]'
            }
          }
        ]
      }, 
      {
        test: /\.vue$/,
        use: [
          {
            loader: 'vue-loader'
          }
        ]
      }
    ]
  },
  plugins: [
    new htmlWebpackPlugin({
      template: __dirname + '/src/index.html'
    }),
    new VueLoaderPlugin(),
    new MiniCssExtractPlugin({
      filename: '[name].css'
    }),
    new CleanWebpackPlugin()
  ]
}</code></pre>

<p>参考链接：</p>

<p><a href="https://www.npmjs.com/package/clean-webpack-plugin" rel="nofollow">https://www.npmjs.com/package/clean-webpack-plugin</a></p>

<p>&nbsp;</p>

<h3 id="12%E3%80%81%E9%85%8D%E7%BD%AEsrc%E7%9B%AE%E5%BD%95%E8%AE%BF%E9%97%AE%E5%88%AB%E5%90%8D%EF%BC%8C%E8%87%AA%E5%8A%A8%E8%A7%A3%E6%9E%90%E7%A1%AE%E5%AE%9A%E7%9A%84%E6%89%A9%E5%B1%95">12、<span style="color:#000000;">配置src目录访问别名，</span>自动解析确定的扩展</h3>

<p>关键代码：</p>

<pre class="has"><code class="language-javascript">  resolve: {
    extensions: ['.js', '.vue'],
    alias: {
      '@': __dirname + '/src'
    }
  },</code></pre>

<p>全部代码：</p>

<pre class="has"><code class="language-javascript">const htmlWebpackPlugin = require("html-webpack-plugin")
const VueLoaderPlugin = require("vue-loader/lib/plugin")
const MiniCssExtractPlugin = require('mini-css-extract-plugin')
const { CleanWebpackPlugin } = require("clean-webpack-plugin")

module.exports = {
  mode: 'development',
  devtool: 'source-map',
  entry: './src/main.js',
  output: {
    path: __dirname + '/dist',
    filename: 'main-[hash].js'
  },
  devServer: {
    contentBase: __dirname + '/dist',
    port: 8080,
    inline: true,
    open: true,
    hot: true,
  },
  resolve: {
    extensions: ['.js', '.vue'],
    alias: {
      '@': __dirname + '/src'
    }
  },
  module: {
    rules: [
      {
        test: /\.js$/,
        exclude: /node_modules/,
        use: {
          loader: 'babel-loader',
          options: {
            presets: ['@babel/preset-env']
          }
        }
      },
      {
        test: /\.css$/,
        use: [
          {
            loader: 'style-loader'
          }, {
            loader: MiniCssExtractPlugin.loader
          }, {
            loader: 'css-loader'
          }
        ]
      },
      {
        test: /\.scss$/,
        use: [
          {
            loader: 'style-loader'
          }, {
            loader: 'css-loader'
          }, {
            loader: 'sass-loader'
          }
        ]
      },
      {
        test: /.(png|jpg|gif)$/,
        use: [
          {
            loader: 'url-loader',
            options: {
              limit: 50000,
              name: '[path][name]-[hash].[ext]'
            }
          }
        ]
      },
      {
        test: /\.vue$/,
        use: [
          {
            loader: 'vue-loader'
          }
        ]
      }
    ]
  },
  plugins: [
    new htmlWebpackPlugin({
      template: __dirname + '/src/index.html'
    }),
    new VueLoaderPlugin(),
    new MiniCssExtractPlugin({
      filename: '[name].css'
    }),
    new CleanWebpackPlugin()
  ]
}</code></pre>

<p>引用的时候用法如下（<span style="color:#f33b45;"><strong>@</strong></span>直接src目录，可以省略<span style="color:#f33b45;"><strong>.vue</strong></span>后缀名）：</p>

<pre class="has"><code class="language-javascript">import Index from '@/pages/Index'</code></pre>

<h3 id="13%E3%80%81%E5%AD%97%E4%BD%93%E6%96%87%E4%BB%B6">13、字体文件</h3>

<p>使用file-lader：</p>

<pre class="has"><code class="language-javascript">      {
        test: /\.(eot|svg|ttf|woff|woff2)$/,
        use: [
          {
            loader: 'file-loader'
          }
        ]
      },</code></pre>

<p>使用url-loader：</p>

<pre class="has"><code class="language-javascript">      {
        test: /\.(eot|svg|ttf|woff|woff2)$/,
        use: [
          {
            loader: 'url-loader'
          }
        ]
      },</code></pre>

<p>页面里使用字体：</p>

<pre class="has"><code class="language-html">    &lt;div&gt;
      &lt;span class="icon iconfont icon-naozhong m-icon"&gt;&lt;/span&gt;
      &lt;span class="icon iconfont icon-weibiaoti- m-icon"&gt;&lt;/span&gt;
      &lt;span class="icon iconfont icon-shoudaobaodan m-icon"&gt;&lt;/span&gt;
    &lt;/div&gt;</code></pre>

<p>自定义样式：</p>

<pre class="has"><code class="language-css">.m-icon{font-size: 36px!important;color: #f66f0c;}</code></pre>

<p>效果：</p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190904080635416.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>&nbsp;</p>

<p>如何获取字体文件？参考链接：</p>

<p><a href="https://www.iconfont.cn/" rel="nofollow">https://www.iconfont.cn/</a></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190904080914177.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<h2 id="%E4%BA%8C%E3%80%81vue%E7%9B%B8%E5%85%B3">二、vue相关</h2>

<h3 id="1%E3%80%81%E4%BD%BF%E7%94%A8%E8%84%9A%E6%89%8B%E6%9E%B6%E7%94%9F%E6%88%90%E7%AC%AC%E4%B8%80%E4%B8%AA%E9%A1%B9%E7%9B%AE">1、使用脚手架生成第一个项目</h3>

<p>安装脚手架：</p>

<pre class="has"><code class="language-javascript">yarn global add @vue/cli</code></pre>

<p>在终端创建项目：</p>

<pre class="has"><code class="language-javascript">vue create m-app</code></pre>

<p>&nbsp;</p>

<p>选择手动配置：</p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190901173629724.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>可以按键盘上的方向键选择你需要的组件，比如Router和Vuex，按空格选择或取消选择：</p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190901173806191.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>其余各项一路回车。</p>

<p>项目生成完成后执行下面两条命令启动项目：</p>

<p>cd m-app</p>

<p>yarn serve</p>

<p>脚手架生成的项目的目录结构：</p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190901175158554.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<h3 id="2%E3%80%81%E6%B7%BB%E5%8A%A0vue.config.js%E6%96%87%E4%BB%B6">2、添加vue.config.js文件</h3>

<p>参考链接：</p>

<p><a href="https://cli.vuejs.org/zh/guide/webpack.html#%E7%AE%80%E5%8D%95%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%B9%E5%BC%8F" rel="nofollow">https://cli.vuejs.org/zh/guide/webpack.html#%E7%AE%80%E5%8D%95%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%B9%E5%BC%8F</a></p>

<p>vue.config.js:</p>

<pre class="has"><code class="language-javascript">const bodyParser = require('body-parser')
const { list } = require('./data.js')

module.exports = {
  configureWebpack: {
    devServer: {
      open: true,
      before(app) {
        app.use(bodyParser.json())
  
        app.get('/api/list', (req, res) =&gt; {
          res.send({
            code: 200,
            data: list,
            message: '列表'
          })
        })
  
        app.post('/api/login', (req, res) =&gt; {
          let { username, password } = req.body
          if (username === 'admin' &amp;&amp; password === '123456') {
            res.send({
              code: 200,
              data: {
                username
              },
              message: '登录成功'
            })
          } else {
            res.send({
              code: 400,
              data: {
                username
              },
              message: '登录失败'
            })
          }
        })
      }
    }
  }
}
</code></pre>

<p>data.js:</p>

<pre class="has"><code class="language-javascript">const list = [{
  id: 0,
  name: '张三'
}, {
  id: 1,
  name: '李四'
}]

module.exports = {
  list
}</code></pre>

<p>get请求可以直接的浏览器里测试：</p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190902081442860.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>post请求可以用postman测试：</p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190902081523934.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>也是可以写axios请求测试post接口：</p>

<pre class="has"><code class="language-javascript">      axios({
        url: '/api/login',
        data: {
          username: 'admin',
          password: '123456'
        },
        method: 'post'
      }).then(res =&gt; {
        console.log(res)
      })</code></pre>

<h3 id="3%E3%80%81render%3A%20h%20%3D%3E%20h(App)%E7%9A%84%E8%AF%A6%E7%BB%86%E8%A7%A3%E9%87%8A">3、render: h =&gt; h(App)的详细解释</h3>

<p>脚手架生成的代码：</p>

<pre class="has"><code class="language-javascript">new Vue({
  render: h =&gt; h(App),
}).$mount('#app')</code></pre>

<p>&nbsp;</p>

<p>换成好理解的写法：</p>

<pre class="has"><code class="language-javascript">new Vue({
  render: function (createElement) {
    return createElement(App)
  }
}).$mount("#app")</code></pre>

<p>为啥用h代替createElement？尤雨溪是这么说的：</p>

<p><span style="color:#86ca5e;">It comes from the term "hyperscript", which is commonly used in many virtual-dom implementations. "Hyperscript" itself stands for "script that generates HTML structures" because HTML is the acronym for "hyper-text markup language".</span></p>

<p>它来自单词 hyperscript，这个单词通常用在 virtual-dom 的实现中。Hyperscript 本身是指<br>
生成HTML 结构的 script 脚本，因为 HTML 是 hyper-text markup language 的缩写（超文本标记语言）</p>

<p>参考链接：</p>

<p><a href="https://blog.csdn.net/helenwei2017/article/details/80743122" rel="nofollow">https://blog.csdn.net/helenwei2017/article/details/80743122</a></p>

<h3 id="4%E3%80%81%E7%BB%84%E4%BB%B6%E7%9A%84data%E4%B8%BA%E4%BB%80%E4%B9%88%E6%98%AF%E4%B8%80%E4%B8%AA%E5%87%BD%E6%95%B0">4、组件的data为什么是一个函数</h3>

<pre class="has"><code class="language-javascript">&lt;script&gt;

export default {
  data() {
    return {
      message: "hello vue!",
    }
  }
}
&lt;/script&gt;</code></pre>

<p>组件的data数据为什么必须要以<span style="color:#f33b45;"><strong>函数</strong></span>返回的形式，为什么不是简单的对象形式呢？</p>

<p>组件是可复用的<code>vue</code>实例，一个组件被创建好之后，就可能被用在各个地方，而组件不管被复用了多少次，组件中的<code>data</code>数据都应该是相互隔离，互不影响的，基于这一理念，组件每复用一次，<code>data</code>数据就应该被复制一次，之后，当某一处复用的地方组件内<code>data</code>数据被改变时，其他复用地方组件的<code>data</code>数据不受影响。</p>

<p>&nbsp;</p>

<p>参考链接：</p>

<p><a href="https://cn.vuejs.org/v2/guide/components.html#data-%E5%BF%85%E9%A1%BB%E6%98%AF%E4%B8%80%E4%B8%AA%E5%87%BD%E6%95%B0" rel="nofollow">https://cn.vuejs.org/v2/guide/components.html#data-%E5%BF%85%E9%A1%BB%E6%98%AF%E4%B8%80%E4%B8%AA%E5%87%BD%E6%95%B0</a></p>

<p><a href="https://www.cnblogs.com/wangjiachen666/p/9876266.html" rel="nofollow">https://www.cnblogs.com/wangjiachen666/p/9876266.html</a></p>

<h3 id="5%E3%80%81%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F">5、生命周期</h3>

<p>什么是生命周期：从Vue实例创建、运行、到销毁期间，总是伴随着各种各样的事件，这些事件，统称为<span style="color:#f33b45;"><strong>生命周期</strong></span></p>

<p>生命周期钩子：就是生命周期事件的别名</p>

<p>自然界的万事万物都会有一个生命周期，比如人，生老病死，比如石头，沉淀风化，最后成为泥土。</p>

<p>所以vue的组件也是有生命周期的，<span style="color:#f33b45;"><strong>三个阶段，八个钩子</strong></span></p>

<p><br><span style="color:#7c79e5;"><strong>创建期间</strong></span>的生命周期函数：<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color:#f33b45;"><strong>beforeCreate</strong></span>：实例刚在内存中被创建出来，此时，还没有初始化好 data 和 methods 属性<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color:#f33b45;"><strong>created</strong></span>：实例已经在内存中创建OK，此时 data 和 methods 已经创建OK，此时还没有开始 编译模板<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color:#f33b45;"><strong>beforeMount</strong></span>：此时已经完成了模板的编译，但是还没有挂载到页面中<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color:#f33b45;"><strong>mounted</strong></span>：此时，已经将编译好的模板，挂载到了页面指定的容器中显示<br>
&nbsp;<span style="color:#7c79e5;"><strong>运行期间</strong></span>的生命周期函数：<br>
&nbsp;&nbsp;&nbsp; &nbsp; <span style="color:#f33b45;"><strong>beforeUpdate</strong></span>：状态更新之前执行此函数， 此时 data 中的状态值是最新的，但是界面上显示的 数据还是旧的，因为此时还&nbsp;&nbsp; 没有开始重新渲染DOM节点<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color:#f33b45;"><strong>updated</strong></span>：实例更新完毕之后调用此函数，此时 data 中的状态值 和 界面上显示的数据，都已经完成了更新，界面已经被重新渲染好了！<br>
&nbsp;<span style="color:#7c79e5;"><strong>&nbsp; 销毁期间</strong></span>的生命周期函数：<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color:#f33b45;"><strong>beforeDestroy</strong></span>：实例销毁之前调用。在这一步，实例仍然完全可用。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color:#f33b45;"><strong>destroyed</strong></span>：Vue 实例销毁后调用。调用后，Vue 实例指示的所有东西都会解绑定，所有的事件监听器会被移除，所有的子实例也会被销毁。</p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190902123757512.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
 
&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
  &lt;meta http-equiv="X-UA-Compatible" content="ie=edge"&gt;
  &lt;title&gt;Document&lt;/title&gt;
  &lt;script type="text/javascript" src="../lib/vue-2.4.0.js" &gt;&lt;/script&gt;
  &lt;link rel="stylesheet" href="../lib/bootstrap-3.3.7.css"&gt;&lt;/link&gt;
&lt;/head&gt;
 
&lt;body&gt;
  &lt;div id="app"&gt;
    &lt;input type="button" value="修改msg" @click="msg='No'"&gt;
    &lt;h3 id="h3"&gt;{{ msg }}&lt;/h3&gt;
  &lt;/div&gt;
 
  &lt;script&gt;
    // 创建 Vue 实例，得到 ViewModel
    var vm = new Vue({
      el: '#app',
      data: {
        msg: 'ok'
      },
      methods: {
        show() {
          console.log('执行了show方法')
        }
      },
      beforeCreate() { // 这是我们遇到的第一个生命周期函数，表示实例完全被创建出来之前，会执行它
        // console.log(this.msg)
        // this.show()
        // 注意： 在 beforeCreate 生命周期函数执行的时候，data 和 methods 中的 数据都还没有没初始化
      },
      created() { // 这是遇到的第二个生命周期函数
        // console.log(this.msg)
        // this.show()
        //  在 created 中，data 和 methods 都已经被初始化好了！
        // 如果要调用 methods 中的方法，或者操作 data 中的数据，最早，只能在 created 中操作
      },
      beforeMount() { // 这是遇到的第3个生命周期函数，表示 模板已经在内存中编辑完成了，但是尚未把 模板渲染到 页面中
        // console.log(document.getElementById('h3').innerText)
        // 在 beforeMount 执行的时候，页面中的元素，还没有被真正替换过来，只是之前写的一些模板字符串
      },
      mounted() { // 这是遇到的第4个生命周期函数，表示，内存中的模板，已经真实的挂载到了页面中，用户已经可以看到渲染好的页面了
        // console.log(document.getElementById('h3').innerText)
        // 注意： mounted 是 实例创建期间的最后一个生命周期函数，当执行完 mounted 就表示，实例已经被完全创建好了，此时，如果没有其它操作的话，这个实例，就静静的 躺在我们的内存中，一动不动
      },
 
 
      // 接下来的是运行中的两个事件
      beforeUpdate() { // 这时候，表示 我们的界面还没有被更新【数据被更新了吗？  数据肯定被更新了】
        /* console.log('界面上元素的内容：' + document.getElementById('h3').innerText)
        console.log('data 中的 msg 数据是：' + this.msg) */
        // 得出结论： 当执行 beforeUpdate 的时候，页面中的显示的数据，还是旧的，此时 data 数据是最新的，页面尚未和 最新的数据保持同步
      },
      updated() {
        console.log('界面上元素的内容：' + document.getElementById('h3').innerText)
        console.log('data 中的 msg 数据是：' + this.msg)
        // updated 事件执行的时候，页面和 data 数据已经保持同步了，都是最新的
      }
    });
  &lt;/script&gt;
&lt;/body&gt;
 
&lt;/html&gt;</code></pre>

<h3 id="6%E3%80%81%E7%BB%84%E4%BB%B6">6、组件</h3>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190902140136992.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>使用Vue编写Header、Footer、Content三个组件，点击底部可以实现tab切换：</p>

<p><img alt="" class="has" height="669" src="https://img-blog.csdnimg.cn/20190902140437137.gif" width="492"></p>

<p>当使用 kebab-case (短横线分隔命名) 定义一个组件时，你也必须在引用这个自定义元素时使用 kebab-case，例如 <code>&lt;my-component-name&gt;</code></p>

<p>当使用 PascalCase (首字母大写命名) 定义一个组件时，你在引用这个自定义元素时两种命名法都可以使用。也就是说 <code>&lt;my-component-name&gt;</code> 和 <code>&lt;MyComponentName&gt;</code> 都是可接受的。注意，尽管如此，直接在 DOM (即非字符串的模板) 中使用时只有 kebab-case 是有效的。</p>

<p>在模块系统中局部注册:</p>

<pre class="has"><code class="language-javascript">import ComponentA from './ComponentA'
import ComponentC from './ComponentC'

export default {
  components: {
    ComponentA,
    ComponentC
  },
  // ...
}</code></pre>

<p id="Prop-的大小写-camelCase-vs-kebab-case"><a href="https://cn.vuejs.org/v2/guide/components-props.html#Prop-%E7%9A%84%E5%A4%A7%E5%B0%8F%E5%86%99-camelCase-vs-kebab-case" rel="nofollow">Prop 的大小写:</a></p>

<p>HTML 中的特性名是大小写不敏感的，所以浏览器会把所有大写字符解释为小写字符。这意味着当你使用 DOM 中的模板时，camelCase (驼峰命名法) 的 prop 名需要使用其等价的 kebab-case (短横线分隔命名) 命名：</p>

<pre class="has"><code class="language-javascript">Vue.component('blog-post', {
  // 在 JavaScript 中是 camelCase 的
  props: ['postTitle'],
  template: '&lt;h3&gt;{{ postTitle }}&lt;/h3&gt;'
})</code></pre>

<pre class="has"><code class="language-html">&lt;!-- 在 HTML 中是 kebab-case 的 --&gt;
&lt;blog-post post-title="hello!"&gt;&lt;/blog-post&gt;</code></pre>

<p>&nbsp;重申一次，如果你使用字符串模板，那么这个限制就不存在了。</p>

<p id="Prop-类型"><a href="https://cn.vuejs.org/v2/guide/components-props.html#Prop-%E7%B1%BB%E5%9E%8B" rel="nofollow">Prop 类型:</a></p>

<pre class="has"><code class="language-javascript">props: ['title', 'likes', 'isPublished', 'commentIds', 'author']</code></pre>

<pre class="has"><code class="language-javascript">props: {
  title: String,
  likes: Number,
  isPublished: Boolean,
  commentIds: Array,
  author: Object,
  callback: Function,
  contactsPromise: Promise // or any other constructor
}</code></pre>

<p id="传入一个数字"><a href="https://cn.vuejs.org/v2/guide/components-props.html#%E4%BC%A0%E5%85%A5%E4%B8%80%E4%B8%AA%E6%95%B0%E5%AD%97" rel="nofollow">传入一个数字:</a></p>

<pre class="has"><code class="language-html">&lt;!-- 即便 `42` 是静态的，我们仍然需要 `v-bind` 来告诉 Vue --&gt;
&lt;!-- 这是一个 JavaScript 表达式而不是一个字符串。--&gt;
&lt;blog-post v-bind:likes="42"&gt;&lt;/blog-post&gt;</code></pre>

<p>所有的 prop 都使得其父子 prop 之间形成了一个<strong>单向下行绑定</strong>：父级 prop 的更新会向下流动到子组件中，但是反过来则不行。这样会防止从子组件意外改变父级组件的状态，从而导致你的应用的数据流向难以理解。</p>

<p>额外的，每次父级组件发生更新时，子组件中所有的 prop 都将会刷新为最新的值。这意味着你<strong>不</strong>应该在一个子组件内部改变 prop。如果你这样做了，Vue 会在浏览器的控制台中发出警告。</p>

<p>对于绝大多数特性来说，从外部提供给组件的值会替换掉组件内部设置好的值。所以如果传入 <code>type="text"</code> 就会替换掉 <code>type="date"</code> 并把它破坏！庆幸的是，<code>class</code> 和 <code>style</code> 特性会稍微智能一些，即两边的值会被合并起来</p>

<p>始终使用 kebab-case 的事件名</p>

<h3 id="7%E3%80%81mock%E6%95%B0%E6%8D%AE">7、mock数据</h3>

<p>装包：</p>

<pre class="has"><code class="language-javascript">yarn add mockjs</code></pre>

<p>造数据：</p>

<pre class="has"><code class="language-javascript">const Mock = require('mockjs')

const mockDataList = Mock.mock({
	'list|20': [{
		'id|+1': 1,
		'name': '@cname',
		'title': '@ctitle',
		'image': '@image(300x300)',
		'address': '@county(true)'
	}]
})

console.log(mockDataList)</code></pre>

<p>参考链接：</p>

<p><a href="https://www.jianshu.com/p/d8f8afd5f238" rel="nofollow">https://www.jianshu.com/p/d8f8afd5f238</a></p>

<p>mock的数据：</p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190906202529406.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>&nbsp;</p>

<h3 id="8%E3%80%81%E4%B8%8A%E6%8B%89%E5%8A%A0%E8%BD%BD%E6%9B%B4%E5%A4%9A">8、上拉加载更多</h3>

<p>装包：</p>

<pre class="has"><code class="language-javascript">yarn add vue-scroller</code></pre>

<p><img alt="" class="has" height="748" src="https://img-blog.csdnimg.cn/20190907123228596.gif" width="835"></p>

<p>&nbsp;</p>

<p>参考链接：</p>

<p><a href="https://github.com/wangdahoo/vue-scroller" rel="nofollow">https://github.com/wangdahoo/vue-scroller</a></p>

<h3 id="9%E3%80%81%E9%BC%A0%E6%A0%87%E6%BB%91%E8%BF%87%E7%8E%B0%E5%AE%9E%E6%B6%88%E6%81%AF%E6%A1%86">9、鼠标滑过现实消息框</h3>

<p><img alt="" class="has" height="669" src="https://img-blog.csdnimg.cn/20190907122044440.gif" width="1113"></p>

<p><strong>多分几个组件： </strong></p>

<p><img alt="" class="has" height="545" src="https://img-blog.csdnimg.cn/20190907122254734.png" width="294"></p>

<p>&nbsp;</p>

<h3 id="11%E3%80%81%E5%AF%B9%E8%AF%9D%E6%A1%86%E7%BB%84%E4%BB%B6">11、对话框组件</h3>

<p>&nbsp;</p>

<p><img alt="" class="has" height="879" src="https://img-blog.csdnimg.cn/20190907143003845.gif" width="565"></p>

<p>&nbsp;</p>

<pre class="has"><code class="language-javascript">&lt;template&gt;
  &lt;div class="m-dialog-wrap" :class="{active:visible}" &gt;
    &lt;div class="m-dialog"&gt;
      &lt;div class="m-dialog-title"&gt;{{title}}&lt;/div&gt;
      &lt;span class="m-dialog-close" @click="handleCancel"&gt;X&lt;/span&gt;
      &lt;slot&gt;&lt;/slot&gt;
      &lt;div class="m-dialog-footer"&gt;
        &lt;span v-for="(item, index) in btns" :key="index" @click="item.handler" class="m-dialog-btn"&gt;{{item.text}}&lt;/span&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  props: ["visible", 'title', 'onCancel', 'btns'],
  methods: {
    handleCancel() {
      this.$emit('onCancel')
    }
  }
}
&lt;/script&gt;

&lt;style&gt;

&lt;/style&gt;</code></pre>

<h3 id="12%E3%80%81%E5%85%B7%E5%90%8D%E6%8F%92%E6%A7%BD%EF%BC%88slot%EF%BC%89">12、具名插槽（slot）</h3>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;

&lt;head&gt;
  &lt;meta charset="utf-8"&gt;
  &lt;title&gt;Vue&lt;/title&gt;
  &lt;script src="https://cdn.bootcss.com/vue/2.6.10/vue.min.js"&gt;&lt;/script&gt;
&lt;/head&gt;

&lt;body&gt;
  &lt;div id="app"&gt;
    &lt;my-header&gt;
      &lt;template v-slot:btn&gt;
        &lt;button&gt;按钮&lt;/button&gt;
      &lt;/template&gt;
      &lt;template #my-input&gt;
        &lt;input value="xu"&gt;&lt;/input&gt;
      &lt;/template&gt;
    &lt;/my-header&gt;
  &lt;/div&gt;

  &lt;script&gt;
    Vue.component('my-header', {
      template: `
        &lt;div&gt;
          &lt;div&gt;hello slot!&lt;/div&gt;
          &lt;slot name="btn"&gt;&lt;/slot&gt;
          &lt;slot name="my-input"&gt;&lt;/slot&gt;
        &lt;/div&gt;
      `
    })

    var watchExampleVM = new Vue({
      el: '#app'
    })
  &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p>&nbsp;</p>

<h3 id="13%E3%80%81%E6%9C%80%E7%AE%80%E8%B7%AF%E7%94%B1demo">13、最简路由demo</h3>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;

&lt;head&gt;
  &lt;meta charset="utf-8"&gt;
  &lt;title&gt;Vue路由&lt;/title&gt;
  &lt;style&gt;
    .router-link-active {
      color: red;
    }
  &lt;/style&gt;
  &lt;script src="https://cdn.bootcss.com/vue/2.6.10/vue.min.js"&gt;&lt;/script&gt;
  &lt;script src="https://cdn.bootcss.com/vue-router/3.1.3/vue-router.min.js"&gt;&lt;/script&gt;
&lt;/head&gt;

&lt;body&gt;
  &lt;div id="app"&gt;
    &lt;router-link to="/login"&gt;登录&lt;/router-link&gt;
    &lt;router-link to="/index"&gt;首页&lt;/router-link&gt;
    &lt;router-view&gt;&lt;/router-view&gt;
  &lt;/div&gt;
  &lt;script&gt;
    var router = new VueRouter({
      routes: [
        {
          path: '/login',
          component: { template: '&lt;div&gt;登录&lt;/div&gt;' }
        }, {
          path: '/index',
          component: { template: '&lt;div&gt;首页&lt;/div&gt;' }
        }
      ]
    })

    var app = new Vue({
      router
    }).$mount('#app')
  &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<h3 id="14%E3%80%81%E8%B7%AF%E7%94%B1%E5%8F%82%E6%95%B0">14、路由基础</h3>

<p><strong>(1)Router 构建选项</strong></p>

<pre class="has"><code class="language-javascript">import Vue from 'vue'
import Router from 'vue-router'
import Home from './views/Home.vue'

Vue.use(Router)

export default new Router({
  mode: 'history',
  base: process.env.BASE_URL,
  routes: [
    {
      path: '/',
      redirect: '/home'
    }, {
      path: '/home',
      component: Home,
    }, {
      path: '/about',
      // route level code-splitting
      // this generates a separate chunk (about.[hash].js) for this route
      // which is lazy-loaded when the route is visited.
      component: () =&gt; import(/* webpackChunkName: "about" */ './views/About.vue')
    }
  ]
})
</code></pre>

<p><strong>mode</strong></p>

<p>常用的有<span style="color:#f33b45;"><strong>hash</strong></span>和<span style="color:#f33b45;"><strong>history</strong></span>两种配置</p>

<p>history和hash都可以实现前端路由的功能，区别是前者基于url的pathname段，后者基于hash段。</p>

<p>前者：http://127.0.0.1:3000/article/num1</p>

<p>后者：http://127.0.0.1:3000/#/article/num1（不一定是这样，但#是少不了的）</p>

<p>这样的区别带来的直接问题就是当处于二级或多级路由状态时，刷新页面，前者会将当前路由发送到服务器（因为是pathname），而后者不会（因为是hash段）。</p>

<p>history模式原理：</p>

<p><img alt="" class="has" height="224" src="https://img-blog.csdnimg.cn/20190910093212196.gif" width="522"></p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;

&lt;head&gt;
  &lt;meta charset="utf-8"&gt;
  &lt;script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.js"&gt;&lt;/script&gt;
&lt;/head&gt;

&lt;body&gt;
  &lt;input type="button" value="" id="btn"&gt;
  &lt;div id="content"&gt;&lt;/div&gt;
  &lt;script&gt;
    var id = 0

    function update(id) {
      $("#btn").attr("value", id);
    }

    function addHistory(id) {
      history.pushState({ "id": id }, "", "");
    }

    window.onload = function () {
      update(id)
      addHistory(id)
    }

    $('#btn').on('click', function () {
      id = id + 1
      update(id)
      addHistory(id)
    })

    // onpopstate可以监控state变化
    window.onpopstate = function (e) {
      if (history.state) {
        var state = history.state;
        update(state.id)
        id = state.id
      }
    }
  &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p><br>
&nbsp;</p>

<p><strong>base</strong></p>

<p>默认值: <code>"/"</code></p>

<p>应用的基路径。例如，如果整个单页应用服务在 <code>/app/</code> 下，然后 <code>base</code> 就应该设为 <code>"/app/"</code></p>

<p id="routes"><strong>routes</strong></p>

<pre class="has"><code class="language-javascript">  routes: [
    {
      path: '/',
      redirect: '/home'
    }, {
      path: '/home',
      component: Home,
    }, {
      path: '/about',
      component: () =&gt; import('./views/About.vue')
    }
  ]</code></pre>

<p><strong>(2)<code>&lt;router-link&gt;</code></strong></p>

<p>渲染成a链接，点击时会跳转链接</p>

<pre class="has"><code class="language-html">      &lt;router-link to="/home" class="m-nav-item"&gt;Home&lt;/router-link&gt;
      &lt;router-link to="/about" class="m-nav-item"&gt;About&lt;/router-link&gt;</code></pre>

<p><strong>（3)&lt;router-view&gt;</strong></p>

<p>当点击&lt;router-link&gt;时，会跳转链接，链接和router配置里的链接匹配上时，把对应的组件显示在router-view里</p>

<pre class="has"><code class="language-html">&lt;router-view/&gt;</code></pre>

<p><img alt="" class="has" height="647" src="https://img-blog.csdnimg.cn/20190908175512337.gif" width="1013"></p>

<p><strong>(4)Router实例方法</strong></p>

<pre class="has"><code class="language-javascript">this.$router.push(`/detail/${id}`)</code></pre>

<p>&nbsp;当你点击 <code>&lt;router-link&gt;</code> 时，这个方法会在内部调用，所以说，点击 <code>&lt;router-link :to="..."&gt;</code> 等同于调用 <code>router.push(...)</code>。</p>

<table border="1" cellpadding="1" cellspacing="1"><thead><tr><th scope="col">生命式</th>
			<th scope="col">编程式</th>
		</tr></thead><tbody><tr><td><code>&lt;router-link :to="..."&gt;</code></td>
			<td><code>router.push(...)</code></td>
		</tr></tbody></table><pre class="has"><code class="language-javascript">// 字符串
router.push('home')

// 对象
router.push({ path: 'home' })

// 命名的路由
router.push({ name: 'user', params: { userId: '123' }})

// 带查询参数，变成 /register?plan=private
router.push({ path: 'register', query: { plan: 'private' }})
</code></pre>

<pre class="has"><code class="language-javascript">      this.$router.push(`/detail/${id}`)
      this.$router.push({ path: `/detail/${id}` })
      this.$router.push({ name: "detail", params: { id: id } });
      this.$router.push({ path: `/detail/${id}`, query: { id } });</code></pre>

<p>&nbsp;</p>

<p><strong>(5)路由对象</strong></p>

<pre class="has"><code class="language-javascript">  data() {
    return {
      id: this.$route.params.id
    }
  }</code></pre>

<p><strong>&nbsp;(6)重定向</strong></p>

<p>几种方式杂糅在一起了：</p>

<pre class="has"><code class="language-javascript">    {
      path: '/',   //匹配路由路径
      //redirect: '/home'   //重定向
      //redirect: { name: 'home' }
      redirect: (to) =&gt; {
        console.log(to)
        //return '/home'
        return {
          name: 'home'
        }
      }
    },</code></pre>

<p><strong>(7)别名</strong></p>

<pre class="has"><code class="language-javascript">{ path: '/a', component: A, alias: '/b' }</code></pre>

<p><strong>(8)路由懒加载</strong></p>

<pre class="has"><code class="language-javascript">    {
      path: '/about',
      name: 'about',
      // route level code-splitting
      // this generates a separate chunk (about.[hash].js) for this route
      // which is lazy-loaded when the route is visited.
      component: () =&gt; import(/* webpackChunkName: "about" */ './views/About.vue')
    }</code></pre>

<p>&nbsp;</p>

<p>&nbsp;</p>

<h3 id="15%E3%80%81%E5%8A%A8%E6%80%81%E8%B7%AF%E7%94%B1">15、动态路由</h3>

<pre class="has"><code class="language-javascript">import Vue from 'vue'
import Router from 'vue-router'
import Home from './views/Home.vue'

Vue.use(Router)

export default new Router({
  mode: 'history',
  base: process.env.BASE_URL,
  routes: [
    {
      path: '/',
      redirect: '/home'
    }, {
      path: '/home',
      component: Home,
    }, {
      path: '/detail/:id',
      component: () =&gt; import('./views/Detail')
    }
  ]
})
</code></pre>

<p>动态路由列表跳转详情：</p>

<p><img alt="" class="has" height="646" src="https://img-blog.csdnimg.cn/20190908185946549.gif" width="1013"></p>

<p>&nbsp;</p>

<h3 id="16%E3%80%81%E5%B5%8C%E5%A5%97%E8%B7%AF%E7%94%B1">16、嵌套路由</h3>

<p id="questionTitle"><a href="https://segmentfault.com/q/1010000014292903" rel="nofollow">路由中的path加`/`与否有什么区别？</a></p>

<p>假设你的顶层是<span style="color:#f33b45;"><strong><code>/</code>home</strong></span>，那么孩子中<span style="color:#f33b45;"><strong>me</strong></span>等同于<span style="color:#f33b45;"><strong><code>/home/</code>me</strong></span>，而<span style="color:#f33b45;"><strong><code>/</code>me</strong></span>就是<span style="color:#f33b45;"><strong><code>/</code>me</strong></span></p>

<p>在router-link里也是类似的：</p>

<pre class="has"><code class="language-html">      &lt;router-link to="hebei"&gt;河北&lt;/router-link&gt;
      &lt;router-link to="shanxi"&gt;山西&lt;/router-link&gt;</code></pre>

<pre class="has"><code class="language-html">      &lt;router-link to="/hebei"&gt;河北&lt;/router-link&gt;
      &lt;router-link to="/shanxi"&gt;山西&lt;/router-link&gt;</code></pre>

<pre class="has"><code class="language-javascript">import Vue from 'vue'
import Router from 'vue-router'
import Home from './views/Home.vue'
import NotFound from './views/NotFound'
import Index from './views/Index'
import Me from './views/Me'

Vue.use(Router)

export default new Router({
  mode: 'history',
  base: process.env.BASE_URL,
  routes: [
    {
      path: '/',
      redirect: '/home/index'
    }, {
      path: '/home',
      component: Home,
      children: [{
        path: 'index',
        component: Index
      }, {
        path: 'me',
        component: Me
      }]
    }, {
      path: '/detail/:id',
      component: () =&gt; import('./views/Detail')
    }, {
      path: '*',
      component: NotFound
    }
  ]
})
</code></pre>

<p><img alt="" class="has" height="646" src="https://img-blog.csdnimg.cn/20190908195752818.gif" width="1013"></p>

<p>&nbsp;</p>

<h3 id="17%E3%80%81%E4%BA%8B%E4%BB%B6%E4%BF%AE%E9%A5%B0%E7%AC%A6">17、事件修饰符</h3>

<pre class="has"><code class="language-javascript">&lt;input v-on:keyup.enter="submit"&gt;</code></pre>

<p>或者这样写也可以实现功能：</p>

<pre class="has"><code class="language-html">&lt;input v-model="password" @keyup="handleEnter" type="password" placeholder="请输入密码"/&gt;</code></pre>

<pre class="has"><code class="language-javascript">    handleEnter(e) {
      if (e.keyCode === 13) {
        this.login()
      }
    }</code></pre>

<h3 id="18%E3%80%81%E8%BE%93%E5%85%A5%E6%A1%86%E8%87%AA%E5%8A%A8%E8%8E%B7%E5%8F%96%E7%84%A6%E7%82%B9">18、输入框自动获取焦点</h3>

<p>ref：</p>

<pre class="has"><code class="language-html">&lt;input v-model="username" placeholder="请输入用户名" ref="username"/&gt;</code></pre>

<pre class="has"><code class="language-javascript">  mounted() {
    this.$refs.username.focus()
  }</code></pre>

<p>或者使用原生js实现：</p>

<pre class="has"><code class="language-html">&lt;input v-model="username" placeholder="请输入用户名" id="username"/&gt;</code></pre>

<pre class="has"><code class="language-javascript">  mounted() {
    document.getElementById('username').focus()
  }</code></pre>

<h3 id="19%E3%80%81props">19、props</h3>

<p>props 可以是数组或对象，用于接收来自父组件的数据。props 可以是简单的数组，或者使用对象作为替代，对象允许配置高级选项，如类型检测、自定义验证和设置默认值。</p>

<p>第一种写法：</p>

<pre class="has"><code class="language-javascript">props: ['bookNav', 'currentIndex', 'onNav']</code></pre>

<p>第二种写法：</p>

<pre class="has"><code class="language-javascript">  props: {
    bookNav: Array,
    currentIndex: {
      type: Number,
      default: 1
    },
    onNav: Function,
  },</code></pre>

<pre class="has"><code class="language-javascript">  props: {
    // 检测类型
    height: Number,
    // 检测类型 + 其他验证
    age: {
      type: Number,
      default: 0,
      required: true,
      validator: function (value) {
        return value &gt;= 0
      }
    }
  }</code></pre>

<h3 id="20%E3%80%81keep-alive">20、keep-alive</h3>

<p>可以用在&lt;router-view&gt;上，切换路由时，保持之前的状态的，但是手动刷新后，状态会丢失</p>

<pre class="has"><code class="language-html">    &lt;keep-alive&gt;
      &lt;router-view&gt;&lt;/router-view&gt;
    &lt;/keep-alive&gt;</code></pre>

<h3 id="21%E3%80%81%E7%A6%81%E7%94%A8eslint">21、禁用eslint</h3>

<p>在vue.config.js里添加下面的配置：</p>

<pre class="has"><code class="language-javascript">    module.exports = {
        lintOnSave:false //禁用eslint语法验证功能
    }</code></pre>

<h3 id="22%E3%80%81%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7%E7%BC%93%E5%AD%98%20vs%20%E6%96%B9%E6%B3%95">22、计算属性缓存 vs 方法</h3>

<p>我们可以将同一函数定义为一个方法而不是一个计算属性。两种方式的最终结果确实是完全相同的。然而，不同的是<strong>计算属性是基于它们的响应式依赖进行缓存的</strong>。只在相关响应式依赖发生改变时它们才会重新求值。而调用方法将<strong>总会</strong>再次执行函数。</p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190915093134275.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;

&lt;head&gt;
  &lt;meta charset="utf-8"&gt;
  &lt;title&gt;Vue&lt;/title&gt;
  &lt;script src="https://cdn.bootcss.com/vue/2.6.10/vue.min.js"&gt;&lt;/script&gt;
&lt;/head&gt;

&lt;body&gt;
  &lt;div id="app"&gt;
    &lt;div&gt;
      {{count}},{{double}},{{double}},{{double}},
      {{doubleByMethods()}},{{doubleByMethods()}},{{doubleByMethods()}}
    &lt;/div&gt;
  &lt;/div&gt;

  &lt;script&gt;
    new Vue({
      el: '#app',
      data() {
        return {
          count: 1
        }
      },
      computed: {
        double() {
          console.log(1)
          return this.count * 2
        }
      },
      methods: {
        doubleByMethods() {
          console.log(2)
          return this.count * 2
        }
      }
    })
  &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<h3 id="23%E3%80%81watch%E7%9B%91%E5%90%AC%E5%B1%9E%E6%80%A7">23、watch监听属性</h3>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;

&lt;head&gt;
  &lt;meta charset="utf-8"&gt;
  &lt;title&gt;Vue&lt;/title&gt;
  &lt;script src="https://cdn.bootcss.com/vue/2.6.10/vue.min.js"&gt;&lt;/script&gt;
&lt;/head&gt;

&lt;body&gt;
  &lt;div id="app"&gt;
    &lt;div&gt;
      {{count}},{{double}}
      &lt;div&gt;
        &lt;button @click="handleAdd"&gt;加&lt;/button&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;

  &lt;script&gt;
    new Vue({
      el: '#app',
      data() {
        return {
          count: 1,
          double: ''
        }
      },
      methods: {
        handleAdd() {
          this.count = this.count + 1
        }
      },
      watch: {
        count() {
          this.double = this.count * 2
        }
      }
    })
  &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p>&nbsp;</p>

<h3 id="24%E3%80%81%E7%BC%A9%E5%86%99">24、缩写</h3>

<p>参考链接：</p>

<p><a href="https://cn.vuejs.org/v2/guide/syntax.html#%E7%BC%A9%E5%86%99" rel="nofollow">https://cn.vuejs.org/v2/guide/syntax.html#%E7%BC%A9%E5%86%99</a></p>

<p><strong>v-bind缩写：</strong></p>

<pre class="has"><code class="language-javascript">&lt;!-- 完整语法 --&gt;
&lt;a v-bind:href="url"&gt;...&lt;/a&gt;

&lt;!-- 缩写 --&gt;
&lt;a :href="url"&gt;...&lt;/a&gt;</code></pre>

<p><strong>v-on缩写：</strong></p>

<pre class="has"><code class="language-javascript">&lt;!-- 完整语法 --&gt;
&lt;a v-on:click="doSomething"&gt;...&lt;/a&gt;

&lt;!-- 缩写 --&gt;
&lt;a @click="doSomething"&gt;...&lt;/a&gt;</code></pre>

<p>&nbsp;</p>

<h3 id="25%E3%80%81%E8%B4%AD%E7%89%A9%E8%BD%A6">25、购物车</h3>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190919135350624.gif"></p>

<p>&nbsp;</p>

<h3 id="26%E3%80%81%E5%90%B8%E9%A1%B6">26、吸顶</h3>

<p><img alt="" class="has" height="758" src="https://img-blog.csdnimg.cn/20190920094257478.gif" width="708"></p>

<p>&nbsp;</p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;

&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
  &lt;meta http-equiv="X-UA-Compatible" content="ie=edge"&gt;
  &lt;title&gt;Document&lt;/title&gt;
  &lt;style&gt;
    body {
      margin: 0;
    }

    .m-container {
      position: relative;
    }

    .m-sticky {
      position: sticky;
      top: 0px;
      height: 100px;
      background-color:#dddddd;
      font-size: 30px;
      text-align: center;
    }

    .m-content {
      line-height: 100px
    }
  &lt;/style&gt;
&lt;/head&gt;

&lt;body&gt;
  &lt;div class="m-container"&gt;
    &lt;p class="m-content"&gt;
      Pea horseradish azuki bean lettuce avocado asparagus okra. Kohlrabi radish okra azuki bean corn fava bean mustard
      tigernut jícama green bean celtuce.
      Pea horseradish azuki bean lettuce avocado asparagus okra. Kohlrabi radish okra azuki bean corn fava bean mustard
      tigernut jícama green bean celtuce.
      Pea horseradish azuki bean lettuce avocado asparagus okra. Kohlrabi radish okra azuki bean corn fava bean mustard
      tigernut jícama green bean celtuce.
      Pea horseradish azuki bean lettuce avocado asparagus okra. Kohlrabi radish okra azuki bean corn fava bean mustard
      tigernut jícama green bean celtuce.
      Pea horseradish azuki bean lettuce avocado asparagus okra. Kohlrabi radish okra azuki bean corn fava bean mustard
      tigernut jícama green bean celtuce.
      Pea horseradish azuki bean lettuce avocado asparagus okra. Kohlrabi radish okra azuki bean corn fava bean mustard
      tigernut jícama green bean celtuce.
    &lt;/p&gt;
    &lt;div class="m-sticky" id="m-sticky"&gt;吸顶&lt;/div&gt;
    &lt;p class="m-content"&gt;
      Grape silver beet collard greens avocado quandong fennel gumbo black-eyed pea watercress potato tigernut corn
      groundnut. Chickweed okra pea winter purslane coriander yarrow sweet pepper radish garlic brussels sprout
      groundnut summer purslane earthnut pea tomato spring onion azuki bean gourd. Gumbo kakadu plum komatsuna
      black-eyed pea green bean zucchini gourd winter purslane silver beet rock melon radish asparagus spinach.
      Grape silver beet collard greens avocado quandong fennel gumbo black-eyed pea watercress potato tigernut corn
      groundnut. Chickweed okra pea winter purslane coriander yarrow sweet pepper radish garlic brussels sprout
      groundnut summer purslane earthnut pea tomato spring onion azuki bean gourd. Gumbo kakadu plum komatsuna
      black-eyed pea green bean zucchini gourd winter purslane silver beet rock melon radish asparagus spinach.
      Grape silver beet collard greens avocado quandong fennel gumbo black-eyed pea watercress potato tigernut corn
      groundnut. Chickweed okra pea winter purslane coriander yarrow sweet pepper radish garlic brussels sprout
      groundnut summer purslane earthnut pea tomato spring onion azuki bean gourd. Gumbo kakadu plum komatsuna
      black-eyed pea green bean zucchini gourd winter purslane silver beet rock melon radish asparagus spinach.
      Grape silver beet collard greens avocado quandong fennel gumbo black-eyed pea watercress potato tigernut corn
      groundnut. Chickweed okra pea winter purslane coriander yarrow sweet pepper radish garlic brussels sprout
      groundnut summer purslane earthnut pea tomato spring onion azuki bean gourd. Gumbo kakadu plum komatsuna
      black-eyed pea green bean zucchini gourd winter purslane silver beet rock melon radish asparagus spinach.
      Grape silver beet collard greens avocado quandong fennel gumbo black-eyed pea watercress potato tigernut corn
      groundnut. Chickweed okra pea winter purslane coriander yarrow sweet pepper radish garlic brussels sprout
      groundnut summer purslane earthnut pea tomato spring onion azuki bean gourd. Gumbo kakadu plum komatsuna
      black-eyed pea green bean zucchini gourd winter purslane silver beet rock melon radish asparagus spinach.
      Grape silver beet collard greens avocado quandong fennel gumbo black-eyed pea watercress potato tigernut corn
      groundnut. Chickweed okra pea winter purslane coriander yarrow sweet pepper radish garlic brussels sprout
      groundnut summer purslane earthnut pea tomato spring onion azuki bean gourd. Gumbo kakadu plum komatsuna
      black-eyed pea green bean zucchini gourd winter purslane silver beet rock melon radish asparagus spinach.&lt;/p&gt;
  &lt;/div&gt;
  &lt;script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"&gt;&lt;/script&gt;
  &lt;script&gt;
    $('#m-sticky').on('click', (req, res) =&gt; {
      $('#m-sticky')[0].scrollIntoView(true)
    })
  &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p>&nbsp;</p>

<h3 id="17%E3%80%81%E7%9B%92%E6%A8%A1%E5%9E%8B">17、盒模型</h3>

<p><strong>border和padding都会计算在宽度和高度之内：</strong></p>

<pre class="has"><code class="language-css">box-sizing: border-box;</code></pre>

<p>&nbsp;</p>

<p><strong>border和padding都<span style="color:#f33b45;">不会</span>计算在宽度和高度之内，这也是默认属性：</strong></p>

<pre class="has"><code class="language-css">box-sizing: content-box;</code></pre>

<h3 id="18%E3%80%81%E5%8D%95%E5%8F%8C%E6%8E%92%E5%92%8C%E6%A8%A1%E7%B3%8A%E6%90%9C%E7%B4%A2">18、单双排和模糊搜索</h3>

<p><img alt="" class="has" height="401" src="https://img-blog.csdnimg.cn/20190922114736790.gif" width="513"></p>

<h3 id="19%E3%80%81%E5%B1%95%E5%BC%80%E6%8A%98%E5%8F%A0%E5%92%8Cloading%E6%95%88%E6%9E%9C">19、展开折叠和loading效果</h3>

<p><img alt="" class="has" height="754" src="https://img-blog.csdnimg.cn/201909221150262.gif" width="660"></p>

<p>&nbsp;</p>

<h3 id="20%E3%80%81%E9%80%9A%E8%AE%AF%E5%BD%95">20、通讯录</h3>

<p><img alt="" class="has" height="738" src="https://img-blog.csdnimg.cn/20190923181348808.gif" width="523"></p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<h3>21、vuex</h3>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190923161321700.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>&nbsp;</p>

<h3>22、回到顶部</h3>

<p><img alt="" class="has" height="598" src="https://img-blog.csdnimg.cn/20190924122552826.gif" width="396"></p>

<p><strong>使用scrollIntoView：</strong></p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;

&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
  &lt;meta http-equiv="X-UA-Compatible" content="ie=edge"&gt;
  &lt;title&gt;Document&lt;/title&gt;
  &lt;style&gt;
    body {
      margin: 0;
    }

    .m-container {
      position: relative;
    }

    .m-content {
      line-height: 100px
    }

    .m-top-btn {
      position: fixed;
      bottom: 50px;
      right: 50px;
    }
  &lt;/style&gt;

&lt;/head&gt;

&lt;body&gt;
  &lt;div class="m-sticky" id="m-top"&gt;&lt;/div&gt;
  &lt;div class="m-container"&gt;
    &lt;p class="m-content"&gt;
      Pea horseradish azuki bean lettuce avocado asparagus okra. Kohlrabi radish okra azuki bean corn fava bean mustard
      tigernut jícama green bean celtuce.
      Pea horseradish azuki bean lettuce avocado asparagus okra. Kohlrabi radish okra azuki bean corn fava bean mustard
      tigernut jícama green bean celtuce.
      Pea horseradish azuki bean lettuce avocado asparagus okra. Kohlrabi radish okra azuki bean corn fava bean mustard
      tigernut jícama green bean celtuce.
      Pea horseradish azuki bean lettuce avocado asparagus okra. Kohlrabi radish okra azuki bean corn fava bean mustard
      tigernut jícama green bean celtuce.
      Pea horseradish azuki bean lettuce avocado asparagus okra. Kohlrabi radish okra azuki bean corn fava bean mustard
      tigernut jícama green bean celtuce.
      Pea horseradish azuki bean lettuce avocado asparagus okra. Kohlrabi radish okra azuki bean corn fava bean mustard
      tigernut jícama green bean celtuce.
      Grape silver beet collard greens avocado quandong fennel gumbo black-eyed pea watercress potato tigernut corn
      groundnut. Chickweed okra pea winter purslane coriander yarrow sweet pepper radish garlic brussels sprout
      groundnut summer purslane earthnut pea tomato spring onion azuki bean gourd. Gumbo kakadu plum komatsuna
      black-eyed pea green bean zucchini gourd winter purslane silver beet rock melon radish asparagus spinach.
      Grape silver beet collard greens avocado quandong fennel gumbo black-eyed pea watercress potato tigernut corn
      groundnut. Chickweed okra pea winter purslane coriander yarrow sweet pepper radish garlic brussels sprout
      groundnut summer purslane earthnut pea tomato spring onion azuki bean gourd. Gumbo kakadu plum komatsuna
      black-eyed pea green bean zucchini gourd winter purslane silver beet rock melon radish asparagus spinach.
      Grape silver beet collard greens avocado quandong fennel gumbo black-eyed pea watercress potato tigernut corn
      groundnut. Chickweed okra pea winter purslane coriander yarrow sweet pepper radish garlic brussels sprout
      groundnut summer purslane earthnut pea tomato spring onion azuki bean gourd. Gumbo kakadu plum komatsuna
      black-eyed pea green bean zucchini gourd winter purslane silver beet rock melon radish asparagus spinach.
      Grape silver beet collard greens avocado quandong fennel gumbo black-eyed pea watercress potato tigernut corn
      groundnut. Chickweed okra pea winter purslane coriander yarrow sweet pepper radish garlic brussels sprout
      groundnut summer purslane earthnut pea tomato spring onion azuki bean gourd. Gumbo kakadu plum komatsuna
      black-eyed pea green bean zucchini gourd winter purslane silver beet rock melon radish asparagus spinach.
      Grape silver beet collard greens avocado quandong fennel gumbo black-eyed pea watercress potato tigernut corn
      groundnut. Chickweed okra pea winter purslane coriander yarrow sweet pepper radish garlic brussels sprout
      groundnut summer purslane earthnut pea tomato spring onion azuki bean gourd. Gumbo kakadu plum komatsuna
      black-eyed pea green bean zucchini gourd winter purslane silver beet rock melon radish asparagus spinach.
      Grape silver beet collard greens avocado quandong fennel gumbo black-eyed pea watercress potato tigernut corn
      groundnut. Chickweed okra pea winter purslane coriander yarrow sweet pepper radish garlic brussels sprout
      groundnut summer purslane earthnut pea tomato spring onion azuki bean gourd. Gumbo kakadu plum komatsuna
      black-eyed pea green bean zucchini gourd winter purslane silver beet rock melon radish asparagus spinach.&lt;/p&gt;
    &lt;button class="m-top-btn" οnclick="handleTop()"&gt;回到顶部&lt;/button&gt;
  &lt;/div&gt;
  &lt;script&gt;
    function handleTop() {
      document.getElementById('m-top').scrollIntoView(true)
    }
  &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p>使用Element-UI:</p>

<pre class="has"><code class="language-javascript">&lt;template&gt;
  &lt;div id="top" class="m-wrap"&gt;
    &lt;div class="m-height"&gt;高度2000px&lt;/div&gt;
    &lt;el-backtop target="#top"&gt;&lt;/el-backtop&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {};
&lt;/script&gt;
</code></pre>

<pre class="has"><code class="language-css">.m-wrap{position: absolute;top: 0;left: 0;right: 0;bottom: 0;overflow-y: auto;}
.m-height{height: 2000px;}</code></pre>

<h3>23、如何上传npm包</h3>

<p>1.先注册一个npm账号</p>

<p>2.在终端登录npm账号：npm login 回车输入用户名密码和邮箱</p>

<p>3.新建一个文件夹，cd到新创建的文件夹，使用npm init 生成package.json</p>

<p>4.使用npm publish上传npm包，你会收到一封邮件，在npm官网可以看到刚上传的npm包</p>

<h3>24、git</h3>

<p>1.创建项目</p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190926082932585.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190926082953882.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>2.如何使用Git命令将项目从github或者服务器上克隆下来：</p>

<pre class="has"><code class="language-javascript">git clone git@github.com:baweireact/m-app-test.git
</code></pre>

<p>3.提交代码</p>

<p>添加要上传的文件：</p>

<pre class="has"><code class="language-javascript">git add README.md
</code></pre>

<p>提交到本地：</p>

<pre class="has"><code class="language-javascript">git commit -m "first commit"
</code></pre>

<p>提交到远程：</p>

<pre class="has"><code class="language-javascript">git push origin master
</code></pre>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190926091655645.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>&nbsp;</p>

<p>加入到暂存区参考链接：</p>

<p><a href="http://www.softwhy.com/article-8489-1.html" rel="nofollow">http://www.softwhy.com/article-8489-1.html</a></p>

<pre class="has"><code class="language-javascript">git add readme.txt

git add readme.txt ant.txt

git add *.html

git add all 

git add .

git add *

git log

git status</code></pre>

<p>git add . 会把本地所有untrack的文件都加入暂存区，并且会根据.gitignore做过滤，但是git add * 会忽略.gitignore把任何文件都加入&nbsp;</p>

<p>git使用简易指南：</p>

<p><a href="https://www.bootcss.com/p/git-guide/" rel="nofollow">https://www.bootcss.com/p/git-guide/</a></p>

<p>git工作区：</p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190926094650215.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<pre class="has"><code class="language-javascript">::切换到develop分支
git checkout beta

git pull origin beta

::把develop分支的代码合并到beta上
git merge develop

git status

::push到远程beta
git push origin beta

::切换到develop分支 
git checkout develop

echo. &amp; pause </code></pre>

<p>新建分支：</p>

<pre class="has"><code class="language-javascript"> git checkout -b feature_x
</code></pre>

<p>将分支提交到远程：</p>

<pre class="has"><code class="language-javascript">git push origin feature_x</code></pre>

<p>切换分支：</p>

<pre class="has"><code class="language-javascript">git checkout master
</code></pre>

<p>查看有所有分支：</p>

<pre class="has"><code class="language-javascript">git branch -a
</code></pre>

<p>查看本地分支：</p>

<pre class="has"><code class="language-javascript">git branch
</code></pre>

<p>&nbsp;</p>

<p>在github上查看有哪些分支：</p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190926102235765.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>删除本地分支：</p>

<pre class="has"><code class="language-javascript">git branch -d feature_x
</code></pre>

<p>删除远程分支：</p>

<pre class="has"><code class="language-javascript">git push origin -d feature_x</code></pre>

<p>合并分支，合并后再提交到远程仓库（先切换到master分支，然后合并feature_login分支到master分支，然后再把合并后的代码提交到远程仓库）：</p>

<pre class="has"><code class="language-javascript">git merge feature_login

git push origin master
</code></pre>

<p>对比分支：</p>

<pre class="has"><code class="language-javascript">git diff master feature_login
</code></pre>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190926110432481.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<h2 id="%E9%A1%B9%E7%9B%AEgithub%E6%BA%90%E7%A0%81%EF%BC%9A">项目github源码</h2>

<p><a href="https://github.com/baweireact/m-vue-demo-base" rel="nofollow">https://github.com/baweireact/m-vue-demo-base</a></p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>
                                    ]]></description></item><item><title>加入购物车动画（css）</title><link>http://www.cnblogs.com/xutongbao/archive/2019/08/26/11915674.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Mon, 26 Aug 2019 03:42:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2019/08/26/11915674.html</guid><description><![CDATA[
                                            <p><img alt="" class="has" height="880" src="https://img-blog.csdnimg.cn/20190826114120373.gif" width="774">&nbsp;</p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;

&lt;head&gt;
  &lt;style&gt;
    html {
      height: 100%;
    }

    body {
      height: 100%;
      margin: 0;
    }

    .m-fly-wrap {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      z-index: 99;
    }

    .m-box {
      position: absolute;
      left: calc(50% + 200px);
    }

    .m-box.run {
      animation: box-move 1s cubic-bezier(0, 0, 1, 1);
      animation-fill-mode: forwards;
    }

    .m-inner {
      position: absolute;
      display: none;
      width: 80px;
      height: 80px;
      border-radius: 50%;
      background: #f66f0c;
      background-size: 100% 100%;
      transform: translateX(-50%);
    }

    .m-inner.run {
      display: inline-block;
      animation: inner-move 1s;
      animation-timing-function: cubic-bezier(.05, .51, .31, .82);
      animation-fill-mode: forwards;
    }

    @keyframes box-move {
      0% {
        top: 0%;
      }

      100% {
        top: 90%;
      }
    }

    @keyframes inner-move {
      0% {
        left: 0;
      }

      100% {
        left: -200px;
      }
    }
  &lt;/style&gt;

&lt;/head&gt;

&lt;body&gt;
  &lt;div class="m-fly-wrap"&gt;
    &lt;button id="m-btn1"&gt;肉夹馍&lt;/button&gt;
    &lt;button id="m-btn2"&gt;酸辣粉&lt;/button&gt;
    &lt;div id="m-box" class="m-box"&gt;
      &lt;div id="m-inner" class="m-inner"&gt;&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  &lt;script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"&gt;&lt;/script&gt;
  &lt;script&gt;

    $(function () {
      var dom = {
        btn1: $('#m-btn1'),
        btn2: $('#m-btn2'),
        box: $('#m-box'),
        inner: $('#m-inner')
      }

      function fly(img) {
        dom.box.addClass('run')
        dom.inner.addClass('run')
        dom.inner.css({ backgroundImage: 'url(' + img + ')' })
        setTimeout(function () {
          dom.box.removeClass('run')
          dom.inner.removeClass('run')
        }, 1500)
      }

      dom.btn1.on('click', function () {
        fly('http://p1.meituan.net/xianfu/3a01d174dd0f8e09035ebd12c1b9e912266444.png')
      })

      dom.btn2.on('click', function () {
        fly('http://p0.meituan.net/xianfu/5c98777fff2718063d07eb427e886e5a224202.png')
      })
    })
  &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p>&nbsp;</p>
                                    ]]></description></item><item><title>React从入门到精通（1704B）</title><link>http://www.cnblogs.com/xutongbao/archive/2019/07/30/11915675.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 30 Jul 2019 02:40:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2019/07/30/11915675.html</guid><description><![CDATA[
                                            <p id="main-toc"><strong>目录</strong></p>

<p id="%E4%B8%80%E3%80%81React%E7%AE%80%E4%BB%8B-toc" style="margin-left:80px;"><a href="#%E4%B8%80%E3%80%81React%E7%AE%80%E4%BB%8B" rel="nofollow">一、React简介</a></p>

<p id="%E4%BA%8C%E3%80%81React%E7%9A%84%E8%83%8C%E6%99%AF%E5%92%8C%E5%8E%9F%E7%90%86-toc" style="margin-left:80px;"><a href="#%E4%BA%8C%E3%80%81React%E7%9A%84%E8%83%8C%E6%99%AF%E5%92%8C%E5%8E%9F%E7%90%86" rel="nofollow">二、React的背景和原理</a></p>

<p id="%E4%B8%89%E3%80%81JSX%E7%AE%80%E4%BB%8B-toc" style="margin-left:80px;"><a href="#%E4%B8%89%E3%80%81JSX%E7%AE%80%E4%BB%8B" rel="nofollow">三、JSX简介</a></p>

<p id="%E5%9B%9B%E3%80%81React%E7%BB%84%E4%BB%B6-toc" style="margin-left:80px;"><a href="#%E5%9B%9B%E3%80%81React%E7%BB%84%E4%BB%B6" rel="nofollow">四、React组件</a></p>

<p id="%E4%BA%94%E3%80%81%E8%84%9A%E6%89%8B%E6%9E%B6-toc" style="margin-left:80px;"><a href="#%E4%BA%94%E3%80%81%E8%84%9A%E6%89%8B%E6%9E%B6" rel="nofollow">五、脚手架</a></p>

<p id="%E5%85%AD%E3%80%81%E5%BF%AB%E6%8D%B7%E6%96%B9%E5%BC%8F-toc" style="margin-left:80px;"><a href="#%E5%85%AD%E3%80%81%E5%BF%AB%E6%8D%B7%E6%96%B9%E5%BC%8F" rel="nofollow">六、快捷方式</a></p>

<p id="%E4%B8%83%E3%80%81state%E5%92%8Cprops-toc" style="margin-left:80px;"><a href="#%E4%B8%83%E3%80%81state%E5%92%8Cprops" rel="nofollow">七、state和props</a></p>

<p id="%E5%85%AB%E3%80%81-toc" style="margin-left:80px;"><a href="#%E5%85%AB%E3%80%81" rel="nofollow">八、组件</a></p>

<p id="%E4%B9%9D%E3%80%81todo%20list%E5%B0%8F%E7%BB%83%E4%B9%A0-toc" style="margin-left:80px;"><a href="#%E4%B9%9D%E3%80%81todo%20list%E5%B0%8F%E7%BB%83%E4%B9%A0" rel="nofollow">九、todo list小练习</a></p>

<p id="%E5%8D%81%E3%80%81%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F-toc" style="margin-left:80px;"><a href="#%E5%8D%81%E3%80%81%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F" rel="nofollow">十、生命周期</a></p>

<p id="%E5%8D%81%E4%B8%80%E3%80%81%E8%B7%AF%E7%94%B1-toc" style="margin-left:80px;"><a href="#%E5%8D%81%E4%B8%80%E3%80%81%E8%B7%AF%E7%94%B1" rel="nofollow">十一、路由</a></p>

<p id="%E5%8D%81%E4%BA%8C%E3%80%81%E4%BD%BF%E7%94%A8%20PropTypes%20%E8%BF%9B%E8%A1%8C%E7%B1%BB%E5%9E%8B%E6%A3%80%E6%9F%A5-toc" style="margin-left:80px;"><a href="#%E5%8D%81%E4%BA%8C%E3%80%81%E4%BD%BF%E7%94%A8%20PropTypes%20%E8%BF%9B%E8%A1%8C%E7%B1%BB%E5%9E%8B%E6%A3%80%E6%9F%A5" rel="nofollow">十二、使用 PropTypes 进行类型检查</a></p>

<p id="%E5%8D%81%E4%B8%89%E3%80%81refs%20%E5%92%8CDOM-toc" style="margin-left:80px;"><a href="#%E5%8D%81%E4%B8%89%E3%80%81refs%20%E5%92%8CDOM" rel="nofollow">十三、refs 和DOM</a></p>

<p id="%E5%8D%81%E5%9B%9B%E3%80%81ReactDOM-toc" style="margin-left:80px;"><a href="#%E5%8D%81%E5%9B%9B%E3%80%81ReactDOM" rel="nofollow">十四、ReactDOM</a></p>

<p id="%E5%8D%81%E4%BA%94%E3%80%81Mock%E6%95%B0%E6%8D%AE-toc" style="margin-left:80px;"><a href="#%E5%8D%81%E4%BA%94%E3%80%81Mock%E6%95%B0%E6%8D%AE" rel="nofollow">十五、Mock数据</a></p>

<p id="%E5%8D%81%E5%85%AD%E3%80%81antd-toc" style="margin-left:80px;"><a href="#%E5%8D%81%E5%85%AD%E3%80%81antd" rel="nofollow">十六、antd</a></p>

<p id="%E5%8D%81%E4%B8%83%E3%80%81Context-toc" style="margin-left:80px;"><a href="#%E5%8D%81%E4%B8%83%E3%80%81Context" rel="nofollow">十七、Context</a></p>

<p id="%E5%8D%81%E5%85%AB%E3%80%81%E4%BA%8B%E4%BB%B6%E7%B3%BB%E7%BB%9F-toc" style="margin-left:80px;"><a href="#%E5%8D%81%E5%85%AB%E3%80%81%E4%BA%8B%E4%BB%B6%E7%B3%BB%E7%BB%9F" rel="nofollow">十八、事件系统</a></p>

<p id="%E5%8D%81%E4%B9%9D%E3%80%81Redux.js-toc" style="margin-left:80px;"><a href="#%E5%8D%81%E4%B9%9D%E3%80%81Redux.js" rel="nofollow">十九、Redux</a></p>

<p id="%E4%BA%8C%E5%8D%81%E3%80%81redux-thunk-toc" style="margin-left:80px;"><a href="#%E4%BA%8C%E5%8D%81%E3%80%81redux-thunk" rel="nofollow">二十、redux-thunk</a></p>

<p id="%E4%BA%8C%E5%8D%81%E4%B8%80%E3%80%81flex%E4%B8%89%E6%AE%B5%E5%BC%8F-toc" style="margin-left:80px;"><a href="#%E4%BA%8C%E5%8D%81%E4%B8%80%E3%80%81flex%E4%B8%89%E6%AE%B5%E5%BC%8F" rel="nofollow">二十一、flex三段式</a></p>

<p id="%E4%BA%8C%E5%8D%81%E4%BA%8C%E3%80%81%E5%B0%8F%E7%B1%B3%E4%B9%A6%E5%9F%8E-toc" style="margin-left:80px;"><a href="#%E4%BA%8C%E5%8D%81%E4%BA%8C%E3%80%81%E5%B0%8F%E7%B1%B3%E4%B9%A6%E5%9F%8E" rel="nofollow">二十二、小米书城</a></p>

<p id="%E4%BA%8C%E5%8D%81%E4%B8%89%E3%80%81%E5%BD%93%E5%BD%93%E7%BD%91-toc" style="margin-left:80px;"><a href="#%E4%BA%8C%E5%8D%81%E4%B8%89%E3%80%81%E5%BD%93%E5%BD%93%E7%BD%91" rel="nofollow">二十三、当当网</a></p>

<p id="%E4%BA%8C%E5%8D%81%E5%9B%9B%E3%80%81%E8%BD%AE%E6%92%AD%E5%9B%BE-toc" style="margin-left:80px;"><a href="#%E4%BA%8C%E5%8D%81%E5%9B%9B%E3%80%81%E8%BD%AE%E6%92%AD%E5%9B%BE" rel="nofollow">二十四、轮播图</a></p>

<p id="%E4%BA%8C%E5%8D%81%E4%BA%94%E3%80%81%E7%99%BB%E5%BD%95%E5%92%8C%E7%BB%84%E4%BB%B6%E5%B5%8C%E5%A5%97-toc" style="margin-left:80px;"><a href="#%E4%BA%8C%E5%8D%81%E4%BA%94%E3%80%81%E7%99%BB%E5%BD%95%E5%92%8C%E7%BB%84%E4%BB%B6%E5%B5%8C%E5%A5%97" rel="nofollow">二十五、登录和组件嵌套</a></p>

<p id="%E4%BA%8C%E5%8D%81%E5%85%AD%E3%80%81%E7%8C%AB%E7%9C%BC-toc" style="margin-left:80px;"><a href="#%E4%BA%8C%E5%8D%81%E5%85%AD%E3%80%81%E7%8C%AB%E7%9C%BC" rel="nofollow">二十六、猫眼</a></p>

<p id="%E4%BA%8C%E5%8D%81%E4%B8%83%E3%80%81%E8%B4%AD%E7%89%A9%E8%BD%A6-toc" style="margin-left:80px;"><a href="#%E4%BA%8C%E5%8D%81%E4%B8%83%E3%80%81%E8%B4%AD%E7%89%A9%E8%BD%A6" rel="nofollow">二十七、购物车</a></p>

<p id="%E5%85%B6%E4%BB%96-toc" style="margin-left:80px;"><a href="#%E5%85%B6%E4%BB%96" rel="nofollow">其他</a></p>

<hr id="hr-toc"><p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<h3 id="%E4%B8%80%E3%80%81React%E7%AE%80%E4%BB%8B">一、React简介</h3>

<p>React 起源于 <strong>Facebook</strong> 的内部项目，因为该公司对市场上所有 JavaScript MVC 框架，都不满意，就决定自己写一套，用来架设 Instagram 的网站（<a href="https://www.instagram.com/" rel="nofollow">https://www.instagram.com/</a>）。做出来以后，发现这套东西很好用，就在2013年5月开源了（<a href="https://github.com/facebook/react" rel="nofollow">https://github.com/facebook/react</a>）。由于 React 的设计思想极其独特，属于革命性创新，性能出众，代码逻辑却非常简单。所以，越来越多的人开始关注和使用，认为它可能是将来 Web 开发的主流工具。</p>

<p>官方网站：<a href="https://react.docschina.org/" rel="nofollow">https://react.docschina.org/</a></p>

<p>英文官方网站：<a href="https://reactjs.org/" rel="nofollow">https://reactjs.org/</a></p>

<p>推荐书籍：<a href="https://blog.csdn.net/xutongbao/article/details/88638078" rel="nofollow">https://blog.csdn.net/xutongbao/article/details/88638078</a></p>

<p>菜鸟教程：<a href="https://www.runoob.com/react/react-tutorial.html" rel="nofollow">https://www.runoob.com/react/react-tutorial.html</a></p>

<p>中文社区：<a href="http://react-china.org/" rel="nofollow">http://react-china.org/</a></p>

<p>NPM下载量对比：<a href="https://npmcharts.com/compare/react,vue?interval=30" rel="nofollow">https://npmcharts.com/compare/react,vue?interval=30</a></p>

<p><strong>instagram：</strong></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190730103223321.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>&nbsp;</p>

<p><strong>react github:</strong></p>

<p><strong><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190730103526525.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></strong></p>

<h3 id="%E4%BA%8C%E3%80%81React%E7%9A%84%E8%83%8C%E6%99%AF%E5%92%8C%E5%8E%9F%E7%90%86">二、React的背景和原理</h3>

<p>在Web开发中，我们总需要将变化的数据实时反应到UI上，这时就需要对DOM进行操作。而复杂或频繁的DOM操作通常是性能瓶颈产生的原因（如何进行高性能的复杂DOM操作通常是衡量一个前端开发人员技能的重要指标）。</p>

<p>React为此引入了虚拟DOM（Virtual DOM）的机制：在浏览器端用Javascript实现了一套DOM API。</p>

<p><strong>Virtual DOM</strong> 本质上就是在 JS 和 DOM 之间做了一个缓存。可以类比 CPU 和硬盘，既然硬盘这么慢，我们就在它们之间加个缓存：既然 DOM 这么慢，我们就在它们 JS 和 DOM 之间加个缓存。CPU（JS）只操作内存（Virtual DOM），最后的时候再把变更写入硬盘（DOM）。</p>

<p>React在Virtual DOM上实现了DOM <strong>diff算法</strong>，当数据更新时，会通过diff算法计算出相应的更新策略，尽量只对变化的部分进行实际的浏览器的DOM更新，而不是直接重新渲染整个DOM树，从而达到提高性能的目的。</p>

<p>你给我一个数据，我根据这个数据生成一个全新的Virtual DOM，然后跟我上一次生成的Virtual DOM去 diff，得到一个Patch，然后把这个Patch打到浏览器的DOM上去。</p>

<p>你不要一步一步告诉我这件事情怎么做，什么先和面再剁馅，NO，告诉我你想要煎饼还是月饼，我会想办法去做的，不要来干扰我。</p>

<p>哪怕是我生成了virtual dom，哪怕是我跑了diff，但是我根据patch简化了那些DOM操作省下来的时间依然很可观。所以总体上来说，还是比较快。</p>

<p>用 JavaScript 对象结构表示 DOM 树的结构；然后用这个树构建一个真正的 DOM 树，插到文档当中当状态变更的时候，重新构造一棵新的对象树。然后用新的树和旧的树进行比较，记录两棵树差异，把差异应用到真正的DOM树上，视图就更新了。<br>
&nbsp;</p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190730104913288.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<h3 id="%E4%B8%89%E3%80%81JSX%E7%AE%80%E4%BB%8B">三、JSX简介</h3>

<p>HTML 语言直接写在 JavaScript 语言之中，这就是 <strong>JSX</strong>（JavaScript and XML） 的语法。JSX,是一种 JavaScript 的语法扩展，它允许 HTML 与 JavaScript 的混写。JSX是facebook为React框架开发的一套<strong>语法糖</strong>，语法糖又叫做糖衣语法，是指计算机语言中添加的某种语法，这种语法对语言的功能并没有影响，但是更方便程序员使用，它主要的目的是增加程序的可读性，从而减少程序代码错处的机会。JSX就是JS的一种语法糖，类似的还有CoffeeScript、TypeScript，最终它们都会被解析成JS才能被浏览器理解和执行，如果不解析浏览器是没有办法识别它们的，这也是所有语法糖略有不足的地方。</p>

<pre class="has"><code class="language-javascript">const element = &lt;h1&gt;Hello, world!&lt;/h1&gt;;</code></pre>

<p>上面这种看起来可能有些奇怪的标签语法既不是字符串也不是HTML，被称为 JSX，JSX带来的一大便利就是我们可以<strong>直接在JS里面写类DOM的结构</strong>，比我们用原生的JS去拼接字符串，然后再用正则替换等方式来渲染模板方便和简单太多了。推荐在 React 中使用 JSX 来描述用户界面。JSX 用来声明 React 当中的元素， 乍看起来可能比较像是模版语言，但事实上它完全是在 JavaScript 内部实现的。</p>

<p>你可以任意地在 JSX 当中使用 JavaScript 表达式，在 JSX 当中的表达式要包含在大括号里。例子如下：</p>

<pre class="has"><code class="language-javascript">const names = ['Jack', 'Tom', 'Alice'];
const element = (
  &lt;div&gt;
     { names.map(function (name) { return &lt;div&gt;Hello, {name}!&lt;/div&gt;}) }
  &lt;/div&gt;
);
</code></pre>

<p>&nbsp;</p>

<p>在书写 JSX 的时候一般都会带上换行和缩进，这样可以增强代码的可读性。与此同时，推荐在 JSX 代码的外面扩上一个<strong>小括号</strong>，这样可以防止分号自动插入的bug。</p>

<p>上面我们声明了一个names数组，然后遍历names数组在前面加上Hello，生成了element数组。JSX 允许直接在模板插入 JavaScript 变量。如果这个变量是一个数组，则会展开这个数组的所有成员。JSX 本身其实也是一种表达式，在编译之后，JSX 其实会被转化为普通的 JavaScript 对象。代码如下：</p>

<pre class="has"><code class="language-javascript">&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;meta charset="UTF-8" /&gt;
    &lt;title&gt;Hello World&lt;/title&gt;
    &lt;script src="https://unpkg.com/react@16/umd/react.development.js"&gt;&lt;/script&gt;
    &lt;script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"&gt;&lt;/script&gt;
    &lt;script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"&gt;&lt;/script&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;div id="root"&gt;&lt;/div&gt;
    &lt;script type="text/babel"&gt;
      const names = ['Jack', 'Tom', 'Alice'];
      const element = names.map(function (name, index) { return &lt;div key={index}&gt;Hello, {name}!&lt;/div&gt;});

      ReactDOM.render(
        element,
        document.getElementById('root')
      )
    &lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre>

<p>JSX属性：</p>

<p>你可以使用引号来定义以字符串为值的属性：</p>

<pre class="has"><code class="language-javascript">const element = &lt;div tabIndex="0"&gt;&lt;/div&gt;;</code></pre>

<p>也可以使用大括号来定义以 JavaScript 表达式为值的属性：</p>

<pre class="has"><code class="language-javascript">const element = &lt;img src={user.avatarUrl}&gt;&lt;/img&gt;;
</code></pre>

<p>切记当使用了大括号包裹的 JavaScript 表达式时就不要再到外面套引号了。JSX 会将引号当中的内容识别为字符串而不是表达式</p>

<h3 id="%E5%9B%9B%E3%80%81React%E7%BB%84%E4%BB%B6">四、React组件</h3>

<p>组件作为React的核心内容，是View的重要组成部分，每一个View页面都由一个或多个组件构成，可以说组件是React应用程序的基石。在React的组件构成中，按照状态来分可以分为<strong>有状态组件</strong>和<strong>无状态组件</strong>。<br>
所谓无状态组件，就是没有状态控制的组件，只做纯静态展示的作用，无状态组件是最基本的组件形式，它由属性props和渲染函数render构成。由于不涉及到状态的更新，所以这种组件的复用性也最强。<br>
有状态组件是在无状态组件的基础上增加了组件内部状态管理，有状态组件通常会带有生命周期lifecycle，用以在不同的时刻触发状态的更新，有状态组件被大量用在业务逻辑开发中。</p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190730112324964.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>接下来我们封装一个输出 "Hello World！" 的<strong>组件</strong>，组件名为 HelloMessage：&nbsp;</p>

<pre class="has"><code class="language-javascript">
function HelloMessage(props) {
    return &lt;h1&gt;Hello World!&lt;/h1&gt;;
}
 
const element = &lt;HelloMessage /&gt;;
 
ReactDOM.render(
    element,
    document.getElementById('example')
);
</code></pre>

<p>实例解析：</p>

<p>1、我们可以使用函数定义了一个组件：</p>

<pre class="has"><code class="language-javascript">function HelloMessage(props) {
    return &lt;h1&gt;Hello World!&lt;/h1&gt;;
}</code></pre>

<p>也可以使用 ES6 class 来定义一个组件:</p>

<pre class="has"><code class="language-javascript">class HelloMessage extends React.Component {
  render() {
    return &lt;h1&gt;Hello World!&lt;/h1&gt;;
  }
}</code></pre>

<p>2、<strong>const element = &lt;HelloMessage /&gt;</strong> 为用户自定义的组件。</p>

<p>注意，原生 HTML 元素名以小写字母开头，而自定义的 React 类名<strong>以大写字母开头</strong>，比如 HelloMessage 不能写成 helloMessage。除此之外还需要注意组件类只能包含<strong>一个顶层标签</strong>，否则也会报错。</p>

<p>如果我们需要向组件传递参数，可以使用 <strong>this.props</strong> 对象,实例如下：</p>

<pre class="has"><code class="language-javascript">
function HelloMessage(props) {
    return &lt;h1&gt;Hello {props.name}!&lt;/h1&gt;;
}
 
const element = &lt;HelloMessage name="Runoob"/&gt;;
 
ReactDOM.render(
    element,
    document.getElementById('example')
);
</code></pre>

<p>注意，在添加属性时， class 属性需要写成 <strong>className </strong>，for 属性需要写成 <strong>htmlFor </strong>，这是因为 class 和 for 是 JavaScript 的保留字。</p>

<p><strong>复合组件：</strong></p>

<p>我们可以通过创建多个组件来合成一个组件，即把组件的不同功能点进行分离。</p>

<p>以下实例我们实现了输出网站名字和网址的组件：</p>

<pre class="has"><code class="language-javascript">
function Name(props) {
    return &lt;h1&gt;网站名称：{props.name}&lt;/h1&gt;;
}
function Url(props) {
    return &lt;h1&gt;网站地址：{props.url}&lt;/h1&gt;;
}
function Nickname(props) {
    return &lt;h1&gt;网站小名：{props.nickname}&lt;/h1&gt;;
}
function App() {
    return (
    &lt;div&gt;
        &lt;Name name="菜鸟教程" /&gt;
        &lt;Url url="http://www.runoob.com" /&gt;
        &lt;Nickname nickname="Runoob" /&gt;
    &lt;/div&gt;
    );
}
 
ReactDOM.render(
     &lt;App /&gt;,
    document.getElementById('example')
);
</code></pre>

<h3 id="%E4%BA%94%E3%80%81%E8%84%9A%E6%89%8B%E6%9E%B6">五、脚手架</h3>

<pre class="has"><code class="language-javascript">npx create-react-app my-app
cd my-app
npm start</code></pre>

<p>参考链接：<a href="https://facebook.github.io/create-react-app/docs/getting-started" rel="nofollow">https://facebook.github.io/create-react-app/docs/getting-started</a></p>

<p>在开发react应用时，应该没有人用传统的方法引入react的源文件(js)，然后在html编辑吧。</p>

<p>大家都是用webpack + es6来结合react开发前端应用。</p>

<p>这个时候，我们可以手动使用npm来安装各种插件，来从头到尾自己搭建环境。</p>

<p>虽然自己搭建的过程也是一个很好的学习过程，但是有时候难免遇到各种问题，特别是初学者，而且每次开发一个新应用，都要自己从头搭建，未免太繁琐。</p>

<p>于是，有人根据自己的经验和最佳实践，开发了脚手架，避免开发过程中的重复造轮子和做无用功，从而节省开发时间。</p>

<p>create-react-app：<a href="https://github.com/facebook/create-react-app" rel="nofollow">https://github.com/facebook/create-react-app</a></p>

<h3 id="%E5%85%AD%E3%80%81%E5%BF%AB%E6%8D%B7%E6%96%B9%E5%BC%8F">六、快捷方式</h3>

<p>VSC 安装 ES7 React/Redux/GraphQL/React-Native snippets</p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190801141442348.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>rcc:</p>

<pre class="has"><code class="language-javascript">import React, { Component } from 'react'

export default class App extends Component {
  render() {
    return (
      &lt;div&gt;
        
      &lt;/div&gt;
    )
  }
}

</code></pre>

<p>rcreudx:</p>

<pre class="has"><code class="language-javascript">import React, { Component } from 'react'
import PropTypes from 'prop-types'
import { connect } from 'react-redux'

export class App extends Component {
  static propTypes = {
    prop: PropTypes
  }

  render() {
    return (
      &lt;div&gt;
        
      &lt;/div&gt;
    )
  }
}

const mapStateToProps = (state) =&gt; ({
  
})

const mapDispatchToProps = {
  
}

export default connect(mapStateToProps, mapDispatchToProps)(App)
</code></pre>

<p>imrc:</p>

<pre class="has"><code class="language-javascript">import React, { Component } from 'react'</code></pre>

<h3 id="%E4%B8%83%E3%80%81state%E5%92%8Cprops">七、state和props</h3>

<p><strong>1、区别</strong></p>

<p>props 是组件对<strong>外的接口</strong>，state 是组件<strong>对内的接口</strong>。组件内可以引用其他组件，组件之间的引用形成了一个树状结构（组件树），如果下层组件需要使用上层组件的数据或方法，上层组件就可以通过下层组件的props属性进行传递，因此props是组件对外的接口。组件除了使用上层组件传递的数据外，自身也可能需要维护管理数据，这就是组件对内的接口state。根据对外接口props 和对内接口state，组件计算出对应界面的UI。</p>

<p>主要区别：</p>

<ul><li>&nbsp;&nbsp;&nbsp; State是可变的，是一组用于反映组件UI变化的状态集合；</li>
	<li>&nbsp;&nbsp;&nbsp; 而Props对于使用它的组件来说，是只读的，要想修改Props，只能通过该组件的父组件修改。在组件状态上移的场景中，父组件正是通过子组件的Props, 传递给子组件其所需要的状态。</li>
</ul><p>React 的核心思想是<strong>组件化</strong>，而组件中最重要的概念是State（状态），State是一个组件的UI数据模型，是组件渲染时的数据依据。</p>

<p>状态（state） 和 属性（props） 类似，都是一个组件所需要的一些数据集合，但是state是私有的，可以认为state是组件的“私有属性（或者是局部属性）”。</p>

<p><strong>2、用setState 修改State</strong></p>

<p>直接修改state，组件并不会重新触发render()</p>

<pre class="has"><code class="language-javascript">// 错误
this.state.comment = 'Hello';</code></pre>

<p>正确的修改方式是使用setState()</p>

<pre class="has"><code class="language-javascript">// 正确
this.setState({comment: 'Hello'});</code></pre>

<p><strong>3、State 的更新是异步的</strong></p>

<p>&nbsp;</p>

<p>综上所述：<br>
this.props 和 this.state 可能是<strong>异步更新</strong>的，你不能依赖他们的值计算下一个state(状态)</p>

<ul><li>调用setState后，setState会把要修改的状态放入一个队列中（因而 组件的state并不会立即改变）；</li>
	<li>之后React 会优化真正的执行时机，来优化性能，所以优化过程中有可能会将多个 setState 的状态修改合并为一次状态修改，因而state更新可能是异步的。</li>
	<li>所以不要依赖当前的State，计算下个State。当真正执行状态修改时，依赖的this.state并不能保证是最新的State，因为React会把多次State的修改合并成一次，这时，this.state将还是这几次State修改前的State。另外需要注意的事，同样不能依赖当前的Props计算下个状态，因为Props一般也是从父组件的State中获取，依然无法确定在组件状态更新时的值。</li>
</ul><h3 id="%E5%85%AB%E3%80%81">八、组件</h3>

<p>父子组件传值，子组件调用父组件的方法</p>

<p>Control.js:</p>

<pre class="has"><code class="language-html">import React, {Component} from 'react'

class Control extends Component {
  constructor(props) {
    super(props)
  }
  handleAdd() {
    this.props.onAdd()
  }
  render() {
    return (
      &lt;div&gt;
        &lt;button onClick={this.handleAdd.bind(this)}&gt;加&lt;/button&gt;
      &lt;/div&gt;
    )
  }
}

export default Control</code></pre>

<p>Index.js:</p>

<pre class="has"><code class="language-javascript">import React, {Component} from 'react'
import Control from '../components/Control.js'

class Index extends Component {
  constructor(props) {
    super(props)
    this.state = {
      count: 0
    }
  }

  handleAdd() {
    let {count} = this.state
    count = count + 1
    this.setState({
      count
    })
  }

  render() {
    let {count} = this.state
    return (
      &lt;div&gt;
        &lt;div&gt;{count}&lt;/div&gt;
        &lt;div&gt;
          &lt;Control onAdd={this.handleAdd.bind(this)}/&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    )
  }
}

export default Index</code></pre>

<h3 id="%E4%B9%9D%E3%80%81todo%20list%E5%B0%8F%E7%BB%83%E4%B9%A0">九、todo list小练习</h3>

<p><a href="http://www.todolist.cn/" rel="nofollow">http://www.todolist.cn/</a></p>

<p>一个元素的 key 最好是这个元素在列表中拥有的一个独一无二的字符串。通常，我们使用来自数据 id 来作为元素的 key：</p>

<pre class="has"><code class="language-javascript">const todoItems = todos.map((todo) =&gt;
  &lt;li key={todo.id}&gt;
    {todo.text}
  &lt;/li&gt;
);</code></pre>

<p><strong>github地址：</strong></p>

<p><strong><a href="https://github.com/baweireact/m-react-demo-base/tree/master/06todolist%EF%BC%88%E7%BB%84%E4%BB%B6%E5%8C%96%EF%BC%89" rel="nofollow">https://github.com/baweireact/m-react-demo-base/tree/master/06todolist%EF%BC%88%E7%BB%84%E4%BB%B6%E5%8C%96%EF%BC%89</a></strong></p>

<p>&nbsp;</p>

<p>动画版todolist：</p>

<p><a href="http://chenglou.github.io/react-motion/demos/demo3-todomvc-list-transition/" rel="nofollow">http://chenglou.github.io/react-motion/demos/demo3-todomvc-list-transition/</a></p>

<p>&nbsp;</p>

<h3 id="%E5%8D%81%E3%80%81%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F">十、生命周期</h3>

<p><strong>常用的：</strong></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190805084227262.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><strong>包括不常用的：</strong></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190805084253346.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><strong>React v16.0前的生命周期：</strong><strong> </strong></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190805084624860.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>参考链接：<a href="http://projects.wojtekmaj.pl/react-lifecycle-methods-diagram/" rel="nofollow">http://projects.wojtekmaj.pl/react-lifecycle-methods-diagram/</a></p>

<p>文字叙述：<a href="https://zh-hans.reactjs.org/docs/react-component.html" rel="nofollow">https://zh-hans.reactjs.org/docs/react-component.html</a></p>

<p>实例期： componentWillMount render componentDidMount</p>

<p>存在期： componentWillReceiveProps shouldComponentUpdate componentWillUpdate render componentDidUpdate</p>

<p>销毁期： componentWillUnmount</p>

<p><strong>最新推出的生命周期：</strong></p>

<p id="static-getderivedstatefromprops"><span style="color:#f33b45;"><strong><code>getDerivedStateFromProps：</code></strong></span></p>

<p><strong><code>父组件：</code></strong></p>

<pre class="has"><code class="language-javascript">import React, { Component } from 'react'
import Count from '../components/Count.js'

class Index extends Component {
  constructor(props) {
    super(props);
    this.state = {
      count: 0
    }
  }

  handleAdd() {
    let {count} = this.state
    count = count + 1
    this.setState({
      count
    })
  }

  componentDidMount() {
  }
  render() {
    let {count} = this.state
    return (
      &lt;div&gt;
        &lt;Count count={count}&gt;&lt;/Count&gt;
        &lt;button onClick={this.handleAdd.bind(this)}&gt;加&lt;/button&gt;
      &lt;/div&gt;)
  }
}

export default Index</code></pre>

<p>子组件：</p>

<pre class="has"><code class="language-javascript">import React, {Component} from 'react'

class Count extends Component {
  constructor(props) {
    super(props)
    this.state = {
      count: 0
    }
  }
  static getDerivedStateFromProps(props, state) {
    return {
      count: props.count
    }
  }
  render() {
    let { count } = this.state
    return (
      &lt;div&gt;
        {count}
      &lt;/div&gt;
    )
  }
}

export default Count</code></pre>

<p><span style="color:#f33b45;">getSnapshotBeforeUpdate</span></p>

<p>父组件：</p>

<pre class="has"><code class="language-javascript">import React, { Component } from 'react'
import ScrollingList from '../components/ScrollingList.js'

class Index extends Component {
  constructor(props) {
    super(props);
    this.state = {
      list:[]
    }
  }

  handleAdd() {
    let {list} = this.state
    list.unshift({
      id: (new Date()).getTime(),
      text: 'xu' + (new Date()).getTime(),
    })
    this.setState({
      list
    })
  }
  render() {
    let {
      list
    } = this.state
    return (
      &lt;div&gt;
        &lt;button onClick={this.handleAdd.bind(this)}&gt;加&lt;/button&gt;
        &lt;ScrollingList list={list}&gt;&lt;/ScrollingList&gt;
      &lt;/div&gt;
    );
  }
}

export default Index</code></pre>

<p>子组件：</p>

<pre class="has"><code class="language-javascript">import React, { Component } from 'react'
import './index.css'

class ScrollingList extends Component {
  constructor(props) {
    super(props);
    this.listRef = React.createRef();
  }

  getSnapshotBeforeUpdate(prevProps, prevState) {
    // 我们是否在 list 中添加新的 items ？
    // 捕获滚动位置以便我们稍后调整滚动位置。
    if (prevProps.list.length &lt; this.props.list.length || true) {
      const list = this.listRef.current;
      return list.scrollHeight - list.scrollTop;
    }
    return null;
  }

  componentDidUpdate(prevProps, prevState, snapshot) {
    // 如果我们 snapshot 有值，说明我们刚刚添加了新的 items，
    // 调整滚动位置使得这些新 items 不会将旧的 items 推出视图。
    // （这里的 snapshot 是 getSnapshotBeforeUpdate 的返回值）
    if (snapshot !== null) {
      const list = this.listRef.current;
      list.scrollTop = list.scrollHeight - snapshot;
      //list.scrollTop = snapshot
    }
  }

  render() {
    let {
      list
    } = this.props
    return (
      &lt;div&gt;
        &lt;ul className="m-list-wrap" ref={this.listRef}&gt;
          {
            list.map(item =&gt; (
              &lt;li key={item.id}&gt;
                {item.text}
              &lt;/li&gt;
            ))
          }
        &lt;/ul&gt;
      &lt;/div&gt;
    );
  }
}

export default ScrollingList</code></pre>

<h3 id="%E5%8D%81%E4%B8%80%E3%80%81%E8%B7%AF%E7%94%B1">十一、路由</h3>

<p>参考链接：<a href="https://reacttraining.com/react-router/web/api/BrowserRouter" rel="nofollow">https://reacttraining.com/react-router/web/api/BrowserRouter</a></p>

<p>常用api有：</p>

<p>BrowserRouter：包裹根组件</p>

<p>Switch： 有&lt;Switch&gt;标签，则其中的&lt;Route&gt;在路径相同的情况下，只匹配第一个，这个可以避免重复匹配</p>

<p>Route：路由</p>

<p>Link ：链接</p>

<p>withRouter：包裹组件，包裹后组件的props会增加三个属性： match, location, history</p>

<p>1）通过js跳转路由：this.props.history.push('/tasklist')</p>

<p>2）获取动态路由参数</p>

<p>&nbsp;&nbsp;&nbsp; let { match } = this.props<br>
&nbsp;&nbsp;&nbsp; if (match.params.new === 'new') {<br>
&nbsp;&nbsp;&nbsp; }</p>

<p>3）获取路径名：&lt;div&gt;{this.props.location.pathname}&lt;/div&gt;</p>

<p>&nbsp;首先加上了Switch，其次加入了exact。加入Switch表示，只显示一个组件。加exact表示精确匹配/</p>

<p>嵌套路由，从广义上来说，分为两种情况：一种是每个路由到的组件都有共有的内容，这时把共有的内容抽离成一个组件，变化的内容也是一个组件，两种组件组合嵌套，形成一个新的组件。另一种是子路由，路由到的组件内部还有路由。</p>

<p>对于共有的内容，典型的代表就是网页的侧边栏，假设侧边栏在左边，我们点击其中的按钮时，右侧的内容会变化，但不管右侧的内容怎么变化，左侧的侧边栏始终存在。<br>
&nbsp;</p>

<p><strong>BrowserRouter </strong>和 <strong>HashRouter&nbsp;</strong>都可以实现前端路由的功能，区别是前者基于url的<strong>pathname</strong>段，后者基于<strong>hash</strong>段。</p>

<p>前者：http://127.0.0.1:3000/article/num1</p>

<p>后者：http://127.0.0.1:3000/#/article/num1（不一定是这样，但#是少不了的）</p>

<p>这样的区别带来的直接问题就是当处于二级或多级路由状态时，刷新页面，前者会将当前路由发送到服务器（因为是pathname），而后者不会（因为是hash段）。</p>

<p><strong>多级路由：</strong></p>

<p><img alt="" class="has" height="875" src="https://img-blog.csdnimg.cn/20190815130055823.gif" width="949"></p>

<p><strong>使用<span style="color:#f33b45;">react-router-dom</span> router.js:</strong></p>

<pre class="has"><code class="language-javascript">import React, { Component } from 'react'
import { Switch, Route, Redirect } from 'react-router-dom'
import Login from '../pages/Login.js'
import Header from '../components/Header.js'
import Sidebar from '../components/Sidebar.js'
import CityNav from '../components/CityNav.js'
import CityNavForShanDong from '../components/CityNavForShanDong.js'
import DistrictNav from '../components/DistrictNav.js'
import ShanXi from '../pages/province/ShanXi.js'
import TangShan from '../pages/province/city/TangShan.js'
import QinHuangDao from '../pages/province/city/QinHuangDao.js'
import JiNan from '../pages/province/city/JiNan.js'
import QingDao from '../pages/province/city/QingDao.js'
import YanTai from '../pages/province/city/YanTai.js'
import ChangAn from '../pages/province/city/district/ChangAn.js'
import QiaoXi from '../pages/province/city/district/QiaoXi.js'
import XinHua from '../pages/province/city/district/XinHua.js'
import './index.css'


class Router extends Component {
  render() {
    return (
      &lt;div&gt;
        &lt;Switch&gt;
          &lt;Route path='/' exact={true} component={Login}&gt;&lt;/Route&gt;
          &lt;Route path='/index'&gt;
            &lt;Route&gt;
              &lt;Header&gt;&lt;/Header&gt;
              &lt;Sidebar&gt;&lt;/Sidebar&gt;
            &lt;/Route&gt;
            &lt;Switch&gt;
              &lt;Route path="/index/hebei"&gt;
                &lt;Route&gt;
                  &lt;CityNav&gt;&lt;/CityNav&gt;
                &lt;/Route&gt;
                &lt;Switch&gt;
                  &lt;Route path="/index/hebei/shijiazhuang"&gt;
                    &lt;Route&gt;
                      &lt;DistrictNav&gt;&lt;/DistrictNav&gt;
                    &lt;/Route&gt;
                    &lt;Switch&gt;
                      &lt;Route path="/index/hebei/shijiazhuang/changan" component={ChangAn}&gt;&lt;/Route&gt;
                      &lt;Route path="/index/hebei/shijiazhuang/qiaoxi" component={QiaoXi}&gt;&lt;/Route&gt;
                      &lt;Route path="/index/hebei/shijiazhuang/xinhua" component={XinHua}&gt;&lt;/Route&gt;
                    &lt;/Switch&gt;
                  &lt;/Route&gt;
                  &lt;Route path="/index/hebei/tangshan" component={TangShan}&gt;&lt;/Route&gt;
                  &lt;Route path="/index/hebei/qinhuangdao" component={QinHuangDao}&gt;&lt;/Route&gt;
                &lt;/Switch&gt;
              &lt;/Route&gt;
              &lt;Route path="/index/shandong"&gt;
                &lt;Route&gt;
                  &lt;CityNavForShanDong&gt;&lt;/CityNavForShanDong&gt;
                &lt;/Route&gt;
                &lt;Route path="/index/shandong/jinan" component={JiNan}&gt;&lt;/Route&gt;
                &lt;Route path="/index/shandong/qingdao" component={QingDao}&gt;&lt;/Route&gt;
                &lt;Route path="/index/shandong/yantai" component={YanTai}&gt;&lt;/Route&gt;
              &lt;/Route&gt;
              &lt;Route path="/index/shanxi" component={ShanXi}&gt;&lt;/Route&gt;
            &lt;/Switch&gt;
          &lt;/Route&gt;
        &lt;/Switch&gt;
      &lt;/div&gt;
    )
  }
}

export default Router
</code></pre>

<p>github源码（使用react-router-dom）：</p>

<p><a href="https://github.com/baweireact/m-react-demo-base/tree/master/22%E5%A4%9A%E7%BA%A7%E8%B7%AF%E7%94%B1(%E4%BD%BF%E7%94%A8react-router-dom)" rel="nofollow">https://github.com/baweireact/m-react-demo-base/tree/master/22%E5%A4%9A%E7%BA%A7%E8%B7%AF%E7%94%B1(%E4%BD%BF%E7%94%A8react-router-dom)</a></p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p><strong>使用<span style="color:#f33b45;">react-router-config </span>routerConfig.js:</strong></p>

<pre class="has"><code class="language-javascript">import React from 'react';
import { renderRoutes } from "react-router-config";
import Login from '../pages/Login.js'
import Header from '../components/Header.js'
import Sidebar from '../components/Sidebar.js'
import CityNav from '../components/CityNav.js'
import CityNavForShanDong from '../components/CityNavForShanDong.js'
import DistrictNav from '../components/DistrictNav.js'
import ShanXi from '../pages/province/ShanXi.js'
import TangShan from '../pages/province/city/TangShan.js'
import QinHuangDao from '../pages/province/city/QinHuangDao.js'
import JiNan from '../pages/province/city/JiNan.js'
import QingDao from '../pages/province/city/QingDao.js'
import YanTai from '../pages/province/city/YanTai.js'
import ChangAn from '../pages/province/city/district/ChangAn.js'
import QiaoXi from '../pages/province/city/district/QiaoXi.js'
import XinHua from '../pages/province/city/district/XinHua.js'

const Root = ({ route }) =&gt; (
  &lt;div&gt;
    {renderRoutes(route.routes)}
  &lt;/div&gt;
);
const Index = ({ route }) =&gt; (
  &lt;div&gt;
    &lt;Header&gt;&lt;/Header&gt;
    &lt;Sidebar&gt;&lt;/Sidebar&gt;
    {renderRoutes(route.routes)}
  &lt;/div&gt;
);

const HeBei = ({ route }) =&gt; (
  &lt;div&gt;
    &lt;CityNav&gt;&lt;/CityNav&gt;
    {renderRoutes(route.routes)}
  &lt;/div&gt;
);

const ShiJiaZhuang = ({ route }) =&gt; (
  &lt;div&gt;
    &lt;DistrictNav&gt;&lt;/DistrictNav&gt;
    {renderRoutes(route.routes)}
  &lt;/div&gt;
);

const ShanDong = ({ route }) =&gt; (
  &lt;div&gt;
    &lt;CityNavForShanDong&gt;&lt;/CityNavForShanDong&gt;
    {renderRoutes(route.routes)}
  &lt;/div&gt;
);

const routes = [
  {
    component: Root,
    routes: [
      {
        path: "/",
        exact: true,
        component: Login
      },
      {
        path: "/index",
        component: Index,
        routes: [
          {
            path: "/index/hebei",
            component: HeBei,
            routes: [
              {
                path: "/index/hebei/shijiazhuang",
                component: ShiJiaZhuang,
                routes: [
                  {
                    path: '/index/hebei/shijiazhuang/changan',
                    component: ChangAn,
                  },
                  {
                    path: '/index/hebei/shijiazhuang/qiaoxi',
                    component: QiaoXi,
                  },
                  {
                    path: '/index/hebei/shijiazhuang/xinhua',
                    component: XinHua,
                  }
                ]
              },
              {
                path: "/index/hebei/tangshan",
                component: TangShan
              },
              {
                path: "/index/hebei/qinhuangdao",
                component: QinHuangDao,
              }
            ]
          }, 
          {
            path: "/index/shandong",
            component: ShanDong,
            routes: [
              {
                path: "/index/shandong/jinan",
                component: JiNan
              },
              {
                path: "/index/shandong/qingdao",
                component: QingDao
              },
              {
                path: "/index/shandong/yantai",
                component: YanTai
              }
            ]
          },
          {
            path: "/index/shanxi",
            component: ShanXi
          }
        ]
      }
    ]
  }
];

export default routes</code></pre>

<p>github地址（使用react-router-coinfg）：</p>

<p><a href="https://github.com/baweireact/m-react-demo-base/tree/master/23%E5%A4%9A%E7%BA%A7%E8%B7%AF%E7%94%B1%EF%BC%88%E4%BD%BF%E7%94%A8react-router-config)" rel="nofollow">https://github.com/baweireact/m-react-demo-base/tree/master/23%E5%A4%9A%E7%BA%A7%E8%B7%AF%E7%94%B1%EF%BC%88%E4%BD%BF%E7%94%A8react-router-config)</a></p>

<p>&nbsp;</p>

<p><strong>拆分后更好维护：</strong></p>

<pre class="has"><code class="language-javascript">import React, { Component } from 'react'
import { Switch, Route, Redirect } from 'react-router-dom'
import Login from '../pages/Login'
import ShanDong from '../pages/ShanDong'
import ShanXi from '../pages/ShanXi'
import ShiJiaZhuang from '../pages/ShiJiaZhuang'
import ZhangJiaKou from '../pages/ZhangJiaKou'
import ChengDe from '../pages/ChengDe'
import NoFound from '../pages/NoFound'
import Header from '../components/Header'
import Sidebar from '../components/Sidebar'
import HeBeiCity from '../components/HeBeiCity'
import './index.css'

const HeBei = () =&gt; {
  return (
    &lt;&gt;
      &lt;Route&gt;
        &lt;HeBeiCity&gt;&lt;/HeBeiCity&gt;
      &lt;/Route&gt;
      &lt;Route path="/index/hebei/shijiazhuang" component={ShiJiaZhuang}&gt;&lt;/Route&gt;
      &lt;Route path="/index/hebei/zhangjiakou" component={ZhangJiaKou}&gt;&lt;/Route&gt;
      &lt;Route path="/index/hebei/chengde" component={ChengDe}&gt;&lt;/Route&gt;
    &lt;/&gt;
  )
}

const Index = () =&gt; {
  return (
    &lt;&gt;
      &lt;Route&gt;
        &lt;Header&gt;&lt;/Header&gt;
        &lt;Sidebar&gt;&lt;/Sidebar&gt;
      &lt;/Route&gt;
      &lt;Switch&gt;
        &lt;Route path="/index/hebei" component={HeBei}&gt;&lt;/Route&gt;
        &lt;Route path="/index/shandong" component={ShanDong}&gt;&lt;/Route&gt;
        &lt;Route path="/index/shanxi" component={ShanXi}&gt;&lt;/Route&gt;
      &lt;/Switch&gt;
    &lt;/&gt;
  )
}

export default class Router extends Component {
  render() {
    return (
      &lt;&gt;
        &lt;Switch&gt;
          &lt;Redirect exact from="/" to="/login"&gt;&lt;/Redirect&gt;
          &lt;Redirect exact from="/index/hebei" to="/index/hebei/shijiazhuang"&gt;&lt;/Redirect&gt;
          &lt;Route path="/login" component={Login}&gt;&lt;/Route&gt;
          &lt;Route path="/index" component={Index}&gt;&lt;/Route&gt;
          &lt;Route component={NoFound}&gt;&lt;/Route&gt;
        &lt;/Switch&gt;
      &lt;/&gt;
    )
  }
}
</code></pre>

<p>github源代码：</p>

<p><a href="https://github.com/baweireact/m-react-demo-base/tree/master/28%E5%A4%9A%E7%BA%A7%E8%B7%AF%E7%94%B1%EF%BC%88%E5%8C%85%E6%8B%AC%E9%87%8D%E5%AE%9A%E5%90%91%E3%80%81404%E9%A1%B5%E9%9D%A2%E3%80%81%E4%BB%A5%E5%8F%8A%E8%B7%AF%E7%94%B1%E6%8B%86%E5%88%86%E6%9B%B4%E5%88%A9%E4%BA%8E%E7%BB%B4%E6%8A%A4%EF%BC%8C%E4%BD%BF%E7%94%A8react-router-dom%EF%BC%89" rel="nofollow">https://github.com/baweireact/m-react-demo-base/tree/master/28%E5%A4%9A%E7%BA%A7%E8%B7%AF%E7%94%B1%EF%BC%88%E5%8C%85%E6%8B%AC%E9%87%8D%E5%AE%9A%E5%90%91%E3%80%81404%E9%A1%B5%E9%9D%A2%E3%80%81%E4%BB%A5%E5%8F%8A%E8%B7%AF%E7%94%B1%E6%8B%86%E5%88%86%E6%9B%B4%E5%88%A9%E4%BA%8E%E7%BB%B4%E6%8A%A4%EF%BC%8C%E4%BD%BF%E7%94%A8react-router-dom%EF%BC%89</a></p>

<p>&nbsp;</p>

<h3 id="%E5%8D%81%E4%BA%8C%E3%80%81%E4%BD%BF%E7%94%A8%20PropTypes%20%E8%BF%9B%E8%A1%8C%E7%B1%BB%E5%9E%8B%E6%A3%80%E6%9F%A5">十二、使用 PropTypes 进行类型检查</h3>

<p>参考链接：<a href="https://zh-hans.reactjs.org/docs/typechecking-with-proptypes.html#___gatsby" rel="nofollow">https://zh-hans.reactjs.org/docs/typechecking-with-proptypes.html#___gatsby</a></p>

<p>&nbsp;</p>

<h3 id="%E5%8D%81%E4%B8%89%E3%80%81refs%20%E5%92%8CDOM">十三、refs 和DOM</h3>

<p>参考链接：<a href="https://zh-hans.reactjs.org/docs/refs-and-the-dom.html#___gatsby" rel="nofollow">https://zh-hans.reactjs.org/docs/refs-and-the-dom.html#___gatsby</a></p>

<p>ref添加到Component上获取的是Component实例，添加到原生HTML上获取的是DOM</p>

<p><strong>第一种用法（createRef）：</strong></p>

<pre class="has"><code class="language-javascript">import React, { Component } from 'react'
class MyComponent extends Component {
  constructor(props) {
    super(props);
    this.myRef = React.createRef();
  }

  handleFocus() {
    this.myRef.current.focus()
  }

  componentDidMount() {
    this.myRef.current.focus()
  }
  render() {
    return (
      &lt;div&gt;
        &lt;input ref={this.myRef} /&gt;
        &lt;button onClick={this.handleFocus.bind(this)}&gt;获取焦点&lt;/button&gt;
      &lt;/div&gt;)
  }
}

export default MyComponent</code></pre>

<p><strong>第二种写法（回调函数）：</strong></p>

<pre class="has"><code class="language-javascript">import React, { Component } from 'react'
class MyComponent extends Component {
  constructor(props) {
    super(props);
  }

  handleFocus() {
    this.input.focus()
  }

  setInputRef(element) {
    this.input = element
  }

  componentDidMount() {
    this.input.focus()
  }
  render() {
    return (
      &lt;div&gt;
        &lt;input ref={this.setInputRef.bind(this)} /&gt;
        &lt;button onClick={this.handleFocus.bind(this)}&gt;获取焦点&lt;/button&gt;
      &lt;/div&gt;)
  }
}

export default MyComponent</code></pre>

<p><strong>第三种写法（字符串，过时 API，不要再使用）：</strong></p>

<pre class="has"><code class="language-javascript">import React, { Component } from 'react'
class MyComponent extends Component {
  constructor(props) {
    super(props);
  }

  handleFocus() {
    this.refs.input.focus()
  }

  componentDidMount() {
    this.refs.input.focus()
  }
  render() {
    return (
      &lt;div&gt;
        &lt;input ref='input' /&gt;
        &lt;button onClick={this.handleFocus.bind(this)}&gt;获取焦点&lt;/button&gt;
      &lt;/div&gt;)
  }
}

export default MyComponent</code></pre>

<p><strong>第四种写法（子组件传递ref给父组件）：</strong></p>

<p>父组件：</p>

<pre class="has"><code class="language-javascript">import React, { Component } from 'react'
import Input from '../components/Input.js'

class Index extends Component {
  constructor(props) {
    super(props);
  }

  handleFocus() {
    this.input.focus()
  }

  handleSetInputRef(element) {
    this.input = element
  }

  componentDidMount() {
    this.input.focus()
  }
  render() {
    return (
      &lt;div&gt;
        &lt;Input onInputRef={this.handleSetInputRef.bind(this)}&gt;&lt;/Input&gt;
        &lt;button onClick={this.handleFocus.bind(this)}&gt;获取焦点&lt;/button&gt;
      &lt;/div&gt;)
  }
}

export default Index</code></pre>

<p>子组件：</p>

<pre class="has"><code class="language-javascript">import React, {Component} from 'react'

class Input extends Component {
  render() {
    return (
      &lt;div&gt;
        &lt;input ref={this.props.onInputRef.bind(this)}&gt;&lt;/input&gt;
      &lt;/div&gt;
    )
  }
}

export default Input</code></pre>

<h3 id="%E5%8D%81%E5%9B%9B%E3%80%81ReactDOM">十四、ReactDOM</h3>

<p>findDOMNode是<strong>ReactDOM</strong>中的方法</p>

<p>ReactDOM.findDOMNode(this)返回的是<strong>组件实例相对应的DOM节点</strong></p>

<pre class="has"><code class="language-javascript">import React, { Component } from 'react'
import ReactDOM from 'react-dom';

class Index extends Component {
  constructor(props) {
    super(props);
  }

  handleClick() {
    let dom = ReactDOM.findDOMNode(this)
    console.log(dom)
  }

  componentDidMount() {
  }
  render() {
    return (
      &lt;div&gt;
        &lt;button onClick={this.handleClick.bind(this)}&gt;按钮&lt;/button&gt;
      &lt;/div&gt;)
  }
}

export default Index</code></pre>

<p>findDOMNode当参数是DOM，返回值就是该DOM:</p>

<pre class="has"><code class="language-javascript">import React, { Component } from 'react'
import ReactDOM from 'react-dom';

class Index extends Component {
  constructor(props) {
    super(props);
    this.myRef = React.createRef();
  }

  handleClick() {
    let dom = ReactDOM.findDOMNode(this.myRef.current)
    console.log(dom)
  }

  componentDidMount() {
  }
  render() {
    return (
      &lt;div&gt;
        &lt;input ref={this.myRef} /&gt;
        &lt;button onClick={this.handleClick.bind(this)}&gt;按钮&lt;/button&gt;
      &lt;/div&gt;)
  }
}

export default Index</code></pre>

<p>find</p>

<h3 id="%E5%8D%81%E4%BA%94%E3%80%81Mock%E6%95%B0%E6%8D%AE">十五、Mock数据</h3>

<p>参考链接：<a href="https://github.com/nuysoft/Mock/wiki/Getting-Started" rel="nofollow">https://github.com/nuysoft/Mock/wiki/Getting-Started</a></p>

<p>&nbsp;</p>

<h3 id="%E5%8D%81%E5%85%AD%E3%80%81antd">十六、antd</h3>

<p>参考链接：<a href="https://ant.design/docs/react/introduce-cn" rel="nofollow">https://ant.design/docs/react/introduce-cn</a></p>

<p>&nbsp;</p>

<h3 id="%E5%8D%81%E4%B8%83%E3%80%81Context">十七、Context</h3>

<p>参考链接：<a href="https://zh-hans.reactjs.org/docs/context.html#___gatsby" rel="nofollow">https://zh-hans.reactjs.org/docs/context.html#___gatsby</a></p>

<p><strong>index.js:</strong></p>

<pre class="has"><code class="language-javascript">import React, {Component} from 'react'
import {ThemeContext} from './theme-context';
import Toolbar from '../components/Toolbar.js'


class Index extends React.Component {
  constructor(props) {
    super(props)
    this.state = {
      count: 0
    }
  }

  handleAdd() {
    let {count} = this.state
    count = count + 1
    this.setState({
      count
    })
  }

  render() {
    let {count} = this.state
    return (
      &lt;div&gt;
        &lt;ThemeContext.Provider value={count}&gt;
          &lt;Toolbar/&gt;
          &lt;button onClick={this.handleAdd.bind(this)}&gt;加&lt;/button&gt;
        &lt;/ThemeContext.Provider&gt;
      &lt;/div&gt;
    );
  }
}

export default Index</code></pre>

<p><strong>&nbsp;theme-context.js:</strong></p>

<pre class="has"><code class="language-javascript">import React from 'react'

export const ThemeContext = React.createContext('light');</code></pre>

<p><strong>Tootbar.js:</strong></p>

<pre class="has"><code class="language-javascript">import React, {Component} from 'react'
import ThemedButton from './ThemedButton.js'

class Toolbar extends Component {
  render() {
    return (
      &lt;ThemedButton/&gt;
    )
  }
}

export default Toolbar</code></pre>

<p><strong>ThemedButton.js:</strong></p>

<pre class="has"><code class="language-javascript">import React, {Component} from 'react'
import {ThemeContext} from '../pages/theme-context';

class ThemedButton extends Component {
  render() {
    let value = this.context
    return (
      &lt;div&gt;{value}&lt;/div&gt;
    )
  }
}

ThemedButton.contextType = ThemeContext;

export default ThemedButton</code></pre>

<h3 id="%E5%8D%81%E5%85%AB%E3%80%81%E4%BA%8B%E4%BB%B6%E7%B3%BB%E7%BB%9F">十八、事件系统</h3>

<p id="articleHeader0">Virtual DOM在内存中是以对象的形式存在，如果想要在这些对象上加事件就会比较简单。React基于Virtual DOM实现了一个<strong>合成事件层</strong>，我们<strong>所定义的事件会接受到一个合成事件对象的实例。</strong>不会存在IE浏览器兼容性的问题，同样支持事件冒泡机制。</p>

<p>React事件的绑定方式在写法上与原生HTML事件监听很相似：</p>

<pre class="has"><code class="language-javascript">&lt;button onClick={this.handleClick.bind(this)}&gt;&lt;/button&gt;</code></pre>

<p>这个和JavaScript的DOM0级事件很像，但是又有一些不同，下面是DOM0级事件：</p>

<pre class="has"><code class="language-html">&lt;button οnclick="handle()"&gt;&lt;/button&gt;</code></pre>

<p><strong>React并不会像DOM0级事件那样将事件处理器直接绑定到DOM上</strong>，React仅仅是借鉴了这种写法。</p>

<p>在React底层，主要对合成事件做了两件事情：<strong>事件委派和自动绑定。</strong></p>

<p>1. 事件委派</p>

<p>React中并不是把事件处理函数绑定到当前DOM上，而是把<strong>所有的事件绑定到结构的最外层</strong>，使用统一的事件监听器。<br>
这个事件监听器上维持了一个映射来保存所有组件内部的事件监听和处理函数。<br>
组件挂载和卸载时，只是在统一事件监听器上插入删除一些对象。</p>

<p>2. 自动绑定</p>

<p>在React组件中，<strong>每个方法的上下文都会指向该组件的实例，即自动绑定this为当前的组件。</strong>而且React会对这种引用缓存，以达到CPU和内存的最大优化。<br><strong>注意：</strong>在使用es6 class或者纯函数的写法，这种绑定不复存在，我们需要手动实现this绑定。</p>

<p><strong>bind方法：</strong>该方法可以帮助我们绑定事件处理器内的this，并可以向事件处理器中传入参数：</p>

<pre class="has"><code class="language-javascript">class App extends Component {
    handleClick(e, arg) {
        console.log(e, arg)
    }
    render() {
        return &lt;button onClick={this.handleClick.bind(this, 'test')}&gt;&lt;/button&gt;
    }
}</code></pre>

<h3 id="%E5%8D%81%E4%B9%9D%E3%80%81Redux.js">十九、Redux</h3>

<p><strong>解决的问题：</strong></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190815125436735.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>&nbsp;</p>

<p><strong>原理: </strong></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/2019081512545054.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><strong>动画：</strong></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190815125530540.gif"></p>

<p>&nbsp;</p>

<h3 id="%E4%BA%8C%E5%8D%81%E3%80%81redux-thunk">二十、redux-thunk</h3>

<p><strong>源代码：</strong></p>

<pre class="has"><code class="language-javascript">function createThunkMiddleware(extraArgument) {
  return ({ dispatch, getState }) =&gt; next =&gt; action =&gt; {
    if (typeof action === 'function') {
      return action(dispatch, getState, extraArgument);
    }

    return next(action);
  };
}

const thunk = createThunkMiddleware();
thunk.withExtraArgument = createThunkMiddleware;

export default thunk;</code></pre>

<p><strong>编译成es5：</strong></p>

<pre class="has"><code class="language-javascript">"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

function createThunkMiddleware(extraArgument) {
  return function (_ref) {
    var dispatch = _ref.dispatch,
        getState = _ref.getState;
    return function (next) {
      return function (action) {
        if (typeof action === 'function') {
          return action(dispatch, getState, extraArgument);
        }

        return next(action);
      };
    };
  };
}

var thunk = createThunkMiddleware();
thunk.withExtraArgument = createThunkMiddleware;
var _default = thunk;
exports.default = _default;</code></pre>

<p><strong>Redux</strong>的核心概念其实很简单：将需要修改的state都存入到store里，发起一个<strong>action</strong>用来描述发生了什么，用reducers描述action如何改变state tree 。创建store的时候需要传入reducer，真正能改变store中数据的是store.dispatch API。</p>

<p><strong>dispatch</strong>一个action之后，到达reducer之前，进行一些额外的操作，就需要用到middleware。你可以利用 Redux middleware 来进行日志记录、创建崩溃报告、调用异步接口或者路由等等。换言之，中间件都是对store.dispatch()的增强。</p>

<p><strong>中间件的用法：</strong></p>

<pre class="has"><code class="language-javascript">import { createStore, combineReducers, applyMiddleware } from 'redux'
import thunk from 'redux-thunk'
import reducers from './reducers'

const reducer = combineReducers(reducers)
const store = createStore(reducer, applyMiddleware(thunk))
export default store</code></pre>

<p>直接将thunk中间件引入，放在applyMiddleware方法之中，传入createStore方法，就完成了store.dispatch()的功能增强。即可以在reducer中进行一些异步的操作。</p>

<p>其实applyMiddleware就是Redux的一个原生方法，将所有中间件组成一个数组，依次执行。</p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190817112409496.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><strong>手写中间件（logger,thunk） :</strong></p>

<pre class="has"><code class="language-javascript">import { createStore, combineReducers, applyMiddleware } from 'redux'
import reducers from './reducers'

const logger = store =&gt; next =&gt; action =&gt; {
  console.log('prev state', store.getState())
  console.log('dispatch', action)
  next(action)
  console.log('next state', store.getState())
}

const logger2 = store =&gt; next =&gt; action =&gt; {
  console.log('prev state2', store.getState())
  console.log('dispatch2', action)
  next(action)
  console.log('next state2', store.getState())
}

const myThunk = store =&gt; next =&gt; action =&gt; {
  if (typeof action === 'function') {
    return action(store.dispatch)
  }
  return next(action)
}

const reducer = combineReducers(reducers)
const store = createStore(reducer, applyMiddleware(myThunk, logger, logger2))
export default store</code></pre>

<p>参考链接：<a href="https://segmentfault.com/a/1190000018347235" rel="nofollow">https://segmentfault.com/a/1190000018347235</a></p>

<h3 id="%E4%BA%8C%E5%8D%81%E4%B8%80%E3%80%81flex%E4%B8%89%E6%AE%B5%E5%BC%8F">二十一、flex三段式</h3>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/2019081913423780.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;

&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;meta name="viewport"
    content="initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no, width=device-width"&gt;
  &lt;title&gt;Document&lt;/title&gt;
  &lt;style type="text/css"&gt;
    html {
      height: 100%;
    }

    body {
      margin: 0;
      height: 100%;
    }

    .m-wrap {
      display: flex;
      flex-direction: column;
      height: 100%;
    }

    .m-header {
      height: 50px;
      background: #aaaaaa;
    }

    .m-content {
      flex: 1;
      background: #dddddd;
    }

    .m-footer {
      height: 50px;
      background: #cccccc;
    }
  &lt;/style&gt;
&lt;/head&gt;

&lt;body&gt;
  &lt;div class="m-wrap"&gt;
    &lt;header class="m-header"&gt;head&lt;/header&gt;
    &lt;main class="m-content"&gt;main&lt;/main&gt;
    &lt;footer class="m-footer"&gt;footer&lt;/footer&gt;
  &lt;/div&gt;
&lt;/body&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<h3 id="%E4%BA%8C%E5%8D%81%E4%BA%8C%E3%80%81%E5%B0%8F%E7%B1%B3%E4%B9%A6%E5%9F%8E">二十二、小米书城</h3>

<p><img alt="" class="has" height="732" src="https://img-blog.csdnimg.cn/20190821083606750.gif" width="638"></p>

<p><strong>github地址：</strong></p>

<p><a href="https://github.com/baweireact/m-react-demo-base/tree/master/29%E5%B0%8F%E7%B1%B3%E4%B9%A6%E5%9F%8E%EF%BC%88redux%EF%BC%89" rel="nofollow">https://github.com/baweireact/m-react-demo-base/tree/master/29%E5%B0%8F%E7%B1%B3%E4%B9%A6%E5%9F%8E%EF%BC%88redux%EF%BC%89</a></p>

<h3 id="%E4%BA%8C%E5%8D%81%E4%B8%89%E3%80%81%E5%BD%93%E5%BD%93%E7%BD%91">二十三、当当网</h3>

<p><img alt="" class="has" height="740" src="https://img-blog.csdnimg.cn/20190821083837213.gif" width="638"></p>

<p><strong>github地址：</strong></p>

<p><a href="https://github.com/baweireact/m-react-demo-base/tree/master/30%E5%BD%93%E5%BD%93%E7%BD%91" rel="nofollow">https://github.com/baweireact/m-react-demo-base/tree/master/30%E5%BD%93%E5%BD%93%E7%BD%91</a></p>

<h3 id="%E4%BA%8C%E5%8D%81%E5%9B%9B%E3%80%81%E8%BD%AE%E6%92%AD%E5%9B%BE">二十四、轮播图</h3>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190821084848646.gif"></p>

<p><strong>github地址：</strong></p>

<p><a href="https://github.com/baweireact/m-react-demo-base/tree/master/19%E5%91%A8%E8%80%83%E4%BA%8C%EF%BC%88%E8%BD%AE%E6%92%AD%E5%9B%BE%EF%BC%89" rel="nofollow">https://github.com/baweireact/m-react-demo-base/tree/master/19%E5%91%A8%E8%80%83%E4%BA%8C%EF%BC%88%E8%BD%AE%E6%92%AD%E5%9B%BE%EF%BC%89</a></p>

<h3 id="%E4%BA%8C%E5%8D%81%E4%BA%94%E3%80%81%E7%99%BB%E5%BD%95%E5%92%8C%E7%BB%84%E4%BB%B6%E5%B5%8C%E5%A5%97">二十五、登录和组件嵌套</h3>

<p><img alt="" class="has" height="817" src="https://img-blog.csdnimg.cn/20190821085446578.gif" width="1047"></p>

<p>&nbsp;</p>

<p><strong>github地址：</strong></p>

<p><a href="https://github.com/baweireact/m-react-demo-base/tree/master/14%E5%91%A8%E8%80%832%EF%BC%88hover%E6%97%B6%E6%98%BE%E7%A4%BA%E6%B6%88%E6%81%AF%E6%A1%86%EF%BC%89" rel="nofollow">https://github.com/baweireact/m-react-demo-base/tree/master/14%E5%91%A8%E8%80%832%EF%BC%88hover%E6%97%B6%E6%98%BE%E7%A4%BA%E6%B6%88%E6%81%AF%E6%A1%86%EF%BC%89</a></p>

<p>&nbsp;</p>

<h3 id="%E4%BA%8C%E5%8D%81%E5%85%AD%E3%80%81%E7%8C%AB%E7%9C%BC">二十六、猫眼</h3>

<p><img alt="" class="has" height="933" src="https://img-blog.csdnimg.cn/20190822114028812.gif" width="739"></p>

<p><strong>github地址：</strong></p>

<p><a href="https://github.com/baweireact/m-react-demo-base/tree/master/31%E7%8C%AB%E7%9C%BC" rel="nofollow">https://github.com/baweireact/m-react-demo-base/tree/master/31%E7%8C%AB%E7%9C%BC</a></p>

<h3 id="%E4%BA%8C%E5%8D%81%E4%B8%83%E3%80%81%E8%B4%AD%E7%89%A9%E8%BD%A6">二十七、购物车</h3>

<p><img alt="" class="has" height="717" src="https://img-blog.csdnimg.cn/20190826133614622.gif" width="517"></p>

<p>&nbsp;</p>

<p><strong>github地址：</strong></p>

<p><a href="https://github.com/baweireact/m-react-demo-base/tree/master/33%E8%B4%AD%E7%89%A9%E8%BD%A6%EF%BC%88%E5%90%AB%E7%AE%80%E6%98%93redux%EF%BC%89" rel="nofollow">https://github.com/baweireact/m-react-demo-base/tree/master/33%E8%B4%AD%E7%89%A9%E8%BD%A6%EF%BC%88%E5%90%AB%E7%AE%80%E6%98%93redux%EF%BC%89</a></p>

<h3 id="%E5%85%B6%E4%BB%96">其他</h3>

<p><strong>forceUpdate</strong>方法能使组件调用自身的render()方法重新渲染组件：</p>

<pre class="has"><code class="language-javascript">  handleUpate() {
    this.forceUpdate()
  }</code></pre>

<pre class="has"><code class="language-html">reactDom.unmountComponentAtNode()方法里接收指定的容器参数：</code></pre>

<p>从 DOM 中卸载组件，会将其事件处理器（event handlers）和 state 一并清除。如果指定容器上没有对应已挂载的组件，这个函数什么也不会做。如果组件被移除将会返回 <code>true</code>，如果没有组件可被移除将会返回 <code>false</code>。</p>

<pre class="has"><code class="language-javascript">  handleUnmount() {
    ReactDOM.unmountComponentAtNode(document.getElementById('root'))
  }

  componentWillUnmount() {
    console.log('卸载前')
  }</code></pre>

<p>组件里面绑定的合成事件想要通过 e.stopPropagation() 来阻止事件冒泡到 document如何解决</p>

<pre class="has"><code class="language-javascript">e.nativeEvent.stopImmediatePropagation()</code></pre>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>
                                    ]]></description></item><item><title>React（1702H）文章管理-cms系统</title><link>http://www.cnblogs.com/xutongbao/archive/2019/07/29/11915676.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Mon, 29 Jul 2019 01:09:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2019/07/29/11915676.html</guid><description><![CDATA[
                                            <h1>一、GIF图</h1>

<h3>1、效果图</h3>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190729090824938.gif"></p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<h3>&nbsp;2、上传图片和创建文章</h3>

<p><img alt="" class="has" height="649" src="https://img-blog.csdnimg.cn/20190729091630880.gif" width="1200"></p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<h3>3、编辑文章</h3>

<p><img alt="" class="has" height="649" src="https://img-blog.csdnimg.cn/20190729092231637.gif" width="1200"></p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<h3>4、添加带文章的banner</h3>

<p><img alt="" class="has" height="649" src="https://img-blog.csdnimg.cn/20190729092515536.gif" width="1200"></p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<h1>二、使用到的npm包</h1>

<h3>1、pug</h3>

<p>参考链接：<a href="https://pug.bootcss.com/api/getting-started.html" rel="nofollow">https://pug.bootcss.com/api/getting-started.html</a></p>

<p>&nbsp;</p>

<p>pug示例代码：</p>

<pre class="has"><code class="language-javascript">const pug = require('pug')
const fs = require('fs')

function editArticle (htmlJson, fileName) {
  const compiledFunction = pug.compileFile('views/index.pug');
  let indexHtml = compiledFunction({
    ...htmlJson,
    // list: [
    //   {
    //     type: 'title-level-1',
    //     text: '活动规则：'
    //   }
    // ]
  })
  fs.writeFile(`./public/article/${fileName}`, indexHtml, function (err) {
    if (err) {
      throw err;
    }
  });
}

//生成添加文章
app.post('/add/article', async function (req, res) {
  let { htmlJson } = req.body
  let fileName = (new Date()).getTime() + '.html'
  editArticle(htmlJson, fileName)

  let articlePath = `http://localhost:8888/article/${fileName}`
  let uid = getID(10)
  let createTime = new Date().getTime()
  let sqlData = await addArticle(
    uid, 
    htmlJson.articleTitle, 
    fileName, 
    articlePath, 
    JSON.stringify(htmlJson), 
    createTime)

  if (sqlData) {
    let data = {
      fileName,
      articlePath
    }
    res.send(({
      code: 200,
      data: data,
      message: '添加文章成功'
    }))
  } else {
    res.send(({
      code: 400,
      message: '添加文章失败'
    }))    
  }
})

//获取文章列表
app.get('/article/list', async function (req, res) {
  const data = await getArticleList()
  res.send(({
    code: 200,
    data: data,
    message: '文章列表'
  }))
})

//通过id获取文章
app.get('/article_detail', async function (req, res) {
  let {id} = req.query
  const data = await getArticleDetail(id)
  res.send(({
    code: 200,
    data: data,
    message: '文章详情'
  }))
})

//编辑文章
app.post('/article_edit', async function (req, res) {
  let {articleId, title, fileName, htmlJson} = req.body
  const data = await editArticleDetail(articleId, title, JSON.stringify(htmlJson))
  editArticle(htmlJson, fileName)
  res.send(({
    code: 200,
    message: '编辑文章成功'
  }))
})</code></pre>

<p>views/index.pug:</p>

<pre class="has"><code class="language-javascript">doctype html
html
  head
    title=articleTitle
    link(rel="stylesheet" type='text/css' href='/css/index.css')
  body
    div.m-warp
      div.m-hearder-wrap
        img(class="m-header-img" src=headerImagePath)
      div.m-content-wrap
        if list
          each item in list
            case item.type 
              when 'p'
                p.m-paragraph-text=item.text    
              when 'p-strong'
                p.m-paragraph-text-strong=item.text    
              when 'title-level-1'
                div.m-title-level-1=item.text
                div.m-division
              when 'title-level-2'
                div.m-title-level-2=item.text


    script(src='/common/js/jquery.min.js')
    script(src='/js/index.js')</code></pre>

<p>&nbsp;</p>

<h3>三、前端React</h3>

<p><strong>前端React部分没有用到新技术,需要具备知识包括：</strong></p>

<p><strong><span style="color:#f33b45;">路由、antd组件（Button, Input, message, Modal, Checkbox,Table）、受控组件、生命周期（componentDidMount）、Scrollbars库、moment库（时间戳转日期）、axios等。</span></strong></p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p><strong>Article.js:</strong></p>

<pre class="has"><code class="language-javascript">import React from 'react';
import { withRouter } from 'react-router-dom'
import { Button, Input, message, Modal, Table } from 'antd';
import { Scrollbars } from 'react-custom-scrollbars'
import moment from 'moment'
import Api from '../../api/index.js'
import * as keyCode from '../../api/keyCode.js'
import './index.css'

const { TextArea } = Input;
class Article extends React.Component {
  constructor(props) {
    super(props)
    this.state = {
      addArticleModalVisible: false,
      articleTitle: '',
      list: [],
    }
  }
  render() {
    let {
      addArticleModalVisible,
      articleTitle,
      list,
    } = this.state
    let columns = this.renderColumns()
    return (
      &lt;div className="m-content"&gt;
        &lt;Scrollbars&gt;
          &lt;div className="m-content-inner"&gt;
            &lt;div className="m-article-toolbar"&gt;
              &lt;Button onClick={this.handleShowAddArticleModal.bind(this)}&gt;添加文章&lt;/Button&gt;
            &lt;/div&gt;       
            &lt;div&gt;
              &lt;Table 
                columns={columns} 
                dataSource={list} 
                rowKey="uid"
                scroll={{ x: 900 }}
                &gt;&lt;/Table&gt;                     
            &lt;/div&gt; 
          &lt;/div&gt;
          &lt;Modal
            title="添加文章"
            visible={addArticleModalVisible}
            onOk={this.handleAddArticle.bind(this)}
            onCancel={this.handleHideModal.bind(this)}&gt;
            &lt;div className="m-row"&gt;
              &lt;Input 
                type="text" 
                value={articleTitle}
                placeholder="请输入文章标题"
                onChange={this.handleInput.bind(this, 'articleTitle')}&gt;&lt;/Input&gt;
            &lt;/div&gt;         
          &lt;/Modal&gt;          
        &lt;/Scrollbars&gt;        
			&lt;/div&gt;
    );
  }
}

//生命周期
Object.assign(Article.prototype, {
  renderColumns () {
    return [
      {
        title: 'ID',
        dataIndex: 'uid',
      },
      {
        title: '标题',
        dataIndex: 'title',
      },       
      {
        title: '文章路径',
        dataIndex: 'path',
        key: 'path',
        render: (text, record) =&gt; {
          return &lt;a href={text} target="_blank"&gt;{text}&lt;/a&gt;
        }
      },
      {
        title: '创建时间',
        dataIndex: 'create_time',
        key: 'create_time',
        render: (text, record) =&gt; {
          return &lt;span&gt;{moment(text).format('YYYY-MM-DD HH:mm:ss')}&lt;/span&gt;
        }
      },
      {
        title: '操作',
        fixed: 'right',   
        width: 150,
        render: (text, record, index) =&gt; {
          return &lt;div&gt;
            &lt;Button onClick={this.handleEditArticle.bind(this, record)}&gt;编辑文章&lt;/Button&gt;
          &lt;/div&gt;
        }
      }                     
    ]
  },   
  componentDidMount() {
    this.getArticleList()
  }
})

//事件
Object.assign(Article.prototype, {
  handleShowAddArticleModal() {
    this.setState({
      addArticleModalVisible: true,
      articleTitle: ''
    })
  },
  handleHideModal() {
    this.setState({
      addArticleModalVisible: false,
      addHeaderImageModal: false
    })
  },
  handleAddArticle() {
    let {articleTitle} = this.state
    let htmlJson = {
      articleTitle,
      list: [],
    }
    let data = {
      htmlJson
    }
    Api.addArticle(data).then((res) =&gt; {
      console.log(res)
      this.getArticleList()
      this.handleHideModal()
    })
  },
  getArticleList() {
    Api.getArticleList().then((res) =&gt; {
      if (res.code = keyCode.SUCCESS) {
        this.setState({
          list: res.data.list
        })
      }
    })
  },
  handleEditArticle(record) {
    this.props.history.push(`/management/edit_article/${record.uid}`)
  }
})

//受控组件
Object.assign(Article.prototype, {
  handleInput(field, e) {
    this.setState({
      [field]: e.target.value
    })
  },
})

export default withRouter(Article)
</code></pre>

<p><strong>EditArticle.js:</strong></p>

<pre class="has"><code class="language-javascript">import React from 'react';
import { withRouter } from 'react-router-dom'
import { Button, Input, message, Modal, Checkbox } from 'antd';
import { Scrollbars } from 'react-custom-scrollbars'
import Api from '../../api/index.js'
import * as keyCode from '../../api/keyCode.js'
import './index.css'

const { TextArea } = Input;
class EditArticle extends React.Component {
  constructor(props) {
    super(props)
    this.state = {
      articleId: '',
      fileName: '',
      articlePath: '',
      articleTitle: '',
      headerImagePath: '',
      htmlJson: {
      },
      articleTextArea: '',
      paragraph: '',
      isParagraphStrong: false,
      paragraphTitleLevelFirst: '',
      paragraphTitleLevelSecond: '',
      addHeaderImageModal: false,
      addParagraphModal:false,
      addParagraphTitleLevelFirstModal: false,
      addParagraphTitleLevelSecondModal: false,
    }
  }
  render() {
    let {
      articleId,
      fileName,
      articlePath,
      articleTitle,
      headerImagePath,
      articleTextArea,
      paragraph,
      isParagraphStrong,
      paragraphTitleLevelFirst,
      paragraphTitleLevelSecond,
      addHeaderImageModal,
      addParagraphModal,
      addParagraphTitleLevelFirstModal,
      addParagraphTitleLevelSecondModal,
    } = this.state
    return (
      &lt;div className="m-content"&gt;
        &lt;Scrollbars&gt;
          &lt;div className="m-content-inner"&gt;
            &lt;div&gt;
              &lt;Button onClick={this.handleGoBack.bind(this)}&gt;返回文章列表&lt;/Button&gt;
            &lt;/div&gt;
            &lt;div className="m-edit-article-title"&gt;编辑文章&lt;/div&gt;
            &lt;div&gt;
              &lt;div&gt;文章ID: {articleId}&lt;/div&gt;
              &lt;div&gt;文件名: {fileName}&lt;/div&gt;
              &lt;div&gt;文章链接: &lt;a href={articlePath} target="_blank"&gt;{articlePath}&lt;/a&gt;&lt;/div&gt;
            &lt;/div&gt;
            
            &lt;div className="m-article-toolbar"&gt;
              &lt;Button className="m-toolbar-btn" onClick={this.handleShowAddHeaderImageModal.bind(this)}&gt;标题和顶部图片&lt;/Button&gt;
              &lt;Button className="m-toolbar-btn" onClick={this.handleShowAddParagraphModal.bind(this)}&gt;添加段落文本&lt;/Button&gt;
              &lt;Button className="m-toolbar-btn" onClick={this.handleShowAddParagraphTitleLevelFirstModal.bind(this)}&gt;添加一级段落标题&lt;/Button&gt;
              &lt;Button className="m-toolbar-btn" onClick={this.handleShowAddParagraphTitleLevelSecondModal.bind(this)}&gt;添加二级段落标题&lt;/Button&gt;
            &lt;/div&gt;    
            &lt;div className="m-article-textarea-wrap"&gt;
              &lt;TextArea 
                rows={10} 
                value={articleTextArea}
                onChange={this.handleInput.bind(this, 'articleTextArea')}
                /&gt;
            &lt;/div&gt;   
            &lt;div className="m-login-row"&gt;
              &lt;Button onClick={this.handleEditArticle.bind(this)}&gt;保存&lt;/Button&gt;
            &lt;/div&gt;    
          &lt;/div&gt;        
          &lt;div&gt;
            &lt;Modal
              title="修改标题和顶部图片"
              visible={addHeaderImageModal}
              onOk={this.handleAddHeaderImage.bind(this)}
              onCancel={this.handleHideModal.bind(this)}&gt;
              &lt;div className="m-row"&gt;
                &lt;span className="m-input-label"&gt;
                  文章标题
                &lt;/span&gt;
                &lt;Input 
                  className="m-input"
                  type="text" 
                  value={articleTitle}
                  placeholder="请输入文章标题"
                  onChange={this.handleInput.bind(this, 'articleTitle')}&gt;&lt;/Input&gt;
              &lt;/div&gt;                
              &lt;div className="m-row"&gt;
                &lt;span className="m-input-label"&gt;
                  顶部图片链接
                &lt;/span&gt;                
                &lt;Input 
                  className="m-input"
                  type="text" 
                  value={headerImagePath}
                  placeholder="请输入顶部图片地址"
                  onChange={this.handleInput.bind(this, 'headerImagePath')}&gt;&lt;/Input&gt;
              &lt;/div&gt;          
            &lt;/Modal&gt;  
            &lt;Modal
              title="添加段落"
              visible={addParagraphModal}
              onOk={this.handleAddParagraph.bind(this)}
              onCancel={this.handleHideModal.bind(this)}&gt;
              &lt;div className="m-row"&gt;
                &lt;span className="m-input-label"&gt;
                  文本是否加粗
                &lt;/span&gt;
                &lt;Checkbox 
                  className="m-checkbox"
                  checked={isParagraphStrong} 
                  onChange={this.handleCheckbox.bind(this, 'isParagraphStrong')}&gt;加粗&lt;/Checkbox&gt;
              &lt;/div&gt;
              &lt;div className="m-row"&gt;
                &lt;span className="m-input-label"&gt;
                  段落文本
                &lt;/span&gt;                
                &lt;TextArea 
                  className="m-input"
                  type="text" 
                  rows={6}
                  value={paragraph}
                  placeholder="请输入段落文本"
                  onChange={this.handleInput.bind(this, 'paragraph')}&gt;&lt;/TextArea&gt;
              &lt;/div&gt;          
            &lt;/Modal&gt; 
            &lt;Modal
              title="添加一级段落标题"
              visible={addParagraphTitleLevelFirstModal}
              onOk={this.handleAddParagraphTitleLevelFirst.bind(this)}
              onCancel={this.handleHideModal.bind(this)}&gt;
              &lt;div className="m-row"&gt;
                &lt;span className="m-input-label"&gt;
                  一级段落标题
                &lt;/span&gt;                
                &lt;Input 
                  className="m-input"
                  type="text" 
                  value={paragraphTitleLevelFirst}
                  placeholder="请输入一级段落标题"
                  onChange={this.handleInput.bind(this, 'paragraphTitleLevelFirst')}&gt;&lt;/Input&gt;
              &lt;/div&gt;          
            &lt;/Modal&gt;  
            &lt;Modal
              title="添加二级段落标题"
              visible={addParagraphTitleLevelSecondModal}
              onOk={this.handleAddParagraphTitleLevelSecond.bind(this)}
              onCancel={this.handleHideModal.bind(this)}&gt;
              &lt;div className="m-row"&gt;
                &lt;span className="m-input-label"&gt;
                  二级段落标题
                &lt;/span&gt;                
                &lt;Input 
                  className="m-input"
                  type="text" 
                  value={paragraphTitleLevelSecond}
                  placeholder="请输入二级段落标题"
                  onChange={this.handleInput.bind(this, 'paragraphTitleLevelSecond')}&gt;&lt;/Input&gt;
              &lt;/div&gt;          
            &lt;/Modal&gt;                         
          &lt;/div&gt;         
        &lt;/Scrollbars&gt;        
			&lt;/div&gt;
    );
  }
}

//生命周期
Object.assign(EditArticle.prototype, { 
  componentDidMount() {
    this.getArticleById()
  }
})

//事件
Object.assign(EditArticle.prototype, {
  handleGoBack() {
    this.props.history.push('/management/article')
  },
  getArticleById() {
    let {match} = this.props
    let articleId = match.params.id
    this.setState({
      articleId
    })
    Api.getArticleDetail(`?id=${articleId}`).then((res) =&gt; {
      console.log(res)
      if (res.code === keyCode.SUCCESS) {
        let articleTextArea = JSON.stringify(res.data[0].content, null, 2)
        this.setState({
          fileName: res.data[0].file_name,
          articlePath: res.data[0].path,
          articleTextArea,
          htmlJson: res.data[0].content
        })
      }
    })
  },
  handleEditArticle() {
    let {articleId, fileName, articleTextArea} = this.state
    let htmlJson
    try {
      htmlJson = JSON.parse(articleTextArea)
    } catch (err) {
      console.log(err)
      message.info('文本框里输入的json格式不对！')
      return
    }
    
    let title = ''
    if (htmlJson.articleTitle) {
      title = htmlJson.articleTitle
    }
    let data = {
      articleId,
      title,
      fileName,
      htmlJson,
    }
    Api.editArticle(data).then((res) =&gt; {
      console.log(res)
      if (res.code === keyCode.SUCCESS) {
        this.setState({
          htmlJson
        })
        message.info('编辑成功')
      }
    })
  }
})

//对话框相关
Object.assign(EditArticle.prototype, {
  handleShowAddHeaderImageModal() {
    let {htmlJson} = this.state
    this.setState({
      addHeaderImageModal: true,
      articleTitle: htmlJson.articleTitle,
      headerImagePath: htmlJson.headerImagePath,
    })
  },
  handleShowAddParagraphModal(){
    this.setState({
      addParagraphModal: true,
      paragraph: '',
      isParagraphStrong: false,
    })
  },
  handleShowAddParagraphTitleLevelFirstModal() {
    this.setState({
      addParagraphTitleLevelFirstModal: true,
      paragraphTitleLevelFirst: '',
    })
  },
  handleShowAddParagraphTitleLevelSecondModal() {
    this.setState({
      addParagraphTitleLevelSecondModal: true,
      paragraphTitleLevelSecond: '',
    })
  },
  handleHideModal() {
    this.setState({
      addHeaderImageModal: false,
      addParagraphModal: false,
      addParagraphTitleLevelFirstModal: false,
      addParagraphTitleLevelSecondModal: false,
    })
  },
})



//顶部图片、段落、段落一级标题、段落二级标题
Object.assign(EditArticle.prototype, {
  handleAddHeaderImage() {
    let {htmlJson, articleTitle, headerImagePath} = this.state
    htmlJson.headerImagePath = headerImagePath
    htmlJson.articleTitle = articleTitle
    this.setState({
      htmlJson,
    })
    this.formatTextAreaString(htmlJson)
    this.handleHideModal()
  },
  handleAddParagraph() {
    let {htmlJson, paragraph, isParagraphStrong } = this.state
    if (!htmlJson.list) {
      htmlJson.list = []
    }
    htmlJson.list.push({
      type: isParagraphStrong ? 'p-strong' : 'p',
      text: paragraph
    })    

    this.setState({
      htmlJson
    })
    this.formatTextAreaString(htmlJson)
    this.handleHideModal()
  },
  handleAddParagraphTitleLevelFirst() {
    let {htmlJson, paragraphTitleLevelFirst } = this.state
    if (!htmlJson.list) {
      htmlJson.list = []
    }
    htmlJson.list.push({
      type: 'title-level-1',
      text: paragraphTitleLevelFirst
    })    

    this.setState({
      htmlJson
    })
    this.formatTextAreaString(htmlJson)
    this.handleHideModal()
  },
  handleAddParagraphTitleLevelSecond() {
    let {htmlJson, paragraphTitleLevelSecond } = this.state
    if (!htmlJson.list) {
      htmlJson.list = []
    }
    htmlJson.list.push({
      type: 'title-level-2',
      text: paragraphTitleLevelSecond
    })    

    this.setState({
      htmlJson
    })
    this.formatTextAreaString(htmlJson)
    this.handleHideModal()
  }
})

//工具
Object.assign(EditArticle.prototype, {
  formatTextAreaString(htmlJson) {
    let articleTextArea = JSON.stringify(htmlJson, null, 2)
    this.setState({
      articleTextArea,
    })
  }
})

//受控组件
Object.assign(EditArticle.prototype, {
  handleInput(field, e) {
    this.setState({
      [field]: e.target.value
    })
  },
  handleCheckbox(field, e) {
    this.setState({
      [field]: e.target.checked
    })
  },
})

export default withRouter(EditArticle)
</code></pre>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>
                                    ]]></description></item><item><title>React（1702H）文件上传和分页查找</title><link>http://www.cnblogs.com/xutongbao/archive/2019/07/25/11915677.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 25 Jul 2019 06:38:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2019/07/25/11915677.html</guid><description><![CDATA[
                                            <h3>1.上传</h3>

<p>dom：</p>

<pre class="has"><code class="language-html">            &lt;div className="m-upload-input-wrap"&gt;
              &lt;input type="file" value="" onChange={this.handleUpload.bind(this)}/&gt;
            &lt;/div&gt;</code></pre>

<p>&nbsp;接口：</p>

<pre class="has"><code class="language-javascript">  handleUpload(e) {
    const data = new FormData();
    data.append('file', e.target.files[0]);
    const params = `/upload`
    axios({
        method: 'post',
        data: data, 
        url: params,
        timeout: 1000 * 60 * 60 * 8
      })
      .then((res) =&gt; {
        console.log(res)      
        this.getUploadList()     
      })
      .catch((err) =&gt; {
        console.log(err)          
      })
  },</code></pre>

<h3>2.显示列表（antd table）</h3>

<p>dom：</p>

<pre class="has"><code class="language-html">            &lt;div&gt;
              &lt;Table 
                columns={columns} 
                dataSource={list} 
                rowKey="uid"
                pagination={ total &gt; 10 ? {
                  total: total,
                  current: current,
                  pageSize: 10,
                  onChange: this.handlePage.bind(this)
                } : false}&gt;&lt;/Table&gt;
            &lt;/div&gt;</code></pre>

<p>columns:</p>

<pre class="has"><code class="language-javascript">  renderColumns () {
    return [
      {
        title: '图片',
        dataIndex: 'path',
        render: (text, record, index) =&gt; {
          return &lt;span&gt;&lt;img src={text} className="m-upload-img"&gt;&lt;/img&gt;&lt;/span&gt;
        }
      },       
      {
        title: '文件名',
        dataIndex: 'originalname',
        key: 'originalname',
      },   
      {
        title: '操作',
        render: (text, record, index) =&gt; {
          return &lt;div&gt;
            &lt;Button onClick={this.handleCopy.bind(this, record)} &gt;复制链接&lt;/Button&gt;
          &lt;/div&gt;
        }
      }      
    ]
  },</code></pre>

<p>获取列表：</p>

<pre class="has"><code class="language-javascript">  getUploadList() {
    Api.getUploadList(`?page=1&amp;size=10`).then((res) =&gt; {
      console.log(res)
      if (res.code === keyCode.SUCCESS) {
        this.setState({
          list: res.data.list,
          current: 1,
          total: res.data.total
        })
      }
    })
  },</code></pre>

<p>分页：</p>

<pre class="has"><code class="language-javascript">  handlePage(current) {
    Api.getUploadList(`?page=${current}&amp;size=10`).then((res) =&gt; {
      console.log(res)
      if (res.code === keyCode.SUCCESS) {
        this.setState({
          list: res.data.list,
          current: current,
          total: res.data.total
        })
      }
    })    
  }</code></pre>

<h3>3.后端接口</h3>

<p>用到的npm包：</p>

<pre class="has"><code class="language-javascript">const multer = require('multer')</code></pre>

<p>配置：</p>

<pre class="has"><code class="language-javascript">var storage = multer.diskStorage({
  destination: function (req, file, cb) {
    // 接收到文件后输出的保存路径（若不存在则需要创建）
    cb(null, 'public/images/');
  },
  filename: function (req, file, cb) {
    // 将保存文件名设置为 时间戳 + 文件原始名，比如 151342376785-123.jpg
    cb(null, Date.now() + "-" + file.originalname);
  }
});
var upload = multer({ storage: storage });</code></pre>

<p>参考链接：<a href="https://www.npmjs.com/package/multer" rel="nofollow">https://www.npmjs.com/package/multer</a></p>

<p>上传接口：</p>

<pre class="has"><code class="language-javascript">//文件上传
app.post('/upload', upload.single('file'), async function (req, res, next) {
  var file = req.file;
  console.log('文件类型：%s', file.mimetype);
  console.log('原始文件名：%s', file.originalname);
  console.log('文件大小：%s', file.size);
  console.log('文件保存路径：%s', file.path);
  console.log(file)
  let uid = getID(10)
  let createTime = new Date().getTime()
  const data = await uploadAdd(
    uid,
    `http://localhost:8888/images/${file.filename}`,
    file.originalname,
    createTime)
  if (data) {
    res.send(({
      code: 200,
      data: file,
      message: '上传成功'
    }))
  } else {
    res.send(({
      code: 400,
      data: file,
      message: '上传失败'
    }))
  }
})</code></pre>

<p>分页查找：</p>

<pre class="has"><code class="language-javascript">//获取上传列表
app.get('/upload/list', async function (req, res) {
  let { page, size } = req.query
  start = (page - 1) * size
  const data = await getUploadList(start, size)
  console.log(data)
  let token = req.headers['token']
  let auth = getTokenAuth(token)
  if (auth) {
    res.send(({
      code: 200,
      data: data,
      message: '上传文件列表'
    }))
  } else {
    deleteTokenHistory(token)
    res.send(({
      code: 403,
      message: '无权限'
    }))
  }
})</code></pre>

<p>sql语句建表：</p>

<pre class="has"><code class="language-sql">DROP TABLE IF EXISTS `upload`;
CREATE TABLE `upload` (
  `uid` varchar(100) COLLATE utf8_unicode_ci NOT NULL COMMENT 'ID',
  `path` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL COMMENT '路径',
	`originalname` varchar(1000) COLLATE utf8_unicode_ci DEFAULT NULL COMMENT '原始文件名',
  `create_time` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL COMMENT '创建时间',
  PRIMARY KEY (`uid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;</code></pre>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>
                                    ]]></description></item><item><title>React  (1702H) 点击复制、滚动条、图形验证码、ridis、密码rsa加密、token、发邮件、文件上传、sql语句</title><link>http://www.cnblogs.com/xutongbao/archive/2019/07/23/11915678.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 23 Jul 2019 03:49:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2019/07/23/11915678.html</guid><description><![CDATA[
                                            <h2>一、使用到的npm包</h2>

<h3>1.clipboard-polyfill</h3>

<p><strong><span style="color:#f33b45;">复制到剪切板</span></strong></p>

<p>示例代码：</p>

<pre class="has"><code class="language-javascript">import * as clipboard from "clipboard-polyfill"

 &lt;Button onClick={this.handleCopy.bind(this, record)} &gt;复制链接&lt;/Button&gt;

  handleCopy(record) {
    clipboard.writeText(record.path);
  }</code></pre>

<h3>2.react-custom-scrollbars</h3>

<p><span style="color:#f33b45;"><strong>滚动条组件</strong></span></p>

<p>示例代码：</p>

<pre class="has"><code class="language-javascript">import { Scrollbars } from 'react-custom-scrollbars'

      &lt;div className="m-content"&gt;
        &lt;Scrollbars&gt;
          &lt;div className="m-content-inner"&gt;
          &lt;/div&gt;
        &lt;/Scrollbars&gt;
      &lt;/div&gt;</code></pre>

<pre class="has"><code class="language-css">.m-content{ height: 500px;}
.m-content-inner{padding: 50px 20px;}</code></pre>

<h3>3.svg-captcha</h3>

<p><span style="color:#f33b45;"><strong>生产图形验证码</strong></span></p>

<p>示例代码：</p>

<pre class="has"><code class="language-javascript">const svgCaptcha = require('svg-captcha')

//验证码
app.get('/captcha', function (req, res) {
  var captcha = svgCaptcha.create({});
  let text = captcha.text.toLowerCase()
  captchaId = getID(10)
  let temp = {
    captchaId: captchaId,
    captcha: captcha.data,
  }
  client.set(captchaId, text, 'EX', 60)  //60秒后验证码过期知道
  client.get(captchaId, function (err, v) {
    console.log("图形验证码的值存入redis，值为：", v);
  })
  res.send({
    code: 200,
    data: temp,
    message: '验证码'
  });
});</code></pre>

<h3>4.redis</h3>

<p><span style="color:#f33b45;"><strong>key value数据库</strong></span></p>

<p>示例代码：</p>

<pre class="has"><code class="language-javascript">const redis = require('redis')

const client = redis.createClient();
//如果没有启动redis,会报错，启动redis方法，在cd到redis的安装目录，执行redis-server.exe redis.windows.conf
client.on("error", function (err) {
  console.log("Error " + err);
});

//登陆
app.post('/login', async function (req, res) {
  let { username, password, captcha } = req.body

  let token = req.headers['token']

  let redisCaptcha = await new Promise((resolve) =&gt; {
    client.get(token, function (err, res) {
      return resolve(res);
    });
  });
  console.log('login', redisCaptcha)
  if (captcha &amp;&amp; captcha === redisCaptcha) {
  } else {
    res.send({
      code: 400,
      message: '验证码错误或过期'
    })
    return
  }
});</code></pre>

<h3>5.node-jsencrypt</h3>

<p><span style="color:#f33b45;"><strong>密码加密解密</strong></span></p>

<p>&nbsp;</p>

<p>前端页面密码加密：</p>

<pre class="has"><code class="language-javascript">import JSEncrypt from 'jsencrypt'

export function jsEncrypt(str) {
    let encrypt = new JSEncrypt();
    let key = `MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAgZbK33WxyTm+mQlnrpDhrlRlSMi54zSVKUICvh234DfN5/UOuRd5xcIQ17zSGX/pttcZM95pTJv1MHDj4FvjEtWAyX3rTL/6tGixyVZmv5T93ok6ZXe6ZDyJIQ5mbrQFBh2/im92gOI+iGIebb0FihEYCqr1C08ik/ppxitr6+Do7bHL1LZeYdYAQ/hgoY9IIzt2N5QBlFOmaMK99omSIQ3Wu6ojfNla6ENWdmW3yxw7F0sDWQON0dsYQOiUw8DQ8UV5HWBf/wbhpTWHKrfWAk3kzZhD1AFBhtnwkQKvl0HQLl3kP/bjBDq0ocFsCtokvQxyrB1c0JOqly9e8hzU/QIDAQAB`
    encrypt.setPublicKey(key);
    let data = encrypt.encrypt(str);
    let code = encodeURI(data).replace(/\+/g, '%2B')
    return code
}</code></pre>

<p>&nbsp;</p>

<p>node后端密码解密：</p>

<pre class="has"><code class="language-javascript">  const JSEncrypt = require('node-jsencrypt');

password = password.replace(/%2B/g, '+')
  let decrypt = new JSEncrypt()
  decrypt.setPrivateKey('MIIEvAIBADANBgkqhkiG9w0BAQEFAASCBKYwggSiAgEAAoIBAQCBlsrfdbHJOb6ZCWeukOGuVGVIyLnjNJUpQgK+HbfgN83n9Q65F3nFwhDXvNIZf+m21xkz3mlMm/UwcOPgW+MS1YDJfetMv/q0aLHJVma/lP3eiTpld7pkPIkhDmZutAUGHb+Kb3aA4j6IYh5tvQWKERgKqvULTyKT+mnGK2vr4OjtscvUtl5h1gBD+GChj0gjO3Y3lAGUU6Zowr32iZIhDda7qiN82VroQ1Z2ZbfLHDsXSwNZA43R2xhA6JTDwNDxRXkdYF//BuGlNYcqt9YCTeTNmEPUAUGG2fCRAq+XQdAuXeQ/9uMEOrShwWwK2iS9DHKsHVzQk6qXL17yHNT9AgMBAAECggEAT1IwvdU5zLUW0G/sUfMG4QFxubp75fICt21bZmmkao9d7vSWXX9cH0tpqdQ/OjKMqUlCePhTtfvkehEvut4jwRyEp1D3HVSJrbJD2LyVSgF136hZ4VAG/GH9gglhc7OnO5Yr7x3JCJzzr+F3RK6l3FwYPjdkpNZ8kN1/rzhW59syV5SSfZxhqS8j454tow6vdhjIHhsuZj/JR1yo6zp+Jgh1m/Js2tPq/3VtbhUsyWLbkUxZ0hFtlAIDhYYyu//9eHthEgelgXePXuPXTLb234PjTFs5gh17qiMozVJGuJLdOuw5SPggXkOwoM05yNyk1VcYVnA6PLh9uqy6J/vg4QKBgQDWuJh+qoFOniUH7DIob0LootQQZX8JEPu1opn308Ee3MurWImD8iB6Sgv4v1p5cggxz180uINf8CgfnKnRFY7iZE4rrHDhpepnJjc3EoFuBr4qOkKxt4+UpfpW+akingL6e2+TsE3hiWn7+anQ2CDHBtewb1zPmcEUCoXhGhwiyQKBgQCagHXXYKZkQP8ONt68d613cmnsarJ+A7WTPLsT9FdR/ue5f2XfLZieiJrz1XE3gNT0M4uGwQ1K5xGVDxAlDowICTR62bLTfcrlgDEabX7Ie6LoKHn94DuzYJp0hGIOoW/B/MUm1jGnabmRwd5fMN7kYkTHW76GOgCdtworFpzmlQKBgAKWmw/70i82bM/ZowklvjK7s7622n8rez1HRn/cR5mto67fFFlI0+dleRt4gwivvTWMgGNMThkb9f/bjZh9oAlOmDqii4HM1DSGG2hIitLetfAgX6lwwwRRs+DUhZtrODH4xvGK0IWFeIeXDNr9n/eGN5di4EWIXvF05wQ9olUxAoGAGFOnulzWdiyhvEw5b/VsE8WpFfeK2TqeSWujjTXI1flL5TJBCQ313OhndYMjC3k2jqjbDEGzZRrS8uRnR15uAAnrAHjspk5FNzOjB6U79Dc7ZFCTPL0kyU6pozUA94rFvQaeyEmrkc+cz212JQjd35n1eGpiqmHRnQOoDzbFR60CgYBYdZj0hYgVXVeSgZVWQGteLi46s/puRLgLZLjudqUZcQIq4GwBpVfSbsfuy+HjBc1GhlYpMp6ZZPzvPKasYyyFy2lgJj0AT7INuA9bnILYvqMzeCVL8RrEFrIGff64mxIMN/qE9uu+e9x2nWYdfXPfjaL6r7eOaZ59kE5UsCg/gA==')
  password = decrypt.decrypt(password)</code></pre>

<h3>6.jwt-simple</h3>

<p><strong><a href="http://self-issued.info/docs/draft-jones-json-web-token.html" rel="nofollow"><span style="color:#f33b45;">JWT(JSON Web Token)</span></a><span style="color:#f33b45;"> 编码解码模块</span></strong></p>

<p>示例代码：</p>

<pre class="has"><code class="language-javascript">const jwt = require('jwt-simple')

//token加密的key
let secret = 'xxx';

var token = jwt.encode(user.uid, secret);</code></pre>

<h3>7.nodemailer</h3>

<p><span style="color:#f33b45;"><strong>发邮件</strong></span></p>

<p>示例代码：</p>

<pre class="has"><code class="language-javascript">const nodemailer = require("nodemailer");

// async..await is not allowed in global scope, must use a wrapper
async function sendEmail(username, email, url) {

  // Generate test SMTP service account from ethereal.email
  // Only needed if you don't have a real mail account for testing
  let testAccount = await nodemailer.createTestAccount();

  // create reusable transporter object using the default SMTP transport
  let transporter = nodemailer.createTransport({
    host: 'smtp.sina.cn',
    // service: 'qq',
    // port: 465,
    //secure: false, // true for 465, false for other ports
    secureConnection: true, // 使用了 SSL
    auth: {
      user: '13642061747@sina.cn', // generated ethereal user
      pass: '123456' // generated ethereal password
    }
  });

  // send mail with defined transport object
  let info = await transporter.sendMail({
    from: '&lt;13642061747@sina.cn&gt;', // sender address
    to: email, // list of receivers
    subject: "重新设置密码", // Subject line
    html: `&lt;b&gt;${username}您好！您可以点击下面的链接设置新的密码&lt;/b&gt;
    &lt;a href=${url}&gt;${url}&lt;/a&gt;`// html body
  });

  console.log("Message sent: %s", info.messageId);
  // Message sent: &lt;b658f8ca-6296-ccf4-8306-87d57a0b4321@example.com&gt;

  // Preview only available when sending through an Ethereal account
  console.log("Preview URL: %s", nodemailer.getTestMessageUrl(info));
  // Preview URL: https://ethereal.email/message/WaQKMgKddxQDoou...
}


await sendEmail(username, user.email, `http://localhost:8080/reset_password/${token}`).catch(console.error);</code></pre>

<p>&nbsp;</p>

<h3>8.multer</h3>

<p><span style="color:#f33b45;"><strong>文件上传</strong></span></p>

<p>示例代码：</p>

<pre class="has"><code class="language-javascript">const multer = require('multer')

var storage = multer.diskStorage({
  destination: function (req, file, cb) {
    // 接收到文件后输出的保存路径（若不存在则需要创建）
    cb(null, 'public/images/');
  },
  filename: function (req, file, cb) {
    // 将保存文件名设置为 时间戳 + 文件原始名，比如 151342376785-123.jpg
    cb(null, Date.now() + "-" + file.originalname);
  }
});
var upload = multer({ dest: 'public/images/', storage: storage });


//文件上传
app.post('/upload', upload.single('file'), async function (req, res, next) {
  var file = req.file;
  console.log('文件类型：%s', file.mimetype);
  console.log('原始文件名：%s', file.originalname);
  console.log('文件大小：%s', file.size);
  console.log('文件保存路径：%s', file.path);
  console.log(file)
  let uid = getID(10)
  let createTime = new Date().getTime()
  const data = await uploadAdd(
    uid, 
    `http://localhost:8888/images/${file.filename}`, 
    file.originalname,
    createTime)
  if (data) {
    res.send(({
      code: 200,
      data: file,
      message: '上传成功'
    }))
  } else {
    res.send(({
      code: 400,
      data: file,
      message: '上传失败'
    }))
  }
})</code></pre>

<h2>&nbsp;</h2>

<h2>二、sql语句</h2>

<p>建表：</p>

<pre class="has"><code class="language-sql">DROP TABLE IF EXISTS `user`;
CREATE TABLE `user` (
  `uid` varchar(100) COLLATE utf8_unicode_ci NOT NULL COMMENT '用户id',
  `username` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL COMMENT '用户昵称',
	`password` varchar(1000) COLLATE utf8_unicode_ci DEFAULT NULL COMMENT '密码',
  `email` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL COMMENT '邮箱',
  PRIMARY KEY (`uid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;
</code></pre>

<p>插值：</p>

<pre class="has"><code class="language-sql">BEGIN;
INSERT INTO `user` VALUES ('21ma84sk2tkw00021ma84sk2tkw000', 'admin', 'admin');
INSERT INTO `user` VALUES ('3a9f12z1ey200003a9f12z1ey20000', 'xutongbao', 'xutongbao');
COMMIT;
</code></pre>

<p>删除：</p>

<pre class="has"><code class="language-sql">delete from overtime where applicationNumber='80nt32no6jddg022'</code></pre>

<p>更新修改：</p>

<pre class="has"><code class="language-sql">UPDATE overtime SET nickname = '新名字' WHERE applicationNumber = '12pnraanmsbk0';</code></pre>

<p>模糊搜索：</p>

<pre class="has"><code class="language-sql">SELECT * FROM overtime WHERE nickname like '%名%';</code></pre>

<p>查询一个表格里有多少条数据：</p>

<pre class="has"><code class="language-sql">select count(*) from upload;</code></pre>

<p>降序升序查找：</p>

<pre class="has"><code class="language-sql">select * from upload order by create_time DESC
select * from upload order by create_time ASC</code></pre>

<p>分页查找加排序：</p>

<p>从0开始，查找10条记录：</p>

<pre class="has"><code class="language-javascript">select * from upload  order by create_time ASC limit 0,10 </code></pre>

<p>从10开始，查找10条记录：</p>

<pre class="has"><code class="language-javascript">select * from upload  order by create_time ASC limit 10,10 </code></pre>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>
                                    ]]></description></item><item><title>React（1702H）搭建架构，包裹redux、路由、api、拦截器、国际化</title><link>http://www.cnblogs.com/xutongbao/archive/2019/07/21/11915679.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Sun, 21 Jul 2019 02:40:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2019/07/21/11915679.html</guid><description><![CDATA[
                                            <h2>一、使用到的库</h2>

<h3>1.react-redux库，使用了两个api</h3>

<p>Provider组件：</p>

<pre class="has"><code class="language-javascript">import { Provider } from 'react-redux';

ReactDOM.render(
  &lt;Provider store={Store}&gt;
    &lt;BrowserRouter&gt;
      &lt;Routers /&gt;
    &lt;/BrowserRouter&gt;
  &lt;/Provider&gt;
  , document.getElementById('root'));</code></pre>

<p>connect()：</p>

<pre class="has"><code class="language-javascript">const mapStateToProps = (state) =&gt; {
  return {
    count: state.getIn(['task', 'count']) 
  }
}

const mapDispatchToProps = (dispatch) =&gt; {
  return {
    TASK_CHANGAE_STATE: (key, value) =&gt; {
      dispatch({ type: 'TASK_CHANGAE_STATE', key, value });
    }    
  };
}

export default connect(mapStateToProps, mapDispatchToProps)(withRouter(Login))</code></pre>

<p>参考链接：<a href="https://www.jianshu.com/p/81e9e9eaf8fa" rel="nofollow">https://www.jianshu.com/p/81e9e9eaf8fa</a></p>

<h3>2.redux-immutable库</h3>

<p>combineReducers():</p>

<p>redux-immutable提供一个combineReducers()函数，将store中最外层的reducer中的state转化为immutable对象（这里涉及到reducer的拆分，拆分用到了与redux中同名的combineReducers()方法）。<a href="https://www.redux.org.cn/docs/api/combineReducers.html" rel="nofollow"><code>combineReducers()</code></a> 将多个 reducer 合并成为一个。</p>

<pre class="has"><code class="language-javascript">import { combineReducers } from 'redux-immutable';
import { createStore, applyMiddleware, compose } from 'redux';
import reducers from './reducers';

const reducer = combineReducers({ ...reducers });
const store = createStore(reducer);

export default store;

</code></pre>

<pre class="has"><code class="language-javascript">import { reducer as task } from './task';
export default {
	task
};
</code></pre>

<p>参考链接：<a href="https://blog.csdn.net/weixin_39786582/article/details/82623353" rel="nofollow">https://blog.csdn.net/weixin_39786582/article/details/82623353</a></p>

<h3>3.redux库</h3>

<p>createStore（）。创建store，第一个参数是reducer。</p>

<p><code>createStore(reducer, [preloadedState], [enhancer])</code></p>

<p><code><a href="https://redux.js.org/api/createstore" rel="nofollow">https://redux.js.org/api/createstore</a></code></p>

<p>&nbsp;</p>

<p>compose() 。字面意思：组成，构成(一个整体);&nbsp; 使用<code>compose</code>可以增强<code>store。例如添加中间件。</code></p>

<p><code><a href="https://redux.js.org/api/compose" rel="nofollow">https://redux.js.org/api/compose</a></code></p>

<p>Enhancers。字面意思：增强剂。</p>

<p>&nbsp;</p>

<p>applyMiddleware（）。应用中间件</p>

<p><a href="https://redux.js.org/api/applymiddleware" rel="nofollow">https://redux.js.org/api/applymiddleware</a></p>

<p>&nbsp;</p>

<p>redux-devtools-extension无法使用的解决办法：</p>

<p><a href="https://github.com/zalmoxisus/redux-devtools-extension#usage" rel="nofollow">https://github.com/zalmoxisus/redux-devtools-extension#usage</a></p>

<p>&nbsp;</p>

<pre class="has"><code class="language-javascript">import { combineReducers } from 'redux-immutable';
import { createStore, applyMiddleware, compose } from 'redux';
import thunk from 'redux-thunk';
import reducers from './reducers';

const composeEnhancers =
  typeof window === 'object' &amp;&amp; window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__
    ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({})
    : compose;

const enhancer = composeEnhancers(applyMiddleware(thunk));
const reducer = combineReducers({ ...reducers });
const store = createStore(reducer, enhancer);

export default store;
</code></pre>

<p>&nbsp;</p>

<h3>4.redux-thunk库</h3>

<p>redux的中间件，使用后dispatch可以接收一个函数作为参数。使用前只能接收一个对象作为参数</p>

<p><a href="https://www.npmjs.com/package/redux-thunk" rel="nofollow">https://www.npmjs.com/package/redux-thunk</a></p>

<h3>5.immutable库</h3>

<p>immutabble字面意思：不可改变的;永恒不变的</p>

<p>mutabble字面意思：可变的;会变的</p>

<p>官网：<a href="https://immutable-js.github.io/immutable-js/" rel="nofollow">https://immutable-js.github.io/immutable-js/</a></p>

<p>用的的api：</p>

<p>formJS：把js对象转换成immutable对象</p>

<pre class="has"><code class="language-javascript">import { fromJS } from 'immutable';

const defaultState = fromJS({
  count: 0,
})
</code></pre>

<p>&nbsp;formJS() 、setIn() 、getIn()、toJS()</p>

<pre class="has"><code class="language-javascript">// 原来的写法
var foo = {a: {b: 1}};
var bar = foo;
bar.a.b = 2;
console.log(foo.a.b);  // 打印 2
console.log(foo === bar);  //  打印 true
 
// 使用 immutable.js 后
var foo = Immutable.fromJS({a: {b: 1}});
var bar = foo.setIn(['a', 'b'], 2);   // 使用 setIn 赋值
console.log(foo.getIn(['a', 'b']));  // 使用 getIn 取值，打印 1
console.log(foo === bar);  //  打印 false     
console.log(bar.getIn(['a', 'b']))  //2
console.log(bar.toJS())  //转变成js对象
</code></pre>

<p>reducer.js文件示例：</p>

<pre class="has"><code class="language-javascript">import actions from './actionTypes';
import { fromJS } from 'immutable';

const defaultState = fromJS({
  count: 0,
})

export default (state = defaultState, action) =&gt; {
  switch (action.type) {
    case actions.TASK_CHANGAE_STATE: {
      if (typeof action.value !== 'undefined') {
        return state.setIn(action.key, action.value);
      } else {
        return state
      }
    }	    
    case actions.TASK_CHANGAE_STATE_FORMJS: {
      if (typeof action.value !== 'undefined') {
        return state.setIn(action.key, fromJS(action.value));
      } else {
        return state
      }
    }
    default:
      return state;
  }
};
</code></pre>

<p>actionTypes.js文件示例：</p>

<pre class="has"><code class="language-javascript">export default {
	TASK_CHANGAE_STATE: 'TASK_CHANGAE_STATE',
	TASK_CHANGAE_STATE_FORMJS: 'TASK_CHANGAE_STATE_FORMJS'
};
</code></pre>

<p>我写的小demo：<a href="https://blog.csdn.net/xutongbao/article/details/81331179" rel="nofollow">https://blog.csdn.net/xutongbao/article/details/81331179</a></p>

<h3>6.react-router-dom库</h3>

<p>常用api有：</p>

<p>BrowserRouter：包裹根组件</p>

<p>Switch： 有&lt;Switch&gt;标签，则其中的&lt;Route&gt;在路径相同的情况下，只匹配第一个，这个可以避免重复匹配</p>

<p>Route：路由</p>

<p>Link ：链接</p>

<p>withRouter：包裹组件，包裹后组件的props会增加三个属性：&nbsp;match, location, history</p>

<p>1）通过js跳转路由：this.props.history.push('/tasklist')</p>

<p>2）获取动态路由参数</p>

<p>&nbsp;&nbsp;&nbsp; let { match } = this.props<br>
&nbsp;&nbsp;&nbsp; if (match.params.new === 'new') {<br>
&nbsp;&nbsp;&nbsp; }</p>

<p>3）获取路径名：&lt;div&gt;{this.props.location.pathname}&lt;/div&gt;</p>

<p>官方文档：<a href="https://reacttraining.com/react-router/web/api/BrowserRouter" rel="nofollow">https://reacttraining.com/react-router/web/api/BrowserRouter</a></p>

<p>index.js:</p>

<pre class="has"><code class="language-javascript">import React from 'react';
import ReactDOM from 'react-dom';
import Routers from './router/index.js';
import { BrowserRouter } from 'react-router-dom';  //路由
import { Provider } from 'react-redux';
import Store from './store/index.js';
import 'antd/dist/antd.css';
import './index.css';
import * as serviceWorker from './serviceWorker';

ReactDOM.render(
  &lt;Provider store={Store}&gt;
    &lt;BrowserRouter&gt;
      &lt;Routers /&gt;
    &lt;/BrowserRouter&gt;
  &lt;/Provider&gt;
  , document.getElementById('root'));
</code></pre>

<p>router/index.js:</p>

<pre class="has"><code class="language-javascript">import React from 'react';
import { Switch, Route } from 'react-router-dom';
import config from "./config.js"

//路由组件
class Routers extends React.Component {
  render() {
    let router = this.renderSingleRoute()
    return (
      &lt;Switch&gt;
        {router}
      &lt;/Switch&gt;
    );
  }
}

Object.assign(Routers.prototype, {
  renderSingleRoute() {
    return config.routerSingle.map((item) =&gt; {
      return &lt;Route key={item.path} exact={item.exact}  path={item.path} component={item.component} /&gt;
    });
  }  
})

export default Routers</code></pre>

<p>config.js:</p>

<pre class="has"><code class="language-javascript">import React, {lazy, Suspense } from 'react';
import Login from '../pages/login/Login.js'
const List = lazy(() =&gt; import('../pages/list/List.js'))

const routerSingle = [
  {
    path: '/',
    exact: true,
    component: () =&gt; (
      &lt;Suspense fallback={'loading...'}&gt;
        &lt;Login /&gt;
      &lt;/Suspense&gt;
    )
  },
  {
    path: '/login',
    exact: true,
    component: () =&gt; (
      &lt;Suspense fallback={'loading...'}&gt;
        &lt;Login /&gt;
      &lt;/Suspense&gt;
    )
  },
  {
    path: '/list',
    exact: true,
    component: () =&gt; (
      &lt;Suspense fallback={'loading...'}&gt;
        &lt;List /&gt;
      &lt;/Suspense&gt;
    )
  }
];

export default {
  routerSingle
}</code></pre>

<p>&nbsp;首先加上了Switch，其次加入了exact。加入Switch表示，只显示一个组件。加exact表示精确匹配/</p>

<p>嵌套路由，从广义上来说，分为两种情况：一种是每个路由到的组件都有共有的内容，这时把共有的内容抽离成一个组件，变化的内容也是一个组件，两种组件组合嵌套，形成一个新的组件。另一种是子路由，路由到的组件内部还有路由。</p>

<p>对于共有的内容，典型的代表就是网页的侧边栏，假设侧边栏在左边，我们点击其中的按钮时，右侧的内容会变化，但不管右侧的内容怎么变化，左侧的侧边栏始终存在。</p>

<p>嵌套路由的示例：</p>

<pre class="has"><code class="language-javascript">import { BrowserRouter as Router, Route, Switch, Link } from 'react-router-dom';
import React, { Suspense, lazy } from 'react';

const Home = lazy(() =&gt; import('./Home'));
const Bar = lazy(() =&gt; import('./Bar'));
const FileUpload = lazy(() =&gt; import('./FileUpload'));
const Banner = lazy(() =&gt; import('./Banner'));

const App = () =&gt; (
  &lt;Router&gt;
    &lt;Suspense fallback={&lt;div&gt;loading&lt;/div&gt;}&gt;
      &lt;div&gt;
        &lt;ul&gt;
          &lt;li&gt;&lt;Link to="/"&gt;Home&lt;/Link&gt;&lt;/li&gt;
          &lt;li&gt;&lt;Link to="/bar"&gt;Bar&lt;/Link&gt;&lt;/li&gt;
          &lt;li&gt;&lt;Link to="/management/file_upload"&gt;后台管理&lt;/Link&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/div&gt;
      &lt;Switch&gt;
        &lt;Route exact path="/" component={Home} /&gt;
        &lt;Route path="/bar" component={Bar} /&gt;
        &lt;Route&gt;
          &lt;div&gt;
            &lt;div&gt;header&lt;/div&gt;
            &lt;ul&gt;
              &lt;li&gt;&lt;Link to="/management/file_upload"&gt;文件上传&lt;/Link&gt;&lt;/li&gt;
              &lt;li&gt;&lt;Link to="/management/banner"&gt;Banner&lt;/Link&gt; &lt;/li&gt;
            &lt;/ul&gt;                   
            &lt;Route exact path="/management/file_upload" component={FileUpload}&gt;&lt;/Route&gt;
            &lt;Route exact path="/management/banner" component={Banner}&gt;&lt;/Route&gt;
          &lt;/div&gt;
        &lt;/Route&gt;
      &lt;/Switch&gt;
    &lt;/Suspense&gt;
  &lt;/Router&gt;
)

export default App;</code></pre>

<p>&nbsp;</p>

<pre class="has"><code class="language-javascript">  renderManagement() {
    return (
      &lt;Route&gt;
        &lt;div&gt;
          &lt;Header/&gt;
          &lt;div className="m-management"&gt;
            &lt;div className="m-sidebar"&gt;
              {
                config.routerManagement.map((item) =&gt; {
                  return &lt;NavLink key={item.path} to={item.path} className="m-management-link" activeClassName="active"&gt;{item.text}&lt;/NavLink&gt;
                })
              }            
            &lt;/div&gt;
            &lt;div className="m-content-wrap"&gt;
              {
                config.routerManagement.map((item) =&gt; {
                  return &lt;Route key={item.path} exact={item.exact} path={item.path} component={item.component}&gt;&lt;/Route&gt;
                })
              }
            &lt;/div&gt;
          &lt;/div&gt;
        &lt;/div&gt;
      &lt;/Route&gt;
    )
  }</code></pre>

<p>&nbsp;</p>

<h3>7.react库</h3>

<p>代码分割用的两个api：<span style="color:#86ca5e;">lazy方法和Suspense组件</span></p>

<p>参考链接：<a href="https://blog.csdn.net/xutongbao/article/details/84822315" rel="nofollow">https://blog.csdn.net/xutongbao/article/details/84822315</a></p>

<h3>8.axios库</h3>

<p>拦截器：</p>

<pre class="has"><code class="language-javascript">import axios from 'axios'

axios.interceptors.request.use(
    (config) =&gt; {
        config.headers['token'] = localStorage.getItem('token')
        return config
    },
    (error) =&gt; {
        return Promise.reject(error.response);
    }
)

axios.interceptors.response.use(
    (response) =&gt; {
        if (response.data.code === 200) {
            return Promise.resolve(response)
        } else if (response.data.code === 400) {
            alert(response.data.message)
        } else if (response.data.code === 403) {
            console.log('登陆过期')
            window.location.href = '/login'
        }
        return Promise.reject(response);
    },
    (error) =&gt; {
        return Promise.reject(error.response);
    }    
)</code></pre>

<p>api.js:</p>

<pre class="has"><code class="language-javascript">import axios from 'axios';

axios.defaults.baseURL = 'http://localhost:8888'

export default async (config) =&gt; {
	try {
		const response = await axios(config);
		if (response) {
			const responseJSON = response.data;
			return responseJSON;			
		} else {
			return {}
		}
	} catch (err) {
		throw err;
	}
};</code></pre>

<p>index.js:</p>

<pre class="has"><code class="language-javascript">import * as urls from './url';
import common from './api';

export default {
    login: (data) =&gt; common({url: urls.login, method: 'post', data}),
    captcha: () =&gt; common({url: urls.captcha, method: 'get'}),
    register: (data) =&gt; common({url: urls.register, method: 'post', data}),
    forgotPassword: (url) =&gt; common({url: urls.forgotPassword + url, method: 'get'}),
    resetPassword: (data) =&gt; common({url: urls.resetPassword, method: 'post', data}),
    getList: (url) =&gt; common({url: urls.getList + url, method: 'get'}),
    deleteItem: (data) =&gt; common({url: urls.deleteItem, method: 'post', data}),
    addItem:(data) =&gt; common({url: urls.addItem, method: 'post', data})
}</code></pre>

<p>url.js:</p>

<pre class="has"><code class="language-javascript">export const login = '/login';
export const captcha = '/captcha'
export const register = '/register'
export const forgotPassword = '/forgot_password'
export const resetPassword = '/reset_password'
export const getList = '/getlist'
export const deleteItem = '/deleteItem'
export const addItem = '/addItem'

</code></pre>

<p>keyCode.js:</p>

<pre class="has"><code class="language-javascript">export const SUCCESS = 200;  // 成功
export const ERROR = 400;  // 基础错误码
export const PARAMS_ERR = 401;  // 请求参数错误
export const PERMISSION_ERR = 402;  // 无权限
export const AUTH_ERR = 403;  // TOKEN失效 无权限
export const DATA_ERR = 404;  // 无数据
export const NO_ACCESS = 427;  // 无数据
export const FORMA_ERR = 500; // 格式错误</code></pre>

<h3>9.antd库</h3>

<p>在入口index.js处引入样式：</p>

<pre class="has"><code class="language-javascript">import 'antd/dist/antd.css';</code></pre>

<p>在页面里引入需要使用的组件：</p>

<pre class="has"><code class="language-javascript">import { Button, Input } from 'antd';</code></pre>

<p>input受控组件示例：</p>

<pre class="has"><code class="language-javascript">import React from 'react';
import { connect } from 'react-redux'
import { withRouter } from 'react-router-dom'
import { Button, Input } from 'antd';
import Api from '../../api/index.js'
import * as keyCode from '../../api/keyCode.js'

class Login extends React.Component {
  constructor(props) {
    super(props)
    this.state = {
      username: '',
      password: ''
    }
  }
  render() {
    let { count } = this.props
    let {
      username,
      password,
    } = this.state
    return (
      &lt;div&gt;
        登录{count}&lt;button onClick={this.handleBtn.bind(this)}&gt;按钮&lt;/button&gt;
        &lt;Input placeholder="请输入用户名" value={username} onChange={this.handleInput.bind(this, 'username')}&gt;&lt;/Input&gt;
        &lt;Input placeholder="请输入密码" value={password} onChange={this.handleInput.bind(this, 'password')}&gt;&lt;/Input&gt;
        &lt;Button onClick={this.handleLogin.bind(this)}&gt;按钮&lt;/Button&gt;
      &lt;/div&gt;
    );
  }
}

Object.assign(Login.prototype, {
  handleBtn() {
    let {count} = this.props
    count = count + 1
    this.props.TASK_CHANGAE_STATE(['count'], count)
  },
  handleLogin() {
    let {username, password} = this.state
    console.log(username,password)
    let data = {
      username,
      password
    }
    this.props.history.push('/list')
    Api.login(data).then((res) =&gt; {
      
    })
  }
})

Object.assign(Login.prototype, {
  handleInput(field, e) {
    this.setState({
      [field]: e.target.value
    })
  }
})

const mapStateToProps = (state) =&gt; {
  return {
    count: state.getIn(['task', 'count']) 
  }
}

const mapDispatchToProps = (dispatch) =&gt; {
  return {
    TASK_CHANGAE_STATE: (key, value) =&gt; {
      dispatch({ type: 'TASK_CHANGAE_STATE', key, value });
    }    
  };
}

export default connect(mapStateToProps, mapDispatchToProps)(withRouter(Login))
</code></pre>

<h3>10.react-intl-universal</h3>

<p>多语言、国际化</p>

<p>示例代码:</p>

<p>1）初始化：</p>

<pre class="has"><code class="language-javascript">  languageInit() {
    let currentLocale = localStorage.getItem('language') || 'zh-CN'
    intl.init({
      currentLocale: currentLocale,    
      locales: {
        [currentLocale]: require(`../../i18n/${currentLocale}`).default
      }
    }).then(() =&gt; {
    }) 
    if (!localStorage.getItem('language')) {
      localStorage.setItem('language', 'zh-CN')
      this.setState({
        language: 'zh-CN'
      })
    } else {
      this.setState({
        language: currentLocale
      })      
    } 
  }</code></pre>

<p>2）语言文件zh-CN.js:</p>

<pre class="has"><code class="language-javascript">export default ({
  language: 'zh',
  login: {
    loginTitle: '后台管理系统',
    login: '登录',
    usernamePlaceholder: '请输入用户名',
    passwordPlaceholder: '请输入密码',
    catpchaPlaceholder: '请输入验证码',
    userRegister: '用户注册',
    forgotPassword: '忘记密码'
  }
})</code></pre>

<p>3)在dom中使用：</p>

<pre class="has"><code class="language-html">        &lt;div className="m-login-title"&gt;
          {intl.get('login.loginTitle')}
        &lt;/div&gt;</code></pre>

<p>4）切换语言：</p>

<pre class="has"><code class="language-javascript">  handleLanguage(language) {
    this.setState({
      language
    })
    localStorage.setItem('language', language);
    window.location.reload()     
  },</code></pre>

<p>&nbsp;</p>

<p>参考链接：<a href="https://www.npmjs.com/package/react-intl-universal" rel="nofollow">https://www.npmjs.com/package/react-intl-universal</a></p>

<p>&nbsp;</p>

<h2>二、制作页面</h2>

<h3>1.登录页</h3>

<p>1）动态渲染html：</p>

<pre class="has"><code class="language-javascript">          &lt;span 
            className="m-captcha" 
            dangerouslySetInnerHTML={{__html: captchaSvg}}
            onClick={this.getCaptcha.bind(this)}
            &gt;
          &lt;/span&gt; </code></pre>

<p>2）受控组件：</p>

<pre class="has"><code class="language-javascript">&lt;Input 
    placeholder={intl.get('login.passwordPlaceholder')} 
    type="password" 
    value={password} 
    onChange={this.handleInput.bind(this, 'password')}&gt;
&lt;/Input&gt;



//受控组件
Object.assign(Login.prototype, {
  handleInput(field, e) {
    this.setState({
      [field]: e.target.value
    })
  }
})</code></pre>

<p>3）input自动获取焦点：</p>

<pre class="has"><code class="language-javascript">         &lt;Input 
            placeholder={intl.get('login.usernamePlaceholder')} 
            value={username} 
            ref={(input) =&gt; this.userNameInput = input}
            onChange={this.handleInput.bind(this, 'username')}&gt;&lt;/Input&gt;



this.userNameInput.focus()</code></pre>

<p>4）点击enter触发事件：</p>

<pre class="has"><code class="language-javascript">          &lt;Input 
            className="m-login-input-catpcha" 
            placeholder={intl.get('login.catpchaPlaceholder')} 
            value={captcha}
            ref={(input) =&gt; this.captchaInput = input}
            onKeyDown={this.handleEnter.bind(this)} 
            onChange={this.handleInput.bind(this, 'captcha')}&gt;&lt;/Input&gt; 


 handleEnter(e) {
		if (e.keyCode === 13) {
			this.handleLogin()
			this.captchaInput.blur()
		}    
  }</code></pre>

<p>&nbsp;5）</p>

<pre class="has"><code class="language-javascript">import React from 'react';
import { connect } from 'react-redux'
import { withRouter, Link } from 'react-router-dom'
import { Button, Input, Select } from 'antd';
import { jsEncrypt } from '../../utils/index.js'
import intl from 'react-intl-universal'
import Api from '../../api/index.js'
import * as keyCode from '../../api/keyCode.js'
import './index.css'

const { Option } = Select
class Login extends React.Component {
  constructor(props) {
    super(props)
    this.state = {
      username: '',
      password: '',
      captcha: '',
      captchaSvg: '',
      language: 'zh-CN'
    }
  }
  render() {
    let { count } = this.props
    let {
      username,
      password,
      captcha,
      captchaSvg,
      language,
    } = this.state
    return (
      &lt;div className="m-login"&gt;
        &lt;div className="m-language"&gt;
          &lt;Select value={language} onChange={this.handleLanguage.bind(this)}&gt;
            &lt;Option value="zh-CN"&gt;简体中文&lt;/Option&gt;
            &lt;Option value="en-US"&gt;Englist&lt;/Option&gt;
            &lt;Option value="zh-TW"&gt;繁體中文&lt;/Option&gt;
          &lt;/Select&gt;
        &lt;/div&gt;
        &lt;div className="m-login-title"&gt;
          {intl.get('login.loginTitle')}
        &lt;/div&gt;
        &lt;div className="m-login-row"&gt;
          &lt;Input 
            placeholder={intl.get('login.usernamePlaceholder')} 
            value={username} 
            ref={(input) =&gt; this.userNameInput = input}
            onChange={this.handleInput.bind(this, 'username')}&gt;&lt;/Input&gt;
        &lt;/div&gt;
        &lt;div className="m-login-row"&gt;
          &lt;Input placeholder={intl.get('login.passwordPlaceholder')} type="password" value={password} onChange={this.handleInput.bind(this, 'password')}&gt;&lt;/Input&gt;
        &lt;/div&gt;
        &lt;div className="m-login-row"&gt;
          &lt;Input 
            className="m-login-input-catpcha" 
            placeholder={intl.get('login.catpchaPlaceholder')} 
            value={captcha}
            ref={(input) =&gt; this.captchaInput = input}
            onKeyDown={this.handleEnter.bind(this)} 
            onChange={this.handleInput.bind(this, 'captcha')}&gt;&lt;/Input&gt;
          &lt;span 
            className="m-captcha" 
            dangerouslySetInnerHTML={{__html: captchaSvg}}
            onClick={this.getCaptcha.bind(this)}
            &gt;
          &lt;/span&gt;          
        &lt;/div&gt;
        &lt;div className="m-login-row"&gt;
          &lt;Button onClick={this.handleLogin.bind(this)}&gt;{intl.get('login.login')}&lt;/Button&gt;
        &lt;/div&gt;
        &lt;div className="m-login-row"&gt;
          &lt;Link to="/register" className="m-link"&gt;{intl.get('login.userRegister')}&lt;/Link&gt;
          &lt;Link to="/forgot_password" className="m-link"&gt;{intl.get('login.forgotPassword')}&lt;/Link&gt;
        &lt;/div&gt;
        &lt;div&gt;
          {intl.get('login.login')}{count}&lt;button onClick={this.handleBtn.bind(this)}&gt;按钮&lt;/button&gt;
        &lt;/div&gt;        
			&lt;/div&gt;
    );
  }
}

//生命周期
Object.assign(Login.prototype, {
  componentDidMount() {
    this.userNameInput.focus()
    this.getCaptcha()
    this.languageInit()
  },
  languageInit() {
    let currentLocale = localStorage.getItem('language') || 'zh-CN'
    intl.init({
      currentLocale: currentLocale,    
      locales: {
        [currentLocale]: require(`../../i18n/${currentLocale}`).default
      }
    }).then(() =&gt; {
    }) 
    if (!localStorage.getItem('language')) {
      localStorage.setItem('language', 'zh-CN')
      this.setState({
        language: 'zh-CN'
      })
    } else {
      this.setState({
        language: currentLocale
      })      
    } 
  }
})

//事件
Object.assign(Login.prototype, {
  handleBtn() {
    let {count} = this.props
    count = count + 1
    this.props.TASK_CHANGAE_STATE(['count'], count)
  },
  handleLogin() {
    let {username, password, captcha} = this.state
    console.log(username,password)
    let data = {
      username,
      password: jsEncrypt(password),
      captcha
    }
    
    Api.login(data).then((res) =&gt; {
      if (res.code === keyCode.SUCCESS) {
        console.log(res)
        localStorage.setItem('token', res.data.token)
        localStorage.setItem('username', res.data.username)
        //this.props.history.push('/list')
        this.props.history.push('/management/file_upload')
      } else {
        this.getCaptcha()
      }
    }).catch((e) =&gt; {
      this.getCaptcha()
    })
  },
  getCaptcha() {
    Api.captcha().then((res) =&gt; {
      console.log(res)
      if (res.code === keyCode.SUCCESS) {
        localStorage.setItem('token', res.data.captchaId)
        this.setState({
          captchaSvg: res.data.captcha
        })
      }
    })
  },
  handleLanguage(language) {
    this.setState({
      language
    })
    localStorage.setItem('language', language);
    window.location.reload()     
  },
  handleEnter(e) {
		if (e.keyCode === 13) {
			this.handleLogin()
			this.captchaInput.blur()
		}    
  }
})

//受控组件
Object.assign(Login.prototype, {
  handleInput(field, e) {
    this.setState({
      [field]: e.target.value
    })
  }
})

const mapStateToProps = (state) =&gt; {
  return {
    count: state.getIn(['task', 'count']) 
  }
}

const mapDispatchToProps = (dispatch) =&gt; {
  return {
    TASK_CHANGAE_STATE: (key, value) =&gt; {
      dispatch({ type: 'TASK_CHANGAE_STATE', key, value });
    }    
  };
}

export default connect(mapStateToProps, mapDispatchToProps)(withRouter(Login))
</code></pre>

<p>注册页：</p>

<pre class="has"><code class="language-javascript">import React from 'react';
import { withRouter } from 'react-router-dom'
import { Button, Input, message } from 'antd';
import { jsEncrypt } from '../../utils/index.js'
import Api from '../../api/index.js'
import * as keyCode from '../../api/keyCode.js'
import './index.css'

class Register extends React.Component {
  constructor(props) {
    super(props)
    this.state = {
      username: '',
      password: '',
      email: '',
    }
  }
  render() {
    let { count } = this.props
    let {
      username,
      password,
      email,
    } = this.state
    return (
      &lt;div className="m-login"&gt;
        &lt;div&gt;
          注册
        &lt;/div&gt;
        &lt;div className="m-login-row"&gt;
          &lt;Input placeholder="请输入用户名" value={username} onChange={this.handleInput.bind(this, 'username')}&gt;&lt;/Input&gt;
        &lt;/div&gt;
        &lt;div className="m-login-row"&gt;
          &lt;Input placeholder="请输入密码" type="password" value={password} onChange={this.handleInput.bind(this, 'password')}&gt;&lt;/Input&gt;
        &lt;/div&gt;
        &lt;div className="m-login-row"&gt;
          &lt;Input placeholder="请输入邮箱" type="email" value={email} onChange={this.handleInput.bind(this, 'email')}&gt;&lt;/Input&gt;
        &lt;/div&gt;
        &lt;div className="m-login-row"&gt;
          &lt;Button onClick={this.handleRegister.bind(this)}&gt;注册&lt;/Button&gt;
        &lt;/div&gt;
			&lt;/div&gt;
    );
  }
}

Object.assign(Register.prototype, {
  handleRegister() {
    let {username, password, email} = this.state
    console.log(username,password)
    let data = {
      username,
      password: jsEncrypt(password),
      email
    }
    
    Api.register(data).then((res) =&gt; {
      if (res.code === keyCode.SUCCESS) {
        console.log(res)
        message.info(res.message)
      }
    }).catch((e) =&gt; {
    })
  },
})

//受控组件
Object.assign(Register.prototype, {
  handleInput(field, e) {
    this.setState({
      [field]: e.target.value
    })
  }
})

export default withRouter(Register)
</code></pre>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>
                                    ]]></description></item><item><title>小程序购物车和搜索（1702H）</title><link>http://www.cnblogs.com/xutongbao/archive/2019/07/18/11915680.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 18 Jul 2019 06:49:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2019/07/18/11915680.html</guid><description><![CDATA[
                                            <h3>gif：</h3>

<p><img alt="" class="has" height="623" src="https://img-blog.csdnimg.cn/2019071913435284.gif" width="325"></p>

<h3>&nbsp;</h3>

<h3>一、相关文档</h3>

<p>组件-》表单组件-》checkbox：</p>

<p><a href="https://developers.weixin.qq.com/miniprogram/dev/component/checkbox.html" rel="nofollow">https://developers.weixin.qq.com/miniprogram/dev/component/checkbox.html</a></p>

<p>组件-》视图容器-》swiper:</p>

<p><a href="https://developers.weixin.qq.com/miniprogram/dev/component/swiper.html" rel="nofollow">https://developers.weixin.qq.com/miniprogram/dev/component/swiper.html</a></p>

<p>组件-》表单组件-》input：</p>

<p><a href="https://developers.weixin.qq.com/miniprogram/dev/component/input.html" rel="nofollow">https://developers.weixin.qq.com/miniprogram/dev/component/input.html</a></p>

<h3>二、代码介绍</h3>

<p>&nbsp;</p>

<p>1、调后端接口获得商品的全部数据，商品是分类展示的，先将第一类的所有商品都取出来，展示在页面上</p>

<pre class="has"><code class="language-javascript">  onLoad: function (options) {
    wx.request({
      url: 'http://localhost:8888/wx/day5/food',
      success:(res) =&gt; {
        console.log(res)
        if (res.data.code === 200) {
          let spuList =  res.data.data.categoryList[0].spuList
          this.setData({
            categoryList: res.data.data.categoryList,
            currentFoodList: spuList
          })
        }
      }
    })
  },</code></pre>

<p>&nbsp;2、每次点击切换tab页时，动态修改currentFootList的值，这个值决定页面渲染的商品列表</p>

<pre class="has"><code class="language-javascript">  handleNav(e) {
    let {index} = e.currentTarget.dataset
    let {categoryList} = this.data
    this.setData({
      currentIndex: index,
      currentFoodList: categoryList[index].spuList
    })
  },</code></pre>

<p>3、点击加号或减号时，动态修改一个ordered对象，这个对象保存着所有添加到购物车的商品信息，包括某一个商品添加的数量，ordered这个对象再复制一份放在全局对象中</p>

<pre class="has"><code class="language-javascript">  handleListItemAdd(e) {
    let { item } = e.currentTarget.dataset
    let {currentIndex, ordered} = this.data
    if (ordered[item.spuId]) {
      ordered[item.spuId].count = ordered[item.spuId].count + 1
      ordered[item.spuId].checked = true
    } else {
      ordered[item.spuId] = item
      ordered[item.spuId].count = 1
      ordered[item.spuId].checked = true
    }
    app.globalData.ordered = ordered
    this.setData({
      ordered
    })    
  },
</code></pre>

<p>4、购物车页面，从全局数据中获取ordered对象，并渲染购物车页面。购物车页面，每个商品都包含一个复选框，根据复选框的勾选情况动态计算总价，商品总数。</p>

<pre class="has"><code class="language-javascript">  priceAndCount() {
    let {orderedArr} = this.data
    let totalCount = 0
    let totalPrice = 0
    for (let i = 0; i &lt; orderedArr.length; i++) {
      if (orderedArr[i].checked) {
        totalCount = totalCount + orderedArr[i].count
        totalPrice = totalPrice + orderedArr[i].count * orderedArr[i].currentPrice
      }
    }
    this.setData({
      totalCount,
      totalPrice
    })
  },</code></pre>

<pre class="has"><code class="language-javascript">  handleCheckboxChange(e) {
    let {value} = e.detail
    let {orderedArr} = this.data
    for (let i = 0; i &lt; orderedArr.length; i++) {
      if (value.indexOf(orderedArr[i].spuId + '') &gt;= 0) {
        orderedArr[i].checked = true
      } else {
        orderedArr[i].checked = false
      }
    }
    this.setData({
      orderedArr,
      selectAll: value.length === orderedArr.length
    })
    console.log(e)
    this.priceAndCount()
  },</code></pre>

<p>&nbsp;</p>

<p>5、全选按钮。根据全选按钮的状态，变了整个orderedArr数组，修改每一项的checked属性。</p>

<pre class="has"><code class="language-javascript">
  handleSelectAll(e) {
    let { value } = e.detail
    let { orderedArr } = this.data
    let checkedCount = 0
    for (let i = 0; i &lt; orderedArr.length; i++) {
      if (value.length &gt; 0) {
        orderedArr[i].checked = true
        checkedCount = checkedCount + 1
      } else {
        orderedArr[i].checked = false
      }
    }
    this.setData({
      orderedArr,
      selectAll: checkedCount === orderedArr.length
    })    
    this.priceAndCount()
  },</code></pre>

<p>6.购物车页面添加修改数量的加号和减号</p>

<pre class="has"><code class="language-html">      &lt;button size="mini" disabled="{{item.subBtnDisabled}}" data-index="{{index}}" bindtap="handleSub"&gt;-&lt;/button&gt;
      &lt;text&gt;数量：{{item.count}}&lt;/text&gt;
      &lt;button size="mini" data-index="{{index}}" bindtap="handleAdd"&gt;+&lt;/button&gt;</code></pre>

<pre class="has"><code class="language-javascript">handleSub(e) {
    let { index } = e.currentTarget.dataset
    let { orderedArr } = this.data

    orderedArr[index].count = orderedArr[index].count - 1
    if (orderedArr[index].count &lt;= 1) {
      orderedArr[index].subBtnDisabled = true
    } else {
      orderedArr[index].subBtnDisabled = false
    }    
    this.setData({
      orderedArr
    })
    this.priceAndCount()
  },

  handleAdd(e) {
    let {index} = e.currentTarget.dataset
    let {orderedArr} = this.data
    orderedArr[index].count = orderedArr[index].count + 1
    orderedArr[index].subBtnDisabled = false
    this.setData({
      orderedArr
    })
    this.priceAndCount()
  },</code></pre>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<h3>三、搜索</h3>

<p>1.swiper</p>

<p>indicator-dots:是否显示面板指示点</p>

<p>autoplay:是否自动切换</p>

<p>interval:自动切换时间间隔</p>

<p>duration: 滑动动画时长</p>

<pre class="has"><code class="language-html">&lt;swiper 
  indicator-dots="{{indicatorDots}}"
  autoplay="{{autoplay}}" 
  interval="{{interval}}" 
  duration="{{duration}}"&gt;
  &lt;view wx:for="{{imgUrls}}" wx:key="{{index}}"&gt;
    &lt;swiper-item&gt;
      &lt;image src="{{item}}" class="m-slide-image"/&gt;
    &lt;/swiper-item&gt;
  &lt;/view&gt;
&lt;/swiper&gt;
</code></pre>

<p>input</p>

<pre class="has"><code class="language-html">  &lt;input 
    type="text" 
    value="{{searchValue}}" 
    bindinput="handleInputChange" 
    placeholder="请输入搜索内容" 
    class="m-input"&gt;&lt;/input&gt;</code></pre>

<p>请求搜索接口：</p>

<pre class="has"><code class="language-javascript">    wx.request({
      url: 'https://jbiz.share1diantong.com/fa053/topic/search/v1',
      method: 'POST',
      data: {
        "pageNum": 1,
        "kw": searchValue,
        "pageSize": 10,
        "userId": 0
      },
      success: (res) =&gt; {
        console.log(res)
        this.setData({
          list: res.data.data.list
        })
        console.log(res.data.data.list)
      }
    })   </code></pre>

<p>gif：</p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190719101712721.gif"></p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>
                                    ]]></description></item><item><title>小程序（1702H）</title><link>http://www.cnblogs.com/xutongbao/archive/2019/07/16/11915681.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 16 Jul 2019 00:50:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2019/07/16/11915681.html</guid><description><![CDATA[
                                            <p>gif:</p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190716122450307.gif"></p>

<p>1.运行请求本地连接<img alt="" class="has" src="https://img-blog.csdnimg.cn/20190716084940566.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>2.wx:for</p>

<pre class="has"><code class="language-javascript">&lt;view
  wx:for="{{navTitle}}"
  wx:key="{{index}}"
  wx:for-index="i"
  wx:for-item="myItem"
  data-temp-index="{{i}}"
  bind:tap="handleNavClick"&gt;
  &lt;button class="m-btn {{currentIndex === i ? 'active':''}}"&gt;{{myItem.title}}&lt;/button&gt;
&lt;/view&gt;</code></pre>

<p>3.wx.request</p>

<pre class="has"><code class="language-javascript">    wx.request({
      url: 'http://192.168.2.196:8888/wx/list',
      method: 'get',
      success:(res) =&gt; {
        console.log(res)
        if (res.data.code === 200) {
          let data = res.data.data
          this.setData({
            navTitle: data.navtitle,
            navData: data.navdata,
            currentList: data.navdata[0].content
          })
        }
      }
    })</code></pre>

<p>4.usingComponents</p>

<pre class="has"><code class="language-javascript">{
  "usingComponents": {
    "navItem": "../../components/nav/nav",
    "listItem": "../../components/listItem/item"
  }
}</code></pre>

<p>5.子组件触发父组件的方法</p>

<pre class="has"><code class="language-javascript">this.triggerEvent('HandleNavClickFromComponent', {tempindex})</code></pre>

<p>6.使用子组件</p>

<pre class="has"><code class="language-javascript">  &lt;navItem navTitle="{{navTitle}}" currentId="{{currentId}}" bindHandleNavClickFromComponent="handleNavClickFromComponent"&gt;&lt;/navItem&gt;
  &lt;listItem currentList="{{currentList}}"&gt;&lt;/listItem&gt;</code></pre>

<p>7.子组件里定义方法</p>

<pre class="has"><code class="language-javascript">  methods: {
    handleNavClick2(e) {
      let {tempindex} =  e.currentTarget.dataset
      console.log(tempindex)
      this.triggerEvent('HandleNavClickFromComponent', {tempindex})
    }
  }</code></pre>

<p>8.子组件接收父组件传递来的属性</p>

<pre class="has"><code class="language-javascript">  properties: {
    currentId: Number,
    navTitle: Array
  },</code></pre>

<p>9.github地址：<a href="https://github.com/1702h/m-wx-demo" rel="nofollow">https://github.com/1702h/m-wx-demo</a></p>

<p>10.目录结构</p>

<p><img alt="" class="has" height="522" src="https://img-blog.csdnimg.cn/20190716122642125.png" width="205"></p>

<p>11.主要文档指引</p>

<p>指南-》小程序框架-》视图层-》事件系统：</p>

<p><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxml/event.html" rel="nofollow">https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxml/event.html</a></p>

<p>&nbsp;</p>

<p>指南-》自定义组件-》组件间通信与事件：</p>

<p><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/events.html" rel="nofollow">https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/events.html</a></p>

<p>&nbsp;</p>

<p>指南-》自定义组件-》组件生命周期：</p>

<p><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/lifetimes.html" rel="nofollow">https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/lifetimes.html</a></p>

<p>&nbsp;</p>

<p>指南-》小程序框架-》页面生命周期：</p>

<p><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/app-service/page-life-cycle.html" rel="nofollow">https://developers.weixin.qq.com/miniprogram/dev/framework/app-service/page-life-cycle.html</a></p>

<p>&nbsp;</p>

<p>API-》WXML-》wx.createSelectorQuery：</p>

<p><a href="https://developers.weixin.qq.com/miniprogram/dev/api/wxml/wx.createSelectorQuery.html" rel="nofollow">https://developers.weixin.qq.com/miniprogram/dev/api/wxml/wx.createSelectorQuery.html</a></p>

<p>&nbsp;</p>

<p>组件-》视图容器-》scroll-view：</p>

<p><a href="https://developers.weixin.qq.com/miniprogram/dev/component/scroll-view.html" rel="nofollow">https://developers.weixin.qq.com/miniprogram/dev/component/scroll-view.html</a></p>

<p>&nbsp;</p>

<p>API-》网络-》发起请求-》wx.request:</p>

<p><a href="https://developers.weixin.qq.com/miniprogram/dev/api/network/request/wx.request.html" rel="nofollow">https://developers.weixin.qq.com/miniprogram/dev/api/network/request/wx.request.html</a></p>

<p>&nbsp;</p>

<p>框架-》小程序-》全局配置-》往下滑-》tabBar:</p>

<p><a href="https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/app.html" rel="nofollow">https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/app.html</a></p>

<p>&nbsp;</p>

<p>API-》路由-》wx.navigateTo:</p>

<p><a href="https://developers.weixin.qq.com/miniprogram/dev/api/route/wx.navigateTo.html" rel="nofollow">https://developers.weixin.qq.com/miniprogram/dev/api/route/wx.navigateTo.html</a></p>

<p>&nbsp;</p>

<p>组件-》导航-》navigator:</p>

<p><a href="https://developers.weixin.qq.com/miniprogram/dev/component/navigator.html" rel="nofollow">https://developers.weixin.qq.com/miniprogram/dev/component/navigator.html</a></p>

<p>&nbsp;</p>

<p>API-》WXML-》NodesRef-》NoddesRef.bundingClientRect:</p>

<p><a href="https://developers.weixin.qq.com/miniprogram/dev/api/wxml/NodesRef.boundingClientRect.html" rel="nofollow">https://developers.weixin.qq.com/miniprogram/dev/api/wxml/NodesRef.boundingClientRect.html</a></p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>12.tabBar，下面这段代码添加到app.json文件里，和pages平级:</p>

<pre class="has"><code class="language-javascript">  "tabBar": {
    "color": "#333333",
    "selectedColor": "#f66f0c",
    "backgroundColor": "#ffffff",
    "borderStyle": "black",
    "position": "bottom",
    "list": [
      {
        "text": "首页",
        "selectedIconPath": "./static/index-active.png",
        "iconPath": "./static/index.png",
        "pagePath": "pages/index/index"
      },
      {
        "text": "通讯录",
        "selectedIconPath": "./static/find-active.png",
        "iconPath": "./static/find.png",
        "pagePath": "pages/list/list"
      },
      {
        "text": "购物车",
        "selectedIconPath": "./static/cart-active.png",
        "iconPath": "./static/cart.png",
        "pagePath": "pages/cart/cart"
      },
      {
        "text": "我的",
        "selectedIconPath": "./static/me-active.png",
        "iconPath": "./static/me.png",
        "pagePath": "pages/me/me"
      }
    ]
  }</code></pre>

<p>13.scrollview相关</p>

<pre class="has"><code class="language-javascript">&lt;scroll-view 
  class="m-scroll-view" 
  scroll-y 
  scroll-into-view="{{currentKey}}" 
  scroll-with-animation 
  bindscroll="handleScroll"&gt;
    &lt;view wx:for="{{list}}" wx:key="{{index}}" id="{{item.key}}" class="js-list-item"&gt;
      &lt;text&gt;{{item.key}}&lt;/text&gt;
      &lt;view wx:for="{{item.row}}" wx:key="{{index}}"&gt;
        &lt;text&gt;{{item.name}}&lt;/text&gt;
      &lt;/view&gt;
    &lt;/view&gt;
  &lt;/scroll-view&gt;</code></pre>

<pre class="has"><code class="language-javascript">  handleScroll(e) {
    let scrollTop = e.detail.scrollTop
    let {listItemTops} = this.data
    for (let i = 0; i &lt; listItemTops.length; i++) {
      if (scrollTop &gt;= listItemTops[i]) {
        this.setData({
          currentIndex: i
        })
      }
    }
  },</code></pre>

<pre class="has"><code class="language-css">page{
  height: 100%;
}</code></pre>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>14.查询页面里元素已经元素的位置</p>

<pre class="has"><code class="language-javascript">    wx.request({
      url: "http://localhost:8888/wx/mail_list",
      success: (res) =&gt; {
        console.log(res)
        if (res.data.code === 200) {
          let data = res.data.data
          this.setData({
            list: data.items
          }, () =&gt; {
            const query = wx.createSelectorQuery();
            query.selectAll('.js-list-item').boundingClientRect((res) =&gt; {
              console.log(res)
              this.setData({
                listItemTops: res.map(item =&gt; item.top)
              })
            }).exec()
          })
        }
      }
    })</code></pre>

<p>15.通讯录</p>

<p><img alt="" class="has" height="597" src="https://img-blog.csdnimg.cn/20190717101039811.gif" width="356"></p>

<p>&nbsp;</p>

<p>16.跳转页面的两种写法：</p>

<p><span style="color:#86ca5e;">&nbsp;第一种是绑定事件：</span></p>

<pre class="has"><code class="language-javascript">&lt;button data-id="{{index}}" bindtap="handleDetail"&gt;详情&lt;/button&gt;</code></pre>

<pre class="has"><code class="language-javascript">  todetail({currentTarget}){
    let {id} = currentTarget.dataset;
    wx.navigateTo({
      url:'/pages/detail/detail?id='+id
    })
  },</code></pre>

<p><span style="color:#86ca5e;">&nbsp;第二种是直接使用组件：</span></p>

<pre class="has"><code class="language-javascript">&lt;navigator url="/pages/details/details?id={{index}}"&gt;详情2&lt;/navigator&gt;</code></pre>

<p>17.列表跳转详情：</p>

<p><img alt="" class="has" height="579" src="https://img-blog.csdnimg.cn/20190717143125374.gif" width="666"></p>

<p>&nbsp;</p>

<p>18.列表页可以反复加载新数据的，并且点击按钮可以跳转到详情页项目，重点代码：</p>

<p>&nbsp;</p>

<p>请求后端接口，传递页码和每页数据的条数。后端返回新数据。把新数据拼接到旧数据后面。</p>

<pre class="has"><code class="language-javascript">  getData() {
    let {page,limit} = this.data
    wx.request({
      url: 'http://localhost:8888/wx/day4/list',
      data: {
        page,
        limit
      },
      success: (res) =&gt; {
        console.log(res)
        let {list} = this.data
        list = list.concat(res.data.data)
        this.setData({
          list
        })
      }
    })
  },</code></pre>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;scroll-view组件滚动到底部时触发bindscrolltolower上绑定的handleScrollToEnd方法。页码数加一后，再次请求新数据。</p>

<pre class="has"><code class="language-javascript">  handleScrollToEnd(e) {
    console.log(e)
    let {page} = this.data
    page = page + 1
    this.setData({
      page
    }, () =&gt; {
      this.getData()
    })
    
  },</code></pre>

<p>&nbsp;</p>

<p>&nbsp;详情页通过options参数获取用户在列表页点击了哪条数据，这里的是通过id表示的。详情页拿到id后再次请求详情接口。详情接口比较简单。返回数据后直接通过{{}}插值的页码显示一下就可以了。</p>

<pre class="has"><code class="language-javascript">  onLoad: function (options) {
    console.log(options)
    let {id} = options
    wx.request({
      url: `http://localhost:8888/wx/day4/detail?id=${id}`,
      success: (res) =&gt; {
        console.log(res)
        this.setData({
          detail: res.data.data
        })
      }
    })
  },</code></pre>

<p>mock数据：</p>

<pre class="has"><code class="language-javascript">const Mock = require('mockjs')

const day4ListData = Mock.mock({
  'detail|500':[
      {
          name:'@cname',
          'rate|1-5':1,
          image:'@image(300X300)',
          'price|300-1500':1,
          title:'@ctitle',
          address: Mock.Random.city(true),
          email: '@email'
      }
  ]
})
</code></pre>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>
                                    ]]></description></item><item><title>node + vue 实战项目（包含登陆、注册、找回密码、密码rsa加密、多语言、图形验证码、redis、路由、vuex、列表页、列表页内容动态添加、删除等等）</title><link>http://www.cnblogs.com/xutongbao/archive/2019/07/13/11915682.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Sat, 13 Jul 2019 13:09:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2019/07/13/11915682.html</guid><description><![CDATA[
                                            <p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190713210455790.gif"></p>

<p>&nbsp;node，github地址：<a href="https://github.com/xutongbao/m-vue-server" rel="nofollow">https://github.com/xutongbao/m-vue-server</a></p>

<p>vue，github地址：<a href="https://github.com/xutongbao/m-vue3/tree/feature_language" rel="nofollow">https://github.com/xutongbao/m-vue3/tree/feature_language</a></p>
                                    ]]></description></item><item><title>实训项目（1702H)</title><link>http://www.cnblogs.com/xutongbao/archive/2019/07/05/11915683.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Fri, 05 Jul 2019 06:40:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2019/07/05/11915683.html</guid><description><![CDATA[
                                            <p>&nbsp;1.GIF:</p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190705143932322.gif"></p>

<p>2.技术栈：Vue + vue-router + vuex</p>

<p>3.</p>

<p>路由：<a href="http://localhost:8080/home" rel="nofollow">http://localhost:8080/home</a></p>

<p>调用后端接口登陆，把token保存到localStorage里</p>

<p>4.</p>

<p>路由：<a href="http://localhost:8080/home" rel="nofollow">http://localhost:8080/home</a></p>

<p>登陆后跳转到这个页面，顶部三个tab页，分别是待处理，已发起，已处理</p>

<p>每个tab页下面都包含两个tab页，分别是加班和休假。</p>

<p>5.</p>

<p>路由：<a href="http://localhost:8080/detail/overtime/3gvn7916rwg0" rel="nofollow">http://localhost:8080/detail/overtime/3gvn7916rwg0</a></p>

<p>加班的详情</p>

<p>6.</p>

<p>路由：<a href="http://localhost:8080/detail/vacation/347fr4d3boc0" rel="nofollow">http://localhost:8080/detail/vacation/347fr4d3boc0</a></p>

<p>休假的详情</p>

<p>7.安装mysql数据库：<a href="https://jingyan.baidu.com/article/fd8044fa10550d5031137adf.html" rel="nofollow">https://jingyan.baidu.com/article/fd8044fa10550d5031137adf.html</a></p>

<p>8.连接数据库报错：<br>
开始-》mysql 8.0 command line client -》执行下面的命令<br>
//开启mysql服务<br>
mysql.server start<br>
//进入mysql<br>
mysql -u root -p<br>
//修改密码方案3（对）<br>
USE mysql; ALTER USER 'root'@'localhost'IDENTIFIED WITH mysql_native_password BY '密码';<br>
//重启<br>
FLUSH PRIVILEGES;</p>

<p>如果还不行，可以参考这个链接：<a href="https://www.jianshu.com/p/c8eb6d2471f8" rel="nofollow">https://www.jianshu.com/p/c8eb6d2471f8</a></p>

<p>如果班里有些同学的电脑安装mysql失败，可以连接其他同学或老师的mysql数据库，需要其他同学或老师运行下面几条命令，</p>

<p>使mysql运行外部连接访问：</p>

<p>use mysql;</p>

<p>update user set host='%' where user='root';</p>

<p>flush privileges;</p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190711131247111.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>navicat破解版：<a href="https://blog.csdn.net/a599174211/article/details/82795658" rel="nofollow">https://blog.csdn.net/a599174211/article/details/82795658</a></p>

<p>&nbsp;</p>

<p>9.server-vue(后端代码） github地址：<a href="https://github.com/xutongbao/server-vue" rel="nofollow">https://github.com/xutongbao/server-vue</a></p>

<p>&nbsp;&nbsp; m-vue （前端代码） github地址：<a href="https://github.com/xutongbao/m-vue" rel="nofollow">https://github.com/xutongbao/m-vue</a></p>

<p>&nbsp;</p>

<p>10.生成sshkey :&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ssh-keygen -t rsa -C "1183391880@qq.com"</p>

<p>github配置ssh遇到问题是可以参考下面的链接：</p>

<p><a href="https://blog.csdn.net/goawaycow1/article/details/78069487" rel="nofollow">https://blog.csdn.net/goawaycow1/article/details/78069487</a></p>

<p><a href="https://blog.csdn.net/felicity294250051/article/details/53606158" rel="nofollow">https://blog.csdn.net/felicity294250051/article/details/53606158</a></p>

<p>11.vuex基础知识demo：https://github.com/xutongbao/m-vuex-dome&nbsp;</p>

<p>12.vue基础知识demo：<a href="https://github.com/xutongbao/m-vue-demo" rel="nofollow">https://github.com/xutongbao/m-vue-demo</a></p>

<p>13.购物车gif：github地址：<a href="https://github.com/xutongbao/m-vuex-demo/tree/master/25vuex-cart" rel="nofollow">https://github.com/xutongbao/m-vuex-demo/tree/master/25vuex-cart</a></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190708172534353.gif"></p>

<p>14.自己动手写的node后端代码：<a href="https://github.com/xutongbao/m-vue-server" rel="nofollow">https://github.com/xutongbao/m-vue-server</a></p>

<p>前端代码：<a href="https://github.com/xutongbao/m-vue3" rel="nofollow">https://github.com/xutongbao/m-vue3</a></p>

<p>&nbsp;</p>

<p>15.redis安装：<a href="https://www.runoob.com/redis/redis-install.html" rel="nofollow">https://www.runoob.com/redis/redis-install.html</a></p>
                                    ]]></description></item><item><title>主流浏览器及其内核</title><link>http://www.cnblogs.com/xutongbao/archive/2019/06/27/11915684.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 27 Jun 2019 03:58:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2019/06/27/11915684.html</guid><description><![CDATA[
                                            <table border="1" cellpadding="1" cellspacing="1"><thead><tr><th scope="col">浏览器</th>
			<th scope="col">内核</th>
		</tr></thead><tbody><tr><td>Chrome</td>
			<td>统称为Chromium内核或Chrome内核，以前是Webkit内核，现在是Blink内核</td>
		</tr><tr><td>Firefox</td>
			<td>Gecko内核，俗称Firefox内核</td>
		</tr><tr><td>Safari</td>
			<td>Webkit内核</td>
		</tr><tr><td>Opera</td>
			<td>最初是自己的Presto内核，后来是Webkit，现在是Blink内核</td>
		</tr><tr><td>IE</td>
			<td>Trident内核，也是俗称的IE内核</td>
		</tr></tbody></table><p>&nbsp;</p>
                                    ]]></description></item><item><title>redux中间件redux-thunk的作用</title><link>http://www.cnblogs.com/xutongbao/archive/2019/06/26/11915685.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 26 Jun 2019 11:06:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2019/06/26/11915685.html</guid><description><![CDATA[
                                            <p><img alt="" class="has" height="166" src="https://img-blog.csdnimg.cn/20190626190207648.gif" width="350"></p>

<p>redux的dispatch默认只能传一个对象参数：</p>

<pre class="has"><code class="language-javascript">dispatch({ type: 'CHANGE_COLOR', themeColor: color })</code></pre>

<p>redux-thunk的作用就是使dispatch支持传函数参数：</p>

<pre class="has"><code class="language-javascript">dispatch(changeColorAsyn(color))</code></pre>

<p>给redux配置thunk也很简单：</p>

<pre class="has"><code class="language-javascript">import { createStore, applyMiddleware } from 'redux';
import thunk from 'redux-thunk'

const store = createStore(themeReducer, applyMiddleware(thunk))</code></pre>

<p><img alt="" class="has" height="201" src="https://img-blog.csdnimg.cn/2019062619025878.png" width="223"></p>

<p>index.js</p>

<pre class="has"><code class="language-javascript">import React from 'react';
import ReactDOM from 'react-dom';
import App from './App';
import registerServiceWorker from './registerServiceWorker';

ReactDOM.render(&lt;App /&gt;, document.getElementById('root'));
registerServiceWorker();
</code></pre>

<p>App.js</p>

<pre class="has"><code class="language-javascript">import React, { Component } from 'react';
import Header from './Header'
import { Provider } from 'react-redux'
import { createStore, applyMiddleware } from 'redux';
import thunk from 'redux-thunk';

const themeReducer = (state, action) =&gt; {
  if (!state) return {
    themeColor: 'red'
  }
  switch (action.type) {
    case 'CHANGE_COLOR':
      return { ...state, themeColor: action.themeColor }
    default:
      return state
  }
}

const store = createStore(themeReducer, applyMiddleware(thunk))

class App extends Component {
  render() {
    return (
      &lt;Provider store={store}&gt;
        &lt;Header /&gt;
      &lt;/Provider&gt;
    );
  }
}

export default App;
</code></pre>

<p>Header.js</p>

<pre class="has"><code class="language-javascript">import React, { Component } from 'react';
import PropTypes from 'prop-types'
import { connect } from 'react-redux'
import ThemeSwitch from './ThemeSwitch'

class Header extends Component {
  static propTypes = {
    themeColor: PropTypes.string
  }

  render () {
    return (
      &lt;div&gt;
        &lt;h1 style={{ color: this.props.themeColor }}&gt;xutongbao&lt;/h1&gt;
        &lt;ThemeSwitch/&gt;
      &lt;/div&gt;
    )
  }
}

const mapStateToProps = (state) =&gt; {
  return {
    themeColor: state.themeColor
  }
}
Header = connect(mapStateToProps, null)(Header)

export default Header
</code></pre>

<p>ThemeSwitch.js</p>

<pre class="has"><code class="language-javascript">import React, { Component } from 'react';
import PropTypes from 'prop-types'
import { connect } from 'react-redux'

class ThemeSwitch extends Component {
  static contextTypes = {
    store: PropTypes.object
  }

  handleSwitchColor (color) {
    if (this.props.onSwitchColor) {
      this.props.onSwitchColor(color)
    }
  }

  render () {
    return (
      &lt;div&gt;
        &lt;button onClick={this.handleSwitchColor.bind(this, 'red')}&gt;Red&lt;/button&gt;
        &lt;button onClick={this.handleSwitchColor.bind(this, 'blue')}&gt;Blue&lt;/button&gt;
        &lt;button onClick={this.handleSwitchColorByThunk.bind(this, '#f66f0c')}&gt;使用中间件&lt;/button&gt;
      &lt;/div&gt;
    )
  }
}

Object.assign(ThemeSwitch.prototype, {
  handleSwitchColorByThunk(color) {
    this.props.onSwitchColorByThunk(color)
  }
})

let changeColorAsyn = (color) =&gt; {
  return (dispatch) =&gt; {
    setTimeout(() =&gt; {
      dispatch({ type: 'CHANGE_COLOR', themeColor: color })
    }, 2000)    
  }
}

const mapDispatchToProps = (dispatch) =&gt; {
  return {
    onSwitchColor: (color) =&gt; {
      dispatch({ type: 'CHANGE_COLOR', themeColor: color })
    },
    onSwitchColorByThunk: (color) =&gt; {
      dispatch(changeColorAsyn(color))
    }
  }
}

export default connect(null, mapDispatchToProps)(ThemeSwitch)
</code></pre>

<p>github源代地址：<a href="https://github.com/xutongbao/redux-thunk-demo" rel="nofollow">https://github.com/xutongbao/redux-thunk-demo</a></p>
                                    ]]></description></item><item><title>js sleep函数</title><link>http://www.cnblogs.com/xutongbao/archive/2019/06/14/11915686.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Fri, 14 Jun 2019 08:17:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2019/06/14/11915686.html</guid><description><![CDATA[
                                            <pre class="has"><code class="language-javascript">    function sleep(delay) {
      var start = (new Date()).getTime();
      while ((new Date()).getTime() - start &lt; delay) {
        continue;
      }
    }
</code></pre>

<p>&nbsp;</p>
                                    ]]></description></item><item><title>基于react使用swaggerUI创建高质量的API文档</title><link>http://www.cnblogs.com/xutongbao/archive/2019/06/13/11915687.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 13 Jun 2019 09:43:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2019/06/13/11915687.html</guid><description><![CDATA[
                                            <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 现在多数的项目开发中，网站和移动端都需要进行数据交互和对接，这少不了使用REST编写API接口这种场景。 特别是不同开发小组协作时，就更需要以规范和文档作为标准和协作基础。良好的文档可以减少沟通成本，达到事半功倍的效果。</p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;有时对一些API说明的理解比较模糊，总想着能直接验证一下自己的理解就好了，而不是需要去项目写测试代码来验证自己的想法。 即API文档应具备直接执行能力，这种能力类似word,wiki等是无法提供。 SwaggerUI就是这样一种利器，基于html+javascript实现，倾向于在线文档和测试，使用和集成十分简单，能容易地生成不同模块下的API列表， 每个API接口描述和参数、请求方法都能定制并直接测试得到直观的响应数据。</p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;体验SwaggerUI最好的方法就是看下官网提供的demo，看过之后相信你一定会兴奋不已。</p>

<p><img alt="" class="has" height="950" src="https://img-blog.csdnimg.cn/20190613180637579.gif" width="1200"></p>

<p><img alt="" class="has" height="121" src="https://img-blog.csdnimg.cn/20190613173940149.png" width="297"></p>

<p>&nbsp;SwaggerUI.js</p>

<pre class="has"><code class="language-javascript">import React, { Component } from 'react';
import { Scrollbars } from 'react-custom-scrollbars'
import SwaggerUI from "swagger-ui-react"
import swaggerData from './swaggerData.js'
import "swagger-ui-react/swagger-ui.css"
import './index.scss'

class App extends Component {
  render() {
    return (
      	&lt;Scrollbars&gt;
        		&lt;SwaggerUI spec={swaggerData} /&gt;
        &lt;/Scrollbars&gt;
    );
  }
}

export default App;
</code></pre>

<p>swaggerDataBase.js</p>

<pre class="has"><code class="language-javascript">import axios from 'axios'

const isDev = process.env.NODE_ENV === 'development';

let host = ''

if (isDev) {
  var str = axios.defaults.baseURL
  var reg = /http(s)?:\/\/([A-Za-z0123456789:\.]+)\/\S+/;
  var result = reg.exec(str);
  if (result) {
    host = result[2]
  }
} else {
  var str = window.location.href
  var reg = /http(s)?:\/\/([A-Za-z0123456789:\.]+)\/\S+/;
  var result = reg.exec(str);
  if (result) {
    host = result[2]
  }
}

let swaggerDataBase = {
  "swagger": "2.0",
  "info": {
    "description": "全新的接口文档",
    "version": "6.1.0",
    "title": "Baidu API",
    "termsOfService": "http://swagger.io/terms/",
    "contact": {
      "email": "apiteam@swagger.io"
    },
    "license": {
      "name": "Apache 2.0",
      "url": "http://www.apache.org/licenses/LICENSE-2.0.html"
    }
  },
  "host": host,
  "basePath": "/api/v2",
  "tags": [ 
    {
      "name": "baidu_task",
      "description": "baidu任务相关接口",
      "externalDocs": {
        "description": "Find out more",
        "url": "http://swagger.io"
      }
    },    
    {
      "name": "baidu_systemset",
      "description": "baidu系统设置相关接口",
      "externalDocs": {
        "description": "Find out more",
        "url": "http://swagger.io"
      }
    },
  ],
  "schemes": ["https", "http"],
  "paths": {
  },  
}

export default swaggerDataBase</code></pre>

<p>swaggerData.js</p>

<pre class="has"><code class="language-javascript">import Store from '@store'
import swaggerDataBase from './swaggerDataBase.js'

const token = Store.getState().getIn(['user', 'token'])
let Authorization = 'Bearer ' + token

//安全配置和备份管理
let security = {
  //备份管理--分页查找
  "/baidu/system/backup": {
    "get": {
      "tags": ["baidu_systemset"],
      "summary": "备份管理--分页查找",
      "description": "备份管理--分页查找",
      "operationId": "backup",
      "produces": ["application/xml", "application/json"],
      "parameters": [
        {
          "name": "Authorization",
          "in": "header",
          "description": "Authorization",
          "required": false,
          "type": "string",
          value: Authorization,
          "collectionFormat": "1"
        },
        {
          "name": "type",
          "in": "query",
          "description": "系统备份：system， 日志备份：log",
          "required": true,
          "type": "string",
          value:'system',
          "collectionFormat": "multi"
        }, 
        {
          "name": "page",
          "in": "query",
          "description": "页码",
          "required": true,
          "type": "string",
          value:'1',
          "collectionFormat": "multi"
        },  
        {
          "name": "search",
          "in": "query",
          "description": "搜索字段",
          "required": false,
          "type": "string",
          value:'',
          "collectionFormat": "multi"
        },         
      ],
      "responses": {
        "200": {
          "description": "successful operation",
          "schema": {
            "type": "array",
            "items": {
              "$ref": "#/definitions/Pet"
            }
          }
        },
        "400": {
          "description": "Invalid status value"
        }
      },
      "security": [{
        "petstore_auth": ["write:pets", "read:pets"]
      }]
    },    
  },  
}

//get post put delete
let role = {
  //角色管理
  "/baidu/role": {
    "get": {
      "tags": ["baidu_systemset"],
      "summary": "角色管理--查询所有角色",
      "description": "角色管理--查询所有角色",
      "operationId": "get_role",
      "produces": ["application/xml", "application/json"],
      "parameters": [
        {
          "name": "Authorization",
          "in": "header",
          "description": "Authorization",
          "required": false,
          "type": "string",
          value: Authorization,
          "collectionFormat": "1"
        }
      ],
      "responses": {
        "200": {
          "description": "successful operation",
          "schema": {
            "type": "array",
            "items": {
              "$ref": "#/definitions/Pet"
            }
          }
        },
        "400": {
          "description": "Invalid status value"
        }
      },
      "security": [{
        "petstore_auth": ["write:pets", "read:pets"]
      }]
    },
    "post": {
      "tags": ["baidu_systemset"],
      "summary": "角色管理--添加角色",
      "description": "角色管理--添加角色",
      "operationId": "add_role",
      "consumes": ["application/json", "application/xml"],
      "produces": ["application/xml", "application/json"],
      "parameters": [{
          "name": "Authorization",
          "in": "header",
          "description": "Authorization",
          "required": false,
          "type": "string",
          value: Authorization,
          "collectionFormat": "1"
        },
        {
          "in": "body",
          "name": "body",
          "description": "角色管理--添加角色",
          "required": true,
          "schema": {
            type: "object",
            properties: {
              role_name: {
                type: "string",
                "example": 'role1',
                description: '角色名称'
              },
              is_superuser: {
                type: "integer",
                "example": 0,
                description: '-1:访客 0:普通用户 1:系统管理员'
              },              
            }
          }
        }
      ],
      "responses": {
        "405": {
          "description": "Invalid input"
        }
      },
      "security": [{
        "petstore_auth": ["write:pets", "read:pets"]
      }]
    },
    "put": {
      "tags": ["baidu_systemset"],
      "summary": "角色管理--修改角色",
      "description": "角色管理--修改角色",
      "operationId": "put_role",
      "consumes": ["application/json", "application/xml"],
      "produces": ["application/xml", "application/json"],
      "parameters": [{
          "name": "Authorization",
          "in": "header",
          "description": "Authorization",
          "required": false,
          "type": "string",
          value: Authorization,
          "collectionFormat": "1"
        },
        {
          "in": "body",
          "name": "body",
          "description": "角色管理--修改角色",
          "required": true,
          "schema": {
            type: "object",
            properties: {
              role_id: {
                type: "integet",
                "example": 1,
                description: '角色id'
              },                  
              role_name: {
                type: "string",
                "example": 'role1',
                description: '角色名称'
              },
              is_superuser: {
                type: "integer",
                "example": 0,
                description: '-1:访客 0:普通用户 1:系统管理员'
              },                 
            }
          }
        }
      ],
      "responses": {
        "405": {
          "description": "Invalid input"
        }
      },
      "security": [{
        "petstore_auth": ["write:pets", "read:pets"]
      }]
    },
    "delete": {
      "tags": ["baidu_systemset"],
      "summary": "角色管理--删除角色",
      "description": "角色管理--删除角色",
      "operationId": "delete_role",
      "consumes": ["application/json", "application/xml"],
      "produces": ["application/xml", "application/json"],
      "parameters": [{
          "name": "Authorization",
          "in": "header",
          "description": "Authorization",
          "required": false,
          "type": "string",
          value: Authorization,
          "collectionFormat": "1"
        },
        {
          "in": "body",
          "name": "body",
          "description": "角色管理--删除角色",
          "required": true,
          "schema": {
            type: "object",
            properties: {
              role_id: {
                type: "integet",
                "example": 1,
                description: '角色id'
              }
            }
          }
        }
      ],
      "responses": {
        "405": {
          "description": "Invalid input"
        }
      },
      "security": [{
        "petstore_auth": ["write:pets", "read:pets"]
      }]
    }             
  },     
}

//动态url
let plugin = {
  //动态url
  "/baidu/component_info/{component_id}": {
    "get": {
      "tags": ["baidu_task"],
      "summary": "动态url",
      "description": "动态url",
      "operationId": "component_info",
      "produces": ["application/xml", "application/json"],
      "parameters": [
        {
          "name": "Authorization",
          "in": "header",
          "description": "Authorization",
          "required": false,
          "type": "string",
          value: Authorization,
          "collectionFormat": "1"
        },
        {
          "name": "component_id",
          "in": "path",
          "description": "id",
          "required": true,
          "type": "string",
          value: '495519',
        }        
      ],
      "responses": {
        "200": {
          "description": "successful operation",
          "schema": {
            "type": "array",
            "items": {
              "$ref": "#/definitions/Pet"
            }
          }
        },
        "400": {
          "description": "Invalid status value"
        }
      },
      "security": [{
        "petstore_auth": ["write:pets", "read:pets"]
      }]
    },          
  },  
}

swaggerDataBase.paths = {
  ...swaggerDataBase.paths, 
  ...security, 
  ...role,
  ...plugin,
}

export default swaggerDataBase</code></pre>

<p>参考链接：<a href="http://www.sosoapi.com/pass/faq/swagger.htm" rel="nofollow">http://www.sosoapi.com/pass/faq/swagger.htm</a></p>
                                    ]]></description></item><item><title>js正则表达式验证合法的IP地址</title><link>http://www.cnblogs.com/xutongbao/archive/2019/06/10/11915688.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Mon, 10 Jun 2019 08:16:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2019/06/10/11915688.html</guid><description><![CDATA[
                                            <pre class="has"><code class="language-javascript">function isValidIP(ip) {
    var reg = /^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/
    return reg.test(ip);
} 

let a = isValidIP('10.10.10.1111')
console.log(a)</code></pre>

<p>&nbsp;</p>
                                    ]]></description></item><item><title>前端使用jsencrypt.js做RSA加密</title><link>http://www.cnblogs.com/xutongbao/archive/2019/06/06/11915689.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 06 Jun 2019 10:51:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2019/06/06/11915689.html</guid><description><![CDATA[
                                            <pre class="has"><code class="language-html">&lt;!doctype html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;JavaScript RSA Encryption&lt;/title&gt;
    &lt;script src="http://code.jquery.com/jquery-1.8.3.min.js"&gt;&lt;/script&gt; 
    &lt;script src="http://passport.cnblogs.com/scripts/jsencrypt.min.js"&gt;&lt;/script&gt; 
    &lt;script type="text/javascript"&gt;
 
      // Call this code when the page is done loading.
      $(function() {
 
        // Run a quick encryption/decryption when they click.
        $('#testme').click(function() {
 
          // Encrypt with the public key...
          var encrypt = new JSEncrypt();
          encrypt.setPublicKey($('#pubkey').val());
          var encrypted = encrypt.encrypt($('#input').val());
 
          // Decrypt with the private key...
          var decrypt = new JSEncrypt();
          decrypt.setPrivateKey($('#privkey').val());
          var uncrypted = decrypt.decrypt(encrypted);
 
          // Now a simple check to see if the round-trip worked.
          if (uncrypted == $('#input').val()) {
            alert('It works!!!');
          }
          else {
            alert('Something went wrong....');
          }
        });
      });
    &lt;/script&gt; 
  &lt;/head&gt;
  &lt;body&gt;
    &lt;label for="privkey"&gt;Private Key&lt;/label&gt;&lt;br/&gt;
    &lt;textarea id="privkey" rows="15" cols="65"&gt;-----BEGIN RSA PRIVATE KEY-----
MIICXQIBAAKBgQDlOJu6TyygqxfWT7eLtGDwajtNFOb9I5XRb6khyfD1Yt3YiCgQ
WMNW649887VGJiGr/L5i2osbl8C9+WJTeucF+S76xFxdU6jE0NQ+Z+zEdhUTooNR
aY5nZiu5PgDB0ED/ZKBUSLKL7eibMxZtMlUDHjm4gwQco1KRMDSmXSMkDwIDAQAB
AoGAfY9LpnuWK5Bs50UVep5c93SJdUi82u7yMx4iHFMc/Z2hfenfYEzu+57fI4fv
xTQ//5DbzRR/XKb8ulNv6+CHyPF31xk7YOBfkGI8qjLoq06V+FyBfDSwL8KbLyeH
m7KUZnLNQbk8yGLzB3iYKkRHlmUanQGaNMIJziWOkN+N9dECQQD0ONYRNZeuM8zd
8XJTSdcIX4a3gy3GGCJxOzv16XHxD03GW6UNLmfPwenKu+cdrQeaqEixrCejXdAF
z/7+BSMpAkEA8EaSOeP5Xr3ZrbiKzi6TGMwHMvC7HdJxaBJbVRfApFrE0/mPwmP5
rN7QwjrMY+0+AbXcm8mRQyQ1+IGEembsdwJBAN6az8Rv7QnD/YBvi52POIlRSSIM
V7SwWvSK4WSMnGb1ZBbhgdg57DXaspcwHsFV7hByQ5BvMtIduHcT14ECfcECQATe
aTgjFnqE/lQ22Rk0eGaYO80cc643BXVGafNfd9fcvwBMnk0iGX0XRsOozVt5Azil
psLBYuApa66NcVHJpCECQQDTjI2AQhFc1yRnCU/YgDnSpJVm1nASoRUnU8Jfm3Oz
uku7JUXcVpt08DFSceCEX9unCuMcT72rAQlLpdZir876
-----END RSA PRIVATE KEY-----&lt;/textarea&gt;&lt;br/&gt;
    &lt;label for="pubkey"&gt;Public Key&lt;/label&gt;&lt;br/&gt;
    &lt;textarea id="pubkey" rows="15" cols="65"&gt;-----BEGIN PUBLIC KEY-----
MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDlOJu6TyygqxfWT7eLtGDwajtN
FOb9I5XRb6khyfD1Yt3YiCgQWMNW649887VGJiGr/L5i2osbl8C9+WJTeucF+S76
xFxdU6jE0NQ+Z+zEdhUTooNRaY5nZiu5PgDB0ED/ZKBUSLKL7eibMxZtMlUDHjm4
gwQco1KRMDSmXSMkDwIDAQAB
-----END PUBLIC KEY-----&lt;/textarea&gt;&lt;br/&gt;
    &lt;label for="input"&gt;Text to encrypt:&lt;/label&gt;&lt;br/&gt;
    &lt;textarea id="input" name="input" type="text" rows=4 cols=70&gt;This is a test!&lt;/textarea&gt;&lt;br/&gt;
    &lt;input id="testme" type="button" value="Test Me!!!" /&gt;&lt;br/&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre>

<p>参考链接：<a href="https://www.npmjs.com/package/jsencrypt" rel="nofollow">https://www.npmjs.com/package/jsencrypt</a></p>

<p>&nbsp;</p>
                                    ]]></description></item><item><title>JavaScript 执行机制（宏任务和微任务）</title><link>http://www.cnblogs.com/xutongbao/archive/2019/05/20/11915690.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Mon, 20 May 2019 11:08:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2019/05/20/11915690.html</guid><description><![CDATA[
                                            <h1>1.</h1>

<pre class="has"><code class="language-javascript">    setTimeout(function() {
      console.log('1')
    });

    new Promise(function(resolve) {
      console.log('2');
      resolve();
    }).then(function() {
      console.log('3')
    });

    console.log('4');
</code></pre>

<p>输出结果：2,4,3,1</p>

<h1>2.</h1>

<pre class="has"><code class="language-javascript">    setTimeout(function(){
        console.log('定时器开始啦')
    });

    new Promise(function(resolve){
        console.log('马上执行for循环啦');
        for(var i = 0; i &lt; 10000; i++){
            i == 99 &amp;&amp; resolve();
        }
    }).then(function(){
        console.log('执行then函数啦')
    });

    console.log('代码执行结束');</code></pre>

<p>输出结果：</p>

<p><img alt="" class="has" height="209" src="https://img-blog.csdnimg.cn/20190520185333919.png" width="221"></p>

<h1>3.</h1>

<pre class="has"><code class="language-javascript">    $.ajax({
        type: "get",
        dataType:'jsonp',
        url:'https://ipinfo.io',
        success:() =&gt; {
            console.log('发送成功!');
        }
    })
    console.log('代码执行结束');</code></pre>

<p>输出结果:</p>

<p><img alt="" class="has" height="118" src="https://img-blog.csdnimg.cn/2019052018581091.png" width="221"></p>

<h1>4.</h1>

<pre class="has"><code class="language-javascript">    function sleep(delay) {
      var start = (new Date()).getTime();
      while ((new Date()).getTime() - start &lt; delay) {
        continue;
      }
    }
    console.log(new Date)
    setTimeout(() =&gt; {
      console.log('延时并不是三秒3秒, 而是5秒')
      console.log(new Date)
    },3000)
    sleep(5000)</code></pre>

<p>输出结果：</p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190520190352223.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>除了广义的同步任务和异步任务，我们对任务有更精细的定义：</p>

<ul><li>macro-task(宏任务)：包括整体代码script，setTimeout，setInterval</li>
	<li>micro-task(微任务)：Promise，process.nextTick</li>
</ul><p>&nbsp;<img alt="" class="has" src="https://img-blog.csdnimg.cn/20190520190711802.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<h1>5.</h1>

<pre class="has"><code class="language-javascript">    console.log('1');

    setTimeout(function() {
        console.log('2');
        new Promise(function(resolve) {
            console.log('4');
            resolve();
        }).then(function() {
            console.log('5')
        })
    })
    new Promise(function(resolve) {
        console.log('7');
        resolve();
    }).then(function() {
        console.log('8')
    })

    setTimeout(function() {
        console.log('9');
        new Promise(function(resolve) {
            console.log('11');
            resolve();
        }).then(function() {
            console.log('12')
        })
    })</code></pre>

<p>输出结果：</p>

<p><img alt="" class="has" height="315" src="https://img-blog.csdnimg.cn/20190520191413523.png" width="140"></p>

<p>&nbsp;</p>

<p>参考链接：<a href="https://juejin.im/post/59e85eebf265da430d571f89" rel="nofollow">https://juejin.im/post/59e85eebf265da430d571f89</a></p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>
                                    ]]></description></item><item><title>一行代码把网站变成黑白色调</title><link>http://www.cnblogs.com/xutongbao/archive/2019/05/07/11915691.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 07 May 2019 04:43:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2019/05/07/11915691.html</guid><description><![CDATA[
                                            <pre class="has"><code class="language-css">html {filter: grayscale(1);}</code></pre>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190507124733754.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190507124751325.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70">&nbsp;</p>
                                    ]]></description></item><item><title>NPM依赖包版本号~和^的区别</title><link>http://www.cnblogs.com/xutongbao/archive/2019/05/06/11915692.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Mon, 06 May 2019 11:18:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2019/05/06/11915692.html</guid><description><![CDATA[
                                            <h3><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190506191718531.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></h3>

<h3>~会匹配最近的小版本依赖包，比如~1.2.3会匹配所有1.2.x版本，但是不包括1.3.0<br>
^会匹配最新的大版本依赖包，比如^1.2.3会匹配所有1.x.x的包，包括1.3.0，但是不包括2.0.0</h3>
                                    ]]></description></item><item><title>options请求是什么？</title><link>http://www.cnblogs.com/xutongbao/archive/2019/04/29/11915693.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Mon, 29 Apr 2019 07:49:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2019/04/29/11915693.html</guid><description><![CDATA[
                                            <p>在有很多情况下,当我们在js里面调用一次ajax请求时,在浏览器那边却会查询到两次请求,第一次的Request Method参数是OPTIONS,还有一次就是我们真正的请求,比如get或是post请求方式</p>

<p>查阅相关的资料之后发现,这是浏览器对复杂跨域请求的一种处理方式,在真正发送请求之前,会先进行一次预请求,就是我们刚刚说到的参数为OPTIONS的第一次请求,他的作用是用于试探性的服务器响应是否正确,即是否能接受真正的请求,如果在options请求之后获取到的响应是拒绝性质的,例如500等http状态,那么它就会停止第二次的真正请求的访问<br>
&nbsp;</p>
                                    ]]></description></item><item><title>分支管理和自动化部署需求</title><link>http://www.cnblogs.com/xutongbao/archive/2019/04/17/11915695.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 17 Apr 2019 07:44:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2019/04/17/11915695.html</guid><description><![CDATA[
                                            <p>1.登录</p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190418103555754.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>&nbsp;2.新建</p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190418103606990.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>3.列表</p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190418111640694.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>&nbsp;</p>

<p>4.列表（测试和运维）</p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190418111653518.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>&nbsp;</p>

<p>在线原型图：<a href="https://www.xiaopiu.com/project?proid=5cb6c83591b3aa5c3a8d5386&amp;activePage=1" rel="nofollow">https://www.xiaopiu.com/project?proid=5cb6c83591b3aa5c3a8d5386&amp;activePage=1</a></p>

<h1>简单解释</h1>

<p>登录页：<br>
开发、测试和运维人员登录</p>

<p>新建页：<br>
填写项目名称和分支名称</p>

<p>列表页：<br>
代码有更新时点击更新，部署完可以直接通过分支名称进行测试和联调，例如 http://feature_login.baidu.com</p>

<p>测试和运维的列表页：<br>
可以合并代码，合并后自动部署<br>
合并到develop分支后可以通过http://develop.baidu.com访问<br>
合并到master分支后可以通过http://master.baidu.com访问</p>

<p>&nbsp;</p>

<h1>举个例子</h1>

<p>1.后端在git上有个项目叫api，前端在git上有个项目叫web，这两个项目相结合实现一款产品叫baidu</p>

<p>2.两个项目上拥有完全相同的分支，分别是master、develop、feature_login、feature_tasklist、feature_systemset等等很多需求分支</p>

<p>3.在局域网内有一台固定的机器部署master分支上的代码，可以通过http://master.baidu.com访问，<br>
还有一台固定的机器部署develop分支上的代码，可以通过http://develop.baidu.com访问</p>

<p>4.运维会写一套代码监控，监控master和develop这两分支上是否有代码有更新，如果有更新，程序就会自动部署到这两台机器上</p>

<p>5.在开发新需求时，前后端会建一个相同的分支名，例如feature_login，这个需求新开发的代码都提交到这个分支上，<br>
当前后端需要联调时，登录部署测试平台，在平台上分别新建前后端项目feature_login分支的部署，<br>
部署完成后可以通过http://feature_login.baidu.com访问，进行测试和联调</p>

<p>5.部署测试平台的列表页展示的是目前在测试的所有分支，程序员在分支上提交代码后，需要点击对应分支的更新按钮，<br>
更新完成后就可以通过http://feature_login.baidu.com测试新更新的内容了，可以进行频繁的修改bug和测试的工作</p>

<p>6.某个需求全部测试完成后由测试合并到develop分支上，可以在develop上进行复测，合并到develop分支上后，原来的feature_login分支将会被删除，<br>
测试虚拟机也会被自动回收，测试链接http://feature_login.baidu.com也将不能访问，在开发人员的部署测试平台列表页也将删除feature_login对应的记录</p>

<p>7.如果develop上有bug，则需要新建feature分支修改代码并重新在部署测试平台上部署并测试</p>

<p>&nbsp;</p>

<p>参考链接：</p>

<p>互联网行业最佳产品开发流程</p>

<p><a href="https://blog.csdn.net/xutongbao/article/details/88294489" rel="nofollow">https://blog.csdn.net/xutongbao/article/details/88294489</a></p>
                                    ]]></description></item><item><title>swiper 的左右箭头放到外面</title><link>http://www.cnblogs.com/xutongbao/archive/2019/04/17/11915696.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 17 Apr 2019 06:00:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2019/04/17/11915696.html</guid><description><![CDATA[
                                            <p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190417135839658.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;

&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
  &lt;meta http-equiv="X-UA-Compatible" content="ie=edge"&gt;
  &lt;title&gt;swiper&lt;/title&gt;
  &lt;link href="https://cdn.bootcss.com/Swiper/4.3.0/css/swiper.css" rel="stylesheet"&gt;
  &lt;script src="https://cdn.bootcss.com/Swiper/4.5.0/js/swiper.min.js"&gt;&lt;/script&gt;
  &lt;style&gt;
  .swiper-container {
    border: 1px solid red;
    width: 400px;
    height: 400px;
  }

  .swiper-slide {
    width: 400px;
    height: 400px;
    background: orange;
  }

  .swiper-father {
    width: 500px;
    height: 400px;
    border: 1px solid red;
    position: relative;
  }
  &lt;/style&gt;
&lt;/head&gt;

&lt;body&gt;
  &lt;!-- 增加一个father的包裹 --&gt;
  &lt;div class="swiper-father"&gt;
    &lt;div class="swiper-container swiper-container1"&gt;
      &lt;div class="swiper-wrapper"&gt;
        &lt;div class="swiper-slide"&gt;slide1&lt;/div&gt;
        &lt;div class="swiper-slide"&gt;slide2&lt;/div&gt;
        &lt;div class="swiper-slide"&gt;slide3&lt;/div&gt;
      &lt;/div&gt;
      &lt;!-- siwper原本的箭头放在这里 --&gt;
      &lt;!-- &lt;div class="swiper-button-prev"&gt;&lt;/div&gt;
            &lt;div class="swiper-button-next"&gt;&lt;/div&gt; --&gt;
    &lt;/div&gt;
    &lt;!-- 我们把swiper 的箭头放到swiper 外面 --&gt;
    &lt;div class="swiper-button-prev swiper-button-prev1"&gt;&lt;/div&gt;
    &lt;div class="swiper-button-next swiper-button-next1"&gt;&lt;/div&gt;
  &lt;/div&gt;
  &lt;div class="swiper-father"&gt;
    &lt;div class="swiper-container swiper-container2"&gt;
      &lt;div class="swiper-wrapper"&gt;
        &lt;div class="swiper-slide"&gt;slide1&lt;/div&gt;
        &lt;div class="swiper-slide"&gt;slide2&lt;/div&gt;
        &lt;div class="swiper-slide"&gt;slide3&lt;/div&gt;
      &lt;/div&gt;
      &lt;!-- siwper原本的箭头放在这里 --&gt;
      &lt;!-- &lt;div class="swiper-button-prev"&gt;&lt;/div&gt;
            &lt;div class="swiper-button-next"&gt;&lt;/div&gt; --&gt;
    &lt;/div&gt;
    &lt;!-- 我们把swiper 的箭头放到swiper 外面 --&gt;
    &lt;div class="swiper-button-prev swiper-button-prev2"&gt;&lt;/div&gt;
    &lt;div class="swiper-button-next swiper-button-next2"&gt;&lt;/div&gt;
  &lt;/div&gt;
  &lt;script&gt;
  var mySwiper = new Swiper('.swiper-container1', {
    direction: 'horizontal',
    loop: false,
    navigation: {
      nextEl: '.swiper-button-next1',
      prevEl: '.swiper-button-prev1',
    },

  });

  var mySwiper2 = new Swiper('.swiper-container2', {
    direction: 'horizontal',
    loop: false,
    navigation: {
      nextEl: '.swiper-button-next2',
      prevEl: '.swiper-button-prev2',
    },

  });
  &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p>&nbsp;</p>

<p>&nbsp;</p>
                                    ]]></description></item><item><title>使用Foxmail登录阿里企业邮箱（钉钉邮箱）</title><link>http://www.cnblogs.com/xutongbao/archive/2019/04/11/11915697.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 11 Apr 2019 01:51:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2019/04/11/11915697.html</guid><description><![CDATA[
                                            <p>&nbsp;<img alt="" class="has" src="https://img-blog.csdnimg.cn/20190411094651538.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190411094735107.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>&nbsp;</p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/2019041109470274.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190411094808467.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>pop服务器和SMTP服务器地址分别是：pop.qiye.aliyun.com&nbsp; smtp.qiye.aliyun.com</p>

<p>可以到邮箱里查：</p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190411095051476.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190411094621195.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>&nbsp;</p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190411095000833.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190411095020993.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>&nbsp;</p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190411095034146.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>&nbsp;</p>

<p><span style="color:#f33b45;"><strong>爱奇艺视频入口（主讲vue和react）：</strong></span></p>

<p><a href="https://www.iqiyi.com/u/1603445999/videos" rel="nofollow">https://www.iqiyi.com/u/1603445999/videos</a></p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>
                                    ]]></description></item><item><title>正则表达式 把所有的花引号替换为直引号 把字符串中所有单词的首字母都转换为大写</title><link>http://www.cnblogs.com/xutongbao/archive/2019/04/10/11915698.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 10 Apr 2019 07:55:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2019/04/10/11915698.html</guid><description><![CDATA[
                                            <pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;

&lt;head&gt;
  &lt;meta charset="UTF-8" /&gt;
  &lt;title&gt;正则表达式 把所有的花引号替换为直引号 把字符串中所有单词的首字母都转换为大写&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;
  &lt;div id="root"&gt;&lt;/div&gt;
  &lt;script&gt;
  //把所有的花引号替换为直引号
  let name = '"a", "b"';
  let newName = name.replace(/"([^"]*)"/g, "'$1'");
  console.log(newName)  //'a', 'b'

  //把字符串中所有单词的首字母都转换为大写
  name = 'aaa bbb ccc';
  let uw = name.replace(/\b\w+\b/g, function(word) {
    return word.substring(0, 1).toUpperCase() + word.substring(1);
  });
  console.log(uw) //Aaa Bbb Ccc
  &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p>&nbsp;</p>
                                    ]]></description></item><item><title>react中getDerivedStateFromProps和componentDidUpdate配合使用</title><link>http://www.cnblogs.com/xutongbao/archive/2019/04/09/11915699.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 09 Apr 2019 07:07:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2019/04/09/11915699.html</guid><description><![CDATA[
                                            <p>React 父组件通过props控制子组件执行不同的方法进行渲染</p>

<p><img alt="" class="has" height="946" src="https://img-blog.csdnimg.cn/20190409150615309.gif" width="819"></p>

<p>&nbsp;</p>

<pre class="has"><code class="language-javascript">import React, { Component } from 'react';

class Item extends Component {
  constructor(props) {
    super(props)
    this.state = {
      content: '',
      fun1: 0,
      fun2: 0,
      runFun: 'fun1',
      shouldUpdateByFun1: false,
      shouldUpdateByFun2: false,
      myArgument: []
    }
  }

  static getDerivedStateFromProps(nextProps, prevState) {
    if (nextProps.fun1 !== prevState.fun1) {
      return {
        fun1: nextProps.fun1,
        runFun: 'fun1',
        shouldUpdateByFun1: true,
        myArgument: nextProps.myArgument 
      }
    } else if (nextProps.fun2 !== prevState.fun2) {
      return {
        fun2: nextProps.fun2,
        runFun: 'fun2',
        shouldUpdateByFun2: true,
        myArgument: nextProps.myArgument 
      }
    }
    return null
  }

  componentDidUpdate() {
    let { runFun, myArgument, shouldUpdateByFun1, shouldUpdateByFun2 } = this.state

    if (runFun === 'fun1' &amp;&amp; shouldUpdateByFun1) {
      this.fun1(myArgument)
    } else if (runFun === 'fun2' &amp;&amp; shouldUpdateByFun2) {
      this.fun2(myArgument)
    }
  }

  //函数里可以包含ajax请求等复杂的逻辑
  fun1(myArgument) {
    let { fun1 } = this.props
    setTimeout(() =&gt; {
      this.setState({
        content: 'from fun1:' + myArgument,
        shouldUpdateByFun1: false
      })
    }, 1000)

    console.log('fun1执行次数:' + fun1)
  }
  fun2(myArgument) {
    let { fun2 } = this.props
    setTimeout(() =&gt; {
      this.setState({
        content: 'from fun2:' + myArgument,
        shouldUpdateByFun2: false
      })
    }, 1000)    
    console.log('fun2执行次数:' + fun2)
  }
  render() {
    let { content } = this.state
    return (
      &lt;div&gt;
        {content}
      &lt;/div&gt;
    )
  }
}

//父组件通过props控制子组件执行不同的方法进行渲染
class App extends Component {
  constructor(props) {
    super(props)
    this.state = {
      fun1: 0,
      fun2: 0,
      myArgument: []
    }
  }
  render() {
    let { fun1, fun2, myArgument } = this.state
    return (
      &lt;div&gt;
        &lt;Item fun1={fun1} fun2={fun2} myArgument={myArgument}/&gt;
        &lt;button onClick={this.handleFun1.bind(this)}&gt;Fun1&lt;/button&gt;
        &lt;button onClick={this.handleFun2.bind(this)}&gt;Fun2&lt;/button&gt;
      &lt;/div&gt;
    );
  }
}

//事件
Object.assign(App.prototype, {
  handleFun1() {
    let { fun1 } = this.state
    fun1 = fun1 + 1
    this.setState({
      fun1,
      myArgument: ['xu', 'tongbao']
    })
  },
  handleFun2() {
    let { fun2 } = this.state
    fun2 = fun2 + 1
    this.setState({
      fun2,
      myArgument: ['徐', '同保']
    })
  }
})

export default App</code></pre>

<p>&nbsp;</p>
                                    ]]></description></item><item><title>js生成10个20-50之间的随机数（包含20和50）</title><link>http://www.cnblogs.com/xutongbao/archive/2019/04/08/11915700.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Mon, 08 Apr 2019 09:49:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2019/04/08/11915700.html</guid><description><![CDATA[
                                            <pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;

&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;title&gt;生成10个20-50之间的随机数&lt;/title&gt;
  &lt;style type="text/css"&gt;
  &lt;/style&gt;
&lt;/head&gt;

&lt;body&gt;
  &lt;script type="text/javascript"&gt;
  function getRandomIntInclusive(min, max) {
    min = Math.ceil(min);
    max = Math.floor(max);
    return Math.floor(Math.random() * (max - min + 1)) + min; //含最大值，含最小值 
  }  
  var arr = [];
  for (var i = 0; i &lt; 10; i++) {
    var num = getRandomIntInclusive(20, 50);
    num = parseInt(num, 10);
    arr.push(num);
  }
  console.log(arr); //生成10个20-50之间的随机数
  &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p><img alt="" class="has" height="153" src="https://img-blog.csdnimg.cn/20190408174759762.png" width="617"></p>
                                    ]]></description></item><item><title>chrome jsonView插件安装 在浏览器地址栏里输入接口后返回的json数据格式化</title><link>http://www.cnblogs.com/xutongbao/archive/2019/04/04/11915701.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 04 Apr 2019 07:41:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2019/04/04/11915701.html</guid><description><![CDATA[
                                            <p>&nbsp;</p>

<p><strong><a href="https://github.com/gildas-lormeau/JSONView-for-Chrome" rel="nofollow">JSONView-for-Chrome </a></strong>github地址：<a href="https://github.com/gildas-lormeau/JSONView-for-Chrome" rel="nofollow">https://github.com/gildas-lormeau/JSONView-for-Chrome</a></p>

<p>&nbsp;解压后：</p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190404153559838.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>安装：</p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190404153820771.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>结果：</p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/2019040415390011.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>&nbsp;</p>
                                    ]]></description></item><item><title>JS字符串使用占位符轻松实现拼接（来自react源码）</title><link>http://www.cnblogs.com/xutongbao/archive/2019/04/03/11915702.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 03 Apr 2019 10:33:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2019/04/03/11915702.html</guid><description><![CDATA[
                                            <pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;

&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;meta name="viewport" content="width=device-width,height=device-height"&gt;
  &lt;title&gt;JS字符串使用占位符轻松实现拼接（来自react源码）&lt;/title&gt;
  &lt;style&gt;
  &lt;/style&gt;
&lt;/head&gt;

&lt;body&gt;
  &lt;script&gt;
  let args = ['xu', '徐']
  let s = '%s , %s'
  let argIndex = 0
  let newString = '%s , %s'.replace(/%s/g, () =&gt; args[argIndex++])
  console.log(s) //%s , %s
  console.log(newString) //xu , 徐
  &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p>&nbsp;</p>
                                    ]]></description></item><item><title>linux + node + yarn + git + ssh + linux免密登录 + pm2自动部署</title><link>http://www.cnblogs.com/xutongbao/archive/2019/04/02/11915703.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 02 Apr 2019 04:56:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2019/04/02/11915703.html</guid><description><![CDATA[
                                            <p>1</p>
                                    ]]></description></item><item><title>react tab切换 第一次切换到某个页面时会请求数据，以后不会再请求数据</title><link>http://www.cnblogs.com/xutongbao/archive/2019/03/25/11915704.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Mon, 25 Mar 2019 10:58:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2019/03/25/11915704.html</guid><description><![CDATA[
                                            <p><img alt="" class="has" height="966" src="https://img-blog.csdnimg.cn/20190325185307977.gif" width="819"></p>

<p>&nbsp;</p>

<p>目录结构：</p>

<p><img alt="" class="has" height="704" src="https://img-blog.csdnimg.cn/20190325185448879.png" width="263"></p>

<p>App.js:</p>

<pre class="has"><code class="language-javascript">import React, { Component } from 'react'
import { connect } from 'react-redux'
import Fruits from './Fruits/Fruits.js'
import Phone from './Phone/Phone.js'
import './App.css'

class App extends Component {
  render() {
    let { tabActiveIndex } = this.props
    return (
      &lt;div&gt;
        &lt;button onClick={this.handleAuto.bind(this)}&gt;自动切换&lt;/button&gt;  
        &lt;ul&gt;
          &lt;li className={"m-tab " + (tabActiveIndex === 0 ? 'active' : '')} onClick={this.handleClick.bind(this, 0)}&gt;水果&lt;/li&gt;
          &lt;li className={"m-tab " + (tabActiveIndex === 1 ? 'active' : '')}  onClick={this.handleClick.bind(this, 1)}&gt;手机&lt;/li&gt;
        &lt;/ul&gt;
        &lt;div className={'m-view ' + (tabActiveIndex === 0 ? 'active' : '')}&gt;
          &lt;Fruits/&gt;
        &lt;/div&gt;    
        &lt;div className={'m-view ' + (tabActiveIndex === 1 ? 'active' : '')}&gt;
          &lt;Phone/&gt;
        &lt;/div&gt;                  
      &lt;/div&gt;
    );
  }
}

//生命周期
Object.assign(App.prototype, {
  componentDidMount() {
    this.props.TABS_CHANGAE_STATE(['tabActiveIndex'], 0)
    this.props.TABS_CHANGAE_STATE(['subTabActiveIndex'], 0)
  }
})

//事件
Object.assign(App.prototype, {
  handleClick(tabActiveIndex) {
    this.props.TABS_CHANGAE_STATE(['tabActiveIndex'], tabActiveIndex)
    this.props.TABS_CHANGAE_STATE(['subTabActiveIndex'], 0)
  },
  handleAuto() {
    this.props.TABS_CHANGAE_STATE(['tabActiveIndex'], Math.floor(Math.random() * 1.9))
    this.props.TABS_CHANGAE_STATE(['subTabActiveIndex'], Math.floor(Math.random() * 2.9))    
  }
})

const mapStateToProps = (state) =&gt; {
  return {
    tabActiveIndex: state.getIn(['tabs', 'tabActiveIndex']),
    subTabActiveIndex: state.getIn(['tabs', 'subTabActiveIndex'])
  }
}
const mapDispatchToProps = (dispatch) =&gt; {
  return {
    TABS_CHANGAE_STATE: (key, value) =&gt; {
      dispatch({ type: 'TABS_CHANGAE_STATE', key, value })
    }
  };
}

export default connect(mapStateToProps, mapDispatchToProps)(App)
</code></pre>

<p>Fruits.js:</p>

<pre class="has"><code class="language-javascript">import React, { Component } from 'react'
import { connect } from 'react-redux'
import Apple from './Apple.js'
import Banana from './Banana.js'
import Grape from './Grape.js'


class Fruits extends Component {
  constructor(props) {
    super(props)
    this.state = {  
    }      
  }
  render() {
    let { subTabActiveIndex } = this.props
    return (
      &lt;div&gt;
        &lt;ul&gt;
          &lt;li className={"m-sub-tab " + (subTabActiveIndex === 0 ? 'active' : '')} onClick={this.handleClick.bind(this, 0)}&gt;苹果&lt;/li&gt;
          &lt;li className={"m-sub-tab " + (subTabActiveIndex === 1 ? 'active' : '')} onClick={this.handleClick.bind(this, 1)}&gt;香蕉&lt;/li&gt;
          &lt;li className={"m-sub-tab " + (subTabActiveIndex === 2 ? 'active' : '')} onClick={this.handleClick.bind(this, 2)}&gt;葡萄&lt;/li&gt;
        &lt;/ul&gt;
        &lt;div className={'m-view ' + (subTabActiveIndex === 0 ? 'active' : '')}&gt;
          &lt;Apple/&gt;
        &lt;/div&gt;    
        &lt;div className={'m-view ' + (subTabActiveIndex === 1 ? 'active' : '')}&gt;
          &lt;Banana/&gt;
        &lt;/div&gt;
        &lt;div className={'m-view ' + (subTabActiveIndex === 2 ? 'active' : '')}&gt;
          &lt;Grape/&gt;
        &lt;/div&gt;    
      &lt;/div&gt;
    );
  }
}

//事件
Object.assign(Fruits.prototype, {
  handleClick(subTabActiveIndex) {
    this.props.TABS_CHANGAE_STATE(['subTabActiveIndex'], subTabActiveIndex) 
  }
})

const mapStateToProps = (state) =&gt; {
  return {
    tabActiveIndex: state.getIn(['tabs', 'tabActiveIndex']),
    subTabActiveIndex: state.getIn(['tabs', 'subTabActiveIndex'])
  }
}
const mapDispatchToProps = (dispatch) =&gt; {
  return {
    TABS_CHANGAE_STATE: (key, value) =&gt; {
      dispatch({ type: 'TABS_CHANGAE_STATE', key, value })
    }
  };
}


export default connect(mapStateToProps, mapDispatchToProps)(Fruits)</code></pre>

<p>Banana.js:</p>

<pre class="has"><code class="language-javascript">import React, { Component } from 'react'
import { connect } from 'react-redux'

class Banana extends Component {
  constructor(props) {
    super(props)
    this.state = {
      haveListData: false,
      content: ''
    }
  }
  render() {
    let { content } = this.state
    return (
      &lt;div&gt;
        &lt;div className='m-tab-content'&gt;
          {content}
        &lt;/div&gt;       
      &lt;/div&gt;
    );
  }
}

//生命周期
Object.assign(Banana.prototype, {
  componentWillReceiveProps(nextProps) {
    let { haveListData } = this.state
    if (nextProps.tabActiveIndex === 0 &amp;&amp; nextProps.subTabActiveIndex === 1) {
      if (haveListData) {
        console.log('香蕉再次进来时不会请求接口')
      } else {
        console.log('香蕉第一次会请求接口')
        this.setState({
          content: 'Loading...'
        })
        setTimeout(() =&gt; {
          this.setState({
            content: '香蕉树',
            haveListData: true
          })
        }, 1000)
      }
    }
  }
})

const mapStateToProps = (state) =&gt; {
  return {
    tabActiveIndex: state.getIn(['tabs', 'tabActiveIndex']),
    subTabActiveIndex: state.getIn(['tabs', 'subTabActiveIndex'])
  }
}
const mapDispatchToProps = (dispatch) =&gt; {
  return {
    TABS_CHANGAE_STATE: (key, value) =&gt; {
      dispatch({ type: 'TABS_CHANGAE_STATE', key, value })
    }
  };
}


export default connect(mapStateToProps, mapDispatchToProps)(Banana)</code></pre>

<p>&nbsp;</p>

<p>其他代码可以到github上看</p>

<p>github地址：<a href="https://github.com/xutongbao/react-tabs" rel="nofollow">https://github.com/xutongbao/react-tabs</a></p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>
                                    ]]></description></item><item><title>解决方案：sublime Text 3 无法安装插件有关问题 (JSON文件schema_version问题)</title><link>http://www.cnblogs.com/xutongbao/archive/2019/03/22/11915705.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Fri, 22 Mar 2019 03:09:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2019/03/22/11915705.html</guid><description><![CDATA[
                                            <p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190322110546706.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190322110606907.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190322110815689.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>&nbsp;</p>

<p>channel_v3.json百度云盘下载地址：</p>

<p>链接：<a href="https://pan.baidu.com/s/1rr6GnA8Hwn0fiHzmS-EgEA" rel="nofollow">https://pan.baidu.com/s/1rr6GnA8Hwn0fiHzmS-EgEA</a><br>
提取码：utzl</p>

<p>&nbsp;</p>

<p>参考链接：<a href="https://blog.csdn.net/qiangweiyan/article/details/79117641" rel="nofollow">https://blog.csdn.net/qiangweiyan/article/details/79117641</a></p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>
                                    ]]></description></item><item><title>ES6解构代替concat数组拼接</title><link>http://www.cnblogs.com/xutongbao/archive/2019/03/20/11915706.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 20 Mar 2019 07:50:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2019/03/20/11915706.html</guid><description><![CDATA[
                                            <pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;    
&lt;html lang="en"&gt;    
&lt;head&gt;    
    &lt;meta charset="UTF-8"&gt;    
    &lt;title&gt;ES6解构代替concat数组拼接&lt;/title&gt;  
&lt;/head&gt;    
&lt;body&gt;  
&lt;script type="text/javascript"&gt;
let a = [1, 2, 3]
let b = [4, 5]
let c = [...a, ...b]
console.log(c)
&lt;/script&gt;      
&lt;/body&gt;    
&lt;/html&gt;</code></pre>

<p>&nbsp;</p>
                                    ]]></description></item><item><title>2019年最新web前端笔试题</title><link>http://www.cnblogs.com/xutongbao/archive/2019/03/19/11915707.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 19 Mar 2019 11:14:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2019/03/19/11915707.html</guid><description><![CDATA[
                                            <p>1.编写js代码实现冒泡排序</p>

<p>2.编写js代码实现数组去重（考虑性能）</p>

<p>3.编写css代码实现div水平垂直居中</p>

<p>4.编写js代码实现在一个数组中删除另一个数组存在的值</p>

<p style="margin-left:0pt;">var arr = [1, 2, 3, 4, '1', 0, &nbsp;1, 2, 'a', 'b'];</p>

<p style="margin-left:0pt;">var brr = [1, 2, 'a'];</p>

<p style="margin-left:0pt;">结果：[3, 4, "1", 0, "b"]</p>

<p style="margin-left:0pt;">&nbsp;</p>

<p style="margin-left:0pt;">5.下面代码输出的是什么，并简单解释一下</p>

<p style="margin-left:0pt;">var name = 'World!';</p>

<p style="margin-left:0pt;">(function () {</p>

<p style="margin-left:0pt;">&nbsp;&nbsp;&nbsp;&nbsp;if (typeof name === 'undefined') {</p>

<p style="margin-left:0pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var name = 'Jack'</p>

<p style="margin-left:0pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;console.log('Goodbye ' + name)</p>

<p style="margin-left:0pt;">&nbsp;&nbsp;&nbsp;&nbsp;} else {</p>

<p style="margin-left:0pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;console.log('Hello ' + name)</p>

<p style="margin-left:0pt;">&nbsp;&nbsp;&nbsp;&nbsp;}</p>

<p style="margin-left:0pt;">})()</p>

<p style="margin-left:0pt;">&nbsp;</p>

<p>6.React性能优化，渲染20000多条checkbox组件，点击选择checkbox组件的时候特别卡，如何解决</p>

<p style="margin-left:0pt;">import React, { Component } from 'react'</p>

<p style="margin-left:0pt;">import { Checkbox } from 'antd'</p>

<p style="margin-left:0pt;">&nbsp;</p>

<p style="margin-left:0pt;">class App extends Component {</p>

<p style="margin-left:0pt;">&nbsp;&nbsp;constructor(props) {</p>

<p style="margin-left:0pt;">&nbsp;&nbsp;&nbsp;&nbsp;super(props)</p>

<p style="margin-left:0pt;">&nbsp;&nbsp;&nbsp;&nbsp;this.state = {</p>

<p style="margin-left:0pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;checked: []</p>

<p style="margin-left:0pt;">&nbsp;&nbsp;&nbsp;&nbsp;} &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>

<p style="margin-left:0pt;">&nbsp;&nbsp;}</p>

<p style="margin-left:0pt;">&nbsp;&nbsp;render() {</p>

<p style="margin-left:0pt;">&nbsp;&nbsp;&nbsp;&nbsp;let list = this.list()</p>

<p style="margin-left:0pt;">&nbsp;&nbsp;&nbsp;&nbsp;return (</p>

<p style="margin-left:0pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;</p>

<p style="margin-left:0pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{list}</p>

<p style="margin-left:0pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;</p>

<p style="margin-left:0pt;">&nbsp;&nbsp;&nbsp;&nbsp;);</p>

<p style="margin-left:0pt;">&nbsp;&nbsp;}</p>

<p style="margin-left:0pt;">}</p>

<p style="margin-left:0pt;">&nbsp;</p>

<p style="margin-left:0pt;">Object.assign(App.prototype, {</p>

<p style="margin-left:0pt;">&nbsp;&nbsp;componentDidMount() {</p>

<p style="margin-left:0pt;">&nbsp;&nbsp;&nbsp;&nbsp;let arr = []</p>

<p style="margin-left:0pt;">&nbsp;&nbsp;&nbsp;&nbsp;for (let i = 0; i &lt; 20000; i++) {</p>

<p style="margin-left:0pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arr.push(i)</p>

<p style="margin-left:0pt;">&nbsp;&nbsp;&nbsp;&nbsp;} &nbsp;&nbsp;</p>

<p style="margin-left:0pt;">&nbsp;&nbsp;&nbsp;&nbsp;this.setState({</p>

<p style="margin-left:0pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;checked: arr</p>

<p style="margin-left:0pt;">&nbsp;&nbsp;&nbsp;&nbsp;})</p>

<p style="margin-left:0pt;">&nbsp;&nbsp;},</p>

<p style="margin-left:0pt;">&nbsp;&nbsp;list() {</p>

<p style="margin-left:0pt;">&nbsp;&nbsp;&nbsp;&nbsp;let { checked } = this.state</p>

<p style="margin-left:0pt;">&nbsp;&nbsp;&nbsp;&nbsp;let arr = []</p>

<p style="margin-left:0pt;">&nbsp;&nbsp;&nbsp;&nbsp;for (let i = 0; i &lt; 20000; i++) {</p>

<p style="margin-left:0pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arr.push(&lt;Checkbox key={i} checked={checked.indexOf(i) &gt;= 0} &nbsp;onChange={this.handleChange.bind(this, i)}&gt;{i}&lt;/Checkbox&gt;)</p>

<p style="margin-left:0pt;">&nbsp;&nbsp;&nbsp;&nbsp;}</p>

<p style="margin-left:0pt;">&nbsp;&nbsp;&nbsp;&nbsp;return arr</p>

<p style="margin-left:0pt;">&nbsp;&nbsp;},</p>

<p style="margin-left:0pt;">&nbsp;&nbsp;handleChange(index, e) {</p>

<p style="margin-left:0pt;">&nbsp;&nbsp;&nbsp;&nbsp;let { checked } = this.state</p>

<p style="margin-left:0pt;">&nbsp;&nbsp;&nbsp;&nbsp;let tempIndex = checked.indexOf(index)</p>

<p style="margin-left:0pt;">&nbsp;&nbsp;&nbsp;&nbsp;if (e.target.checked) {</p>

<p style="margin-left:0pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (tempIndex &lt; 0) {</p>

<p style="margin-left:0pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;checked.push(index)</p>

<p style="margin-left:0pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} &nbsp;&nbsp;&nbsp;&nbsp;</p>

<p style="margin-left:0pt;">&nbsp;&nbsp;&nbsp;&nbsp;} else {</p>

<p style="margin-left:0pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (tempIndex &gt;= 0) {</p>

<p style="margin-left:0pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;checked.splice(tempIndex, 1)</p>

<p style="margin-left:0pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>

<p style="margin-left:0pt;">&nbsp;&nbsp;&nbsp;&nbsp;}</p>

<p style="margin-left:0pt;">&nbsp;</p>

<p style="margin-left:0pt;">&nbsp;&nbsp;&nbsp;&nbsp;this.setState({</p>

<p style="margin-left:0pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;checked: checked</p>

<p style="margin-left:0pt;">&nbsp;&nbsp;&nbsp;&nbsp;})</p>

<p style="margin-left:0pt;">&nbsp;&nbsp;}</p>

<p style="margin-left:0pt;">})</p>

<p style="margin-left:0pt;">&nbsp;</p>

<p style="margin-left:0pt;">&nbsp;</p>

<p style="margin-left:0pt;">export default App</p>

<p style="margin-left:0pt;">&nbsp;</p>

<p style="margin-left:0pt;">7.如何实现React父组件控制子组件执行不同的方法进行渲染</p>

<p style="margin-left:0pt;">&nbsp;</p>
                                    ]]></description></item><item><title>考察js作用域、变量提升的面试题</title><link>http://www.cnblogs.com/xutongbao/archive/2019/03/19/11915708.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 19 Mar 2019 04:02:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2019/03/19/11915708.html</guid><description><![CDATA[
                                            <p>输出结果是什么？</p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;    
&lt;html lang="en"&gt;    
&lt;head&gt;    
    &lt;meta charset="UTF-8"&gt;    
    &lt;title&gt;考察js作用域、变量提升的面试题&lt;/title&gt;  
&lt;/head&gt;    
&lt;body&gt;  
&lt;script type="text/javascript"&gt;
var name = 'World!';
(function () {
    if (typeof name === 'undefined') {
        var name = 'Jack'
        console.log('Goodbye ' + name)
    } else {
        console.log('Hello ' + name)
    }
})()
&lt;/script&gt;      
&lt;/body&gt;    
&lt;/html&gt;</code></pre>

<p>结果是：Goodbye Jack</p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190319120057257.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>&nbsp;</p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190319120039909.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190319120111958.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>&nbsp;</p>
                                    ]]></description></item><item><title>react书籍推荐</title><link>http://www.cnblogs.com/xutongbao/archive/2019/03/18/11915709.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Mon, 18 Mar 2019 06:19:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2019/03/18/11915709.html</guid><description><![CDATA[
                                            <p>React全栈.pdf</p>

<p>链接：<a href="https://pan.baidu.com/s/10Qzn8uTTKPVCfJ7R4FKYLQ" rel="nofollow">https://pan.baidu.com/s/10Qzn8uTTKPVCfJ7R4FKYLQ</a><br>
提取码：pcfj</p>

<p>&nbsp;</p>

<p>深入React技术栈.pdf</p>

<p>链接：<a href="https://pan.baidu.com/s/1c5kQbrQNMxAkyIurjGcxbw" rel="nofollow">https://pan.baidu.com/s/1c5kQbrQNMxAkyIurjGcxbw</a><br>
提取码：rm6m</p>

<p>&nbsp;</p>

<p>react快速上手开发完整版.pdf</p>

<p>链接：<a href="https://pan.baidu.com/s/1NtDQsM8X5cVCJdkcM7G81g" rel="nofollow">https://pan.baidu.com/s/1NtDQsM8X5cVCJdkcM7G81g</a><br>
提取码：a2x8</p>
                                    ]]></description></item><item><title>React 父组件通过props控制子组件执行不同的方法进行渲染</title><link>http://www.cnblogs.com/xutongbao/archive/2019/03/18/11915710.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Mon, 18 Mar 2019 03:14:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2019/03/18/11915710.html</guid><description><![CDATA[
                                            <p><img alt="" class="has" height="723" src="https://img-blog.csdnimg.cn/20190318111307909.gif" width="889"></p>

<pre class="has"><code class="language-javascript">import React, { Component } from 'react';

class Item extends Component {
  constructor(props) {
    super(props)
    this.state = {
      content: ''
    }
  }
  componentWillReceiveProps(nextProps) {
    if (nextProps.fun1 !== this.props.fun1) {
      this.fun1(nextProps.myArgument)
    } else if (nextProps.fun2 !== this.props.fun2) {
      this.fun2(nextProps.myArgument)
    }
  }  

  //函数里可以包含ajax请求等复杂的逻辑
  fun1(myArgument) {
    let { fun1 } = this.props
    this.setState({
      content: 'from fun1:' + myArgument
    })
    console.log('fun1执行次数:' + fun1)
  }
  fun2(myArgument) {
    let { fun2 } = this.props
    this.setState({
      content: 'from fun2:' + myArgument
    }) 
    console.log('fun2执行次数:' + fun2)   
  }
  render() {
    let { content } = this.state
    return (
      &lt;div&gt;
        {content}
      &lt;/div&gt;
    )
  }  
}

//父组件通过props控制子组件执行不同的方法进行渲染
class App extends Component {
  constructor(props) {
    super(props)
    this.state = {
      fun1: 0,
      fun2: 0,
      myArgument: []
    }
  }
  render() {
    let { fun1, fun2, myArgument } = this.state
    return (
      &lt;div&gt;
        &lt;Item fun1={fun1} fun2={fun2} myArgument={myArgument}/&gt;
        &lt;button onClick={this.handleFun1.bind(this)}&gt;Fun1&lt;/button&gt;
        &lt;button onClick={this.handleFun2.bind(this)}&gt;Fun2&lt;/button&gt;
      &lt;/div&gt;
    );
  }
}

//事件
Object.assign(App.prototype, {
  handleFun1() {
    let { fun1 } = this.state
    fun1 = fun1 + 1
    this.setState({
      fun1,
      myArgument: ['xu', 'tongbao']
    })
  },
  handleFun2() {
    let { fun2 } = this.state
    fun2 = fun2 + 1
    this.setState({
      fun2,
      myArgument: ['徐', '同保']
    })
  }  
})


export default App</code></pre>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>
                                    ]]></description></item><item><title>科技感十足的大波浪动画（three.js）</title><link>http://www.cnblogs.com/xutongbao/archive/2019/03/15/11915711.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Fri, 15 Mar 2019 09:39:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2019/03/15/11915711.html</guid><description><![CDATA[
                                            <p><img alt="" class="has" height="801" src="https://img-blog.csdnimg.cn/20190315173841239.gif" width="1200"></p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;

&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" /&gt;
  &lt;title&gt;大波浪动画&lt;/title&gt;
  &lt;style type="text/css"&gt;
  body {
    margin: 0;
    background: #203260;
    overflow: hidden;
  }
  &lt;/style&gt;
&lt;/head&gt;

&lt;body&gt;
  &lt;div id="m-points"&gt;&lt;/div&gt;
  &lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;
  &lt;script src="https://cdn.bootcss.com/three.js/r56/three.js"&gt;&lt;/script&gt;
  &lt;script type="text/javascript"&gt;
  var SEPARATION = 100,
    AMOUNTX = 50,
    AMOUNTY = 50;

  var container;
  var camera,
    scene,
    renderer;

  var particles,
    particle,
    count = 0;

  var mouseX = 0,
    mouseY = 0;

  var windowHalfX = window.innerWidth / 2;
  var windowHalfY = window.innerHeight / 2;


  function init(dom) {
    container = dom
    camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 1, 10000);
    camera.position.z = 1000;
    scene = new THREE.Scene();
    particles = new Array();
    var PI2 = Math.PI * 2;
    var material = new THREE.ParticleCanvasMaterial({
      color: '#3c78d8',
      program: function(context) {
        context.beginPath();
        context.arc(0, 0, 1, 0, PI2, true);
        context.fill();
      }
    });
    var i = 0;
    for (var ix = 0; ix &lt; AMOUNTX; ix++) {
      for (var iy = 0; iy &lt; AMOUNTY; iy++) {
        particle = particles[i++] = new THREE.Particle(material);
        particle.position.x = ix * SEPARATION - ((AMOUNTX * SEPARATION) / 2);
        particle.position.z = iy * SEPARATION - ((AMOUNTY * SEPARATION) / 2);
        scene.add(particle);
      }
    }
    renderer = new THREE.CanvasRenderer();
    renderer.setSize(window.innerWidth, window.innerHeight);
    container.appendChild(renderer.domElement);
    document.addEventListener('mousemove', onDocumentMouseMove, false);
    document.addEventListener('touchstart', onDocumentTouchStart, false);
    document.addEventListener('touchmove', onDocumentTouchMove, false);
    window.addEventListener('resize', onWindowResize, false);
  }

  function onWindowResize() {
    windowHalfX = window.innerWidth / 2;
    windowHalfY = window.innerHeight / 2;
    camera.aspect = window.innerWidth / window.innerHeight;
    camera.updateProjectionMatrix();
    renderer.setSize(window.innerWidth, window.innerHeight);
  }

  function onDocumentMouseMove(event) {
    mouseX = event.clientX - windowHalfX;
    mouseY = event.clientY - windowHalfY;
  }

  function onDocumentTouchStart(event) {
    if (event.touches.length === 1) {
      event.preventDefault();
      mouseX = event.touches[0].pageX - windowHalfX;
      mouseY = event.touches[0].pageY - windowHalfY;
    }
  }

  function onDocumentTouchMove(event) {
    if (event.touches.length === 1) {
      event.preventDefault();
      mouseX = event.touches[0].pageX - windowHalfX;
      mouseY = event.touches[0].pageY - windowHalfY;
    }
  }

  function animate() {
    requestAnimationFrame(animate);
    render();
  }

  function render() {
    camera.position.x += (mouseX - camera.position.x) * .05;
    camera.position.y += (-mouseY - camera.position.y) * .05;
    camera.lookAt(scene.position);
    var i = 0;
    for (var ix = 0; ix &lt; AMOUNTX; ix++) {
      for (var iy = 0; iy &lt; AMOUNTY; iy++) {
        particle = particles[i++];
        particle.position.y = (Math.sin((ix + count) * 0.3) * 50) + (Math.sin((iy + count) * 0.5) * 50);
        particle.scale.x = particle.scale.y = (Math.sin((ix + count) * 0.3) + 1) * 2 + (Math.sin((iy + count) * 0.5) + 1) * 2;
      }
    }
    renderer.render(scene, camera);
    count += 0.1;
  }
  let renderAnimation = (container) =&gt; {
    init(container);
    animate();
  }
  let domContainer = document.getElementById('m-points')
  let a = renderAnimation(domContainer)
  &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p>&nbsp;</p>

<p>&nbsp;</p>
                                    ]]></description></item><item><title>React性能优化 渲染20000多条checkbox组件，点击选择checkbox组件的时候特别卡，解决办法</title><link>http://www.cnblogs.com/xutongbao/archive/2019/03/15/11915712.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Fri, 15 Mar 2019 03:15:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2019/03/15/11915712.html</guid><description><![CDATA[
                                            <p><img alt="" class="has" height="625" src="https://img-blog.csdnimg.cn/20190315141921638.gif" width="959"></p>

<p>&nbsp;</p>

<pre class="has"><code class="language-javascript">import * as React from 'react';
interface IData {
  id: number,
  title: string
}
interface IState {
  checkedValues: Set&lt;IData&gt;;
  data: IData[];
}

interface IProps {
  value: IData,
  checked: boolean,
  onChange: (v: IData) =&gt; void
}
class ItemComp extends React.Component&lt;IProps&gt; {
  shouldComponentUpdate(nextProps: IProps) {
    const props = this.props;
    return props.value !== nextProps.value || props.checked !== nextProps.checked
  }
  render() {
    const { value, checked } = this.props;
    return (
      &lt;label&gt;
        &lt;input
          type="checkbox"
          checked={checked}
          onChange={this.onChange} /&gt;
        {value.title}
      &lt;/label&gt;
    )
  }
  onChange = () =&gt; {
    this.props.onChange(this.props.value);
  }
}

// tslint:disable-next-line:max-classes-per-file
export default class App extends React.Component&lt;{}, IState&gt; {
  constructor(props: {}) {
    super(props)
    const initValue: IState = {
      checkedValues: new Set(),
      data: []
    }
    for (let i = 0; i &lt; 20000; i++) {
      let temp = { id: Math.random(), title: i }
      initValue.data.push(temp)
      initValue.checkedValues.add(temp)
    }
    this.state = initValue;
  }
  render() {
    const onChange = this.onChange;
    const { checkedValues, data } = this.state;
    return (
      &lt;div className="App"&gt;
        {data.map((value) =&gt;
          &lt;ItemComp
            key={value.id}
            value={value}
            checked={checkedValues.has(value)}
            onChange={onChange} /&gt;
        )}
      &lt;/div&gt;
    );
  }
  onChange = (active: IData) =&gt; {
    const checkedValues = new Set(this.state.checkedValues);
    if (checkedValues.has(active)) {
      checkedValues.delete(active);
    } else {
      checkedValues.add(active);
    }
    this.setState({ checkedValues })
    console.log(checkedValues)
  }
}</code></pre>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>比较慢的代码案例：</p>

<pre class="has"><code class="language-javascript">import React, { Component } from 'react';
import { Checkbox } from 'antd'

class App extends Component {
  constructor(props) {
    super(props)
    this.state = {
      checked: []
    }      
  }
  render() {
    let list = this.list()
    return (
      &lt;div&gt;
        {list}
      &lt;/div&gt;
    );
  }
}

Object.assign(App.prototype, {
  componentDidMount() {
    let arr = []
    for (let i = 0; i &lt; 20000; i++) {
      arr.push(i)
    }   
    this.setState({
     checked: arr
    }) 
  },
  list() {
    let { checked } = this.state
    let arr = []
    for (let i = 0; i &lt; 20000; i++) {
      arr.push(&lt;Checkbox key={i} checked={checked.indexOf(i) &gt;= 0}  onChange={this.handleChange.bind(this, i)}&gt;{i}&lt;/Checkbox&gt;)
    }
    return arr
  },
  handleChange(index, e) {
    let { checked } = this.state
    let tempIndex = checked.indexOf(index)
    if (e.target.checked) {
     if (tempIndex &lt; 0) {
       checked.push(index)
     }     
    } else {
     if (tempIndex &gt;= 0) {
       checked.splice(tempIndex, 1)
     }         
    }

    this.setState({
     checked: checked
    })
    console.log(checked)
  }
})


export default App</code></pre>

<p>&nbsp;</p>
                                    ]]></description></item><item><title>react网页多语言（react-intl-universal）</title><link>http://www.cnblogs.com/xutongbao/archive/2019/03/14/11915713.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 14 Mar 2019 10:49:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2019/03/14/11915713.html</guid><description><![CDATA[
                                            <p><img alt="" class="has" height="430" src="https://img-blog.csdnimg.cn/20190314184320522.gif" width="664"></p>

<p>github项目地址：<a href="https://github.com/xutongbao/my-app-intl" rel="nofollow">https://github.com/xutongbao/my-app-intl</a></p>

<p>参考链接：<a href="https://www.npmjs.com/package/react-intl-universal" rel="nofollow">https://www.npmjs.com/package/react-intl-universal</a></p>

<p>目录结构：</p>

<p><img alt="" class="has" height="400" src="https://img-blog.csdnimg.cn/20190314184537357.png" width="273"></p>

<p>App.js</p>

<pre class="has"><code class="language-javascript">import React, { Component } from 'react';
import intl from 'react-intl-universal'
import { withRouter } from "react-router-dom";

class App extends Component {
  constructor(props) {
    super(props)
    this.state = {
      initDone: false
    }
  }
  render() {
    return (
      &lt;div&gt;
      	&lt;div&gt;{intl.get('login.username')}&lt;/div&gt;
      	&lt;div&gt;{intl.get('editor.item.name')}&lt;/div&gt;
      	&lt;button onClick={this.handleLanguage.bind(this)}&gt;EN/中&lt;/button&gt;
      &lt;/div&gt;
    );
  }
}

//生命周期
Object.assign(App.prototype, {
  componentDidMount() {
    let { location } = this.props
    let ps = this.parseQueryString(location.search)
    let currentLocale = ps.language || 'zh-CN'
    intl.init({
      currentLocale: currentLocale,
      commonLocaleDataUrls: {
        'zh': false,
        'en': false
      },
      locales: {
        [currentLocale]: require(`./locales/${currentLocale}`).default
      }
    }).then(() =&gt; {
      this.setState({ initDone: true })
    })
  },
  handleLanguage() {
    let { location } = this.props
    let ps = this.parseQueryString(location.search)
    if (ps.language === 'en-US') {
    	this.props.history.push('?language=zh-CN')
    } else if (ps.language === 'zh-CN') {
    	this.props.history.push('?language=en-US')
    } else {
    	this.props.history.push('?language=en-US')
    }
    
    window.location.reload()
  },
  parseQueryString(url) {
    var params = {};
    var arr = url.split("?");
    if (arr.length &lt;= 1) {
      return params;
    }
    arr = arr[1].split("&amp;");
    for (var i = 0, l = arr.length; i &lt; l; i++) {
      var a = arr[i].split("=");
      params[a[0]] = a[1];
    }
    return params;
  }
})


export default withRouter(App);</code></pre>

<p>&nbsp;</p>

<p>zh-CH.js</p>

<pre class="has"><code class="language-javascript">import editor from './zh-CN_Editor.js'
export default ({
  login: {
    "username": "用户名",
  },
  editor: editor
})</code></pre>

<p>zh-CN_Editor.js</p>

<pre class="has"><code class="language-javascript">export default ({
  item: {
    name: '徐同保'
  }
})</code></pre>

<p>en-US.js</p>

<pre class="has"><code class="language-javascript">import editor from './en-US_Editor.js'
export default ({
  login: {
    "username": "Username"
  },
  editor: editor 
})</code></pre>

<p>en-US_Editor.js</p>

<pre class="has"><code class="language-javascript">export default ({
  item: {
    name: 'Xutongbao'
  }
})</code></pre>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>
                                    ]]></description></item><item><title>个人作品</title><link>http://www.cnblogs.com/xutongbao/archive/2019/03/14/11915714.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 14 Mar 2019 07:52:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2019/03/14/11915714.html</guid><description><![CDATA[
                                            <p>暂无。。。</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>
                                    ]]></description></item><item><title>程序员和产品经理的那些事</title><link>http://www.cnblogs.com/xutongbao/archive/2019/03/13/11915715.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 13 Mar 2019 06:22:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2019/03/13/11915715.html</guid><description><![CDATA[
                                            <p>1.</p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190313142141716.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>2.</p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190313142204434.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>3.</p>

<p><img alt="" class="has" height="186" src="https://img-blog.csdnimg.cn/20190314154140317.gif" width="300"></p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>
                                    ]]></description></item><item><title>three.js 根据不同的图片做不同的动画特效 科技感十足</title><link>http://www.cnblogs.com/xutongbao/archive/2019/03/12/11915716.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 12 Mar 2019 07:17:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2019/03/12/11915716.html</guid><description><![CDATA[
                                            <p><img alt="" class="has" height="398" src="https://img-blog.csdnimg.cn/20190312151058181.gif" width="664"></p>

<p>&nbsp;</p>

<p>&nbsp;img.js里保存的是一个图片base64格式的代码</p>

<p>下面的代码可以根据提供的图片不同，做不同的动画效果</p>

<p>&nbsp;</p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;

&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;meta name="viewport" content="width=device-width,height=device-height"&gt;
  &lt;title&gt;动画&lt;/title&gt;
  &lt;style&gt;
  body{margin: 0;}
  &lt;/style&gt;
&lt;/head&gt;

&lt;body&gt;
  &lt;canvas id="map"&gt;&lt;/canvas&gt;
  &lt;script type="text/javascript" src="https://cdn.staticfile.org/three.js/r83/three.js"&gt;&lt;/script&gt;
  &lt;script type="text/javascript" src="js/img.js"&gt;&lt;/script&gt;
  &lt;script&gt;
    var renderer, scene, camera, ww, wh, particles;

    ww = window.innerWidth,
      wh = window.innerHeight;

    var centerVector = new THREE.Vector3(0, 0, 0);
    var previousTime = 0;

    var getImageData = function(image) {

      var canvas = document.createElement("canvas");
      canvas.width = image.width;
      canvas.height = image.height;

      var ctx = canvas.getContext("2d");
      ctx.drawImage(image, 0, 0);

      return ctx.getImageData(0, 0, image.width, image.height);
    }

    var drawTheMap = function() {

      var geometry = new THREE.Geometry();
      var material = new THREE.PointsMaterial({
        size: 3,
        color: 0x333333,
        sizeAttenuation: false
      });
      for (var y = 0, y2 = imagedata.height; y &lt; y2; y += 2) {
        for (var x = 0, x2 = imagedata.width; x &lt; x2; x += 2) {
          if (imagedata.data[(x * 4 + y * 4 * imagedata.width) + 3] &gt; 128) {

            var vertex = new THREE.Vector3();
            vertex.x = Math.random() * 1000 - 500;
            vertex.y = Math.random() * 1000 - 500;
            vertex.z = -Math.random() * 500;

            vertex.destination = {
              x: x - imagedata.width / 2,
              y: -y + imagedata.height / 2,
              z: 0
            };

            vertex.speed = Math.random() / 200 + 0.015;

            geometry.vertices.push(vertex);
          }
        }
      }
      particles = new THREE.Points(geometry, material);

      scene.add(particles);

      requestAnimationFrame(render);
    };

    var init = function() {
      THREE.ImageUtils.crossOrigin = '';
      renderer = new THREE.WebGLRenderer({
        canvas: document.getElementById("map"),
        antialias: true,
        alpha:true
      });
      renderer.setSize(ww, wh);
      // renderer.setClearColor(0x181818);

      scene = new THREE.Scene();

      camera = new THREE.PerspectiveCamera(50, ww / wh, 0.1, 10000);
      camera.position.set(-100, 0, 220);
      camera.lookAt(centerVector);
      scene.add(camera);
      texture = THREE.ImageUtils.loadTexture(imgBase64, undefined, function() {
        imagedata = getImageData(texture.image);
        drawTheMap();
      });
      window.addEventListener('resize', onResize, false);

    };
    var onResize = function() {
      ww = window.innerWidth;
      wh = window.innerHeight;
      renderer.setSize(ww, wh);
      camera.aspect = ww / wh;
      camera.updateProjectionMatrix();
    };

    var render = function(a) {

      requestAnimationFrame(render);

      for (var i = 0, j = particles.geometry.vertices.length; i &lt; j; i++) {
        var particle = particles.geometry.vertices[i];
        particle.x += (particle.destination.x - particle.x) * particle.speed;
        particle.y += (particle.destination.y - particle.y) * particle.speed;
        particle.z += (particle.destination.z - particle.z) * particle.speed;
      }

      // if (a - previousTime &gt; 100) {
      //  var index = Math.floor(Math.random() * particles.geometry.vertices.length);
      //  var particle1 = particles.geometry.vertices[index];
      //  var particle2 = particles.geometry.vertices[particles.geometry.vertices.length - index];
      //  TweenMax.to(particle, Math.random() * 2 + 1, {
      //    x: particle2.x,
      //    y: particle2.y,
      //    ease: Power2.easeInOut
      //  });
      //  TweenMax.to(particle2, Math.random() * 2 + 1, {
      //    x: particle1.x,
      //    y: particle1.y,
      //    ease: Power2.easeInOut
      //  });
      //  previousTime = a;
      // }

      particles.geometry.verticesNeedUpdate = true;
      camera.position.x = Math.sin(a / 5000) * 100;
      // camera.position.x = false;
      camera.lookAt(centerVector);

      renderer.render(scene, camera);
    };

    init();
  &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p>在服务器上运行时，直接使用图片就可以，不需要转换成base64</p>

<p>示例图片：</p>

<p>&nbsp;<img alt="" class="has" src="https://img-blog.csdnimg.cn/20190312151433191.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>&nbsp;</p>
                                    ]]></description></item><item><title>互联网行业最佳产品开发流程 推荐！</title><link>http://www.cnblogs.com/xutongbao/archive/2019/03/07/11915717.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 07 Mar 2019 03:52:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2019/03/07/11915717.html</guid><description><![CDATA[
                                            <h1>举一个产品开发的<strong>栗子</strong></h1>

<p>1、一个boss管理5个产品经理</p>

<p><br>
2、5个产品经理分头给baidu设计产品需求，需求之间没有交集，各人写各人的文档，设计各人的原型，谁的需求合理，有创新，有价值，谁的需求优先级就高，这个boss谁说的算。文档不全、不合理的需求自然就没法开始做，这个产品经理的绩效自然也比较低，互相之间有很强的竞争意识</p>

<p><br>
3、到这个阶段有可能已经有3个需求通过了boss的审核，进入UI设计阶段</p>

<p><br>
4、到这个阶段，UI已经设计完成，开3个产品评审小会，把任务分配给相关的三组人员（一个人可以同时在多个组里）</p>

<p><br>
5、3小组建立3个分支（前后端同一个需求建的分支名称要完全一样），分头开发，产品经理实时跟进，测试人员实时沟通，边开发，边变更需求、边测试（测试在不同的分支上测）</p>

<p><br>
6、如果有需求开发测试都完成了，这个分支就合并到develop分支上，测试在develop分支上再测试一遍，确保没有bug，如果有bug，重新建立分支，改完后，在新分支上测试，测试完再合并到develop分支上。所有人不得在develop上写任何代码，只能建立新的分支写代码，而且分支如果想要合并到develop上，必须经过严格的测试后才可以合，程序员没有合并分支的权利，测试和运维有</p>

<p><br>
7、这时候或许又有2个新需求通过了boss的审核，而且UI也已经设计好，刚好这个时候有一组程序员做的需求已经通过测试，可以直接应对新需求了</p>

<p>&nbsp;</p>

<p>8、develop本身就是一个很稳定的版本，可以随时从develop分支合并到master分支，销售周一要产品，就周一给，周五要产品就周五给。无论是周一的产品还是周五的产品，都是稳定的产品，只是或许周一到周五这段时间里修复了几个以前没有发现的比较隐藏的bug或许增加了一些新功能而已。市面上的所有app也都是如此，每次提醒用户安装新版本都会告诉你，他们修复了一些bug，增加了一些新功能</p>

<p>9、产品经理才是一个公司的灵魂，程序员不是</p>

<h3>其他：</h3>

<p>1、feature分支和develop分支的运行环境是完全一样的，其实在git软件看来，feature和develop是平级的，只是人为的认为develop更高级些而已。为保证feature向develop合并代码的时候出现冲突和覆盖，可以在合并前先将最新的develop（有可能别的分支已经向develop合并过代码）合并到自己的feature分支上，如果有冲突，就解决冲突后再提交到自己分支上，然后进行测试，这时候自己的feature分支就完全和最新develop分支代码一样了，只是多了自己新增加的功能，而这些功能要经过充分的测试才能合并到develop分支上。</p>

<p>2、如果有个功能做了一半，产品经理感觉这个功能不合理，可以直接把这个feature分支废弃掉，完全不影响develop分支和产品稳定性</p>

<p>3、feature分支和develop分支的运行环境是完全一样的，如果有个bug在develop可以复现，在feature上不能复现，就要质疑运维的环境问题。如果有个bug在develop可以复现，在feature上也能复现，但是之前测试在feature上测试时没有发现，到develop上才发现，就要质疑测试是否用心测了（建议直接罚款）</p>

<p>4、develop分支和master分支上的bug是测试和运维的锅（建议直接罚款），如果不是bug是产品本身有缺陷，那就是产品经理的锅（建议直接罚款）。出现这类问题时相关人员需要和程序员好好说话，态度要好，认错要诚恳，然后程序员再修复这类问题，不然他们会总是犯这类错误！</p>

<p>5、程序员总是会经常出错的，但是我们的错误应该在feature分支被发现</p>

<p>6、这个例子说的场景是只有一款产品，多个产品经理为这个一款产品设计不同的需求</p>

<p>7、我推荐的这套方案可以解决新需求及时上线，实时都有稳定版本，产品经理比较多，开发人员也比较多时，每个需求优先级不同，进度不同，上线顺序也是随机的</p>

<p>参考链接：<a href="http://blog.jobbole.com/109466/" rel="nofollow">http://blog.jobbole.com/109466/</a></p>

<p><img alt="" class="has" height="140" src="https://img-blog.csdnimg.cn/20190307140555191.jpg" width="180"></p>

<p><img alt="" class="has" height="390" src="https://img-blog.csdnimg.cn/20190307140611281.jpg" width="268"></p>

<p><img alt="" class="has" height="180" src="https://img-blog.csdnimg.cn/20190307140629747.jpg" width="268"></p>

<p>参考链接：</p>

<p>分支管理和自动化部署的 原型图</p>

<p><a href="https://blog.csdn.net/xutongbao/article/details/89357584" rel="nofollow">https://blog.csdn.net/xutongbao/article/details/89357584</a></p>
                                    ]]></description></item><item><title>类似于YouTube、Medium、知乎等网站使用的进度条插件 NProgress</title><link>http://www.cnblogs.com/xutongbao/archive/2019/02/14/11915718.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 14 Feb 2019 10:18:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2019/02/14/11915718.html</guid><description><![CDATA[
                                            <pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;

&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;meta name="viewport" content="width=device-width,height=device-height"&gt;
  &lt;title&gt;NProgress&lt;/title&gt;
  &lt;script src='https://unpkg.com/nprogress@0.2.0/nprogress.js'&gt;&lt;/script&gt;
  &lt;link rel='stylesheet' href='https://unpkg.com/nprogress@0.2.0/nprogress.css'/&gt;  
&lt;/head&gt;

&lt;body&gt;
  &lt;script&gt;
    NProgress.start()
    setTimeout(function() {
      NProgress.done()
    }, 2000)
  &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p><a href="https://github.com/rstacruz/nprogress" rel="nofollow">https://github.com/rstacruz/nprogress</a></p>                                    ]]></description></item><item><title>js模拟点击下载文件到本地</title><link>http://www.cnblogs.com/xutongbao/archive/2019/01/30/11915719.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 30 Jan 2019 08:41:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2019/01/30/11915719.html</guid><description><![CDATA[
                                            <pre class="has"><code class="language-javascript">function fake_click(obj) {
  var ev = document.createEvent("MouseEvents");
  ev.initMouseEvent(
    "click", true, false, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null
  );
  obj.dispatchEvent(ev);
}

const blob = new Blob([res.data], { type: res.data.type })
const file = new FileReader()

file.readAsBinaryString(blob)
let filename = this.filename
file.onload = (ev) =&gt; {
  const myFileName = `${filename}.${exportType === 'html'
      ? 'zip'
      : exportType === 'word' ? 'doc' : exportType}`

  var urlObject = window.URL || window.webkitURL || window;
  var save_link = document.createElementNS("http://www.w3.org/1999/xhtml", "a")
  save_link.href = urlObject.createObjectURL(blob);
  save_link.download = myFileName;
  this.fake_click(save_link)
  console.log('下载报告')
}</code></pre>

<p>&nbsp;</p>                                    ]]></description></item><item><title>Html5 js FileReader接口（读取本地txt的内容）</title><link>http://www.cnblogs.com/xutongbao/archive/2019/01/29/11915720.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 29 Jan 2019 10:34:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2019/01/29/11915720.html</guid><description><![CDATA[
                                            <p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20190129183338691.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
 
&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;title&gt;FormData&lt;/title&gt;
&lt;/head&gt;
 
&lt;body&gt;
  &lt;form name="form1" id="form1"&gt;
    &lt;p&gt;photo:&lt;input type="file" name="file" id="photo"&gt;&lt;/p&gt;
    &lt;p&gt;&lt;input type="button" name="b1" value="submit" id="m-btn"&gt;&lt;/p&gt;
  &lt;/form&gt;
  &lt;div id="result"&gt;&lt;/div&gt;
  &lt;script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"&gt;&lt;/script&gt;
  &lt;script src="https://cdn.bootcss.com/axios/0.18.0/axios.min.js"&gt;&lt;/script&gt;
  &lt;script type="text/javascript"&gt;
  $(function() {
    var myAction = {}
 
    let ajaxConfig = {
      host: 'http://10.10.10.65',
      authorization: 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJrZW4iLCJpYXQiOjE1NDYwNzQ3NTYsImRhdGEiOnsidXNlcm5hbWUiOiJ4dXRvbmdiYW8iLCJpc19zdXBlcnVzZXIiOjEsImlkIjo5LCJsb2dpbl90aW1lIjoxNTQ2MDc0NzU2fSwiZXhwIjoxNTQ2Njc0NzU2fQ.ntmWGZRVIxBpcc0EEZ3rTGyVL8SPmRbItYr4znShITU'
    }
 
    var dom = {
      btn: $('#m-btn')
    }
 
    $.extend(myAction, {
      initEvent: function() {
        dom.btn.on('click', function() {
          myAction.send2()
        })
      },
      send1: function() {
        var form = document.getElementById("form1");
        var formData = new FormData(form);
        $.ajax({
          url: ajaxConfig.host + "/api/v2/tasks/upload_file",
          type: "POST",
          beforeSend: function(XMLHttpRequest) {
            XMLHttpRequest.setRequestHeader("Authorization", ajaxConfig.authorization);
          },
          data: formData,
          processData: false, // 告诉jQuery不要去处理发送的数据
          contentType: false, // 告诉jQuery不要去设置Content-Type请求头
          success: function(res) {
            console.log(res);
          },
          error: function(e) {
 
          }
        });
      },
      send: (config) =&gt; {
          let obj;
          if (config.data instanceof FormData) {
              obj = config.data;
          } else {
              obj = config.data ? JSON.stringify(config.data) : {};
          }
 
          let method = config.method || 'get';
          let url = config.url;
 
          let params = {}, data;
          if (method === 'get') {
              params = obj;
          } else {
              data = obj;
          }
 
          let response = axios({
              url: ajaxConfig.host + url,
              method: method,
              headers: { "Authorization": ajaxConfig.authorization },
              params: params,
              data: data
          });
          return response;
      }, 
      send2: function () {
        var form = document.getElementById("form1");
        var formData = new FormData(form);    
        let selectedFile = document.getElementById("form1")[0].files[0];
        var reader = new FileReader();//这是核心,读取操作就是由它完成.
        reader.readAsText(selectedFile);//读取文件的内容,也可以读取文件的URL
        //console.log(reader.result)  
        reader.οnlοad=function(e){  
          console.log(this.result)
        }                
        myAction.send({
            url: "/api/v2/tasks/upload_file",
            method: 'POST',   
            data: formData            
        }).then(function(res) {
          console.log(res);
        });         
      }      
    })
 
    var init = function() {
      myAction.initEvent()
    }()
  })
  &lt;/script&gt;
&lt;/body&gt;
 
&lt;/html&gt;</code></pre>

<p>&nbsp;</p>                                    ]]></description></item><item><title>react 搜集复选框组的状态</title><link>http://www.cnblogs.com/xutongbao/archive/2019/01/25/11915721.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Fri, 25 Jan 2019 03:26:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2019/01/25/11915721.html</guid><description><![CDATA[
                                            <p>&nbsp;<img alt="" class="has" height="84" src="https://img-blog.csdnimg.cn/20190125112307553.png" width="110"></p>

<p>react 搜集复选框组的状态</p>

<p>&nbsp;</p>

<pre class="has"><code class="language-html">&lt;div className="m-plugin-control-filter-item"&gt;
	&lt;CheckBox defaultChecked={true} checked={ rank.indexOf(0) &gt;= 0 ? true : false } onClick={this.handleRank.bind(this, 0)} &gt;高危&lt;/CheckBox&gt;
&lt;/div&gt;
&lt;div className="m-plugin-control-filter-item"&gt;
	&lt;CheckBox defaultChecked={true} checked={ rank.indexOf(1) &gt;= 0 ? true : false } onClick={this.handleRank.bind(this, 1)} &gt;中危&lt;/CheckBox&gt;
&lt;/div&gt;	
&lt;div className="m-plugin-control-filter-item"&gt;
	&lt;CheckBox defaultChecked={true} checked={ rank.indexOf(2) &gt;= 0 ? true : false } onClick={this.handleRank.bind(this, 2)} &gt;低危&lt;/CheckBox&gt;
&lt;/div&gt;</code></pre>

<pre class="has"><code class="language-javascript">  handleRank(rank) {
    let index = this.state.rank.indexOf(rank)
    if (index &gt;= 0) {
      this.state.rank.splice(index, 1)
    } else {
      this.state.rank.push(rank)
    }
    this.setState({
      rank: this.state.rank
    })
  }</code></pre>

<p>&nbsp;</p>                                    ]]></description></item><item><title>浏览器顶部loading(来自知乎)</title><link>http://www.cnblogs.com/xutongbao/archive/2019/01/24/11915722.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 24 Jan 2019 05:53:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2019/01/24/11915722.html</guid><description><![CDATA[
                                            <p>&nbsp;<img alt="" class="has" height="45" src="https://img-blog.csdnimg.cn/20190124135304478.gif" width="713"></p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;

&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;meta name="viewport" content="width=device-width,height=device-height"&gt;
  &lt;title&gt;浏览器顶部loading(来自知乎)&lt;/title&gt;
  &lt;style&gt;
  .m-loading-bar {
    position: fixed;
    top: 0;
    right: 0;
    left: 0;
    z-index: 101;
    display: none;
    height: 2px;
    pointer-events: none;
    background: #0084FF;
    -webkit-transform: translateX(-100%);
    transform: translateX(-100%);
  }

  .m-loading-bar.active {
    display: block;
    -webkit-animation: LoadingBarForward 1s ease-in-out 0.8s infinite;
    animation: LoadingBarForward 1s ease-in-out 0.8s infinite;
  }

  @-webkit-keyframes LoadingBarForward {
    0% {
      -webkit-transform: translateX(-100%);
      transform: translateX(-100%);
    }

    40% {
      -webkit-transform: translateX(0);
      transform: translateX(0);
    }

    60% {
      -webkit-transform: translateX(0);
      transform: translateX(0);
    }

    100% {
      -webkit-transform: translateX(100%);
      transform: translateX(100%);
    }
  }

  @keyframes LoadingBarForward {
    0% {
      -webkit-transform: translateX(-100%);
      transform: translateX(-100%);
    }

    40% {
      -webkit-transform: translateX(0);
      transform: translateX(0);
    }

    60% {
      -webkit-transform: translateX(0);
      transform: translateX(0);
    }

    100% {
      -webkit-transform: translateX(100%);
      transform: translateX(100%);
  &lt;/style&gt;
&lt;/head&gt;

&lt;body&gt;
  &lt;div class="m-loading-bar active"&gt;&lt;/div&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p>&nbsp;</p>                                    ]]></description></item><item><title>antd defaultExpandAllRows={true} 不起作用</title><link>http://www.cnblogs.com/xutongbao/archive/2019/01/22/11915723.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 22 Jan 2019 08:43:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2019/01/22/11915723.html</guid><description><![CDATA[
                                            <pre class="has"><code class="language-javascript">          &lt;div className="m-task-list"&gt;
            {tableData &amp;&amp; tableData.length ? &lt;Table 
              className="m-cover-ant-table" 
              columns={this.columns} 
              expandIconAsCell={false}
              expandedRowRender={this.expandedRowRender.bind(this)}
              expandRowByClick={true}
              defaultExpandAllRows={true}
              defaultExpandedRowKeys={['1']}
              onExpand={this.handleExpand.bind(this)}
              dataSource={tableData} 
              rowKey="index"
              locale={locale}
              pagination={false}/&gt; : '暂无数据'}            
          &lt;/div&gt;</code></pre>

<p>&nbsp;</p>                                    ]]></description></item><item><title>js获取页面选择的文本内容</title><link>http://www.cnblogs.com/xutongbao/archive/2019/01/17/11915724.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 17 Jan 2019 01:39:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2019/01/17/11915724.html</guid><description><![CDATA[
                                            <pre class="has"><code class="language-javascript">  getSelectedText() {
    if (window.getSelection) {
      return window.getSelection().toString();
    } else if (document.selection) {
      return document.selection.createRange().text;
    }
    return ''
  }</code></pre>

<p>&nbsp;</p>                                    ]]></description></item><item><title>Can’t call setState (or forceUpdate) on an unmounted component</title><link>http://www.cnblogs.com/xutongbao/archive/2019/01/16/11915725.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 16 Jan 2019 03:59:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2019/01/16/11915725.html</guid><description><![CDATA[
                                            <pre class="has"><code class="language-javascript">  componentWillUnmount() {
    this.setState = () =&gt; {
      return
    }
  }</code></pre>

<p>&nbsp;</p>                                    ]]></description></item><item><title>js上传文件</title><link>http://www.cnblogs.com/xutongbao/archive/2019/01/15/11915726.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 15 Jan 2019 06:41:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2019/01/15/11915726.html</guid><description><![CDATA[
                                            <pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;

&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;title&gt;FormData&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;
  &lt;form name="form1" id="form1"&gt;
    &lt;p&gt;photo:&lt;input type="file" name="file" id="photo"&gt;&lt;/p&gt;
    &lt;p&gt;&lt;input type="button" name="b1" value="submit" id="m-btn"&gt;&lt;/p&gt;
  &lt;/form&gt;
  &lt;div id="result"&gt;&lt;/div&gt;
  &lt;script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"&gt;&lt;/script&gt;
  &lt;script src="https://cdn.bootcss.com/axios/0.18.0/axios.min.js"&gt;&lt;/script&gt;
  &lt;script type="text/javascript"&gt;
  $(function() {
    var myAction = {}

    let ajaxConfig = {
      host: 'http://10.10.10.65',
      authorization: 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJrZW4iLCJpYXQiOjE1NDYwNzQ3NTYsImRhdGEiOnsidXNlcm5hbWUiOiJ4dXRvbmdiYW8iLCJpc19zdXBlcnVzZXIiOjEsImlkIjo5LCJsb2dpbl90aW1lIjoxNTQ2MDc0NzU2fSwiZXhwIjoxNTQ2Njc0NzU2fQ.ntmWGZRVIxBpcc0EEZ3rTGyVL8SPmRbItYr4znShITU'
    }

    var dom = {
      btn: $('#m-btn')
    }

    $.extend(myAction, {
      initEvent: function() {
        dom.btn.on('click', function() {
          myAction.send2()
        })
      },
      send1: function() {
        var form = document.getElementById("form1");
        var formData = new FormData(form);
        $.ajax({
          url: ajaxConfig.host + "/api/v2/tasks/upload_file",
          type: "POST",
          beforeSend: function(XMLHttpRequest) {
            XMLHttpRequest.setRequestHeader("Authorization", ajaxConfig.authorization);
          },
          data: formData,
          processData: false, // 告诉jQuery不要去处理发送的数据
          contentType: false, // 告诉jQuery不要去设置Content-Type请求头
          success: function(res) {
            console.log(res);
          },
          error: function(e) {

          }
        });
      },
      send: (config) =&gt; {
          let obj;
          if (config.data instanceof FormData) {
              obj = config.data;
          } else {
              obj = config.data ? JSON.stringify(config.data) : {};
          }

          let method = config.method || 'get';
          let url = config.url;

          let params = {}, data;
          if (method === 'get') {
              params = obj;
          } else {
              data = obj;
          }

          let response = axios({
              url: ajaxConfig.host + url,
              method: method,
              headers: { "Authorization": ajaxConfig.authorization },
              params: params,
              data: data
          });
          return response;
      }, 
      send2: function () {
        var form = document.getElementById("form1");
        var formData = new FormData(form);        
        myAction.send({
            url: "/api/v2/tasks/upload_file",
            method: 'POST',   
            data: formData            
        }).then(function(res) {
          console.log(res);
        });         
      }      
    })

    var init = function() {
      myAction.initEvent()
    }()
  })
  &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p>&nbsp;</p>                                    ]]></description></item><item><title>React 中setState({key:value}) key值动态变化，如何动态设置key的值</title><link>http://www.cnblogs.com/xutongbao/archive/2018/12/07/11915727.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Fri, 07 Dec 2018 06:55:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/12/07/11915727.html</guid><description><![CDATA[
                                            <p>&nbsp;第一种写法：</p>

<pre class="has"><code class="language-javascript">import React, { Component } from 'react'

class App extends Component {
  constructor(props) {
    super(props)
    this.state = {
      username: '',
      age: '',
      sex:''
    }
  } 
  handleChange(field, e) {
    this.setState({
      [field]: e.target.value
    })
    setTimeout(() =&gt; {
      console.log(this.state)
    }, 10)
  } 
  render() {
    return (
      &lt;div&gt;
        &lt;input onChange={this.handleChange.bind(this, 'username')}&gt;&lt;/input&gt;
        &lt;input onChange={this.handleChange.bind(this, 'age')}&gt;&lt;/input&gt;
        &lt;input onChange={this.handleChange.bind(this, 'sex')}&gt;&lt;/input&gt;
      &lt;/div&gt;
    );
  }
}

export default App;
</code></pre>

<p>第二种写法：</p>

<pre class="has"><code class="language-javascript">import React, { Component } from 'react'

class App extends Component {
  constructor(props) {
    super(props)
    this.state = {
      username: '',
      age: '',
      sex:''
    }
  } 
  handleChange(field, e) {
    let data = {}
    data[field] = e.target.value
    this.setState(data)
    setTimeout(() =&gt; {
      console.log(this.state)
    }, 10)
  } 
  render() {
    return (
      &lt;div&gt;
        &lt;input onChange={this.handleChange.bind(this, 'username')}&gt;&lt;/input&gt;
        &lt;input onChange={this.handleChange.bind(this, 'age')}&gt;&lt;/input&gt;
        &lt;input onChange={this.handleChange.bind(this, 'sex')}&gt;&lt;/input&gt;
      &lt;/div&gt;
    );
  }
}

export default App;
</code></pre>

<p>&nbsp;</p>

<p>&nbsp;</p>                                    ]]></description></item><item><title>classnames-plus 实例</title><link>http://www.cnblogs.com/xutongbao/archive/2018/12/06/11915728.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 06 Dec 2018 03:44:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/12/06/11915728.html</guid><description><![CDATA[
                                            <p><img alt="" class="has" height="520" src="https://img-blog.csdnimg.cn/20181206114218146.gif" width="532"></p>

<p>&nbsp;js：</p>

<pre class="has"><code class="language-javascript">import React, { Component } from 'react'
import classNamesPlus from 'classnames-plus'
import './App.css'

class App extends Component {
  constructor(props) {
    super(props)
    this.state = {
      tabActiveIndex: 0
    }
  } 
  handleClick(tabActiveIndex) {
    this.setState({tabActiveIndex})
  } 
  render() {
    return (
      &lt;ul&gt;
        &lt;li className={
            classNamesPlus('m-tab', () =&gt; {
              return this.state.tabActiveIndex === 0 ? 'active': ''
            })
          } 
          onClick={this.handleClick.bind(this, 0)}&gt;css
        &lt;/li&gt;
        &lt;li className={
            classNamesPlus('m-tab', () =&gt; {
              return this.state.tabActiveIndex === 1 ? 'active': ''
            })
          } 
          onClick={this.handleClick.bind(this, 1)}&gt;javascript
        &lt;/li&gt; 
        &lt;li className={
            classNamesPlus('m-tab', () =&gt; {
              return this.state.tabActiveIndex === 2 ? 'active': ''
            })
          } 
          onClick={this.handleClick.bind(this, 2)}&gt;html
        &lt;/li&gt;                
      &lt;/ul&gt;
    );
  }
}

export default App;
</code></pre>

<p>css：</p>

<pre class="has"><code class="language-css">.m-tab{list-style-type: none;color: #000000;cursor: pointer;}
.m-tab.active{color: #f66f0c}</code></pre>

<p>npm:<a href="https://www.npmjs.com/package/classnames-plus" rel="nofollow">https://www.npmjs.com/package/classnames-plus</a></p>

<p>github:<a href="https://github.com/xutongbao/classnames-plus" rel="nofollow">https://github.com/xutongbao/classnames-plus</a></p>

<p>&nbsp;</p>

<p>&nbsp;</p>                                    ]]></description></item><item><title>React tab切换页面</title><link>http://www.cnblogs.com/xutongbao/archive/2018/12/05/11915729.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 05 Dec 2018 06:34:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/12/05/11915729.html</guid><description><![CDATA[
                                            <p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20181205143259984.gif"></p>

<p>js:</p>

<pre class="has"><code class="language-javascript">import React from 'react'
import { Icon } from '@components'
import classNames from 'classnames'
import './index.scss'

class SystemSetup extends React.Component {
	constructor(props) {
		super(props)
		this.state = {
			tabActiveIndex: 0
		}
	}

	render() {
		let tabActiveIndex = this.state.tabActiveIndex;
		return (
			&lt;div className="m-sys-wrap"&gt;
				&lt;div className="m-sys-inner"&gt;
					&lt;div className="m-sys-header"&gt;
						&lt;Icon type="set" className="m-sys-set-icon"/&gt;
						&lt;span className="m-sys-set-text"&gt;系统设置&lt;/span&gt;
						&lt;ul className="m-sys-tab-wrap"&gt;
							&lt;li className={"m-sys-tab " + (tabActiveIndex === 0 ? 'active': '')} onClick={this.handleTabClick.bind(this, 0)}&gt;
								&lt;Icon type="tuandui" className="m-sys-tab-icon"/&gt;
								&lt;span className="m-sys-tab-text"&gt;用户管理&lt;/span&gt;
							&lt;/li&gt;
							&lt;li className={"m-sys-tab " + (tabActiveIndex === 1 ? 'active': '')} onClick={this.handleTabClick.bind(this, 1)}&gt;
								&lt;Icon type="peizhi" className="m-sys-tab-icon"/&gt;
								&lt;span className="m-sys-tab-text"&gt;基础配置&lt;/span&gt;
							&lt;/li&gt;
							&lt;li className={"m-sys-tab " + (tabActiveIndex === 2 ? 'active': '')} onClick={this.handleTabClick.bind(this, 2)}&gt;
								&lt;Icon type="xiaoxi" className="m-sys-tab-icon"/&gt;
								&lt;span className="m-sys-tab-text"&gt;通知配置&lt;/span&gt;
							&lt;/li&gt;														
						&lt;/ul&gt;
					&lt;/div&gt;
					&lt;div className="m-sys-content"&gt;
						&lt;div className={"m-sys-view " + (tabActiveIndex === 0 ? 'active': '')}&gt;
						0
						&lt;/div&gt;
						&lt;div className={"m-sys-view " + (tabActiveIndex === 1 ? 'active': '')}&gt;
						1
						&lt;/div&gt;
						&lt;div className={"m-sys-view " + (tabActiveIndex === 2 ? 'active': '')}&gt;
						2
						&lt;/div&gt;												
					&lt;/div&gt;
				&lt;/div&gt;
			&lt;/div&gt;
		);
	}
}

Object.assign(SystemSetup.prototype, {
	handleTabClick(tabActiveIndex) {
		this.setState({
			tabActiveIndex
		})
	}
})

export default SystemSetup
</code></pre>

<p>css:</p>

<pre class="has"><code class="language-css">.m-sys-wrap{position: absolute;top: 50px;left: 0;right: 0;bottom: 0;}
.m-sys-inner{position: absolute; width: 1280px;left: 50%;transform: translateX(-50%);}
.m-sys-header{margin: 30px 0 0 0;}
.m-sys-set-icon{position: absolute;top: 29px; color: #ffffff;}
.m-sys-set-text{margin: 0 0 0 26px; line-height: 20px;font-size: 14px;color: #ffffff;vertical-align: top;}
.m-sys-tab-wrap{display: inline-block; margin: 0 0 0 30px; padding: 0;}
.m-sys-tab{display: inline-block; position: relative;margin: 0 0 0 10px;  padding: 0 6px;line-height: 20px; color: #888888;list-style-type: none;background-color: #444444;border-radius: 2px;cursor: pointer;}
.m-sys-tab:hover{opacity: 0.8}
.m-sys-tab.active{color: #ffffff;background-color: #40677f;}
.m-sys-tab-icon{position: absolute;top: 1px; font-size: 14px;}
.m-sys-tab-text{display: inline-block; margin: 0 0 0 25px; font-size: 12px;}
.m-sys-view{display: none;color: #ffffff;font-size: 32px;}
.m-sys-view.active{display: block;}</code></pre>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>                                    ]]></description></item><item><title>react使用lazy()和Suspense实现根据路由进行代码分割</title><link>http://www.cnblogs.com/xutongbao/archive/2018/12/05/11915730.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 05 Dec 2018 02:46:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/12/05/11915730.html</guid><description><![CDATA[
                                            <p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20181205103320491.gif"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20181205103424536.png"></p>

<p>App.js:</p>

<pre class="has"><code class="language-javascript">import { BrowserRouter as Router, Route, Switch, Link } from 'react-router-dom';
import React, { Suspense, lazy } from 'react';

const Home = lazy(() =&gt; import('./Home'));
const Bar = lazy(() =&gt; import('./Bar'));

const App = () =&gt; (
  &lt;Router&gt;
    &lt;Suspense fallback={&lt;div&gt;loading&lt;/div&gt;}&gt;
      &lt;div&gt;
        &lt;ul&gt;
          &lt;li&gt;&lt;Link to="/"&gt;Home&gt;&lt;/Link&gt;&lt;/li&gt;
          &lt;li&gt;&lt;Link to="/bar"&gt;Bar&gt;&lt;/Link&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/div&gt;
      &lt;Switch&gt;
        &lt;Route exact path="/" component={Home} /&gt;
        &lt;Route path="/bar" component={Bar} /&gt;
      &lt;/Switch&gt;
    &lt;/Suspense&gt;
  &lt;/Router&gt;
)

export default App;
</code></pre>

<p>Home.js:</p>

<pre class="has"><code class="language-javascript">import React, { Component } from 'react';

class Home extends Component {
  render() {
    return (
      &lt;div&gt;
       	Home
      &lt;/div&gt;
    );
  }
}

export default Home;
</code></pre>

<p>Bar.js:</p>

<pre class="has"><code class="language-javascript">import React, { Component } from 'react';

class Bar extends Component {
  render() {
    return (
      &lt;div&gt;
        Bar
      &lt;/div&gt;
    );
  }
}

export default Bar;</code></pre>

<p>本实例github：<a href="https://github.com/xutongbao/react-lazy" rel="nofollow">https://github.com/xutongbao/react-lazy</a></p>

<p>参考链接：<a href="https://dev.to/saigowthamr/how-to-use-react-suspense-and-reactlazy--klg" rel="nofollow">https://dev.to/saigowthamr/how-to-use-react-suspense-and-reactlazy--klg</a></p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>                                    ]]></description></item><item><title>react-loadable 使用高阶组件动态import组件，实现代码分割（code-splitting）</title><link>http://www.cnblogs.com/xutongbao/archive/2018/12/05/11915731.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 05 Dec 2018 02:04:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/12/05/11915731.html</guid><description><![CDATA[
                                            <p>&nbsp;</p>

<p>使用后：</p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20181205095317805.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>&nbsp;</p>

<pre class="has"><code class="language-javascript">import React, { Component } from 'react';
import Loadable from 'react-loadable';
 
const LoadableBar = Loadable({
  loader: () =&gt; import('./Bar'),
  loading() {
    return &lt;div&gt;Loading...&lt;/div&gt;
  }
});

class App extends Component {
  render() {
    return (
      &lt;div&gt;
        &lt;LoadableBar/&gt;
      &lt;/div&gt;
    );
  }
}

export default App;
</code></pre>

<pre class="has"><code class="language-javascript">import React, { Component } from 'react';

class Bar extends Component {
  render() {
    return (
      &lt;div&gt;
        bar
      &lt;/div&gt;
    );
  }
}

export default Bar;
</code></pre>

<p>使用前：<img alt="" class="has" src="https://img-blog.csdnimg.cn/20181205095921941.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>&nbsp;</p>

<pre class="has"><code class="language-javascript">import React, { Component } from 'react';
import Bar from './Bar';

class App extends Component {
  render() {
    return (
      &lt;div&gt;
        &lt;Bar/&gt;
      &lt;/div&gt;
    );
  }
}

export default App;
</code></pre>

<p>官方github：<a href="https://github.com/jamiebuilds/react-loadable" rel="nofollow">https://github.com/jamiebuilds/react-loadable</a></p>

<p>官方npm：<a href="https://www.npmjs.com/package/react-loadable" rel="nofollow">https://www.npmjs.com/package/react-loadable</a></p>

<p>&nbsp;</p>                                    ]]></description></item><item><title>react angular vue流行度对比</title><link>http://www.cnblogs.com/xutongbao/archive/2018/12/04/11915732.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 04 Dec 2018 10:55:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/12/04/11915732.html</guid><description><![CDATA[
                                            <p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20181204185348423.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>&nbsp;</p>

<p><a href="https://npmcharts.com/compare/@angular/core,vue,react" rel="nofollow">https://npmcharts.com/compare/@angular/core,vue,react</a>&nbsp;</p>                                    ]]></description></item><item><title>react 服务端渲染(ssr) 框架 Next.js</title><link>http://www.cnblogs.com/xutongbao/archive/2018/12/04/11915733.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 04 Dec 2018 09:37:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/12/04/11915733.html</guid><description><![CDATA[
                                            <p>官方网站：<a href="https://nextjs.org/" rel="nofollow">https://nextjs.org/</a></p>

<p>deom:<a href="https://github.com/xutongbao/hello-next-fetching-data" rel="nofollow">https://github.com/xutongbao/hello-next-fetching-data</a></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20181204173141150.gif"></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20181204172940716.png"></p>

<p>index.js:</p>

<pre class="has"><code class="language-javascript">import Layout from '../components/MyLayout.js'
import Link from 'next/link'
import fetch from 'isomorphic-unfetch'

const Index = (props) =&gt; (
  &lt;Layout&gt;
    &lt;h1&gt;Batman TV Shows&lt;/h1&gt;
    &lt;ul&gt;
      {props.shows.map(({show}) =&gt; (
        &lt;li key={show.id}&gt;
          &lt;Link as={`/p/${show.id}`} href={`/post?id=${show.id}`}&gt;
            &lt;a&gt;{show.name}&lt;/a&gt;
          &lt;/Link&gt;
        &lt;/li&gt;
      ))}
    &lt;/ul&gt;
  &lt;/Layout&gt;
)

Index.getInitialProps = async function() {
  const res = await fetch('https://api.tvmaze.com/search/shows?q=batman')
  const data = await res.json()

  console.log(`Show data fetched. Count: ${data.length}`)

  return {
    shows: data
  }
}

export default Index</code></pre>

<p>about.js:</p>

<pre class="has"><code class="language-javascript">import Layout from '../components/MyLayout.js'

export default () =&gt; (
    &lt;Layout&gt;
       &lt;p&gt;This is the about page&lt;/p&gt;
    &lt;/Layout&gt;
)</code></pre>

<p>post.js:</p>

<pre class="has"><code class="language-javascript">import Layout from '../components/MyLayout.js'
import fetch from 'isomorphic-unfetch'

const Post =  (props) =&gt; (
    &lt;Layout&gt;
       &lt;h1&gt;{props.show.name}&lt;/h1&gt;
       &lt;p&gt;{props.show.summary.replace(/&lt;[/]?p&gt;/g, '')}&lt;/p&gt;
       &lt;img src={props.show.image.medium}/&gt;
    &lt;/Layout&gt;
)

Post.getInitialProps = async function (context) {
  const { id } = context.query
  const res = await fetch(`https://api.tvmaze.com/shows/${id}`)
  const show = await res.json()

  console.log(`Fetched show: ${show.name}`)

  return { show }
}

export default Post</code></pre>

<p>Header.js:</p>

<pre class="has"><code class="language-javascript">import Link from 'next/link'
const linkStyle = {
  marginRight: 15
}

const Header = () =&gt; (
  &lt;div&gt;
    &lt;Link href="/"&gt;
      &lt;a style={linkStyle}&gt;Home&lt;/a&gt;
    &lt;/Link&gt;
    &lt;Link href="/about"&gt;
      &lt;a style={linkStyle}&gt;About&lt;/a&gt;
    &lt;/Link&gt;
  &lt;/div&gt;
)

export default Header</code></pre>

<p>MyLayout.js:</p>

<pre class="has"><code class="language-javascript">import Header from './Header'

const layoutStyle = {
  margin: 20,
  padding: 20,
  border: '1px solid #DDD'
}

const Layout = (props) =&gt; (
  &lt;div style={layoutStyle}&gt;
    &lt;Header /&gt;
    {props.children}
  &lt;/div&gt;
)

export default Layout</code></pre>

<p>server.js:</p>

<pre class="has"><code class="language-javascript">const express = require('express')
const next = require('next')

const dev = process.env.NODE_ENV !== 'production'
const app = next({ dev })
const handle = app.getRequestHandler()

app.prepare()
.then(() =&gt; {
  const server = express()

  server.get('/p/:id', (req, res) =&gt; {
    const actualPage = '/post'
    const queryParams = { id: req.params.id } 
    app.render(req, res, actualPage, queryParams)
  })

  server.get('*', (req, res) =&gt; {
    return handle(req, res)
  })

  server.listen(3000, (err) =&gt; {
    if (err) throw err
    console.log('&gt; Ready on http://localhost:3000')
  })
})
.catch((ex) =&gt; {
  console.error(ex.stack)
  process.exit(1)
})</code></pre>

<p>package.json:</p>

<pre class="has"><code class="language-javascript">{
  "name": "hello-next",
  "version": "1.0.0",
  "description": "",
  "main": "index.js",
  "scripts": {
    "test": "echo \"Error: no test specified\" &amp;&amp; exit 1",
    "dev": "node server.js",
    "build": "next build",
    "start": "NODE_ENV=production node server.js"
  },
  "keywords": [],
  "author": "",
  "license": "ISC",
  "dependencies": {
    "express": "^4.16.4",
    "isomorphic-unfetch": "^3.0.0",
    "next": "^7.0.2",
    "react": "^16.6.3",
    "react-dom": "^16.6.3"
  }
}
</code></pre>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>                                    ]]></description></item><item><title>超级字符串内class正则匹配替换 可以用于css modules</title><link>http://www.cnblogs.com/xutongbao/archive/2018/11/29/11915734.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 29 Nov 2018 06:14:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/11/29/11915734.html</guid><description><![CDATA[
                                            <p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20181129141307857.png"></p>

<p>&nbsp;</p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;            
&lt;html lang="en"&gt;            
&lt;head&gt;            
&lt;meta charset="UTF-8"&gt;     
&lt;meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" /&gt;       
&lt;title&gt;超级字符串内class正则匹配替换&lt;/title&gt;          
&lt;style type="text/css"&gt;            
&lt;/style&gt;           
&lt;/head&gt;            
&lt;body&gt;          
  &lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;    
  &lt;script type="text/javascript"&gt; 
  let text = 'hello world!';     
  let tpl =
    `&lt;div id="m-toast" class="m-toast     m-toast-new"}&gt;
      &lt;div class="m-toast-inner"}&gt;
        &lt;div class="m-toast-text"}&gt;
          ${text}
        &lt;/div&gt;
      &lt;/div&gt;    
    &lt;/div&gt;
    &lt;div&gt;&lt;/div&gt;`; 
  let styles = {
    "m-toast": 1,
    "m-toast-new": '1-1',
    "m-toast-inner": 2,
    "m-toast-text":3
  }
  function buildTpl(tpl) {
    let reg = /class=\".*?\"/g;
    result = tpl.match(reg);
    for (let i = 0; i &lt; result.length; i++) {
      let tempReg = /\".*?\"/g;
      let tempResult = result[i].match(tempReg)[0];
      tempResult = tempResult.slice(1, tempResult.length - 1);
      tempResult = tempResult.split(/\s+/);
      let myStyle = '';
      for (let j = 0; j &lt; tempResult.length; j++) {
        if (typeof styles[tempResult[j]] !== 'undefined') {
          myStyle += styles[tempResult[j]] + ' ';
        }
      }
      let r = result[i].replace(tempReg, '"' + myStyle + '"');
      tpl = tpl.replace(result[i], r);
    }  
    return tpl;  
  }
  tpl = buildTpl(tpl);

  console.log(tpl);
  &lt;/script&gt;      
&lt;/body&gt;            
&lt;/html&gt;  </code></pre>

<p>&nbsp;</p>                                    ]]></description></item><item><title>React的setState()</title><link>http://www.cnblogs.com/xutongbao/archive/2018/11/22/10003199.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 22 Nov 2018 04:04:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/11/22/10003199.html</guid><description><![CDATA[
                <p>&nbsp;注释掉&nbsp;&nbsp; this.setState({val: this.state.val + 6}) 时：</p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20181122115731166.png"></p>

<p>不注释掉&nbsp;&nbsp; this.setState({val: this.state.val + 6}) 时：</p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20181122115756154.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70">&nbsp;</p>

<pre class="has"><code class="language-javascript">import React, { Component } from 'react';
import './App.css';

class App extends Component {
  constructor(porps) {
    super(porps);
    this.state = {
      val: 0
    };
  }
  componentDidMount() {
    this.setState(this._increment);
    this.setState(this._increment);
    //this.setState({val: this.state.val + 6});
    this.setState(this._increment);
    console.log('componentDidMount:')
    console.log(this.state);    
  }
  _increment(state, props){
    console.log('_increment:')
    console.log(state);
    return {val: state.val + 1};
  }  
  render() { 
    console.log('render:')
    console.log(this.state);    
    return (
      &lt;div className="App"&gt;
        &lt;div&gt;{this.state.val}&lt;/div&gt;
      &lt;/div&gt;
    );
  }
}

export default App;
</code></pre>

<p>&nbsp;this.setState()是异步的，render()会等这几个setState的异步函数都执行完（包括需要异步执行的代码）才会执行</p>            ]]></description></item><item><title>React的setState()</title><link>http://www.cnblogs.com/xutongbao/archive/2018/11/22/10003200.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 22 Nov 2018 03:36:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/11/22/10003200.html</guid><description><![CDATA[
                <p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20181122113305717.png"></p>

<p>setState 通过引发一次组件的更新过程来引发重新绘制</p>

<p>setState 方法被调用时，会引起 React 的 4 个生命周期的函数被调用：</p>

<p>&nbsp;&nbsp;&nbsp; shouldComponentUpdate （this.state 没有得到更新）<br>
&nbsp;&nbsp;&nbsp; componentWillUpdate （this.state 没有得到更新）<br>
&nbsp;&nbsp;&nbsp; reader （this.state 得到更新）<br>
&nbsp;&nbsp;&nbsp; componentDidUpdate<br>
&nbsp;</p>

<pre class="has"><code class="language-javascript">import React, { Component } from 'react';
import './App.css';

class App extends Component {
  constructor(porps) {
    super(porps);
    this.state = {
      firstName: 'xu',
      lastName: 'tongbao'
    };
  }
  shouldComponentUpdate() {
    console.log('shouldUpdate:');
    console.log(this.state);
    return true;
  }
  componentWillUpdate() {
    console.log('willUpate:');
    console.log(this.state);
  }
  componentDidMount() {
    this.setState({firstName: 'li'});
    this.setState({lastName: 'lei'});
  }
  render() {
    console.log('render:');
    console.log(this.state);    
    return (
      &lt;div className="App"&gt;
        &lt;div&gt;{this.state.firstName + ' ' + this.state.lastName}&lt;/div&gt;
      &lt;/div&gt;
    );
  }
}

export default App;
</code></pre>

<p>&nbsp;</p>            ]]></description></item><item><title>React中setState</title><link>http://www.cnblogs.com/xutongbao/archive/2018/11/21/10003201.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 21 Nov 2018 11:01:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/11/21/10003201.html</guid><description><![CDATA[
                <p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20181121185727720.gif"></p>

<p>&nbsp;</p>

<p>mountComponent 本质上是通过 递归渲染 内容的，由于递归的特性，父组件的 componentWillMount 一定在其子组件的 componentWillMount 之前调用，而父组件的 componentDidMount 肯定在其子组件的 componentDidMount 之后调用。</p>

<p>若使用 this.state.xxx 赋值更新状态，的确能够改变状态，但是无意义，也不会触发重新渲染。<br>
因为，this.state 只是一个对象，单纯去修改一个对象的值无意义，去驱动 UI 的更新才是有意义的。<br>
而 setState 方法被调用时，能驱动组件的更新过程，引发 shouldComponentUpdate、componentWillUpdate、 reader、 componentDidUpdate 等一系列方法调用，完成 UI 更新。</p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;meta charset="UTF-8" /&gt;
    &lt;title&gt;React中setState&lt;/title&gt;
    &lt;script src="https://unpkg.com/react@16/umd/react.development.js"&gt;&lt;/script&gt;
    &lt;script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"&gt;&lt;/script&gt;
    &lt;script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"&gt;&lt;/script&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;div id="root"&gt;&lt;/div&gt;
    &lt;script type="text/babel"&gt;
      class App extends React.Component {
        constructor(props) {
            super(props);
            this.state = {
                count: 0
                
            };
        }
        componentWillMount() {
            let me = this;
            me.setState({
                count: me.state.count + 2
            });
            me.setState({
                count: me.state.count + 1
            });
        }
        componentDidMount() {
            let me = this;
            me.setState({
                count: me.state.count + 2
            });
            me.setState({
                count: me.state.count + 1
            });
        }

        onClick() {
            let me = this;
            me.setState({
                count: me.state.count + 1
            });
            me.setState({
                count: me.state.count + 1
            });

            setTimeout(() =&gt; {
                me.setState({
                    count: me.state.count + 1
                });
                me.setState({
                    count: me.state.count + 1
                });
            }, 1000);            
        }

        render() {
            console.log(this.state.count);
            return (
                &lt;div&gt;
                    &lt;h1&gt;{this.state.count}&lt;/h1&gt;
                    &lt;input type="button" value="点击我" onClick={this.onClick.bind(this)} /&gt;&lt;br /&gt;
                    &lt;br /&gt;
                &lt;/div&gt;
            )
        }
      }
 
      ReactDOM.render(
        &lt;App /&gt;,
        document.getElementById('root')
      );
    &lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre>

<ol><li><code>willmount</code>中的<code>setState</code>会合并成一次执行，<code>count</code>只会保留最后一次的设置，前面的放弃，所以<code>willmount</code>之后是<code>1</code>，并不是<code>3</code>；并且在<code>render</code>之前执行，不会引起新的<code>render</code></li>
	<li>render之后执行didMount，setState做同样的处理，这是<code>count</code>是<code>2</code>，并且引起新的render</li>
	<li>点击按钮，<code>setState</code>做同样处理，<code>count</code>是<code>3</code>，引起新的<code>render</code></li>
</ol><p><code>备注：</code></p>

<p>定时器中的<code>setState</code>没走<code>react</code>的事物机制，执行时批量更新没被设置<code>true</code>，所以每次都直接render了。</p>

<p>在按钮原生事件中定义的<code>setState</code>,和定时器效果一样，<strong>每次<code>setState</code>都会引起新的<code>render</code></strong></p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>因为setState并不会立刻修改this.state的值，所以下面的code可能产生很不直观的结果。</p>

<pre class="has"><code class="language-javascript">function incrementMultiple() {
  this.setState({count: this.state.count + 1});
  this.setState({count: this.state.count + 1});
  this.setState({count: this.state.count + 1});
}</code></pre>

<p>直观上来看，当上面的incrementMultiple函数被调用时，组件状态的count值被增加了3次，每次增加1，那最后count被增加了3，但是，实际上的结果只给state增加了1。</p>

<p>原因并不复杂，就是因为调用this.setState时，并没有立即更改this.state，所以this.setState只是在反复设置同一个值而已，上面的code等同下面这样。</p>

<pre class="has"><code class="language-javascript">function incrementMultiple() {
  const currentCount = this.state.count;
  this.setState({count: currentCount + 1});
  this.setState({count: currentCount + 1});
  this.setState({count: currentCount + 1});
}</code></pre>

<p>currentCount就是一个快照结果，重复地给count设置同一个值，不要说重复3次，哪怕重复一万次，得到的结果也只是增加1而已。</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>            ]]></description></item><item><title>从头实现一个简易版的React虚拟dom和diff算法</title><link>http://www.cnblogs.com/xutongbao/archive/2018/11/21/10003202.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 21 Nov 2018 08:45:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/11/21/10003202.html</guid><description><![CDATA[
                <p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20181121164402968.gif"></p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;

&lt;head&gt;
    &lt;meta charset="UTF-8" /&gt;
    &lt;title&gt;从头实现一个简易版的React虚拟dom和diff算法&lt;/title&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"&gt;&lt;/script&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;div id="root"&gt;&lt;/div&gt;
    &lt;script&gt;
    //虚拟dom
    function Element(tagName, props, children) {
        this.tagName = tagName
        this.props = props || {};
        this.children = children;
    }

    Element.prototype.render = function() {
        var el = document.createElement(this.tagName)
        var props = this.props

        for (var propName in props) {
            var propValue = props[propName]
            el.setAttribute(propName, propValue)
        }

        var childEl = document.createTextNode(this.children);
        el.appendChild(childEl)

        return el
    }

    //diff算法
    function diff(oldTree, newTree) {
        var patches = {}
        var propsPatches = {}
        var oldProps = oldTree.props
        var newProps = newTree.props
        for (key in oldProps) {
            value = oldProps[key]
            if (newProps[key] !== value) {
                propsPatches[key] = newProps[key]
            }
        }
        patches.props = propsPatches;
        return patches
    }

    //更新到页面上
    function patch(node, patches) {
        for (let prop in patches.props) {
            node.setAttribute(prop, patches.props[prop]);
        }
    }

    let tree = new Element('div', { 'data-msg': 'xu' }, 'xu');
    let html = tree.render();
    $('#root').html(html);

    let index = 0;
    setInterval(function() {
        index = index + 1;
        var newTree = new Element('div', { 'data-msg': 'xu' + index }, 'xu');
        var patches = diff(tree, newTree)
        console.log(patches)
        patch(html, patches)
        tree = newTree
    }, 1000)
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p>&nbsp;</p>            ]]></description></item><item><title>如何理解虚拟DOM</title><link>http://www.cnblogs.com/xutongbao/archive/2018/11/20/10003203.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 20 Nov 2018 11:05:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/11/20/10003203.html</guid><description><![CDATA[
                <p>React在Virtual DOM上实现了DOM diff算法，当数据更新时，会通过diff算法计算出相应的更新策略，尽量只对变化的部分进行实际的浏览器的DOM更新，而不是直接重新渲染整个DOM树，从而达到提高性能的目的。</p>

<p>你给我一个数据，我根据这个数据生成一个全新的Virtual DOM，然后跟我上一次生成的Virtual DOM去 diff，得到一个Patch，然后把这个Patch打到浏览器的DOM上去。</p>

<p>你不要一步一步告诉我这件事情怎么做，什么先和面再剁馅，NO，告诉我你想要煎饼还是月饼，我会想办法去做的，不要来干扰我。</p>

<p>哪怕是我生成了virtual dom，哪怕是我跑了diff，但是我根据patch简化了那些DOM操作省下来的时间依然很可观。所以总体上来说，还是比较快。</p>

<p>用 JavaScript 对象结构表示 DOM 树的结构；然后用这个树构建一个真正的 DOM 树，插到文档当中当状态变更的时候，重新构造一棵新的对象树。然后用新的树和旧的树进行比较，记录两棵树差异把2所记录的差异应用到步骤1所构建的真正的DOM树上，视图就更新了</p>

<p>Virtual DOM 本质上就是在 JS 和 DOM 之间做了一个缓存。可以类比 CPU 和硬盘，既然硬盘这么慢，我们就在它们之间加个缓存：既然 DOM 这么慢，我们就在它们 JS 和 DOM 之间加个缓存。CPU（JS）只操作内存（Virtual DOM），最后的时候再把变更写入硬盘（DOM）。</p>

<p>&nbsp;</p>

<p>1.<a href="http://www.mamicode.com/info-detail-1935603.html" rel="nofollow">http://www.mamicode.com/info-detail-1935603.html</a></p>

<p>2.<a href="https://github.com/livoras/blog/issues/13" rel="nofollow">https://github.com/livoras/blog/issues/13</a></p>

<p>3.<a href="https://github.com/Matt-Esch/virtual-dom" rel="nofollow">https://github.com/Matt-Esch/virtual-dom</a></p>

<p>4.<a href="https://www.zhihu.com/question/29504639/answer/44680878" rel="nofollow">https://www.zhihu.com/question/29504639/answer/44680878</a></p>

<p>5.mvc mvp mvvm：<a href="https://github.com/livoras/blog/issues/11" rel="nofollow">https://github.com/livoras/blog/issues/11</a></p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>            ]]></description></item><item><title>crate-react-app 之 css modules</title><link>http://www.cnblogs.com/xutongbao/archive/2018/11/15/10003204.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 15 Nov 2018 03:57:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/11/15/10003204.html</guid><description><![CDATA[
                <p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20181115115318267.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p><img alt="" class="has" height="304" src="https://img-blog.csdnimg.cn/20181115115433807.png" width="201"></p>

<p>App.js</p>

<pre class="has"><code class="language-javascript">import React, { Component } from 'react';
import CSSModules from 'react-css-modules';
import styles from './App.module.css';

class App extends Component {
  render() {
    return (
      &lt;div styleName="name"&gt;
      xu
      &lt;/div&gt;
    );
  }
}

export default CSSModules(App, styles);
</code></pre>

<p>App.module.css</p>

<pre class="has"><code class="language-css">.name {
  padding: 20px;
  font-size: 24px;
  color: red;
}
</code></pre>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>            ]]></description></item><item><title>react-router-dom</title><link>http://www.cnblogs.com/xutongbao/archive/2018/11/13/10003205.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 13 Nov 2018 11:01:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/11/13/10003205.html</guid><description><![CDATA[
                <p>&nbsp;</p>

<p><img alt="" class="has" height="564" src="https://img-blog.csdnimg.cn/20181113185930889.gif" width="641"></p>

<pre class="has"><code class="language-javascript">import React, { Component } from 'react';
import { BrowserRouter as Router, Route, Link } from "react-router-dom";

const Index = () =&gt; &lt;h2&gt;Home&lt;/h2&gt;;
const About = () =&gt; &lt;h2&gt;About&lt;/h2&gt;;
const Users = () =&gt; &lt;h2&gt;Users&lt;/h2&gt;;

const AppRouter = () =&gt; (
  &lt;Router&gt;
    &lt;div&gt;
      &lt;nav&gt;
        &lt;ul&gt;
          &lt;li&gt;
            &lt;Link to="/"&gt;Home&lt;/Link&gt;
          &lt;/li&gt;
          &lt;li&gt;
            &lt;Link to="/about/"&gt;About&lt;/Link&gt;
          &lt;/li&gt;
          &lt;li&gt;
            &lt;Link to="/users/"&gt;Users&lt;/Link&gt;
          &lt;/li&gt;
        &lt;/ul&gt;
      &lt;/nav&gt;

      &lt;Route path="/" exact component={Index} /&gt;
      &lt;Route path="/about/" component={About} /&gt;
      &lt;Route path="/users/" component={Users} /&gt;
    &lt;/div&gt;
  &lt;/Router&gt;
);

export default AppRouter;
</code></pre>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>            ]]></description></item><item><title>slider插件 滚动条插件 基于g2-plugin-slider.js修改</title><link>http://www.cnblogs.com/xutongbao/archive/2018/11/09/10003206.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Fri, 09 Nov 2018 01:50:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/11/09/10003206.html</guid><description><![CDATA[
                <p><img alt="" class="has" height="345" src="https://img-blog.csdnimg.cn/20181109094730182.gif" width="1200"></p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;

&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;meta name="viewport" content="width=device-width,height=device-height"&gt;
    &lt;title&gt;g2 slider&lt;/title&gt;
    &lt;style&gt;
    ::-webkit-scrollbar {
        display: none;
    }

    html,
    body {
        overflow: hidden;
        height: 100%;
        margin: 0;
    }
    .m-cf-slider-wrapper{display: inline-block; position: absolute;bottom: 10px;left: 390px;right: 360px;height: 56px;}
    .m-cf-slider {display: inline-block;width: 100%;height: 100%;}    
    &lt;/style&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;div class="m-cf-slider-wrapper"&gt;
        &lt;div id="m-cf-slider" class="m-cf-slider"&gt;&lt;/div&gt;
    &lt;/div&gt;
    &lt;script&gt;
    /*Fixing iframe window.innerHeight 0 issue in Safari*/
    document.body.clientHeight;
    &lt;/script&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"&gt;&lt;/script&gt;
    &lt;script src="https://gw.alipayobjects.com/os/antv/pkg/_antv.g2-3.3.2/dist/g2.min.js"&gt;&lt;/script&gt;
    &lt;script src="https://gw.alipayobjects.com/os/antv/assets/lib/jquery-3.2.1.min.js"&gt;&lt;/script&gt;
    &lt;script src="https://gw.alipayobjects.com/os/antv/pkg/_antv.data-set-0.9.6/dist/data-set.min.js"&gt;&lt;/script&gt;
    &lt;script src="js/g2-plugin-slider.js"&gt;&lt;/script&gt;
    &lt;script&gt;
        $(function () {
            let myAction = {}, slider, initStart, initEnd = '';
            $.extend(myAction, {
                formatDateTime: function(inputTime) {
                    var date = new Date(inputTime);
                    var y = date.getFullYear();
                    var m = date.getMonth() + 1;
                    m = m &lt; 10 ? ('0' + m) : m;
                    var d = date.getDate();
                    d = d &lt; 10 ? ('0' + d) : d;
                    var h = date.getHours();
                    h = h &lt; 10 ? ('0' + h) : h;
                    var minute = date.getMinutes();
                    var second = date.getSeconds();
                    minute = minute &lt; 10 ? ('0' + minute) : minute;
                    second = second &lt; 10 ? ('0' + second) : second;
                    return y + '/' + m + '/' + d + ' ' + h + ':' + minute + ':' + second + ':' + date.getMilliseconds();
                },    
                randomFn: function () {
                    var num = Math.random() * 30 + 20;
                    num = parseInt(num, 10);   
                    return num;
                },                            
                simulateData: function(division) {
                    var start = 1540858202123;
                    var end = 1540958202666;
                    var space = (end - start) / division;
                    var result = [];

                    var temp = {};
                    var startDate = myAction.formatDateTime(start);
                    temp.time = startDate;            
                    temp.value = myAction.randomFn();  
                    result.push(temp);

                    var tempTime = start + space;
                    while (tempTime &lt; end) {
                        tempTime = tempTime + space;
                        var temp = {};
                        temp.time = myAction.formatDateTime(tempTime);            
                        temp.value = myAction.randomFn();  
                        result.push(temp);      
                                 
                    }
                    var temp = {};
                    var endDate = myAction.formatDateTime(end);
                    temp.time = endDate;              
                    temp.value = myAction.randomFn(); 
                    result.push(temp);
                    return result;
                },
                simulateSlider: function () {
                    var sliderData = myAction.simulateData(100);   //根据日志的起止事件模拟流量数据
                    var startIndex = Math.round(sliderData.length * 0.6);  //默认滑动条已经拖动了百分之多少
                    if (sliderData &amp;&amp; sliderData[startIndex] &amp;&amp; sliderData.length &gt; 3) {
                        initStart = sliderData[startIndex].time;
                    }                       
                    myAction.initSlider(sliderData);
                },
                initSlider: function (data) { 
                    if (slider) {   
                        slider.destroy();  //清空slider
                    }              
                    //参考链接： https://antv.alipay.com/zh-cn/g2/3.x/tutorial/how-to-use-slider.html
                    slider = new Slider({
                        container: 'm-cf-slider',
                        height: 56,
                        padding: [0, 0, 0, 0],  //[0, 160, 0, 160]
                        data: data,
                        start: initStart, 
                        end: initEnd,            
                        xAxis: 'time',
                        yAxis: 'value',             
                        fillerStyle: {
                            fill: '#5AA8D8',
                            fillOpacity: 0.1
                        },
                        backgroundStyle: {
                            stroke: '#dddddd',  //border
                            fill: '#000000',   //背景色
                            fillOpacity: 0.005,
                            lineWidth: 0
                        },
                        backgroundChart : {
                            type: [ 'interval' ], // 图表的类型，可以是字符串也可是是数组  line  area
                            color: '#825738',
                        },
                        textStyle: {
                            fill: '#ff0000'  //333333
                        },
                        onChange: function (obj) {
                            var temp = obj.startText + obj.endText;
                            console.log(temp);
                        }
                    });
                    slider.render(); 
                }                                
            });

            let init = function () {
                myAction.simulateSlider();
            }();
        });      
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p>g2-plugin-slider.js&nbsp;</p>

<pre class="has"><code class="language-javascript">/* eslint-disable */
//修改的地方注明了 mytest
(function webpackUniversalModuleDefinition(root, factory) {
  if(typeof module=== 'object' &amp;&amp; typeof module.exports  === 'object')
    module.exports = factory();
  else if(typeof define === 'function' &amp;&amp; define.amd)
    define([], factory);
  else if(typeof exports === 'object')
    exports["Slider"] = factory();
  else
    root["Slider"] = factory();
})(typeof self !== 'undefined' ? self : this, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module &amp;&amp; module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

var Slider = __webpack_require__(1);
if (window &amp;&amp; !window.G2) {
  console.err('Please load the G2 script first!');
}

module.exports = Slider;

/***/ }),
/* 1 */
/***/ (function(module, exports, __webpack_require__) {

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/**
 * @fileOverview G2's plugin for datazoom.
 * @author sima.zhang
 */
var G2 = window &amp;&amp; window.G2;
var Chart = G2.Chart,
    Util = G2.Util,
    G = G2.G,
    Global = G2.Global;
var Canvas = G.Canvas,
    DomUtil = G2.DomUtil;

var Range = __webpack_require__(2);

var Slider = function () {
  Slider.prototype._initProps = function _initProps() {
    this.height = 26;
    this.width = 'auto'; // 默认自适应
    this.padding = Global.plotCfg.padding;
    this.container = null;
    this.xAxis = null;
    this.yAxis = null;
    // 选中区域的样式
    this.fillerStyle = {
      fill: '#BDCCED',
      fillOpacity: 0.3
    };
    // 滑动条背景样式
    this.backgroundStyle = {
      stroke: '#CCD6EC',
      fill: '#CCD6EC',
      fillOpacity: 0.3,
      lineWidth: 1
    };
    this.range = [0, 100];
    this.layout = 'horizontal';
    // 文本颜色
    this.textStyle = {
      fill: '#545454'
    };
    // 滑块的样式
    this.handleStyle = {
      img: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAABCCAYAAABuOUe8AAAABGdBTUEAALGPC/xhBQAAAQtJREFUSA1jYEADyzce+w/CaMIMTOgCuPijCnGFDFh8NHjoHDyMIPvWbjsh8+vPvy6G/wwOQK4kSAwInjMwMhxgY2EqC/ayeMIIUvT7z/+L////F4LIo5KMjIzvWFkY9VmgJmFVBNICMuDXn/9dTFDrUI1B5wGdBEoUMDehSyPzJUlPPcZ6KgwgDAPofBaYhKgwP4wJptH5pFuNYhwWzqiJWAIFITQygweeHl+//YgICyALnc+IrZZC0QHlkBSOz7GZgCb2nAlUbKAJYnKBaphAZQuo2MCUhYiA5EBqmEAFEKhsAZq8HCiF7AxQIbUcJAdSg2HQaH2NHCQkxTWyRpzsURNxBg1IgvrBAwC71Eh1LbC3jwAAAABJRU5ErkJggg==',
      //img: 'https://gw.alipayobjects.com/zos/rmsportal/QXtfhORGlDuRvLXFzpsQ.png',
      width: 5
    };
    // 背景图表的配置，如果为 false 则表示不渲染
    this.backgroundChart = {
      type: ['area'], // 图表的类型，可以是字符串也可是是数组
      color: '#CCD6EC'
    };
  };

  function Slider(cfg) {
    _classCallCheck(this, Slider);

    this._initProps();
    Util.deepMix(this, cfg);
    var container = this.container;
    if (!container) {
      throw new Error('Please specify the container for the Slider!');
    }
    if (Util.isString(container)) {
      this.domContainer = document.getElementById(container);
    } else {
      this.domContainer = container;
    }

    this.handleStyle = Util.mix({
      width: this.height,
      height: this.height
    }, this.handleStyle);
    if (this.width === 'auto') {
      // 宽度自适应
      window.addEventListener('resize', Util.wrapBehavior(this, '_initForceFitEvent'));
    }
  }

  Slider.prototype._initForceFitEvent = function _initForceFitEvent() {
    var timer = setTimeout(Util.wrapBehavior(this, 'forceFit'), 200);
    clearTimeout(this.resizeTimer);
    this.resizeTimer = timer;
  };

  Slider.prototype.forceFit = function forceFit() {
    if (!this || this.destroyed) {
      return;
    }
    var width = DomUtil.getWidth(this.domContainer);
    var height = this.height;
    if (width !== this.domWidth) {
      var canvas = this.canvas;
      canvas.changeSize(width, height); // 改变画布尺寸
      this.bgChart &amp;&amp; this.bgChart.changeWidth(width);
      canvas.clear();
      this._initWidth();
      this._initSlider(); // 初始化滑动条
      this._bindEvent();
      canvas.draw();
    }
  };

  Slider.prototype._initWidth = function _initWidth() {
    var width = void 0;
    if (this.width === 'auto') {
      width = DomUtil.getWidth(this.domContainer);
    } else {
      width = this.width;
    }
    this.domWidth = width;
    var padding = Util.toAllPadding(this.padding);

    if (this.layout === 'horizontal') {
      this.plotWidth = width - padding[1] - padding[3];
      this.plotPadding = padding[3];
      this.plotHeight = this.height;
    } else if (this.layout === 'vertical') {
      this.plotWidth = this.width;
      this.plotHeight = this.height - padding[0] - padding[2];
      this.plotPadding = padding[0];
    }
  };

  Slider.prototype.render = function render() {
    this._initWidth();
    this._initCanvas(); // 初始化 canvas
    this._initBackground(); // 初始化背景图表
    this._initSlider(); // 初始化滑动条
    this._bindEvent();
    this.canvas.draw();
  };

  Slider.prototype.changeData = function changeData(data) {
    this.data = data;
    this.repaint();
  };

  Slider.prototype.destroy = function destroy() {
    clearTimeout(this.resizeTimer);
    var rangeElement = this.rangeElement;
    rangeElement.off('sliderchange');
    this.bgChart &amp;&amp; this.bgChart.destroy();
    this.canvas.destroy();
    var container = this.domContainer;
    while (container.hasChildNodes()) {
      container.removeChild(container.firstChild);
    }
    window.removeEventListener('resize', Util.getWrapBehavior(this, '_initForceFitEvent'));
    this.destroyed = true;
  };

  Slider.prototype.clear = function clear() {
    this.canvas.clear();
    this.bgChart &amp;&amp; this.bgChart.destroy();
    this.bgChart = null;
    this.scale = null;
    this.canvas.draw();
  };

  Slider.prototype.repaint = function repaint() {
    this.clear();
    this.render();
  };

  Slider.prototype._initCanvas = function _initCanvas() {
    var width = this.domWidth;
    var height = this.height;
    var canvas = new Canvas({
      width: width,
      height: height,
      containerDOM: this.domContainer,
      capture: false
    });
    var node = canvas.get('el');
    node.style.position = 'absolute';
    node.style.top = 0;
    node.style.left = 0;
    node.style.zIndex = 3;
    this.canvas = canvas;
  };

  Slider.prototype._initBackground = function _initBackground() {
    var _Util$deepMix;

    var data = this.data;
    var xAxis = this.xAxis;
    var yAxis = this.yAxis;
    var scales = Util.deepMix((_Util$deepMix = {}, _Util$deepMix['' + xAxis] = {
      range: [0, 1]
    }, _Util$deepMix), this.scales); // 用户列定义
    if (!data) {
      // 没有数据，则不创建
      throw new Error('Please specify the data!');
    }
    if (!xAxis) {
      throw new Error('Please specify the xAxis!');
    }
    if (!yAxis) {
      throw new Error('Please specify the yAxis!');
    }

    var backgroundChart = this.backgroundChart;
    var type = backgroundChart.type;
    var color = backgroundChart.color;
    var lineColor = backgroundChart.lineColor;
    var opacity = backgroundChart.opacity || 1;
    var lineOpacity = backgroundChart.lineOpacity || 1;
    if (!Util.isArray(type)) {
      type = [type];
    }

    var padding = Util.toAllPadding(this.padding);
    var bgChart = new Chart({
      container: this.container,
      width: this.domWidth,
      height: this.height,
      padding: [0, padding[1], 0, padding[3]],
      animate: false
    });
    bgChart.source(data);
    bgChart.scale(scales);
    bgChart.axis(false);
    bgChart.tooltip(false);
    bgChart.legend(false);
    Util.each(type, function (eachType) {
      if (eachType === 'line') {
        bgChart[eachType]().position(xAxis + '*' + yAxis).color(lineColor).opacity(lineOpacity);
      } else {
        bgChart[eachType]().position(xAxis + '*' + yAxis).color(color).opacity(opacity);
      }
      
    });
    bgChart.render();
    this.bgChart = bgChart;
    this.scale = this.layout === 'horizontal' ? bgChart.getXScale() : bgChart.getYScales()[0];
    if (this.layout === 'vertical') {
      bgChart.destroy();
    }
  };

  Slider.prototype._initRange = function _initRange() {
    var start = this.start;
    var end = this.end;
    var scale = this.scale;
    var min = 0;
    var max = 1;
    if (start) {
      min = scale.scale(scale.translate(start));
    }
    if (end) {
      max = scale.scale(scale.translate(end));
    }

    var minSpan = this.minSpan,
        maxSpan = this.maxSpan;

    var totalSpan = 0;
    if (scale.type === 'time' || scale.type === 'timeCat') {
      // 时间类型已排序
      var values = scale.values;
      var firstValue = values[0];
      var lastValue = values[values.length - 1];
      totalSpan = lastValue - firstValue;
    } else if (scale.isLinear) {
      totalSpan = scale.max - scale.min;
    }

    if (totalSpan &amp;&amp; minSpan) {
      this.minRange = minSpan / totalSpan * 100;
    }

    if (totalSpan &amp;&amp; maxSpan) {
      this.maxRange = maxSpan / totalSpan * 100;
    }

    var range = [min * 100, max * 100];
    this.range = range;
    return range;
  };

  Slider.prototype._getHandleValue = function _getHandleValue(type) {
    var value = void 0;
    var range = this.range;
    var min = range[0] / 100;
    var max = range[1] / 100;
    var scale = this.scale;
    if (type === 'min') {
      value = this.start ? this.start : scale.invert(min);
    } else {
      value = this.end ? this.end : scale.invert(max);
    }
    return value;
  };

  Slider.prototype._initSlider = function _initSlider() {
    var canvas = this.canvas;
    var range = this._initRange();
    var scale = this.scale;
    var rangeElement = canvas.addGroup(Range, {
      middleAttr: this.fillerStyle,
      range: range,
      minRange: this.minRange,
      maxRange: this.maxRange,
      layout: this.layout,
      width: this.plotWidth,
      height: this.plotHeight,
      backgroundStyle: this.backgroundStyle,
      textStyle: this.textStyle,
      handleStyle: this.handleStyle,
      minText: scale.getText(this._getHandleValue('min')),
      maxText: scale.getText(this._getHandleValue('max'))
    });
    if (this.layout === 'horizontal') {
      rangeElement.translate(this.plotPadding, 0);
    } else if (this.layout === 'vertical') {
      rangeElement.translate(0, this.plotPadding);
    }
    this.rangeElement = rangeElement;
  };

  Slider.prototype._bindEvent = function _bindEvent() {
    var self = this;
    var rangeElement = self.rangeElement;
    rangeElement.on('sliderchange', function (ev) {
      var range = ev.range;
      var minRatio = range[0] / 100;
      var maxRatio = range[1] / 100;
      self._updateElement(minRatio, maxRatio, ev.type);  //mytest
    });
  };

  Slider.prototype._updateElement = function _updateElement(minRatio, maxRatio, type) {
    var scale = this.scale;
    var rangeElement = this.rangeElement;
    var minTextElement = rangeElement.get('minTextElement');
    var maxTextElement = rangeElement.get('maxTextElement');
    var min = scale.invert(minRatio);
    var max = scale.invert(maxRatio);
    var minText = scale.getText(min);
    var maxText = scale.getText(max);
    minTextElement.attr('text', minText);  //minText mytest
    maxTextElement.attr('text', maxText);

    if (this.domWidth * minRatio &gt; 200) {
      minTextElement.attr('textAlign', 'end');
      minTextElement.attr('x', -7.5);      
    } else {
      minTextElement.attr('textAlign', 'start');
      minTextElement.attr('x', 7.5);          
    }
    if (this.domWidth * (1 - maxRatio) &gt; 200) {
      maxTextElement.attr('textAlign', 'start');
      maxTextElement.attr('x', 7.5);      
    } else {
      maxTextElement.attr('textAlign', 'end');
      maxTextElement.attr('x', -7.5);           
    }
    if (this.domWidth * (maxRatio - minRatio) &lt; 200) {
      if (minTextElement.attr('textAlign') === maxTextElement.attr('textAlign')) {
        minTextElement.attr('y', this.height / 2 - 10); 
        maxTextElement.attr('y', this.height / 2 + 10); 
      } else {
        minTextElement.attr('y', this.height / 2); 
        maxTextElement.attr('y', this.height / 2);         
      }
    } else {
      minTextElement.attr('y', this.height / 2); 
      maxTextElement.attr('y', this.height / 2); 
    }


    this.start = minText;
    this.end = maxText;

    if (this.onChange &amp;&amp; type === 'mouseup') {  //mytest
      this.onChange({
        startText: minText,
        endText: maxText,
        startValue: min,
        endValue: max
      });
    }
  };

  return Slider;
}();

module.exports = Slider;

/***/ }),
/* 2 */
/***/ (function(module, exports) {

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call &amp;&amp; (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" &amp;&amp; superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass &amp;&amp; superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * @fileOverview The class of slider
 * @author sima.zhang
 */
var G2 = window &amp;&amp; window.G2;
var Util = G2.Util,
    G = G2.G;
var Group = G.Group,
    DomUtil = G.DomUtil;

var OFFSET = 5;

var Range = function (_Group) {
  _inherits(Range, _Group);

  function Range() {
    _classCallCheck(this, Range);

    return _possibleConstructorReturn(this, _Group.apply(this, arguments));
  }

  Range.prototype.getDefaultCfg = function getDefaultCfg() {
    return {
      /**
       * 范围
       * @type {Array}
       */
      range: null,
      /**
       * 中滑块属性
       * @type {ATTRS}
       */
      middleAttr: null,
      /**
       * 背景
       * @type {G-Element}
       */
      backgroundElement: null,
      /**
       * 下滑块
       * @type {G-Element}
       */
      minHandleElement: null,
      /**
       * 上滑块
       * @type {G-Element}
       */
      maxHandleElement: null,
      /**
       * 中块
       * @type {G-Element}
       */
      middleHandleElement: null,
      /**
       * 当前的激活的元素
       * @type {G-Element}
       */
      currentTarget: null,
      /**
       * 布局方式： horizontal，vertical
       * @type {String}
       */
      layout: 'vertical',
      /**
       * 宽
       * @type {Number}
       */
      width: null,
      /**
       * 高
       * @type {Number}
       */
      height: null,
      /**
       * 当前的PageX
       * @type {Number}
       */
      pageX: null,
      /**
       * 当前的PageY
       * @type {Number}
       */
      pageY: null
    };
  };

  Range.prototype._initHandle = function _initHandle(type) {
    var handle = this.addGroup();
    var layout = this.get('layout');
    var handleStyle = this.get('handleStyle');
    var img = handleStyle.img;
    var iconWidth = handleStyle.width;
    var iconHeight = handleStyle.height;

    var text = void 0;
    var handleIcon = void 0;
    var triggerCursor = void 0;

    if (layout === 'horizontal') {
      var _iconWidth = handleStyle.width;
      triggerCursor = 'ew-resize';
      handleIcon = handle.addShape('Image', {
        attrs: {
          x: -_iconWidth / 2,
          y: 0,
          width: _iconWidth,
          height: iconHeight,
          img: img,
          cursor: triggerCursor
        }
      });
      text = handle.addShape('Text', {
        attrs: Util.mix({
          //x: type === 'min' ? -(_iconWidth / 2 + OFFSET) : _iconWidth / 2 + OFFSET,
          x: type === 'max' ? -(_iconWidth / 2 + OFFSET) : -(_iconWidth / 2 + OFFSET),  //mytest
          y: iconHeight / 2,
          //textAlign: type === 'min' ? 'end' : 'start',
          textAlign: type === 'max' ? 'end' : 'end',    //mytest
          textBaseline: 'middle',
          text: type === 'min' ? this.get('minText') : this.get('maxText'),
          //cursor: triggerCursor   //mytest
        }, this.get('textStyle'))
      });
    } else {
      triggerCursor = 'ns-resize';
      handleIcon = handle.addShape('Image', {
        attrs: {
          x: 0,
          y: -iconHeight / 2,
          width: iconWidth,
          height: iconHeight,
          img: img,
          cursor: triggerCursor
        }
      });
      text = handle.addShape('Text', {
        attrs: Util.mix({
          x: iconWidth / 2,
          y: type === 'min' ? iconHeight / 2 + OFFSET : -(iconHeight / 2 + OFFSET),
          textAlign: 'center',
          textBaseline: 'middle',
          text: type === 'min' ? this.get('minText') : this.get('maxText'),
          cursor: triggerCursor
        }, this.get('textStyle'))
      });
    }

    this.set(type + 'TextElement', text);
    this.set(type + 'IconElement', handleIcon);
    return handle;
  };

  Range.prototype._initSliderBackground = function _initSliderBackground() {
    var backgroundElement = this.addGroup();
    backgroundElement.initTransform();
    backgroundElement.translate(0, 0);
    backgroundElement.addShape('Rect', {
      attrs: Util.mix({
        x: 0,
        y: 0,
        width: this.get('width'),
        height: this.get('height')
      }, this.get('backgroundStyle'))
    });
    return backgroundElement;
  };

  Range.prototype._beforeRenderUI = function _beforeRenderUI() {
    var backgroundElement = this._initSliderBackground();
    var minHandleElement = this._initHandle('min');
    var maxHandleElement = this._initHandle('max');
    var middleHandleElement = this.addShape('rect', {
      attrs: this.get('middleAttr')
    });

    this.set('middleHandleElement', middleHandleElement);
    this.set('minHandleElement', minHandleElement);
    this.set('maxHandleElement', maxHandleElement);
    this.set('backgroundElement', backgroundElement);
    backgroundElement.set('zIndex', 0);
    middleHandleElement.set('zIndex', 1);
    minHandleElement.set('zIndex', 2);
    maxHandleElement.set('zIndex', 2);
    middleHandleElement.attr('cursor', 'move');
    this.sort();
  };

  Range.prototype._renderUI = function _renderUI() {
    if (this.get('layout') === 'horizontal') {
      this._renderHorizontal();
    } else {
      this._renderVertical();
    }
  };

  Range.prototype._transform = function _transform(layout) {
    var range = this.get('range');
    var minRatio = range[0] / 100;
    var maxRatio = range[1] / 100;
    var width = this.get('width');
    var height = this.get('height');
    var minHandleElement = this.get('minHandleElement');
    var maxHandleElement = this.get('maxHandleElement');
    var middleHandleElement = this.get('middleHandleElement');
    if (minHandleElement.resetMatrix) {
      minHandleElement.resetMatrix();
      maxHandleElement.resetMatrix();
    } else {
      minHandleElement.initTransform();
      maxHandleElement.initTransform();
    }
    if (layout === 'horizontal') {
      middleHandleElement.attr({
        x: width * minRatio,
        y: 0,
        width: (maxRatio - minRatio) * width,
        height: height
      });

      minHandleElement.translate(minRatio * width, 0);  //mytest
      maxHandleElement.translate(maxRatio * width, 0);
    } else {
      middleHandleElement.attr({
        x: 0,
        y: height * (1 - maxRatio),
        width: width,
        height: (maxRatio - minRatio) * height
      });
      minHandleElement.translate(0, (1 - minRatio) * height);
      maxHandleElement.translate(0, (1 - maxRatio) * height);
    }
  };

  Range.prototype._renderHorizontal = function _renderHorizontal() {
    this._transform('horizontal');
  };

  Range.prototype._renderVertical = function _renderVertical() {
    this._transform('vertical');
  };

  Range.prototype._bindUI = function _bindUI() {
    this.on('mousedown', Util.wrapBehavior(this, '_onMouseDown'));
  };

  Range.prototype._isElement = function _isElement(target, name) {
    // 判断是否是该元素
    var element = this.get(name);
    if (target === element) {
      return true;
    }
    if (element.isGroup) {
      var elementChildren = element.get('children');
      return elementChildren.indexOf(target) &gt; -1;
    }
    return false;
  };

  Range.prototype._getRange = function _getRange(diff, range) {
    var rst = diff + range;
    rst = rst &gt; 100 ? 100 : rst;
    rst = rst &lt; 0 ? 0 : rst;
    return rst;
  };

  Range.prototype._limitRange = function _limitRange(diff, limit, range) {
    range[0] = this._getRange(diff, range[0]);
    range[1] = range[0] + limit;
    if (range[1] &gt; 100) {
      range[1] = 100;
      range[0] = range[1] - limit;
    }
  };

  Range.prototype._updateStatus = function _updateStatus(dim, ev, type) {
    var totalLength = dim === 'x' ? this.get('width') : this.get('height');
    dim = Util.upperFirst(dim);
    var range = this.get('range');
    var page = this.get('page' + dim);
    var currentTarget = this.get('currentTarget');
    var rangeStash = this.get('rangeStash');
    var layout = this.get('layout');
    var sign = layout === 'vertical' ? -1 : 1;
    var currentPage = ev['page' + dim];
    var diffPage = currentPage - page;
    var diffRange = diffPage / totalLength * 100 * sign;
    var diffStashRange = void 0;

    var minRange = this.get('minRange');
    var maxRange = this.get('maxRange');

    if (currentTarget.__cfg &amp;&amp; currentTarget.__cfg.type === 'Text') {   //mytest, 禁止拖动文本
      return;
    }

    if (range[1] &lt;= range[0]) {
      if (this._isElement(currentTarget, 'minHandleElement') || this._isElement(currentTarget, 'maxHandleElement')) {
        range[0] = this._getRange(diffRange, range[0]);
        range[1] = this._getRange(diffRange, range[0]);
      }
    } else {
      if (this._isElement(currentTarget, 'minHandleElement')) {
        range[0] = this._getRange(diffRange, range[0]);
        if (minRange) {
          // 设置了最小范围
          if (range[1] - range[0] &lt;= minRange) {
            this._limitRange(diffRange, minRange, range);
          }
        }

        if (maxRange) {
          // 设置了最大范围
          if (range[1] - range[0] &gt;= maxRange) {
            this._limitRange(diffRange, maxRange, range);
          }
        }
      }
      if (this._isElement(currentTarget, 'maxHandleElement')) {
        range[1] = this._getRange(diffRange, range[1]);

        if (minRange) {
          // 设置了最小范围
          if (range[1] - range[0] &lt;= minRange) {
            this._limitRange(diffRange, minRange, range);
          }
        }

        if (maxRange) {
          // 设置了最大范围
          if (range[1] - range[0] &gt;= maxRange) {
            this._limitRange(diffRange, maxRange, range);
          }
        }
      }
    }

    if (this._isElement(currentTarget, 'middleHandleElement')) {
      diffStashRange = rangeStash[1] - rangeStash[0];
      this._limitRange(diffRange, diffStashRange, range);
    }

    //mytest
    this.emit('sliderchange', {
      range: range,
      type : type
    });

    this.set('page' + dim, currentPage);
    this._renderUI();
    this.get('canvas').draw(); // need delete
    return;
  };

  Range.prototype._onMouseDown = function _onMouseDown(ev) {
    var currentTarget = ev.currentTarget;
    var originEvent = ev.event;
    var range = this.get('range');
    originEvent.stopPropagation();
    originEvent.preventDefault();
    this.set('pageX', originEvent.pageX);
    this.set('pageY', originEvent.pageY);
    this.set('currentTarget', currentTarget);
    this.set('rangeStash', [range[0], range[1]]);
    this._bindCanvasEvents();
  };

  Range.prototype._bindCanvasEvents = function _bindCanvasEvents() {
    var DomUtil = G2.DomUtil;
    var containerDOM = this.get('canvas').get('containerDOM');
    this.onMouseMoveListener = DomUtil.addEventListener(containerDOM, 'mousemove', Util.wrapBehavior(this, '_onCanvasMouseMove'));
    this.onMouseUpListener = DomUtil.addEventListener(containerDOM, 'mouseup', Util.wrapBehavior(this, '_onCanvasMouseUp'));
    // @2018-06-06 by blue.lb 添加mouseleave事件监听，让用户在操作出滑块区域后有一个“正常”的效果，可以正常重新触发滑块的操作流程
    this.onMouseLeaveListener = DomUtil.addEventListener(containerDOM, 'mouseleave', Util.wrapBehavior(this, '_onCanvasMouseUp'));
  };

  Range.prototype._onCanvasMouseMove = function _onCanvasMouseMove(ev) {
    var layout = this.get('layout');
    if (layout === 'horizontal') {
      this._updateStatus('x', ev, 'mousemove');  //mytest
    } else {
      this._updateStatus('y', ev);
    }
  };

  Range.prototype._onCanvasMouseUp = function _onCanvasMouseUp(ev) {
    this._removeDocumentEvents();
    //mytest
    var layout = this.get('layout');
    if (layout === 'horizontal') {
      this._updateStatus('x', ev, 'mouseup');  //mytest
    } else {
      this._updateStatus('y', ev);
    }    
  };

  Range.prototype._removeDocumentEvents = function _removeDocumentEvents() {
    this.onMouseMoveListener.remove();
    this.onMouseUpListener.remove();
    this.onMouseLeaveListener.remove();
  };

  return Range;
}(Group);

module.exports = Range;

/***/ })
/******/ ]);
});</code></pre>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>            ]]></description></item><item><title>React 在body上绑定事件以及阻止事件冒泡</title><link>http://www.cnblogs.com/xutongbao/archive/2018/11/07/9924745.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 07 Nov 2018 11:01:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/11/07/9924745.html</guid><description><![CDATA[
                <pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;

&lt;head&gt;
    &lt;meta charset="UTF-8" /&gt;
    &lt;title&gt;React 在body上绑定事件以及阻止事件冒泡&lt;/title&gt;
    &lt;script src="https://unpkg.com/react@16/umd/react.development.js"&gt;&lt;/script&gt;
    &lt;script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"&gt;&lt;/script&gt;
    &lt;script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"&gt;&lt;/script&gt;
    &lt;style&gt;
        html{height: 100%;}
        body{height: 100%;background-color: rgba(0,0,0,0.2);}
        .m-outer{background-color: red;}
    &lt;/style&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;div id="root"&gt;&lt;/div&gt;
    &lt;script type="text/babel"&gt;
        class Toggle extends React.Component {
        constructor(props) {
          super(props);
          this.state = {isToggleOn: true};
 
          // 这个绑定是必要的，使`this`在回调中起作用
          this.handleClick = this.handleClick.bind(this);
        }

        componentDidMount() { 
            document.body.addEventListener('click', e =&gt; { 
                if (e.target &amp;&amp; e.target.matches('#m-btn')) { 
                    return; 
                }             
                console.log('body');
            });             
        } 

        componentWillUnmount() { 
            document.body.removeEventListener('click');
        }                

        handleClick() {
          this.setState(prevState =&gt; ({
            isToggleOn: !prevState.isToggleOn
          }));
        }
 
        render() {
          return (
              &lt;button onClick={this.handleClick} id="m-btn"&gt;
                {this.state.isToggleOn ? 'ON' : 'OFF'}
              &lt;/button&gt;
          );
        }
      }
 
      ReactDOM.render(
        &lt;Toggle /&gt;,
        document.getElementById('root')
      );
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p>&nbsp;</p>            ]]></description></item><item><title>React 动态填加class</title><link>http://www.cnblogs.com/xutongbao/archive/2018/11/07/9924746.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 07 Nov 2018 06:44:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/11/07/9924746.html</guid><description><![CDATA[
                <p><img alt="" class="has" height="414" src="https://img-blog.csdnimg.cn/20181107144248528.gif" width="425"></p>

<p>&nbsp;</p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;meta charset="UTF-8" /&gt;
    &lt;title&gt;React 动态填加class&lt;/title&gt;
    &lt;script src="https://unpkg.com/react@16/umd/react.development.js"&gt;&lt;/script&gt;
    &lt;script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"&gt;&lt;/script&gt;
    &lt;script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"&gt;&lt;/script&gt;
    &lt;style type="text/css"&gt;
      .m-test{width: 100px;height: 100px;background-color: red;}
      .m-test.active{background-color: blue;}
    &lt;/style&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;div id="root"&gt;&lt;/div&gt;
    &lt;script type="text/babel"&gt;
      class Toggle extends React.Component {
        constructor(props) {
          super(props);
          this.state = {
            isToggleOn: true
          };
 
          // 这个绑定是必要的，使`this`在回调中起作用
          this.handleClick = this.handleClick.bind(this);
        }
 
        handleClick() {
          this.setState(prevState =&gt; ({
            isToggleOn: !prevState.isToggleOn
          }));
        }
 
        render() {
          return (
            &lt;div&gt;
              &lt;button onClick={this.handleClick}&gt;
                {this.state.isToggleOn ? 'ON' : 'OFF'}
              &lt;/button&gt;
              &lt;div className={`m-test ${this.state.isToggleOn ? 'active' : ''}`}&gt;&lt;/div&gt;
            &lt;/div&gt;
          );
        }
      }
 
      ReactDOM.render(
        &lt;Toggle /&gt;,
        document.getElementById('root')
      );
    &lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>            ]]></description></item><item><title>React 点击按钮显示div与隐藏div</title><link>http://www.cnblogs.com/xutongbao/archive/2018/11/07/9924747.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 07 Nov 2018 05:58:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/11/07/9924747.html</guid><description><![CDATA[
                <p><img alt="" class="has" height="150" src="https://img-blog.csdnimg.cn/20181107135656898.gif" width="263"></p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;meta charset="UTF-8" /&gt;
    &lt;title&gt;React 点击按钮显示div与隐藏div&lt;/title&gt;
    &lt;script src="https://unpkg.com/react@16/umd/react.development.js"&gt;&lt;/script&gt;
    &lt;script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"&gt;&lt;/script&gt;
    &lt;script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"&gt;&lt;/script&gt;
    &lt;style type="text/css"&gt;
      .m-test{width: 100px;height: 100px;background-color: red;}
    &lt;/style&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;div id="root"&gt;&lt;/div&gt;
    &lt;script type="text/babel"&gt;
      class Toggle extends React.Component {
        constructor(props) {
          super(props);
          this.state = {
            isToggleOn: true,
            dispaly: 'block'
          };
 
          // 这个绑定是必要的，使`this`在回调中起作用
          this.handleClick = this.handleClick.bind(this);
        }
 
        handleClick() {
          this.setState(prevState =&gt; ({
            isToggleOn: !prevState.isToggleOn,
            display: prevState.isToggleOn ? 'none': 'block'
          }));
        }
 
        render() {
          return (
            &lt;div&gt;
              &lt;button onClick={this.handleClick}&gt;
                {this.state.isToggleOn ? 'ON' : 'OFF'}
              &lt;/button&gt;
              &lt;div className="m-test" style={{display: this.state.display}}&gt;&lt;/div&gt;
            &lt;/div&gt;
          );
        }
      }
 
      ReactDOM.render(
        &lt;Toggle /&gt;,
        document.getElementById('root')
      );
    &lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>            ]]></description></item><item><title>g2曲线图 每条曲线有单独的选中效果和tooltip</title><link>http://www.cnblogs.com/xutongbao/archive/2018/11/05/9924748.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Mon, 05 Nov 2018 09:39:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/11/05/9924748.html</guid><description><![CDATA[
                <p><img alt="" class="has" height="220" src="https://img-blog.csdnimg.cn/201811051738028.gif" width="1189"></p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;

&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;meta name="viewport" content="width=device-width,height=device-height"&gt;
    &lt;title&gt;g2曲线图 每条曲线有单独的选中效果和tooltip&lt;/title&gt;
    &lt;style&gt;
    ::-webkit-scrollbar {
        display: none;
    }

    html,
    body {
        overflow: hidden;
        height: 100%;
        margin: 0;
    }
    .m-cf-lines {
        margin: 100px 390px 0 420px;
        height: 100px;
    }    
    &lt;/style&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;div id="m-cf-lines" class="m-cf-lines"&gt;&lt;/div&gt;
    &lt;script&gt;
    /*Fixing iframe window.innerHeight 0 issue in Safari*/
    document.body.clientHeight;
    &lt;/script&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"&gt;&lt;/script&gt;
    &lt;script src="https://gw.alipayobjects.com/os/antv/pkg/_antv.g2-3.3.2/dist/g2.min.js"&gt;&lt;/script&gt;
    &lt;script src="https://gw.alipayobjects.com/os/antv/assets/lib/jquery-3.2.1.min.js"&gt;&lt;/script&gt;
    &lt;script src="https://gw.alipayobjects.com/os/antv/pkg/_antv.data-set-0.9.6/dist/data-set.min.js"&gt;&lt;/script&gt;
    &lt;script&gt;
    var data = [];

    let country = ['a', 'b', 'c', 'd'];
    for (var i = 0; i &lt; 12; i++) {
        for (let j = 0; j &lt; 4; j++) {
            var temp = {};
            temp.name = '资产名称' + i + j;
            temp.time = j;
            temp.country = country[i % 4] + i;

            if (j === 0) {
                temp.value = Math.floor(Math.random() * 20 + 20 * ( 3 - i % 4));
            } else {
                temp.value = Math.floor(Math.random() * 50 + 20);
            }
            data.push(temp);
        }
    }

    var valueMap = {};
    var chart = new G2.Chart({
        container: 'm-cf-lines',
        forceFit: true,
        padding: [5],
        width: window.innerWidth - 810,
        height: 100,
        animate: false   
    });
    chart.source(data);
    chart.legend(false);
    chart.axis('value', {
        label: null
    });
    chart.axis('time', {
        label:null,
        tickLine: null 
    });
    var color = ['#825738', '#60714B', '#41677F', '#4A4168'];    
    chart.line().position('time*value').size(2).color('country', (type) =&gt; { // 通过回调函数
        if (type.indexOf('a') &gt;=0 ) {
            return color[0];
        }
        if (type.indexOf('b') &gt;=0 ) {
            return color[1];
        } 
        if (type.indexOf('c') &gt;=0 ) {
            return color[2];
        }
        if (type.indexOf('d') &gt;=0 ) {
            return color[3];
        }                       
        return 'blue';
    }).shape('smooth');

    chart.tooltip(false);
    chart.render();

    
    let tooltipHtml = `&lt;div class="m-tooltip" id="m-cf-tooltip" style="position: absolute; visibility: hidden; z-index: 8; transition: visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1); background-color: rgba(255, 255, 255, 0.9); box-shadow: rgb(174, 174, 174) 0px 0px 10px; border-radius: 3px; color: rgb(87, 87, 87); font-size: 12px; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Roboto, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, SimSun, sans-serif; line-height: 20px; padding: 10px 10px 6px;"&gt;&lt;/div&gt;`;
    $('#m-cf-lines div').append(tooltipHtml);

    chart.on('line:mousemove', ev =&gt; {
        let name = ev.data[0]._origin.name;
        let attack = ev.data[1]._origin.value;
        let bug = ev.data[2]._origin.value;
        let risk = ev.data[3]._origin.value;
        let text = name + '攻击面:' + attack + '漏洞:' + bug + '风险:' + risk;
        console.log(text);
        setTimeout(() =&gt; {
            $('#m-cf-tooltip').css({visibility: 'visible',left: ev.x + 10, top: ev.y + 10}).show().html(text);
        }, 0);
        ev.target._attrs.lineWidth = 5;
        var color = ['#DB8548', '#98B96D', '#5AA8D8', '#373781']; 
        let activeColor;
        let type = ev.data[0]._origin.country;
        if (type.indexOf('a') &gt;=0 ) {
            activeColor = color[0];
        }
        if (type.indexOf('b') &gt;=0 ) {
            activeColor = color[1];
        } 
        if (type.indexOf('c') &gt;=0 ) {
            activeColor = color[2];
        }
        if (type.indexOf('d') &gt;=0 ) {
            activeColor = color[3];
        }           
        ev.target._attrs.stroke = activeColor;
        ev.target._attrs.strokeStyle = activeColor;
    });  
    chart.on('line:mouseleave', ev =&gt; {
        chart.render();
        setTimeout(() =&gt; {
            $('#m-cf-tooltip').hide();
        }, 0);
    });
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>            ]]></description></item><item><title>chrome扩展插件 1px 前端开发的html页面与设计师制作的psd对比</title><link>http://www.cnblogs.com/xutongbao/archive/2018/11/05/9924749.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Mon, 05 Nov 2018 02:04:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/11/05/9924749.html</guid><description><![CDATA[
                <p>&nbsp;</p>

<p>下载链接:<a href="https://pan.baidu.com/s/1nB2JJp9hhqRKA7l95idoTA" rel="nofollow">https://pan.baidu.com/s/1nB2JJp9hhqRKA7l95idoTA</a></p>

<p>vpn插件：<a href="https://pan.baidu.com/s/1UZEoPkAdCeYYpIK2HfVgfA" rel="nofollow">https://pan.baidu.com/s/1UZEoPkAdCeYYpIK2HfVgfA</a></p>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20181105100014781.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==,size_16,color_FFFFFF,t_70"></p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>            ]]></description></item><item><title>echart自定义堆叠柱状图，每个矩形框都可以出现不同的tooltip内容</title><link>http://www.cnblogs.com/xutongbao/archive/2018/11/02/9924750.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Fri, 02 Nov 2018 05:43:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/11/02/9924750.html</guid><description><![CDATA[
                <p><img alt="" class="has" height="298" src="https://img-blog.csdnimg.cn/20181102134118689.gif" width="683"></p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;

&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;堆叠柱状图&lt;/title&gt;
    &lt;style&gt;
        .m-main{margin: 200px;width: 550px;height:10px;}
    &lt;/style&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;div id="main" class="m-main"&gt;&lt;/div&gt;
    &lt;script src="https://cdn.bootcss.com/echarts/4.2.0-rc.1/echarts.js"&gt;&lt;/script&gt;
    &lt;script type="text/javascript"&gt;
    let myChart = echarts.init(document.getElementById('main'));

    var data = [
        [0, 16, 5, {
            name: '资产名称1',
            num: 16,
            persent: '35%'
        }],
        [16, 18, 5, {
            name: '资产名称2',
            num: 16,
            persent: '35%'
        }],
        [18, 26, 5, {
            name: '资产名称3',
            num: 16,
            persent: '35%'
        }],
        [26, 32, 5, {
            name: '资产名称4',
            num: 16,
            persent: '35%'
        }],
        [32, 56, 5, {
            name: '资产名称5',
            num: 16,
            persent: '35%'
        }],
        [56, 62, 5, {
            name: '资产名称6',
            num: 16,
            persent: '35%'
        }]
    ];
    var colorList = ['#4f81bd', '#c0504d', '#9bbb59', '#604a7b', '#948a54', '#e46c0b'];

    data = echarts.util.map(data, function(item, index) {
        return {
            value: item,
            itemStyle: {
                normal: {
                    color: colorList[index]
                }
            }
        };
    });

    function renderItem(params, api) {
        var yValue = api.value(2);
        var start = api.coord([api.value(0), yValue]);
        var size = api.size([api.value(1) - api.value(0), yValue]);
        var style = api.style();

        return {
            type: 'rect',
            shape: {
                x: start[0],
                y: start[1],
                width: size[0],
                height: size[1]
            },
            style: style
        };
    }

    let option = {
        tooltip: {
            formatter: (params, ticket, callback) =&gt; {
                let info = params.data.value[3];
                let name = info.name;
                let num = info.num;
                let persent = info.persent;
                return `
                &lt;div&gt;
                    &lt;div&gt;${name}&lt;/div&gt;
                    &lt;div&gt;${num}(${persent})&lt;/div&gt;
                &lt;/div&gt;
                `
            }
        },
        xAxis: {
            show: false
        },
        yAxis: {
            show: false
        },
        series: [{
            type: 'custom',
            renderItem: renderItem,
            label: null,
            dimensions: ['from', 'to', 'profit'],
            encode: {
                x: [0, 1],
                y: 2,
                tooltip: [0, 1, 2],
                itemName: 3
            },
            data: data
        }]
    };
    myChart.setOption(option);
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p>&nbsp;</p>            ]]></description></item><item><title>overflow:hidden / scroll不会隐藏所有子元素</title><link>http://www.cnblogs.com/xutongbao/archive/2018/11/02/9924751.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Fri, 02 Nov 2018 02:51:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/11/02/9924751.html</guid><description><![CDATA[
                <p><img alt="" class="has" height="229" src="https://img-blog.csdnimg.cn/20181102104751575.png" width="226"></p>

<ul><li>拥有overflow:hidden样式的块元素不具有position:relative和position:absolute样式；</li>
	<li>内部溢出的元素是通过position:absolute绝对定位，并且该定位元素的包含块是设置overflow:hidden元素的父级元素</li>
</ul><pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;

&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;meta name="viewport" content="width=device-width,height=device-height"&gt;
    &lt;title&gt;overflow:hidden / scroll不会隐藏所有子元素&lt;/title&gt;
    &lt;style&gt;
    html,
    body {
        margin: 0;
    }
    .over-hidden{overflow:scroll; height:100px; font-size:14px; width:100px; border:2px dotted #ddd;}
    .outer{position:relative}
    .inner1{position:absolute; top:0;height: 200px; background:yellow;}
    .inner2{position:absolute; top:200px; background:pink;}  
    &lt;/style&gt;
&lt;/head&gt;

&lt;body&gt;
&lt;div class='over-hidden'&gt;
    &lt;div class='outer'&gt;
        &lt;div class='inner1'&gt;这是第一个盒子。这是第一个盒子&lt;/div&gt;
    &lt;/div&gt;
    &lt;div class='inner2'&gt;这是第二个盒子。这是第二个盒子&lt;/div&gt;
&lt;/div&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>            ]]></description></item><item><title>echart旭日图</title><link>http://www.cnblogs.com/xutongbao/archive/2018/10/29/9924752.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Mon, 29 Oct 2018 10:40:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/10/29/9924752.html</guid><description><![CDATA[
                <p><img alt="" class="has" height="298" src="https://img-blog.csdnimg.cn/20181029183921931.gif" width="480"></p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;

&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;echart旭日图&lt;/title&gt;
    &lt;style&gt;
        .m-main{margin: 200px;width: 150px;height:150px;}
    &lt;/style&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;div id="main" class="m-main"&gt;&lt;/div&gt;
    &lt;script src="https://cdn.bootcss.com/echarts/4.2.0-rc.1/echarts.js"&gt;&lt;/script&gt;
    &lt;script type="text/javascript"&gt;
    let myChart = echarts.init(document.getElementById('main'));

    let data = [];
    let net = ['内网', '外网'];
    let level = ['高危', '中危', '低危', '信息'];
    let sum = 0;
    let itemStyle = [
        [{
                color: '#ab7550',
                itemStyle: [{
                    color: '#ab7550'
                }, {
                    color: '#825d44'
                }]
            },
            {
                color: '#614838',
                itemStyle: [{
                    color: '#523c2e'
                }, {
                    color: '#4e3d32'
                }]
            }
        ],
        [{
                color: '#3b3933',
                itemStyle: [{
                    color: '#414028'
                }, {
                    color: '#3b3933'
                }]
            },
            {
                color: '#605f42',
                itemStyle: [{
                    color: '#5f5e41'
                }, {
                    color: '#56564c'
                }]
            }
        ]
    ];    

    for (let i = 0; i &lt; 50; i++) {
        let temp = {};
        temp.net = Math.random() &gt; 0.3 ? 0 : 1;
        temp.level = Math.floor(Math.random() * 3.9);
        temp.msg = '信息' + i;
        temp.num = parseInt(Math.random() * 20 + 1, 10);
        sum += temp.num;
        data.push(temp);
    }

    for (let i = 0; i &lt; data.length; i++) {
        data[i].parsent = ((data[i].num / sum) * 100).toFixed(2) + '%';
    }

    let formatData = [{
        info: {
            net: '外网',
            num: 0,
            parsent: '100%'
        },
        itemStyle: {
            color: {
                type: 'linear',
                x: 0,
                y: 0,
                x2: 0,
                y2: 1,
                colorStops: [{
                    offset: 0,
                    color: '#292929'
                }, {
                    offset: 1,
                    color: '#e08849'
                }],
                globalCoord: false
            }
        },
        children: [{
                info: {
                    net: '外网',
                    level: '高危',
                    num: 0,
                    parsent: '100%'
                },
                children: []
            },
            {
                info: {
                    net: '外网',
                    level: '中危',
                    num: 0,
                    parsent: '100%'
                },
                children: []
            },
            {
                info: {
                    net: '外网',
                    level: '低危',
                    num: 0,
                    parsent: '100%'
                },
                children: []
            },
            {
                info: {
                    net: '外网',
                    level: '信息',
                    num: 0,
                    parsent: '100%'
                },
                children: []
            }
        ]
    }, {
        info: {
            net: '内网',
            num: 0,
            parsent: '100%'
        },
        itemStyle: {
            color: {
                type: 'linear',
                x: 0,
                y: 0,
                x2: 0,
                y2: 1,
                colorStops: [{
                    offset: 0,
                    color: '#605F42'
                }, {
                    offset: 1,
                    color: '#292929'
                }],
                globalCoord: false
            }
        },
        children: [{
                info: {
                    net: '内网',
                    level: '高危',
                    num: 0,
                    parsent: '100%'
                },
                children: []
            },
            {
                info: {
                    net: '内网',
                    level: '中危',
                    num: 0,
                    parsent: '100%'
                },
                children: []
            },
            {
                info: {
                    net: '内网',
                    level: '低危',
                    num: 0,
                    parsent: '100%'
                },
                children: []
            },
            {
                info: {
                    net: '内网',
                    level: '信息',
                    num: 0,
                    parsent: '100%'
                },
                children: []
            }
        ]
    }];
    for (let i = 0; i &lt; data.length; i++) {
        let temp = {};
        temp = Object.assign({}, data[i]);
        temp.net = net[data[i].net];
        temp.level = level[data[i].level];
        formatData[data[i].net].children[data[i].level].children.push({
            info: temp,
            value: data[i].num,
        });
    }

    for (let i = 0; i &lt; formatData.length; i++) {
        let isFirst = true;
        let numLevel_1 = 0;
        for (let j = 0; j &lt; formatData[i].children.length; j++) {
            if (formatData[i].children[j].children.length &gt; 0) {
            	let index = isFirst ? 0 : 1;
                formatData[i].children[j].itemStyle = itemStyle[i][index];

                let isFirst2 = true;
                let numLevel_2 = 0;
                for (let z = 0; z &lt; formatData[i].children[j].children.length; z++) {
                	let index2 = isFirst2 ? 0 : 1;
                    formatData[i].children[j].children[z].itemStyle = itemStyle[i][index].itemStyle[index2];
                    let num = formatData[i].children[j].children[z].info.num;
                    numLevel_2 += num;
                    isFirst2 = !isFirst2;
                }
                formatData[i].children[j].info.num = numLevel_2;
                formatData[i].children[j].info.parsent = (numLevel_2 / sum * 100).toFixed(2) + '%';
                numLevel_1 += numLevel_2;
                isFirst = !isFirst;
            }
        }
        formatData[i].info.num = numLevel_1;
        formatData[i].info.parsent = (numLevel_1 / sum * 100).toFixed(2) + '%';
    }
    let option = {
        grid: {
            top: '0',
            left: '0',
            right: '0',
            bottom: '0',
            containLabel: false
        },
        tooltip: {
            show: true,
            formatter: function(params, ticket, callback) {
                let net = params.data.info.net;
                let level = params.data.info.level ? '·' + params.data.info.level : '';
                let msg = params.data.info.msg ? '·' +params.data.info.msg : '';

                let num = params.data.info.num;
                let parent = params.data.info.parsent;
                var text = net + level + msg;
                return `&lt;div&gt;${net}${level}${msg}&lt;/div&gt;
                &lt;div&gt;${num} ${parent}&lt;/div&gt;`;
            }
        },
        series: {
            radius: ['20%', '100%'],
            type: 'sunburst',
            nodeClick: false,
            itemStyle: {
                borderWidth: 1
            },
            animationDurationUpdate: 0,
            emphasis: {
                itemStyle: {
                    opacity: 0.8
                }
            },
            sort: null,
            data: formatData
        }
    };

    myChart.setOption(option);
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p>&nbsp;</p>            ]]></description></item><item><title>折线图tooltip固定位置</title><link>http://www.cnblogs.com/xutongbao/archive/2018/10/25/9924753.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 25 Oct 2018 02:02:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/10/25/9924753.html</guid><description><![CDATA[
                <p><img alt="" class="has" src="https://img-blog.csdn.net/20181025100117200?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;

&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;meta name="viewport" content="width=device-width,height=device-height"&gt;
    &lt;title&gt;折线图tooltip固定位置&lt;/title&gt;
    &lt;style&gt;
    ::-webkit-scrollbar {
        display: none;
    }

    html,
    body {
        overflow: hidden;
        height: 100%;
        margin: 0;
    }
    .m-many-lines {
        margin: 10px 0 0 10px;
        width: 160px;
        height: 22px;
    }
    .m-traffic-tooltip{padding: 0!important;}
    .m-traffic-tooltip-inner{}
    .m-tooltip-hide{display: none;}
    &lt;/style&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;div&gt;
        &lt;div class="js-tooltip"&gt;&lt;/div&gt;
        &lt;div id="m-line1" class="m-many-lines"&gt;&lt;/div&gt;
    &lt;/div&gt;
    &lt;script&gt;
    /*Fixing iframe window.innerHeight 0 issue in Safari*/
    document.body.clientHeight;
    &lt;/script&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"&gt;&lt;/script&gt;
    &lt;script src="https://gw.alipayobjects.com/os/antv/pkg/_antv.g2-3.3.1/dist/g2.min.js"&gt;&lt;/script&gt;
    &lt;script src="https://gw.alipayobjects.com/os/antv/pkg/_antv.data-set-0.9.6/dist/data-set.min.js"&gt;&lt;/script&gt;
    &lt;script&gt;
    var data = [];
    for (var i = 0; i &lt; 12; i++) {
        var temp = {};
        temp.time = i;
        temp.num = parseInt(Math.random() * 50) + 20;
        data.push(temp);
    }
    var ds = new DataSet();
    var dv = ds.createView().source(data);
    var chart = new G2.Chart({
        container: 'm-line1',
        forceFit: true,
        padding: [5, -10, 5, 5],
        width: 160,
        height: 36  
    });
    chart.source(dv, {
        time: {
            range: [0, 1]
        },
        num: {
            min: 0
        }
    });
    chart.axis('num', {
        label: null
    });
    chart.axis('time', {
        label:null,
        tickLine: null
    });
    chart.tooltip({
        crosshairs: {
            type: 'y'
        },
        containerTpl: '&lt;div class="m-tooltip-hide"&gt;' +
            '&lt;ul class="g2-tooltip-list m-tooltip-inner"&gt;&lt;/ul&gt;&lt;/div&gt;',
    });    
    chart.line().position('time*num').color('num', '#5AA8D8').opacity(0.5)
        .shape('smooth')
        .size(1);
    chart.on('tooltip:change', (ev) =&gt; {
        const num = ev.items[0].value;
        setTimeout( () =&gt; {
            $('.js-tooltip').text(num);
        }, 0)
    });         
    chart.render();
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p>&nbsp;</p>

<p>&nbsp;</p>            ]]></description></item><item><title>aes.js加密</title><link>http://www.cnblogs.com/xutongbao/archive/2018/10/25/9924754.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 25 Oct 2018 01:41:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/10/25/9924754.html</guid><description><![CDATA[
                <p><img alt="" class="has" src="https://img-blog.csdn.net/20181025094002621?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>

<pre class="has"><code class="language-javascript">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;

&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;meta name="viewport" content="width=device-width,height=device-height"&gt;
    &lt;title&gt;aes加密&lt;/title&gt;
    &lt;style&gt;
    &lt;/style&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;div class="m-test"&gt;&lt;/div&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"&gt;&lt;/script&gt;
    &lt;script src="https://cdn.bootcss.com/aes-js/3.1.1/index.js"&gt;&lt;/script&gt;
    &lt;script type="text/javascript"&gt;
    // An example 128-bit key (16 bytes * 8 bits/byte = 128 bits)
    var key = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16];

    // Convert text to bytes
    var text = 'Text may be any length you wish, no padding is required.';
    var textBytes = aesjs.utils.utf8.toBytes(text);

    // The counter is optional, and if omitted will begin at 1
    var aesCtr = new aesjs.ModeOfOperation.ctr(key, new aesjs.Counter(5));
    var encryptedBytes = aesCtr.encrypt(textBytes);

    // To print or store the binary data, you may convert it to hex
    var encryptedHex = aesjs.utils.hex.fromBytes(encryptedBytes);
    console.log(encryptedHex);
    // "a338eda3874ed884b6199150d36f49988c90f5c47fe7792b0cf8c7f77eeffd87
    //  ea145b73e82aefcf2076f881c88879e4e25b1d7b24ba2788"

    // When ready to decrypt the hex string, convert it back to bytes
    var encryptedBytes = aesjs.utils.hex.toBytes(encryptedHex);

    // The counter mode of operation maintains internal state, so to
    // decrypt a new instance must be instantiated.
    var aesCtr = new aesjs.ModeOfOperation.ctr(key, new aesjs.Counter(5));
    var decryptedBytes = aesCtr.decrypt(encryptedBytes);

    // Convert our bytes back into text
    var decryptedText = aesjs.utils.utf8.fromBytes(decryptedBytes);
    console.log(decryptedText);
    // "Text may be any length you wish, no padding is required."
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p>&nbsp;</p>

<p>&nbsp;</p>            ]]></description></item><item><title>气泡图</title><link>http://www.cnblogs.com/xutongbao/archive/2018/10/24/9924755.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 24 Oct 2018 08:14:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/10/24/9924755.html</guid><description><![CDATA[
                <p><img alt="" class="has" src="https://img-blog.csdn.net/20181024161309872?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>

<p>&nbsp;</p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;

&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;meta name="viewport" content="width=device-width,height=device-height"&gt;
    &lt;title&gt;气泡图&lt;/title&gt;
    &lt;style&gt;
    ::-webkit-scrollbar {
        display: none;
    }

    html,
    body {
        overflow: hidden;
        height: 100%;
        margin: 0;
    }

    .m-bubble {
        margin: 10px 0 0 0;
        width: 390px;
        height: 180px;
    }
    &lt;/style&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;div id="mountNode" class="m-bubble"&gt;&lt;/div&gt;
    &lt;script&gt;
    /*Fixing iframe window.innerHeight 0 issue in Safari*/
    document.body.clientHeight;
    &lt;/script&gt;
    &lt;script src="https://gw.alipayobjects.com/os/antv/pkg/_antv.g2-3.3.2/dist/g2.min.js"&gt;&lt;/script&gt;
    &lt;script src="https://gw.alipayobjects.com/os/antv/pkg/_antv.data-set-0.9.6/dist/data-set.min.js"&gt;&lt;/script&gt;
    &lt;script src="https://gw.alipayobjects.com/os/antv/assets/lib/jquery-3.2.1.min.js"&gt;&lt;/script&gt;
    &lt;script&gt;
    let data = [];
    for (let i = 0; i &lt; 10; i++) {
        let temp = {};
        temp.port = parseInt(Math.random() * 20);
        temp.domainName = parseInt(Math.random() * 20);
        temp.url = parseInt(Math.random() * 20);
        temp.sum = temp.port + temp.url + temp.url;
        temp.net = 'inner';
        data.push(temp);
    }
    for (let i = 0; i &lt; 10; i++) {
        let temp = {};
        temp.port = parseInt(Math.random() * 20);
        temp.domainName = parseInt(Math.random() * 20);
        temp.url = parseInt(Math.random() * 20);
        temp.sum = temp.port + temp.url + temp.url;
        temp.net = 'outer';
        data.push(temp);
    }
    var _G = G2,
        Global = _G.Global;

    var colorMap = {
        'inner': '#9c6b47',
        'outer': '#9b9851'
    };
    var init = function(data) {
        var chart = new G2.Chart({
            container: 'mountNode',
            forceFit: true,
            padding: [30, 10, 30, 50],
            width: 390,
            height: 180,
            animate: false
        });
        chart.source(data);
        let portMax = 0,
            domainNameMax = 0;
        for (let i = 0; i &lt; data.length; i++) {
            let portTemp = data[i].port + 10;
            let domainNameTemp = data[i].domainName + 10;
            if (portTemp &gt; portMax) {
                portMax = portTemp;
            }
            if (domainNameTemp &gt; domainNameMax) {
                domainNameMax = domainNameTemp;
            }
        }
        chart.scale({
            port: {
                alias: '端口',
                min: 0,
                max: portMax
            },
            domainName: {
                alias: '域名',
                min: 0,
                max: domainNameMax
            },
            url: {
                alias: 'URL'
            }
        });
        chart.axis('domainName', {
            line: {
                stroke: '#4c4c4c'
            },
            tickLine: null,
            grid: {
                type: 'line',
                lineStyle: {
                    stroke: '#4c4c4c',
                    lineWidth: 0.5,
                    lineDash: false
                }
            },
            label: {
                offset: 8,
                textStyle: {
                    fontSize: 12,
                    fill: '#444444'
                }
            }
        });
        chart.axis('port', {
            line: {
                stroke: '#4c4c4c'
            },
            grid: {
                type: 'line',
                lineStyle: {
                    stroke: '#4c4c4c',
                    lineWidth: 0.5,
                    lineDash: false
                }
            },
            label: {
                offset: -10,
                textStyle: {
                    fontSize: 12,
                    fill: '#444444'
                },
                formatter: function formatter(value) {
                    if (value === '0') {
                        return '';
                    } else {
                        return value;
                    }
                }
            }
        });
        chart.tooltip({
            showTitle: false
        });
        chart.legend(true, {
            width: 6,
            height: 4,
            position: 'top-right',
            fill: '#fdae6b',
            marker: 'hyphen',
            itemFormatter(val) {
                if (val === 'inner') {
                    return '内网';
                } else if (val === 'outer') {
                    return '外网';
                }
            }
        }); 
        chart.legend('sum', false);      
        chart.point().position('domainName*port').size('sum', [2, 20]).color('net', function(val) {
            return colorMap[val];
        }).shape('circle').tooltip('port*domainName*url').style('net', {
            lineWidth: 1,
            strokeOpacity: 1,
            fillOpacity: 0.3,
            opacity: 0.65,
            stroke: function stroke(val) {
                return colorMap[val];
            }
        });
        chart.render();
    }(data);
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p>&nbsp;</p>            ]]></description></item><item><title>css斜切角 斜边 倒角</title><link>http://www.cnblogs.com/xutongbao/archive/2018/10/23/9924756.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 23 Oct 2018 05:59:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/10/23/9924756.html</guid><description><![CDATA[
                <p><img alt="" class="has" src="https://img-blog.csdn.net/2018102313583428?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;

&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;meta name="viewport" content="width=device-width,height=device-height"&gt;
    &lt;title&gt;css斜切角 斜边 倒角&lt;/title&gt;
    &lt;style&gt;
    .m-test {
        width: 100px;
        height: 16px;
        background: linear-gradient(135deg, transparent 5px, #1e1e1e 0) top left,
            linear-gradient(-135deg, transparent 0px, #1e1e1e 0) top right,
            linear-gradient(-45deg, transparent 0px, #1e1e1e 0) bottom right,
            linear-gradient(45deg, transparent 5px, #1e1e1e 0) bottom left;
        background-size: 50% 50%;
        background-repeat: no-repeat;
    }
    &lt;/style&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;div class="m-test"&gt;&lt;/div&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20181101114017577.png"></p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
 
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;meta name="viewport" content="width=device-width,height=device-height"&gt;
    &lt;title&gt;css斜切角 斜边 倒角&lt;/title&gt;
    &lt;style&gt;
    .m-test {
        width: 100px;
        height: 16px;
        background: linear-gradient(135deg, transparent 5px, #1e1e1e 0) top left,
            linear-gradient(-135deg, transparent 0px, #1e1e1e 0) top right,
            linear-gradient(-45deg, transparent 0px, #1e1e1e 0) bottom right,
            linear-gradient(45deg, transparent 5px, #1e1e1e 0) bottom left;
        background-size: 50% 50%;
        background-repeat: no-repeat;
    }
    &lt;/style&gt;
&lt;/head&gt;
 
&lt;body&gt;
    &lt;div class="m-test"&gt;&lt;/div&gt;
&lt;/body&gt;
 
&lt;/html&gt;</code></pre>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>            ]]></description></item><item><title>g2基础柱状图</title><link>http://www.cnblogs.com/xutongbao/archive/2018/10/23/9924757.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 23 Oct 2018 05:47:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/10/23/9924757.html</guid><description><![CDATA[
                <p><img alt="" class="has" src="https://img-blog.csdn.net/20181023134550639?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;

&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;meta name="viewport" content="width=device-width,height=device-height"&gt;
    &lt;title&gt;g2基础柱状图&lt;/title&gt;
    &lt;style&gt;
    ::-webkit-scrollbar {
        display: none;
    }

    html,
    body {
        background-color: rgba(41, 41, 41, 0.7);
        overflow: hidden;
        height: 100%;
        margin: 0;
    }

    .m-bar {
        width: 160px;
        height: 50px;
    }

    .m-tooltip {
        background-color: rgba(0, 0, 0, 0.7) !important;
        padding: 6px 10px 6px !important;
    }
    &lt;/style&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;div id="m-bar1" class="m-bar"&gt;&lt;/div&gt;
    &lt;div id="m-bar2" class="m-bar"&gt;&lt;/div&gt;
    &lt;script&gt;
    /*Fixing iframe window.innerHeight 0 issue in Safari*/
    document.body.clientHeight;
    &lt;/script&gt;
    &lt;script src="https://gw.alipayobjects.com/os/antv/pkg/_antv.g2-3.3.1/dist/g2.min.js"&gt;&lt;/script&gt;
    &lt;script src="https://gw.alipayobjects.com/os/antv/pkg/_antv.data-set-0.9.6/dist/data-set.min.js"&gt;&lt;/script&gt;
    &lt;script&gt;
    var barData = [];
    for (let i = 0; i &lt; 20; i++) {
        let temp = {};
        temp.time = i;
        temp.value = parseInt(Math.random() * 100);
        barData.push(temp);
    }
    for (let i = 0; i &lt; 2; i++) {
        init(i + 1, barData);
    }

    function init(index, barData) {
        var chart = new G2.Chart({
            container: 'm-bar' + index,
            forceFit: true,
            padding: [0, 5, 0, 5],
            width: 160,
            height: 50
        });
        chart.source(barData);
        chart.axis('value', {
            label: null,
            grid: null
        });
        chart.axis('time', {
            label: null,
            line: {
                stroke: '#4c4c4c'
            },
            Line: null,
            tickLine: null
        });
        chart.tooltip({
            crosshairs: {
                type: 'y'
            },
            containerTpl: '&lt;div class="m-tooltip"&gt;' +
                '&lt;ul class="g2-tooltip-list m-tooltip-inner"&gt;&lt;/ul&gt;&lt;/div&gt;',
            itemTpl: `&lt;li&gt;1&lt;/li&gt;`
        })
        chart.interval().position('time*value').color('#825738');
        chart.render();
    }
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p>&nbsp;</p>

<p>&nbsp;</p>            ]]></description></item><item><title>sublime text 3 破解版下载</title><link>http://www.cnblogs.com/xutongbao/archive/2018/10/23/9924758.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 23 Oct 2018 02:49:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/10/23/9924758.html</guid><description><![CDATA[
                <p><a href="https://pan.baidu.com/s/1iicSmG44PfYhOffaUZDRmw" rel="nofollow">https://pan.baidu.com/s/1iicSmG44PfYhOffaUZDRmw</a></p>            ]]></description></item><item><title>CSS圆环百分比DEMO</title><link>http://www.cnblogs.com/xutongbao/archive/2018/10/22/9924759.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Mon, 22 Oct 2018 08:03:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/10/22/9924759.html</guid><description><![CDATA[
                <p><img alt="" class="has" src="https://img-blog.csdn.net/20181022160237890?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>

<pre class="has"><code class="language-html">&lt;html&gt;

&lt;head&gt;
    &lt;title&gt;CSS圆环百分比DEMO&lt;/title&gt;
    &lt;style type="text/css"&gt;
    .m-c-wrapper {
        width: 28px;
        height: 28px;
        margin: 0 0;
        position: relative;
    }

    .m-c-inner {
        width: 14px;
        height: 28px;
        position: absolute;
        top: 0;
        overflow: hidden;
    }

    .m-c-right {
        right: 0;
    }

    .m-c-left {
        left: 0;
    }

    .m-c-percent {
        width: 20px;
        height: 20px;
        border: 4px solid transparent;
        border-radius: 50%;
        position: absolute;
        top: 0;
        -webkit-transform: rotate(45deg);
    }

    .m-c-rightcircle {
        border: 4px solid #ccc;
        right: 0;
    }

    .m-c-leftcircle {
        border: 4px solid #ccc;
        left: 0;
    }

    .percent {
        position: absolute;
        top: 0;
        left: 0;
        width: 28px;
        font-size: 12px;
        line-height: 28px;
        text-align: center;
    }
    &lt;/style&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;div class="m-c-wrapper"&gt;
        &lt;div class="m-c-inner m-c-right"&gt;
            &lt;div class="m-c-percent m-c-rightcircle" id="m-right-circle"&gt;&lt;/div&gt;
        &lt;/div&gt;
        &lt;div class="m-c-inner m-c-left"&gt;
            &lt;div class="m-c-percent m-c-leftcircle" id="m-left-circle"&gt;&lt;/div&gt;
        &lt;/div&gt;
        &lt;span class="percent" int-percent='100'&gt;100&lt;/span&gt;
    &lt;/div&gt;
&lt;/body&gt;

&lt;/html&gt;
&lt;script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"&gt;&lt;/script&gt;
&lt;script&gt;
var deg = { percent: 100, left: 225, leftBC: "#ccc", right: 225, rightBC: "#ccc" };
var pint;
$(function() {
    loadPercent($(".percent").attr("int-percent"));
    pint = setInterval("refreshPercent()", 100);
});

function refreshPercent() {
    var percent = $(".percent").attr("int-percent");
    if (percent &gt; 0) {
        percent--;
    } else if (percent == 0) {
        percent = 100;
    }
    $(".percent").attr("int-percent", percent);
    $(".percent").html(percent + "");
    if (percent == 8) {
        window.clearInterval(pint);
    }
    deg.percent = percent;
    loadPercent(percent);
}

loadPercent(100);

function loadPercent(percent) {
    var allDeg = countDegByPercent(percent);
    if (allDeg &gt;= 180) {
        var tmpDeg = allDeg - 180;
        deg.left = 45 + tmpDeg;
        deg.right = 225
        deg.leftBC = "green";
        deg.rightBC = "green";
    } else {
        deg.right = 45 + allDeg;
        deg.rightBC = "green";
        deg.leftBC = "#ccc";
    }
    console.log(deg);
    $("#m-right-circle").css({ "-webkit-transform": "rotate(" + deg.right + "deg)", "border-left": "4px solid " + deg.rightBC, "border-bottom": "4px solid " + deg.rightBC });
    $("#m-left-circle").css({ "-webkit-transform": "rotate(" + deg.left + "deg)", "border-top": "4px solid " + deg.leftBC, "border-right": "4px solid " + deg.leftBC });
}

function countDegByPercent(percent) {
    return percent * 3.6;
}
&lt;/script&gt;</code></pre>

<p>&nbsp;</p>

<p>&nbsp;</p>            ]]></description></item><item><title>曲线折线并存图</title><link>http://www.cnblogs.com/xutongbao/archive/2018/10/19/9924760.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Fri, 19 Oct 2018 11:29:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/10/19/9924760.html</guid><description><![CDATA[
                <pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;

&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;meta name="viewport" content="width=device-width,height=device-height"&gt;
    &lt;title&gt;曲线折线并存图&lt;/title&gt;
    &lt;style&gt;
    ::-webkit-scrollbar {
        display: none;
    }

    html,
    body {
        overflow: hidden;
        height: 100%;
        margin: 0;
    }
    .m-many-lines {
        margin: 100px 0 0 100px;
        width: 340px;
        height: 100px;
    }
    &lt;/style&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;div id="mountNode" class="m-many-lines"&gt;&lt;/div&gt;
    &lt;script&gt;
    /*Fixing iframe window.innerHeight 0 issue in Safari*/
    document.body.clientHeight;
    &lt;/script&gt;
    &lt;script src="https://gw.alipayobjects.com/os/antv/pkg/_antv.g2-3.3.1/dist/g2.min.js"&gt;&lt;/script&gt;
    &lt;script src="https://gw.alipayobjects.com/os/antv/pkg/_antv.data-set-0.9.6/dist/data-set.min.js"&gt;&lt;/script&gt;
    &lt;script&gt;
    var data = [];
    for (var i = 0; i &lt; 12; i++) {
        var temp = {};
        var num = Math.random() * 20 + 70;
        temp.time = i;
        temp.num = num;
        temp.value1 = Math.random() * 50 + 20;
        temp.value2 = Math.random() * 50 + 20;
        temp.value3 = Math.random() * 50 + 20;
        temp.value4 = Math.random() * 50 + 20;
        temp.value5 = Math.random() * 50 + 20;
        temp.value6 = Math.random() * 50 + 20;
        temp.value7 = Math.random() * 50 + 20;
        temp.value8 = Math.random() * 50 + 20;
        data.push(temp);
    }
    var ds = new DataSet();
    var dv = ds.createView().source(data);
    dv.transform({
        type: 'fold',
        fields: ['value1', 'value2', 'value3', 'value4', 'value5', 'value6', 'value7', 'value8'], // 展开字段集
        key: 'myType',
        value: 'myValue'
    });
    var chart = new G2.Chart({
        container: 'mountNode',
        forceFit: true,
        padding: [0, -27, 0, 5],
        width: 340,
        height: 100   
    });
    chart.source(dv, {
        time: {
            range: [0, 1]
        },
        myValue: {
            min: 0,
            max: 100
        },
        num: {
            min: 0,
            max: 100
        }
    });
    chart.tooltip({
        crosshairs: {
            type: 'y',
            //fill: 'line',
            style: {
                fill: '#ffff00',
                stroke: '#ff0000',
                lineWidth: 5,
                lineDash: [ 0, 2, 2 ]
            }
        }
    });
    chart.axis('myValue', {
        label: null
    });
    chart.axis('time', {
        label:null,
        subTickCount: 3,
        subTickLine: {
            length: -2,
            stroke: '#3A3A3A',
            lineWidth: 1
        },
        tickLine: {
            length: -2,
            lineWidth: 1,
            stroke: '#3A3A3A'
        } 
    });
    chart.legend(false);
    var color = ['#5AA8D8', '#825738', '#7F7D4C', '#354C8D', '#60714B', '#4A4168', '#515B62', '#803128', '#41677F'];
    
    chart.line().position('time*num')
    chart.line().position('time*myValue').color('myType', color)
        .shape('myType', (type) =&gt; {
            if (type === 'num') {
                return 'line';
            }
            return 'smooth';
        })
        .size('myType', (type) =&gt; {
            if (type === 'num') {
                return 2;
            }
            return 1;
        }).tooltip(false);
    chart.render();
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p>&nbsp;</p>            ]]></description></item><item><title>g2雷达图</title><link>http://www.cnblogs.com/xutongbao/archive/2018/10/19/9924761.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Fri, 19 Oct 2018 06:03:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/10/19/9924761.html</guid><description><![CDATA[
                <p><img alt="" class="has" src="https://img-blog.csdn.net/20181019140132510?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>

<p>&nbsp;</p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;

&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;meta name="viewport" content="width=device-width,height=device-height"&gt;
    &lt;title&gt;g2雷达图&lt;/title&gt;
    &lt;style&gt;
    ::-webkit-scrollbar {
        display: none;
    }

    html,
    body {
        overflow: hidden;
        height: 100%;
        margin: 0;
    }

    .m-mount {
        margin: 10px 0 0 10px;
        width: 150px;
        height: 150px;
    }
    &lt;/style&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;div id="mountNode" class="m-mount"&gt;&lt;/div&gt;
    &lt;script&gt;
    /*Fixing iframe window.innerHeight 0 issue in Safari*/
    document.body.clientHeight;
    &lt;/script&gt;
    &lt;script src="https://gw.alipayobjects.com/os/antv/pkg/_antv.g2-3.3.1/dist/g2.min.js"&gt;&lt;/script&gt;
    &lt;script src="https://gw.alipayobjects.com/os/antv/pkg/_antv.data-set-0.9.6/dist/data-set.min.js"&gt;&lt;/script&gt;
    &lt;script&gt;
    var _DataSet = DataSet,
        DataView = _DataSet.DataView;

    var data = [{
        item: '外网安全',
        num: 20
    }, {
        item: '应用服务',
        num: 80
    }, {
        item: '内网安全',
        num: 50
    }, {
        item: 'app安全',
        num: 40
    }, {
        item: 'web服务',
        num: 60
    }, {
        item: '安全意识',
        num: 95
    }, {
        item: '主机服务',
        num: 80
    }, {
        item: '修复加固',
        num: 70
    }];

    var dv = new DataView().source(data);
    dv.transform({
        type: 'fold',
        fields: ['num'], // 展开字段集
        key: 'user', // key字段
        value: 'score' // value字段
    });
    var chart = new G2.Chart({
        container: 'mountNode',
        forceFit: false,
        padding: [0, 5, 0, 5],
        width: 150,
        height: 150
    });
    chart.source(dv, {
        score: {
            min: 0,
            max: 100
        }
    });
    chart.coord('polar', {
        radius: 0.8
    });
    chart.axis('item', {
        line: null,
        tickLine: null,
        label: null,
        grid: {
            lineStyle: {
                stroke: '#373737',
                lineDash: null
            },
            hideFirstLine: false
        }
    });
    chart.axis('score', {
        line: null,
        tickLine: null,
        label: null,
        grid: {
            type: 'hollow', //polygon  hollow
            lineStyle: {
                stroke: '#373737', // 网格线的颜色
                lineDash: null
            },
        }
    });
    chart.legend(false);
    chart.tooltip(false);
    chart.line().position('item*score').color('user', '#5AA8D8').size(2);
    chart.point().position('item*score').color('user', '#5AA8D8').shape('circle').size(4).style({
        stroke: '#fff',
        lineWidth: 1,
        fillOpacity: 1
    });
    chart.area().position('item*score').color('user', '#5aa8d8').opacity(0.2);
    chart.render();
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p>&nbsp;</p>            ]]></description></item><item><title>nodejs如何引入jquery</title><link>http://www.cnblogs.com/xutongbao/archive/2018/10/18/9924762.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 18 Oct 2018 02:14:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/10/18/9924762.html</guid><description><![CDATA[
                <pre class="has"><code class="language-javascript">const jsdom = require('jsdom');
const { JSDOM } = jsdom;
const { document } = (new JSDOM('&lt;!doctype html&gt;&lt;html&gt;&lt;body&gt;&lt;/body&gt;&lt;/html&gt;')).window;
global.document = document;
global.window = document.defaultView;
const $ = require('jquery')(window);</code></pre>

<p>&nbsp;</p>            ]]></description></item><item><title>MutationObserver 监听页面的DOM元素是否发生了变化 （调试网页劫持）</title><link>http://www.cnblogs.com/xutongbao/archive/2018/10/17/9924763.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 17 Oct 2018 07:49:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/10/17/9924763.html</guid><description><![CDATA[
                <p><img alt="" class="has" src="https://img-blog.csdn.net/20181017154827989?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;

&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;MutationObserver 监听页面的DOM元素是否发生了变化 （调试网页劫持）&lt;/title&gt;
    &lt;style&gt;
    body {
        margin: 0;
        padding: 0;
    }
    &lt;/style&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;button id="btn1" onclick="createE()"&gt;create element&lt;/button&gt;
    &lt;button id="btn2" onclick="changeA()"&gt;change attr&lt;/button&gt;
    &lt;div id="container"&gt;
        &lt;form id="form1" action="/"&gt;
        &lt;/form&gt;
    &lt;/div&gt;
    &lt;script&gt;
    btn1.onclick = function() {
        var container = document.getElementById('container');
        var eA = document.createElement('a');
        eA.innerHTML = '百度'
        eA.href = "http://www.baidu.com";
        container.appendChild(eA);
    };

    btn2.onclick = function() {
        form1.action = "http://www.qq.com";
    };

    var observer = new MutationObserver(function(mutations) {
        mutations.forEach(function(mutation) {
            if (mutation.type === 'childList') {
                // 在创建新的 element 时调用
                console.log("child list: ");
                console.log(mutation);
            } else if (mutation.type === 'attributes') {
                // 在属性发生变化时调用
                console.log("attributes: ");
                console.log(mutation);
            }
        });
    });

    observer.observe(window.document, {
        subtree: true,
        childList: true,
        attributes: true,
        attributeFilter: ['src', 'href', 'action']
    });
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p>&nbsp;</p>            ]]></description></item><item><title>treeWalker</title><link>http://www.cnblogs.com/xutongbao/archive/2018/10/17/9924764.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 17 Oct 2018 07:36:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/10/17/9924764.html</guid><description><![CDATA[
                <p><img alt="" class="has" src="https://img-blog.csdn.net/20181017153519989?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70">&nbsp;</p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;

&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;treeWalker&lt;/title&gt;
    &lt;style&gt;
    body {
        margin: 0;
        padding: 0;
    }
    &lt;/style&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;div id="container"&gt;
        &lt;a id="a1"&gt;hello a1&lt;/a&gt;&lt;br&gt;
        &lt;a id="a2" onclick="removeA2()"&gt;hello a2&lt;/a&gt;&lt;br&gt;
        &lt;a id="a3"&gt;hello a3&lt;/a&gt;&lt;br&gt;
    &lt;/div&gt;
    &lt;script&gt;
    function removeA2() {
        var c = document.getElementById('container');
        c.removeChild(document.getElementById('a2'));
    }

    function treeWalkerFilter(element) {
        if (element.nodeType === Node.ELEMENT_NODE) {
            return NodeFilter.FILTER_ACCEPT;
        }
    }

    treeWalker = document.createTreeWalker(
        document,
        NodeFilter.SHOW_ELEMENT,
        treeWalkerFilter,
        false
    );

    while (treeWalker.nextNode()) {
        console.log("[*] processing node " + treeWalker.currentNode.tagName + ' ' + treeWalker.currentNode.id);
        // if (treeWalker.currentNode.click) {
        //     treeWalker.currentNode.click();
        // }
    }
    console.log(treeWalker.currentNode);
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p>&nbsp;</p>            ]]></description></item><item><title>npm 升级所有依赖包</title><link>http://www.cnblogs.com/xutongbao/archive/2018/10/15/9924765.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Mon, 15 Oct 2018 03:41:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/10/15/9924765.html</guid><description><![CDATA[
                <pre class="has"><code class="language-javascript">npm install -g npm-check-updates
ncu -u</code></pre>

<p>&nbsp;<img alt="" class="has" src="https://img-blog.csdn.net/2018101511401378?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>            ]]></description></item><item><title>React中使用 ref 和 findDomNode</title><link>http://www.cnblogs.com/xutongbao/archive/2018/10/12/9924766.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Fri, 12 Oct 2018 09:58:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/10/12/9924766.html</guid><description><![CDATA[
                <p>对于 React 组件来说，refs 会指向一个组件类的实例，所以可以调用该类定义的任何方法。<br>
如果需要访问该组件的真实 DOM，可以用 ReactDOM.findDOMNode 来找到 DOM 节点，但我们并<br>
不推荐这样做。因为这在大部分情况下都打破了封装性，而且通常都能用更清晰的办法在 React<br>
中构建代码。</p>

<p><img alt="" class="has" src="https://img-blog.csdn.net/2018101217592112?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>

<pre class="has"><code class="language-javascript">import React, { Component } from 'react';
import ReactDOM from 'react-dom';

class Comp extends Component {
    inner() {
      console.log('inner')
    }
    render() {
        return (
          &lt;div&gt;
            &lt;input type="input"/&gt;
          &lt;/div&gt;
        )
    }
}

class App extends Component {
    constructor () {
      super()
    }    
    componentDidMount () {
      const myComp = this.refs.myComp;
      myComp.inner();  //访问子组件的函数
      const dom = ReactDOM.findDOMNode(myComp);
      dom.childNodes[0].value = 'hello';
      dom.childNodes[0].focus();
    }
    render() {
        return (
          &lt;div&gt;
            &lt;Comp ref="myComp" /&gt;
          &lt;/div&gt;
        );
    }
}

export default App;</code></pre>

<p>&nbsp;</p>            ]]></description></item><item><title>React 创建对话框组件</title><link>http://www.cnblogs.com/xutongbao/archive/2018/10/12/9924767.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Fri, 12 Oct 2018 08:42:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/10/12/9924767.html</guid><description><![CDATA[
                <p><img alt="" class="has" src="https://img-blog.csdn.net/20181012164428270?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>

<p><img alt="" class="has" src="https://img-blog.csdn.net/20181012163915814?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>

<p>Dialog.js:</p>

<pre class="has"><code class="language-javascript">import React from 'react';
import ReactDOM from 'react-dom';
export default class Dialog {
    static modal(Component, zIndex) {
        let body = document.body;
        let showDom = document.createElement("div");
        showDom.classList.add('app-pop');
        showDom.id= 'm-pop';
        showDom.style.zIndex = zIndex || 999;
        body.appendChild(showDom);
        let close = () =&gt; {
            ReactDOM.unmountComponentAtNode(showDom);
            body.removeChild(showDom);
        }
        ReactDOM.render(
            &lt;Component onClose={close} /&gt;,
            showDom
        );
    }
}</code></pre>

<p>App.js</p>

<pre class="has"><code class="language-javascript">import React, { Component } from 'react';
import Dialog from './Dialog';

class DialogInner extends Component {
    componentDidMount() {
        document.getElementById('m-pop').addEventListener('click', e =&gt; {
            if (e.target &amp;&amp; e.target.className.indexOf('app-pop-inner') &gt;= 0) {
                return;
            }
            this.props.onClose();
        });
    }
    handleClose() {
        this.props.onClose();
    }
    render() {
        return (
            &lt;div className="app-pop-inner"&gt;
                &lt;button onClick={this.handleClose.bind(this)}&gt;Close&lt;/button&gt;
            &lt;/div&gt;
        )
    }
}

class App extends Component {
    handleOpen() {
        Dialog.modal(DialogInner, 1);
    }
    render() {
        return (
            &lt;div&gt;
                &lt;button onClick={this.handleOpen.bind(this)}&gt;打开弹框&lt;/button&gt;
            &lt;/div&gt;
        );
    }
}

export default App;</code></pre>

<p>index.js:</p>

<pre class="has"><code class="language-javascript">import React from 'react';
import ReactDOM from 'react-dom';
import App from './App';
import './index.css';
import registerServiceWorker from './registerServiceWorker';

ReactDOM.render(&lt;App /&gt;, document.getElementById('root'));
registerServiceWorker();
</code></pre>

<p>index.css:</p>

<pre class="has"><code class="language-css">.app-pop {position: fixed;width: 100%;top: 0;bottom: 0;right: 0;background-color: rgba(0,0,0,.3);overflow: auto;}  
.app-pop-inner {position:absolute;left:50%;top:50%;width: 328px;height:380px;border-radius: 6px;transform:translate(-50%,-50%);-webkit-transform:translate(-50%,-50%);background: green;} </code></pre>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>            ]]></description></item><item><title>React中防止字符转义</title><link>http://www.cnblogs.com/xutongbao/archive/2018/10/12/9924768.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Fri, 12 Oct 2018 02:57:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/10/12/9924768.html</guid><description><![CDATA[
                <p>React 会将所有要显示到 DOM 的字符串转义，防止 XSS。所以，如果 JSX 中含有转义后的<br>
实体字符，比如 &amp;copy;（©），则最后 DOM 中不会正确显示，因为 React 自动把 &amp;copy; 中的特<br>
殊字符转义了。</p>

<p>解决方案：</p>

<pre class="has"><code class="language-html">import React, { Component } from 'react';
import PropTypes from 'prop-types'
import { connect } from 'react-redux'
import ThemeSwitch from './ThemeSwitch'

class Header extends Component {
  static propTypes = {
    themeColor: PropTypes.string
  }

  render () {
    return (
      &lt;div&gt;
        &lt;h1 style={{ color: this.props.themeColor }}&gt;{['cc ', &lt;span&gt;&amp;copy;&lt;/span&gt;, ' 2015']}&lt;/h1&gt;
        &lt;h1 dangerouslySetInnerHTML={{__html: 'cc &amp;copy; 2015'}}&gt;&lt;/h1&gt;
        &lt;h1 style={{ color: this.props.themeColor }}&gt;cc  &lt;span&gt;&amp;copy;&lt;/span&gt; 2015&lt;/h1&gt;
        &lt;ThemeSwitch/&gt;
      &lt;/div&gt;
    )
  }
}

const mapStateToProps = (state) =&gt; {
  return {
    themeColor: state.themeColor
  }
}
Header = connect(mapStateToProps, null)(Header)

export default Header
</code></pre>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>            ]]></description></item><item><title>JSX添加注释</title><link>http://www.cnblogs.com/xutongbao/archive/2018/10/12/9924769.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Fri, 12 Oct 2018 02:24:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/10/12/9924769.html</guid><description><![CDATA[
                <pre class="has"><code class="language-javascript">import React, { Component } from 'react';
import PropTypes from 'prop-types'
import { connect } from 'react-redux'
import ThemeSwitch from './ThemeSwitch'

class Header extends Component {
  static propTypes = {
    themeColor: PropTypes.string
  }

  render () {
    return (
      &lt;div&gt;
        {/* 在一个组件的子元素位置使用注释要 */}
        &lt;h1 style={{ color: this.props.themeColor }}&gt;xutongbao&lt;/h1&gt;
        &lt;ThemeSwitch /* 在组件标签上的注释 */ /&gt;
      &lt;/div&gt;
    )
  }
}

const mapStateToProps = (state) =&gt; {
  return {
    themeColor: state.themeColor
  }
}
Header = connect(mapStateToProps, null)(Header)

export default Header
</code></pre>

<p>&nbsp;</p>            ]]></description></item><item><title>redux和react-redux在react中的使用</title><link>http://www.cnblogs.com/xutongbao/archive/2018/10/11/9924770.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 11 Oct 2018 08:49:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/10/11/9924770.html</guid><description><![CDATA[
                <p><img alt="" class="has" src="https://img-blog.csdn.net/2018101116450474?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>

<p><img alt="" class="has" src="https://img-blog.csdn.net/20181011164537107?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70">&nbsp;</p>

<p>App.js:</p>

<pre class="has"><code class="language-javascript">import React, { Component } from 'react';
import PropTypes from 'prop-types'
import { createStore } from 'redux'
import { Provider } from 'react-redux'
import Header from './Header'

const themeReducer = (state, action) =&gt; {
  if (!state) return {
    themeColor: 'red'
  }
  switch (action.type) {
    case 'CHANGE_COLOR':
      return { ...state, themeColor: action.themeColor }
    default:
      return state
  }
}

const store = createStore(themeReducer)

class App extends Component {
  render() {
    return (
      &lt;Provider store={store}&gt;
        &lt;Header /&gt;
      &lt;/Provider&gt;
    );
  }
}

export default App;
</code></pre>

<p>Header.js:</p>

<pre class="has"><code class="language-javascript">import React, { Component } from 'react';
import PropTypes from 'prop-types'
import { connect } from 'react-redux'
import ThemeSwitch from './ThemeSwitch'

class Header extends Component {
  static propTypes = {
    themeColor: PropTypes.string
  }

  render () {
    return (
      &lt;div&gt;
        &lt;h1 style={{ color: this.props.themeColor }}&gt;xutongbao&lt;/h1&gt;
        &lt;ThemeSwitch/&gt;
      &lt;/div&gt;
    )
  }
}

const mapStateToProps = (state) =&gt; {
  return {
    themeColor: state.themeColor
  }
}
Header = connect(mapStateToProps, null)(Header)

export default Header
</code></pre>

<p>ThemeSwitch.js:</p>

<pre class="has"><code class="language-javascript">import React, { Component } from 'react';
import PropTypes from 'prop-types'
import { connect } from 'react-redux'

class ThemeSwitch extends Component {
  static contextTypes = {
    store: PropTypes.object
  }

  handleSwitchColor (color) {
    if (this.props.onSwitchColor) {
      this.props.onSwitchColor(color)
    }
  }

  render () {
    return (
      &lt;div&gt;
        &lt;button onClick={this.handleSwitchColor.bind(this, 'red')}&gt;Red&lt;/button&gt;
        &lt;button onClick={this.handleSwitchColor.bind(this, 'blue')}&gt;Blue&lt;/button&gt;
      &lt;/div&gt;
    )
  }
}

const mapDispatchToProps = (dispatch) =&gt; {
  return {
    onSwitchColor: (color) =&gt; {
      dispatch({ type: 'CHANGE_COLOR', themeColor: color })
    }
  }
}
ThemeSwitch = connect(null, mapDispatchToProps)(ThemeSwitch)

export default ThemeSwitch
</code></pre>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>            ]]></description></item><item><title>动手实现 React-redux（三） Provider</title><link>http://www.cnblogs.com/xutongbao/archive/2018/10/11/9924771.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 11 Oct 2018 07:55:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/10/11/9924771.html</guid><description><![CDATA[
                <p>react-redux.js:</p>

<pre class="has"><code class="language-javascript">import React, { Component } from 'react'
import PropTypes from 'prop-types'

export const connect = (mapStateToProps, mapDispatchToProps) =&gt; (WrappedComponent) =&gt; {
  class Connect extends Component {
    static contextTypes = {
      store: PropTypes.object
    }

    constructor () {
      super()
      this.state = {
        allProps: {}
      }
    }

    componentWillMount () {
      const { store } = this.context
      this._updateProps()
      store.subscribe(() =&gt; this._updateProps())
    }

    _updateProps () {
      const { store } = this.context
      let stateProps = mapStateToProps
        ? mapStateToProps(store.getState(), this.props)
        : {} // 防止 mapStateToProps 没有传入
      let dispatchProps = mapDispatchToProps
        ? mapDispatchToProps(store.dispatch, this.props)
        : {} // 防止 mapDispatchToProps 没有传入
      this.setState({
        allProps: {
          ...stateProps,
          ...dispatchProps,
          ...this.props
        }
      })
    }

    render () {
      return &lt;WrappedComponent {...this.state.allProps} /&gt;
    }
  }
  return Connect
}

export class Provider extends Component {
  static propTypes = {
    store: PropTypes.object,
    children: PropTypes.any
  }

  static childContextTypes = {
    store: PropTypes.object
  }

  getChildContext () {
    return {
      store: this.props.store
    }
  }

  render () {
    return (
      &lt;div&gt;{this.props.children}&lt;/div&gt;
    )
  }
}</code></pre>

<p>App.js:</p>

<pre class="has"><code class="language-javascript">import React, { Component } from 'react';
import PropTypes from 'prop-types'
import Header from './Header'
import { Provider } from './react-redux'

function createStore (reducer) {
  let state = null
  const listeners = []
  const subscribe = (listener) =&gt; listeners.push(listener)
  const getState = () =&gt; state
  const dispatch = (action) =&gt; {
    state = reducer(state, action)
    listeners.forEach((listener) =&gt; listener())
  }
  dispatch({}) // 初始化 state
  return { getState, dispatch, subscribe }
}

const themeReducer = (state, action) =&gt; {
  if (!state) return {
    themeColor: 'red'
  }
  switch (action.type) {
    case 'CHANGE_COLOR':
      return { ...state, themeColor: action.themeColor }
    default:
      return state
  }
}

const store = createStore(themeReducer)

class App extends Component {
  render() {
    return (
      &lt;Provider store={store}&gt;
        &lt;Header /&gt;
      &lt;/Provider&gt;
    );
  }
}

export default App;
</code></pre>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>            ]]></description></item><item><title>动手实现 React-redux（二）  mapDispatchToProps</title><link>http://www.cnblogs.com/xutongbao/archive/2018/10/11/9924772.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 11 Oct 2018 07:21:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/10/11/9924772.html</guid><description><![CDATA[
                <p><img alt="" class="has" src="https://img-blog.csdn.net/2018101115154977?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>

<p><img alt="" class="has" src="https://img-blog.csdn.net/20181011151638370?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>

<p>&nbsp;</p>

<p>App.js:</p>

<pre class="has"><code class="language-javascript">import React, { Component } from 'react';
import PropTypes from 'prop-types'
import Header from './Header'

function createStore (reducer) {
  let state = null
  const listeners = []
  const subscribe = (listener) =&gt; listeners.push(listener)
  const getState = () =&gt; state
  const dispatch = (action) =&gt; {
    state = reducer(state, action)
    listeners.forEach((listener) =&gt; listener())
  }
  dispatch({}) // 初始化 state
  return { getState, dispatch, subscribe }
}

const themeReducer = (state, action) =&gt; {
  if (!state) return {
    themeColor: 'red'
  }
  switch (action.type) {
    case 'CHANGE_COLOR':
      return { ...state, themeColor: action.themeColor }
    default:
      return state
  }
}

const store = createStore(themeReducer)

class App extends Component {
  static childContextTypes = {
    store: PropTypes.object
  }

  getChildContext () {
    return { store }
  }

  render() {
    return (
      &lt;div&gt;
        &lt;Header /&gt;
      &lt;/div&gt;
    );
  }
}

export default App;
</code></pre>

<p>Header.js:</p>

<pre class="has"><code class="language-javascript">import React, { Component } from 'react';
import PropTypes from 'prop-types'
import { connect } from './react-redux'
import ThemeSwitch from './ThemeSwitch'

class Header extends Component {
  static propTypes = {
    themeColor: PropTypes.string
  }

  render () {
    return (
      &lt;div&gt;
        &lt;h1 style={{ color: this.props.themeColor }}&gt;xutongbao&lt;/h1&gt;
        &lt;ThemeSwitch/&gt;
      &lt;/div&gt;
    )
  }
}

const mapStateToProps = (state) =&gt; {
  return {
    themeColor: state.themeColor
  }
}
Header = connect(mapStateToProps, null)(Header)

export default Header
</code></pre>

<p>react-redux.js:</p>

<pre class="has"><code class="language-javascript">import React, { Component } from 'react'
import PropTypes from 'prop-types'

export const connect = (mapStateToProps, mapDispatchToProps) =&gt; (WrappedComponent) =&gt; {
  class Connect extends Component {
    static contextTypes = {
      store: PropTypes.object
    }

    constructor () {
      super()
      this.state = {
        allProps: {}
      }
    }

    componentWillMount () {
      const { store } = this.context
      this._updateProps()
      store.subscribe(() =&gt; this._updateProps())
    }

    _updateProps () {
      const { store } = this.context
      let stateProps = mapStateToProps
        ? mapStateToProps(store.getState(), this.props)
        : {} // 防止 mapStateToProps 没有传入
      let dispatchProps = mapDispatchToProps
        ? mapDispatchToProps(store.dispatch, this.props)
        : {} // 防止 mapDispatchToProps 没有传入
      this.setState({
        allProps: {
          ...stateProps,
          ...dispatchProps,
          ...this.props
        }
      })
    }

    render () {
      return &lt;WrappedComponent {...this.state.allProps} /&gt;
    }
  }
  return Connect
}
 </code></pre>

<p>ThemeSwitch.js:</p>

<pre class="has"><code class="language-javascript">import React, { Component } from 'react';
import PropTypes from 'prop-types'
import { connect } from './react-redux'

class ThemeSwitch extends Component {
  static contextTypes = {
    store: PropTypes.object
  }

  handleSwitchColor (color) {
    if (this.props.onSwitchColor) {
      this.props.onSwitchColor(color)
    }
  }

  render () {
    return (
      &lt;div&gt;
        &lt;button onClick={this.handleSwitchColor.bind(this, 'red')}&gt;Red&lt;/button&gt;
        &lt;button onClick={this.handleSwitchColor.bind(this, 'blue')}&gt;Blue&lt;/button&gt;
      &lt;/div&gt;
    )
  }
}

const mapDispatchToProps = (dispatch) =&gt; {
  return {
    onSwitchColor: (color) =&gt; {
      dispatch({ type: 'CHANGE_COLOR', themeColor: color })
    }
  }
}
ThemeSwitch = connect(null, mapDispatchToProps)(ThemeSwitch)

export default ThemeSwitch
</code></pre>

<p>&nbsp;</p>            ]]></description></item><item><title>动手实现 React-redux（一）   connect 和 mapStateToProps</title><link>http://www.cnblogs.com/xutongbao/archive/2018/10/11/9924773.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 11 Oct 2018 07:02:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/10/11/9924773.html</guid><description><![CDATA[
                <p>1.结合 context 和 store</p>

<pre class="has"><code class="language-html">import React, { Component } from 'react';
import PropTypes from 'prop-types'

function createStore (reducer) {
  let state = null
  const listeners = []
  const subscribe = (listener) =&gt; listeners.push(listener)
  const getState = () =&gt; state
  const dispatch = (action) =&gt; {
    state = reducer(state, action)
    listeners.forEach((listener) =&gt; listener())
  }
  dispatch({}) // 初始化 state
  return { getState, dispatch, subscribe }
}

const themeReducer = (state, action) =&gt; {
  if (!state) return {
    themeColor: 'red'
  }
  switch (action.type) {
    case 'CHANGE_COLOR':
      return { ...state, themeColor: action.themeColor }
    default:
      return state
  }
}

const store = createStore(themeReducer)

class Header extends Component {
  static contextTypes = {
    store: PropTypes.object
  }

  constructor () {
    super()
    this.state = { themeColor: '' }
  }

  componentWillMount () {
    const { store } = this.context
    this._updateThemeColor()
    store.subscribe(() =&gt; this._updateThemeColor())
  }

  _updateThemeColor () {
    const { store } = this.context
    const state = store.getState()
    this.setState({ themeColor: state.themeColor })
  }

  render () {
    return (
      &lt;div&gt;
        &lt;h1 style={{ color: this.state.themeColor }}&gt;xutongbao&lt;/h1&gt;
        &lt;ThemeSwitch /&gt;
      &lt;/div&gt;
    )
  }
}

class ThemeSwitch extends Component {
  static contextTypes = {
    store: PropTypes.object
  }

  // dispatch action 去改变颜色
  handleSwitchColor (color) {
    const { store } = this.context
    store.dispatch({
      type: 'CHANGE_COLOR',
      themeColor: color
    })
  }

  render () {
    return (
      &lt;div&gt;
        &lt;button onClick={this.handleSwitchColor.bind(this, 'red')}&gt;Red&lt;/button&gt;
        &lt;button onClick={this.handleSwitchColor.bind(this, 'blue')}&gt;Blue&lt;/button&gt;
      &lt;/div&gt;
    )
  }
}

class App extends Component {
  static childContextTypes = {
    store: PropTypes.object
  }

  getChildContext () {
    return { store }
  }

  render() {
    return (
      &lt;div&gt;
        &lt;Header /&gt;
      &lt;/div&gt;
    );
  }
}

export default App;
</code></pre>

<p>2.connect 和 mapStateToProps</p>

<p><img alt="" class="has" src="https://img-blog.csdn.net/20181011145828961?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>

<p>App.js:</p>

<pre class="has"><code class="language-javascript">import React, { Component } from 'react';
import PropTypes from 'prop-types'
import Header from './Header'

function createStore (reducer) {
  let state = null
  const listeners = []
  const subscribe = (listener) =&gt; listeners.push(listener)
  const getState = () =&gt; state
  const dispatch = (action) =&gt; {
    state = reducer(state, action)
    listeners.forEach((listener) =&gt; listener())
  }
  dispatch({}) // 初始化 state
  return { getState, dispatch, subscribe }
}

const themeReducer = (state, action) =&gt; {
  if (!state) return {
    themeColor: 'red'
  }
  switch (action.type) {
    case 'CHANGE_COLOR':
      return { ...state, themeColor: action.themeColor }
    default:
      return state
  }
}

const store = createStore(themeReducer)

class App extends Component {
  static childContextTypes = {
    store: PropTypes.object
  }

  getChildContext () {
    return { store }
  }

  render() {
    return (
      &lt;div&gt;
        &lt;Header /&gt;
      &lt;/div&gt;
    );
  }
}

export default App;
</code></pre>

<p>Header.js:</p>

<pre class="has"><code class="language-javascript">import React, { Component } from 'react';
import PropTypes from 'prop-types'
import { connect } from './react-redux'
import ThemeSwitch from './ThemeSwitch'

class Header extends Component {
  static propTypes = {
    themeColor: PropTypes.string
  }

  render () {
    return (
      &lt;div&gt;
        &lt;h1 style={{ color: this.props.themeColor }}&gt;xutongbao&lt;/h1&gt;
        &lt;ThemeSwitch/&gt;
      &lt;/div&gt;
    )
  }
}

const mapStateToProps = (state) =&gt; {
  return {
    themeColor: state.themeColor
  }
}
Header = connect(mapStateToProps)(Header)

export default Header
</code></pre>

<p>react-redux.js:</p>

<pre class="has"><code class="language-javascript">import React, { Component } from 'react'
import PropTypes from 'prop-types'

export const connect = (mapStateToProps) =&gt; (WrappedComponent) =&gt; {
  class Connect extends Component {
    static contextTypes = {
      store: PropTypes.object
    }

    constructor () {
      super()
      this.state = { allProps: {} }
    }

    componentWillMount () {
      const { store } = this.context
      this._updateProps()
      store.subscribe(() =&gt; this._updateProps())
    }

    _updateProps () {
      const { store } = this.context
      let stateProps = mapStateToProps(store.getState(), this.props) // 额外传入 props，让获取数据更加灵活方便
      this.setState({
        allProps: { // 整合普通的 props 和从 state 生成的 props
          ...stateProps,
          ...this.props
        }
      })
    }

    render () {
      return &lt;WrappedComponent {...this.state.allProps} /&gt;
    }
  }

  return Connect
}

 </code></pre>

<p>ThemeSwitch.js</p>

<pre class="has"><code class="language-javascript">import React, { Component } from 'react';
import PropTypes from 'prop-types'

class ThemeSwitch extends Component {
  static contextTypes = {
    store: PropTypes.object
  }

  // dispatch action 去改变颜色
  handleSwitchColor (color) {
    const { store } = this.context
    store.dispatch({
      type: 'CHANGE_COLOR',
      themeColor: color
    })
  }

  render () {
    return (
      &lt;div&gt;
        &lt;button onClick={this.handleSwitchColor.bind(this, 'red')}&gt;Red&lt;/button&gt;
        &lt;button onClick={this.handleSwitchColor.bind(this, 'blue')}&gt;Blue&lt;/button&gt;
      &lt;/div&gt;
    )
  }
}

export default ThemeSwitch
</code></pre>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>            ]]></description></item><item><title>Redux架构模式</title><link>http://www.cnblogs.com/xutongbao/archive/2018/10/11/9924774.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 11 Oct 2018 03:13:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/10/11/9924774.html</guid><description><![CDATA[
                <p>1.抽离 store 和监控数据变化</p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;

&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;Redux架构模式&lt;/title&gt;
    &lt;style type="text/css"&gt;
    &lt;/style&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;div id='title'&gt;&lt;/div&gt;
    &lt;div id='content'&gt;&lt;/div&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"&gt;&lt;/script&gt;
    &lt;script type="text/javascript"&gt;
    $(function() {
        function createStore(state, stateChanger) {
            const listeners = []
            const subscribe = (listener) =&gt; listeners.push(listener)
            const getState = () =&gt; state
            const dispatch = (action) =&gt; {
                stateChanger(state, action)
                listeners.forEach((listener) =&gt; listener())
            }
            return { getState, dispatch, subscribe }
        }

        function renderApp(appState) {
            renderTitle(appState.title)
            renderContent(appState.content)
        }

        function renderTitle(title) {
            const titleDOM = document.getElementById('title')
            titleDOM.innerHTML = title.text
            titleDOM.style.color = title.color
        }

        function renderContent(content) {
            const contentDOM = document.getElementById('content')
            contentDOM.innerHTML = content.text
            contentDOM.style.color = content.color
        }

        let appState = {
            title: {
                text: 'React.js 小书',
                color: 'red',
            },
            content: {
                text: 'React.js 小书内容',
                color: 'blue'
            }
        }

        function stateChanger(state, action) {
            switch (action.type) {
                case 'UPDATE_TITLE_TEXT':
                    state.title.text = action.text
                    break
                case 'UPDATE_TITLE_COLOR':
                    state.title.color = action.color
                    break
                default:
                    break
            }
        }

        const store = createStore(appState, stateChanger)
        store.subscribe(() =&gt; renderApp(store.getState())) // 监听数据变化

        renderApp(store.getState()) // 首次渲染页面
        store.dispatch({ type: 'UPDATE_TITLE_TEXT', text: '《React.js 小书》' }) // 修改标题文本
        store.dispatch({ type: 'UPDATE_TITLE_COLOR', color: 'blue' }) // 修改标题颜色    
    })
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p>&nbsp;</p>

<p>2.共享结构的对象提高性能</p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;

&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;Redux架构模式&lt;/title&gt;
    &lt;style type="text/css"&gt;
    &lt;/style&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;div id='title'&gt;&lt;/div&gt;
    &lt;div id='content'&gt;&lt;/div&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"&gt;&lt;/script&gt;
    &lt;script type="text/javascript"&gt;
    $(function() {
        function createStore(state, stateChanger) {
            const listeners = []
            const subscribe = (listener) =&gt; listeners.push(listener)
            const getState = () =&gt; state
            const dispatch = (action) =&gt; {
                state = stateChanger(state, action) // 覆盖原对象
                listeners.forEach((listener) =&gt; listener())
            }
            return { getState, dispatch, subscribe }
        }

        function renderApp(newAppState, oldAppState = {}) { // 防止 oldAppState 没有传入，所以加了默认参数 oldAppState = {}
            if (newAppState === oldAppState) return // 数据没有变化就不渲染了
            console.log('render app...')
            renderTitle(newAppState.title, oldAppState.title)
            renderContent(newAppState.content, oldAppState.content)
        }

        function renderTitle(newTitle, oldTitle = {}) {
            if (newTitle === oldTitle) return // 数据没有变化就不渲染了
            console.log('render title...')
            const titleDOM = document.getElementById('title')
            titleDOM.innerHTML = newTitle.text
            titleDOM.style.color = newTitle.color
        }

        function renderContent(newContent, oldContent = {}) {
            if (newContent === oldContent) return // 数据没有变化就不渲染了
            console.log('render content...')
            const contentDOM = document.getElementById('content')
            contentDOM.innerHTML = newContent.text
            contentDOM.style.color = newContent.color
        }

        let appState = {
            title: {
                text: 'React.js 小书',
                color: 'red',
            },
            content: {
                text: 'React.js 小书内容',
                color: 'blue'
            }
        }

        function stateChanger(state, action) {
            switch (action.type) {
                case 'UPDATE_TITLE_TEXT':
                    return { // 构建新的对象并且返回
                        ...state,
                        title: {
                            ...state.title,
                            text: action.text
                        }
                    }
                case 'UPDATE_TITLE_COLOR':
                    return { // 构建新的对象并且返回
                        ...state,
                        title: {
                            ...state.title,
                            color: action.color
                        }
                    }
                default:
                    return state // 没有修改，返回原来的对象
            }
        }

        const store = createStore(appState, stateChanger)
        let oldState = store.getState() // 缓存旧的 state
        store.subscribe(() =&gt; {
            const newState = store.getState() // 数据可能变化，获取新的 state
            renderApp(newState, oldState) // 把新旧的 state 传进去渲染
            oldState = newState // 渲染完以后，新的 newState 变成了旧的 oldState，等待下一次数据变化重新渲染
        })

        renderApp(store.getState()) // 首次渲染页面
        store.dispatch({ type: 'UPDATE_TITLE_TEXT', text: '《React.js 小书》' }) // 修改标题文本
        store.dispatch({ type: 'UPDATE_TITLE_COLOR', color: 'blue' }) // 修改标题颜色       
    })
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p>3.reducer</p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;

&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;Redux架构模式&lt;/title&gt;
    &lt;style type="text/css"&gt;
    &lt;/style&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;div id='title'&gt;&lt;/div&gt;
    &lt;div id='content'&gt;&lt;/div&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"&gt;&lt;/script&gt;
    &lt;script type="text/javascript"&gt;
    $(function() {
        function createStore(reducer) {
            let state = null
            const listeners = []
            const subscribe = (listener) =&gt; listeners.push(listener)
            const getState = () =&gt; state
            const dispatch = (action) =&gt; {
                state = reducer(state, action) // 覆盖原对象
                listeners.forEach((listener) =&gt; listener())
            }
            dispatch({}) // 初始化 state
            return { getState, dispatch, subscribe }
        }

        function renderApp(newAppState, oldAppState = {}) { // 防止 oldAppState 没有传入，所以加了默认参数 oldAppState = {}
            if (newAppState === oldAppState) return // 数据没有变化就不渲染了
            console.log('render app...')
            renderTitle(newAppState.title, oldAppState.title)
            renderContent(newAppState.content, oldAppState.content)
        }

        function renderTitle(newTitle, oldTitle = {}) {
            if (newTitle === oldTitle) return // 数据没有变化就不渲染了
            console.log('render title...')
            const titleDOM = document.getElementById('title')
            titleDOM.innerHTML = newTitle.text
            titleDOM.style.color = newTitle.color
        }

        function renderContent(newContent, oldContent = {}) {
            if (newContent === oldContent) return // 数据没有变化就不渲染了
            console.log('render content...')
            const contentDOM = document.getElementById('content')
            contentDOM.innerHTML = newContent.text
            contentDOM.style.color = newContent.color
        }

        function reducer (state, action) {
          if (!state) {
            return {
              title: {
                text: 'React.js 小书',
                color: 'red',
              },
              content: {
                text: 'React.js 小书内容',
                color: 'blue'
              }
            }
          }
          switch (action.type) {
            case 'UPDATE_TITLE_TEXT':
              return {
                ...state,
                title: {
                  ...state.title,
                  text: action.text
                }
              }
            case 'UPDATE_TITLE_COLOR':
              return {
                ...state,
                title: {
                  ...state.title,
                  color: action.color
                }
              }
            default:
              return state
          }
        }

        const store = createStore(reducer)
        let oldState = store.getState() // 缓存旧的 state
        store.subscribe(() =&gt; {
            const newState = store.getState() // 数据可能变化，获取新的 state
            renderApp(newState, oldState) // 把新旧的 state 传进去渲染
            oldState = newState // 渲染完以后，新的 newState 变成了旧的 oldState，等待下一次数据变化重新渲染
        })

        renderApp(store.getState()) // 首次渲染页面
        store.dispatch({ type: 'UPDATE_TITLE_TEXT', text: '《React.js 小书》' }) // 修改标题文本
        store.dispatch({ type: 'UPDATE_TITLE_COLOR', color: 'blue' }) // 修改标题颜色       
    })
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p>不知不觉地，到这里大家不仅仅已经掌握了 Redux，而且还自己动手写了一个 Redux。我们从一个非常原始的代码开始，不停地在发现问题、解决问题、优化代码的过程中进行推演，最后把 Redux 模式自己总结出来了。这就是所谓的 Redux 模式，我们再来回顾一下这几节我们到底干了什么事情。</p>

<p>我们从一个简单的例子的代码中发现了共享的状态如果可以被任意修改的话，那么程序的行为将非常不可预料，所以我们提高了修改数据的门槛：你必须通过 <code>dispatch</code> 执行某些允许的修改操作，而且必须大张旗鼓的在 <code>action</code> 里面声明。</p>

<p>这种模式挺好用的，我们就把它抽象出来一个 <code>createStore</code>，它可以产生 <code>store</code>，里面包含 <code>getState</code> 和 <code>dispatch</code> 函数，方便我们使用。</p>

<p>后来发现每次修改数据都需要手动重新渲染非常麻烦，我们希望自动重新渲染视图。所以后来加入了订阅者模式，可以通过 <code>store.subscribe</code> 订阅数据修改事件，每次数据更新的时候自动重新渲染视图。</p>

<p>接下来我们发现了原来的“重新渲染视图”有比较严重的性能问题，我们引入了“共享结构的对象”来帮我们解决问题，这样就可以在每个渲染函数的开头进行简单的判断避免没有被修改过的数据重新渲染。</p>

<p>我们优化了 <code>stateChanger</code> 为 reducer，定义了 reducer 只能是纯函数，功能就是负责初始 <code>state</code>，和根据 <code>state</code> 和 <code>action</code> 计算具有共享结构的新的 <code>state</code>。</p>

<p><code>createStore</code> 现在可以直接拿来用了，套路就是：</p>

<pre class="has"><code class="language-javascript">// 定一个 reducer
function reducer (state, action) {
  /* 初始化 state 和 switch case */
}

// 生成 store
const store = createStore(reducer)

// 监听数据变化重新渲染页面
store.subscribe(() =&gt; renderApp(store.getState()))

// 首次渲染页面
renderApp(store.getState()) 

// 后面可以随意 dispatch 了，页面自动更新
store.dispatch(...)</code></pre>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>            ]]></description></item><item><title>React context(不使用props，父组件给子组件传递信息）</title><link>http://www.cnblogs.com/xutongbao/archive/2018/10/10/9924775.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 10 Oct 2018 09:16:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/10/10/9924775.html</guid><description><![CDATA[
                <p><img alt="" class="has" src="https://img-blog.csdn.net/20181010171417288?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>

<p>&nbsp;</p>

<p>一个组件可以通过 <code>getChildContext</code> 方法返回一个对象，这个对象就是子树的 context，提供 context 的组件必须提供 <code>childContextTypes</code> 作为 context 的声明和验证。</p>

<p>如果一个组件设置了context，那么它的子组件都可以直接访问到里面的内容，它就像这个组件为根的子树的全局变量。</p>

<p>任意深度的子组件都可以通过 contextTypes 来声明你想要的 context 里面的哪些状态，然后可以通过 this.context 访问到那些状态。</p>

<p>context 打破了组件和组件之间通过 props 传递数据的规范，极大地增强了组件之间的耦合性。而且，就如全局变量一样，context 里面的数据能被随意接触就能被随意修改，每个组件都能够改 context 里面的内容会导致程序的运行不可预料。</p>

<p>但是这种机制对于前端应用状态管理来说是很有帮助的，因为毕竟很多状态都会在组件之间进行共享，</p>

<p>context会给我们带来很大的方便。一些第三方的前端应用状态管理的库（例如 Redux）就是充分地利用了这种机制给我们提供便利的状态管理服务。但我们一般不需要手动写 context，也不要用它，只需要用好这些第三方的应用状态管理库就行了。</p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset="UTF-8" /&gt;
&lt;title&gt;React context(不使用props，父组件给子组件传递信息）&lt;/title&gt;
&lt;script src="https://unpkg.com/react@16/umd/react.development.js"&gt;&lt;/script&gt;
&lt;script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"&gt;&lt;/script&gt;
&lt;script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"&gt;&lt;/script&gt;
&lt;script src="https://cdnjs.cloudflare.com/ajax/libs/prop-types/15.6.1/prop-types.min.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div id="root"&gt;&lt;/div&gt;
&lt;script type="text/babel"&gt;
class Title extends React.Component {
  static contextTypes = {
    themeColor: PropTypes.string
  }

  render () {
    return (
      &lt;h1 style={{ color: this.context.themeColor }}&gt;xutongbao&lt;/h1&gt;
    )
  }
}
class Header extends React.Component {
  render () {
    return (
    &lt;div&gt;
      &lt;h2&gt;header&lt;/h2&gt;
      &lt;Title /&gt;
    &lt;/div&gt;
    )
  }
}
 
class Index extends React.Component {
  static childContextTypes = {
    themeColor: PropTypes.string
  }

  constructor () {
    super()
    this.state = { themeColor: 'red' }
  }

  getChildContext () {
    return { themeColor: this.state.themeColor }
  }

  render () {
    return (
      &lt;div&gt;
        &lt;Header /&gt;
      &lt;/div&gt;
    )
  }
}
ReactDOM.render(
  &lt;Index /&gt;,
  document.getElementById('root')
);
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>            ]]></description></item><item><title>react组件书写规范</title><link>http://www.cnblogs.com/xutongbao/archive/2018/10/10/9924776.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 10 Oct 2018 07:07:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/10/10/9924776.html</guid><description><![CDATA[
                <p>组件的私有方法都用 <code>_</code> 开头，所有事件监听的方法都用 <code>handle</code> 开头。把事件监听方法传给组件的时候，属性名用 <code>on</code> 开头</p>

<p>组件的内容编写顺序如下：</p>

<ol><li>static 开头的类属性，如 <code>defaultProps</code>、<code>propTypes</code>。</li>
	<li>构造函数，<code>constructor</code>。</li>
	<li>getter/setter（还不了解的同学可以暂时忽略）。</li>
	<li>组件生命周期。</li>
	<li><code>_</code> 开头的私有方法。</li>
	<li>事件监听方法，<code>handle*</code>。</li>
	<li><code>render*</code>开头的方法，有时候 <code>render()</code> 方法里面的内容会分开到不同函数里面进行，这些函数都以 <code>render*</code> 开头。</li>
	<li><code>render()</code> 方法。</li>
</ol><p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>            ]]></description></item><item><title>【react】利用prop-types第三方库对组件的props中的变量进行类型检测</title><link>http://www.cnblogs.com/xutongbao/archive/2018/10/10/9924777.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 10 Oct 2018 06:25:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/10/10/9924777.html</guid><description><![CDATA[
                <p>1.安装：<strong>npm install prop-types --save</strong></p>

<p>2.使用</p>

<pre class="has"><code class="language-javascript">import React, { Component } from 'react';
import PropTypes from 'prop-types'

const users = [
  1,
  { username: 'Tongbao', age: 22, gender: 'male' },
  { username: 'Lily', age: 19, gender: 'female' },
  { username: 'Lucy', age: 20, gender: 'female' }
]
 
class User extends React.Component {
  render () {
    const { user } = this.props
    return (
      &lt;div&gt;
        &lt;div&gt;姓名：{user.username}&lt;/div&gt;
        &lt;div&gt;年龄：{user.age}&lt;/div&gt;
        &lt;div&gt;性别：{user.gender}&lt;/div&gt;
        &lt;hr /&gt;
      &lt;/div&gt;
    )
  }
}

User.propTypes = {
  user: PropTypes.object
}

class App extends Component {
  render() {
    return (
      &lt;div&gt;
        {users.map((user, i) =&gt; &lt;User key={i} user={user} /&gt;)}
      &lt;/div&gt;
    );
  }
}

export default App;</code></pre>

<p>3.错误展示</p>

<p><img alt="" class="has" src="https://img-blog.csdn.net/20181010142249108?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>

<p>&nbsp;</p>

<p>参考：</p>

<pre class="has"><code class="language-javascript">import PropTypes from 'prop-types';

MyComponent.propTypes = {
  // You can declare that a prop is a specific JS type. By default, these
  // are all optional.
  optionalArray: PropTypes.array,
  optionalBool: PropTypes.bool,
  optionalFunc: PropTypes.func,
  optionalNumber: PropTypes.number,
  optionalObject: PropTypes.object,
  optionalString: PropTypes.string,
  optionalSymbol: PropTypes.symbol,

  // Anything that can be rendered: numbers, strings, elements or an array
  // (or fragment) containing these types.
  optionalNode: PropTypes.node,

  // A React element.
  optionalElement: PropTypes.element,

  // You can also declare that a prop is an instance of a class. This uses
  // JS's instanceof operator.
  optionalMessage: PropTypes.instanceOf(Message),

  // You can ensure that your prop is limited to specific values by treating
  // it as an enum.
  optionalEnum: PropTypes.oneOf(['News', 'Photos']),

  // An object that could be one of many types
  optionalUnion: PropTypes.oneOfType([
    PropTypes.string,
    PropTypes.number,
    PropTypes.instanceOf(Message)
  ]),

  // An array of a certain type
  optionalArrayOf: PropTypes.arrayOf(PropTypes.number),

  // An object with property values of a certain type
  optionalObjectOf: PropTypes.objectOf(PropTypes.number),

  // An object taking on a particular shape
  optionalObjectWithShape: PropTypes.shape({
    color: PropTypes.string,
    fontSize: PropTypes.number
  }),

  // You can chain any of the above with `isRequired` to make sure a warning
  // is shown if the prop isn't provided.
  requiredFunc: PropTypes.func.isRequired,

  // A value of any data type
  requiredAny: PropTypes.any.isRequired,

  // You can also specify a custom validator. It should return an Error
  // object if the validation fails. Don't `console.warn` or throw, as this
  // won't work inside `oneOfType`.
  customProp: function(props, propName, componentName) {
    if (!/matchme/.test(props[propName])) {
      return new Error(
        'Invalid prop `' + propName + '` supplied to' +
        ' `' + componentName + '`. Validation failed.'
      );
    }
  },

  // You can also supply a custom validator to `arrayOf` and `objectOf`.
  // It should return an Error object if the validation fails. The validator
  // will be called for each key in the array or object. The first two
  // arguments of the validator are the array or object itself, and the
  // current item's key.
  customArrayProp: PropTypes.arrayOf(function(propValue, key, componentName, location, propFullName) {
    if (!/matchme/.test(propValue[key])) {
      return new Error(
        'Invalid prop `' + propFullName + '` supplied to' +
        ' `' + componentName + '`. Validation failed.'
      );
    }
  })
};</code></pre>

<p>&nbsp;</p>            ]]></description></item><item><title>React 进入页面以后自动 focus 到某个输入框</title><link>http://www.cnblogs.com/xutongbao/archive/2018/10/10/9924778.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 10 Oct 2018 03:02:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/10/10/9924778.html</guid><description><![CDATA[
                <p><img alt="" class="has" src="https://img-blog.csdn.net/20181010105927874?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>在 React.js 当中你基本不需要和 DOM 直接打交道。React.js 提供了一系列的 <code>on*</code> 方法帮助我们进行事件监听，所以 React.js 当中不需要直接调用 <code>addEventListener</code> 的 DOM API；以前我们通过手动 DOM 操作进行页面更新（例如借助 jQuery），而在 React.js 当中可以直接通过 <code>setState</code> 的方式重新渲染组件，渲染的时候可以把新的 <code>props</code> 传递给子组件，从而达到页面更新的效果。</p>

<p>React.js 这种重新渲染的机制帮助我们免除了绝大部分的 DOM 更新操作，也让类似于 jQuery 这种以封装 DOM 操作为主的第三方的库从我们的开发工具链中删除。</p>

<p>但是 React.js 并不能完全满足所有 DOM 操作需求，有些时候我们还是需要和 DOM 打交道。比如说你想进入页面以后自动 focus 到某个输入框，你需要调用 <code>input.focus()</code> 的 DOM API，比如说你想动态获取某个 DOM 元素的尺寸来做后续的动画，等等。</p>

<p>React.js 当中提供了 <code>ref</code> 属性来帮助我们获取已经挂载的元素的 DOM 节点，你可以给某个 JSX 元素加上 <code>ref</code>属性。</p>

<p>可以看到我们给 <code>input</code> 元素加了一个 <code>ref</code> 属性，这个属性值是一个函数。当 <code>input</code> 元素在页面上挂载完成以后，React.js 就会调用这个函数，并且把这个挂载以后的 DOM 节点传给这个函数。在函数中我们把这个 DOM 元素设置为组件实例的一个属性，这样以后我们就可以通过 <code>this.input</code> 获取到这个 DOM 元素。</p>

<p>然后我们就可以在 <code>componentDidMount</code> 中使用这个 DOM 元素，并且调用 <code>this.input.focus()</code> 的 DOM API。整体就达到了页面加载完成就自动 focus 到输入框的功能（大家可以注意到我们用上了 <code>componentDidMount</code> 这个组件生命周期）。</p>

<p>我们可以给任意代表 HTML 元素标签加上 <code>ref</code> 从而获取到它 DOM 元素然后调用 DOM API。但是记住一个原则：<em>能不用 <code>ref</code> 就不用</em>。特别是要避免用 <code>ref</code> 来做 React.js 本来就可以帮助你做到的页面自动更新的操作和事件监听。多余的 DOM 操作其实是代码里面的“噪音”，不利于我们理解和维护。</p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset="UTF-8" /&gt;
&lt;title&gt;React 进入页面以后自动 focus 到某个输入框&lt;/title&gt;
&lt;script src="https://unpkg.com/react@16/umd/react.development.js"&gt;&lt;/script&gt;
&lt;script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"&gt;&lt;/script&gt;
&lt;script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div id="root"&gt;&lt;/div&gt;
&lt;script type="text/babel"&gt;
class AutoFocusInput extends React.Component {
  componentDidMount () {
    this.input.focus()
  }

  render () {
    return (
      &lt;input ref={(input) =&gt; this.input = input} /&gt;
    )
  }
}
ReactDOM.render(
  &lt;AutoFocusInput /&gt;,
  document.getElementById('root')
);
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>            ]]></description></item><item><title>React 更新阶段的生命周期 componentWillReceiveProps-&gt;shouldComponentUpdate-&gt;componentWillUpdate</title><link>http://www.cnblogs.com/xutongbao/archive/2018/10/10/9924779.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 10 Oct 2018 02:38:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/10/10/9924779.html</guid><description><![CDATA[
                <p><img alt="" class="has" src="https://img-blog.csdn.net/2018101010351869?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>

<p>除了挂载阶段，还有一种“更新阶段”。说白了就是 <code>setState</code> 导致 React.js 重新渲染组件并且把组件的变化应用到 DOM 元素上的过程，<em>这是一个组件的变化过程</em>。而 React.js 也提供了一系列的生命周期函数可以让我们在这个组件更新的过程执行一些操作。</p>

<ol><li><code>shouldComponentUpdate(nextProps, nextState)</code>：你可以通过这个方法控制组件是否重新渲染。如果返回 <code>false</code> 组件就不会重新渲染。这个生命周期在 React.js 性能优化上非常有用。</li>
	<li><code>componentWillReceiveProps(nextProps)</code>：组件从父组件接收到新的 <code>props</code> 之前调用。</li>
	<li><code>componentWillUpdate()</code>：组件开始重新渲染之前调用。</li>
	<li><code>componentDidUpdate()</code>：组件重新渲染并且把更改变更到真实的 DOM 以后调用。</li>
</ol><p>&nbsp;</p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset="UTF-8" /&gt;
&lt;title&gt;React 生命周期&lt;/title&gt;
&lt;script src="https://unpkg.com/react@16/umd/react.development.js"&gt;&lt;/script&gt;
&lt;script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"&gt;&lt;/script&gt;
&lt;script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div id="root"&gt;&lt;/div&gt;
&lt;script type="text/babel"&gt;
class Clock extends React.Component {
  constructor (props) {
    super(props)
    this.state = {
      date: new Date()
    }
  }
  componentWillMount () {
    setTimeout(() =&gt; {
      this.setState({ date: new Date() })
    }, 1000)
  }
  componentWillReceiveProps () {
    console.log('componentWillReceiveProps');
  }
  shouldComponentUpdate () {
    console.log('shouldComponentUpdate');
    return true;
  }
  componentWillUpdate () {
    console.log('componentWillUpdate');
  }
  componentDidUpdate () {
    console.log('componentDidUpdate');
  }
  render () {
    const name = this.props.myName;
    return (
      &lt;div&gt;
        &lt;h1&gt;
          &lt;p&gt;{name},现在的时间是&lt;/p&gt;
          {this.state.date.toLocaleTimeString()}
        &lt;/h1&gt;
      &lt;/div&gt;
    )
  }  
}

class Index extends React.Component {
  constructor () {
    super();
    this.state = {
      name: 'xu'
    }
  }
  componentWillMount () {
    setTimeout(() =&gt; {
      this.setState({ name: 'tongbao' })
    }, 2000)
  }  
  render () {
    return (
      &lt;div&gt;
        &lt;Clock myName={this.state.name}/&gt;
      &lt;/div&gt;
    )
  }
}
ReactDOM.render(
  &lt;Index /&gt;,
  document.getElementById('root')
);
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>

<p>&nbsp;</p>

<p>&nbsp;</p>            ]]></description></item><item><title>React 生命周期 constructor-&gt;componentWillMount-&gt;render-&gt;componentDidMount-&gt;componentWillUnmount</title><link>http://www.cnblogs.com/xutongbao/archive/2018/10/09/9924780.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 09 Oct 2018 07:47:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/10/09/9924780.html</guid><description><![CDATA[
                <p><img alt="" class="has" src="https://img-blog.csdn.net/20181012141146891?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70">&nbsp;</p>

<p><img alt="" class="has" src="https://img-blog.csdn.net/20181009154602417?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset="UTF-8" /&gt;
&lt;title&gt;React 生命周期 constructor-&gt;componentWillMount-&gt;render-&gt;componentDidMount-&gt;componentWillUnmount&lt;/title&gt;
&lt;script src="https://unpkg.com/react@16/umd/react.development.js"&gt;&lt;/script&gt;
&lt;script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"&gt;&lt;/script&gt;
&lt;script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div id="root"&gt;&lt;/div&gt;
&lt;script type="text/babel"&gt;
class Clock extends React.Component {
  constructor () {
    super()
    this.state = {
      date: new Date()
    }
    console.log('construct')
  }
  componentWillMount () {
    this.timer = setInterval(() =&gt; {
      this.setState({ date: new Date() })
    }, 1000)
    console.log('component will mount')
  }
  componentDidMount () {
    console.log('component did mount')
  }  
  componentWillUnmount () {
    clearInterval(this.timer)
    console.log('component will unmount')
  }
  render () {
    console.log('render')
    return (
      &lt;div&gt;
        &lt;h1&gt;
          &lt;p&gt;现在的时间是&lt;/p&gt;
          {this.state.date.toLocaleTimeString()}
        &lt;/h1&gt;
      &lt;/div&gt;
    )
  }  
}

class Index extends React.Component {
  constructor () {
    super()
    this.state = { isShowClock: true }
  }

  handleShowOrHide () {
    this.setState({
      isShowClock: !this.state.isShowClock
    })
  }

  render () {
    return (
      &lt;div&gt;
        {this.state.isShowClock ? &lt;Clock /&gt; : null }
        &lt;button onClick={this.handleShowOrHide.bind(this)}&gt;
          显示或隐藏时钟
        &lt;/button&gt;
      &lt;/div&gt;
    )
  }
}
ReactDOM.render(
  &lt;Index /&gt;,
  document.getElementById('root')
);
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>            ]]></description></item><item><title>css3图片 变黑白 变模糊 调整饱和度等</title><link>http://www.cnblogs.com/xutongbao/archive/2018/10/09/9924781.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 09 Oct 2018 07:00:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/10/09/9924781.html</guid><description><![CDATA[
                <p><img alt="" class="has" height="323" src="https://img-blog.csdn.net/20181009145759230?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" width="717"></p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;title&gt;CSS3 filter(滤镜) 属性&lt;/title&gt;
&lt;style&gt;
img {
    width: 33%;
    height: auto;
    float: left; 
}

.blur {-webkit-filter: blur(4px);filter: blur(4px);}
.brightness {-webkit-filter: brightness(0.30);filter: brightness(0.30);}
.contrast {-webkit-filter: contrast(180%);filter: contrast(180%);}
.grayscale {-webkit-filter: grayscale(100%);filter: grayscale(100%);}
.huerotate {-webkit-filter: hue-rotate(180deg);filter: hue-rotate(180deg);}
.invert {-webkit-filter: invert(100%);filter: invert(100%);}
.opacity {-webkit-filter: opacity(50%);filter: opacity(50%);}
.saturate {-webkit-filter: saturate(7); filter: saturate(7);}
.sepia {-webkit-filter: sepia(100%);filter: sepia(100%);}
.shadow {-webkit-filter: drop-shadow(8px 8px 10px green);filter: drop-shadow(8px 8px 10px green);}
&lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;img src="https://cn.vuejs.org/images/tooltwist.png" alt="Pineapple" width="300" height="300"&gt;
&lt;img class="blur" src="https://cn.vuejs.org/images/tooltwist.png" alt="Pineapple" width="300" height="300"&gt;
&lt;img class="brightness" src="https://cn.vuejs.org/images/tooltwist.png" alt="Pineapple" width="300" height="300"&gt;
&lt;img class="contrast" src="https://cn.vuejs.org/images/tooltwist.png" alt="Pineapple" width="300" height="300"&gt;
&lt;img class="grayscale" src="https://cn.vuejs.org/images/tooltwist.png" alt="Pineapple" width="300" height="300"&gt;
&lt;img class="huerotate" src="https://cn.vuejs.org/images/tooltwist.png" alt="Pineapple" width="300" height="300"&gt;
&lt;img class="invert" src="https://cn.vuejs.org/images/tooltwist.png" alt="Pineapple" width="300" height="300"&gt;
&lt;img class="opacity" src="https://cn.vuejs.org/images/tooltwist.png" alt="Pineapple" width="300" height="300"&gt;
&lt;img class="saturate" src="https://cn.vuejs.org/images/tooltwist.png" alt="Pineapple" width="300" height="300"&gt;
&lt;img class="sepia" src="https://cn.vuejs.org/images/tooltwist.png" alt="Pineapple" width="300" height="300"&gt;
&lt;img class="shadow" src="https://cn.vuejs.org/images/tooltwist.png" alt="Pineapple" width="300" height="300"&gt;

&lt;/body&gt;
&lt;/html&gt;
</code></pre>

<p>&nbsp;</p>            ]]></description></item><item><title>React 渲染列表数据</title><link>http://www.cnblogs.com/xutongbao/archive/2018/10/09/9924782.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 09 Oct 2018 03:55:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/10/09/9924782.html</guid><description><![CDATA[
                <p><img alt="" class="has" src="https://img-blog.csdn.net/2018100911541832?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset="UTF-8" /&gt;
&lt;title&gt;React 渲染列表数据&lt;/title&gt;
&lt;script src="https://unpkg.com/react@16/umd/react.development.js"&gt;&lt;/script&gt;
&lt;script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"&gt;&lt;/script&gt;
&lt;script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div id="root"&gt;&lt;/div&gt;
&lt;script type="text/babel"&gt;
const users = [
  { username: 'xu', age: 21, gender: 'male' },
  { username: 'Tongbao', age: 22, gender: 'male' },
  { username: 'Lily', age: 19, gender: 'female' },
  { username: 'Lucy', age: 20, gender: 'female' }
]

class User extends React.Component {
  render () {
    const { user } = this.props
    return (
      &lt;div&gt;
        &lt;div&gt;姓名：{user.username}&lt;/div&gt;
        &lt;div&gt;年龄：{user.age}&lt;/div&gt;
        &lt;div&gt;性别：{user.gender}&lt;/div&gt;
        &lt;hr /&gt;
      &lt;/div&gt;
    )
  }
}

class Index extends React.Component {
  render () {
    return (
      &lt;div&gt;
        {users.map((user, i) =&gt; &lt;User key={i} user={user} /&gt;)}
      &lt;/div&gt;
    )
  }
}
ReactDOM.render(
  &lt;Index /&gt;,
  document.getElementById('root')
);
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>

<p>&nbsp;</p>            ]]></description></item><item><title>React state 和 props总结 defaultProps(默认参数） 不可以在组件内部对props进行修改</title><link>http://www.cnblogs.com/xutongbao/archive/2018/10/09/9924783.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 09 Oct 2018 02:43:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/10/09/9924783.html</guid><description><![CDATA[
                <p>我们来一个关于 <code>state</code> 和 <code>props</code> 的总结。</p>

<p><code>state</code> 的主要作用是用于组件保存、控制、修改<em>自己</em>的可变状态。<code>state</code> 在组件内部初始化，可以被组件自身修改，而外部不能访问也不能修改。你可以认为 <code>state</code> 是一个局部的、只能被组件自身控制的数据源。<code>state</code> 中状态可以通过 <code>this.setState</code> 方法进行更新，<code>setState</code> 会导致组件的重新渲染。</p>

<p><code>props</code> 的主要作用是让使用该组件的父组件可以传入参数来配置该组件。它是外部传进来的配置参数，组件内部无法控制也无法修改。除非外部组件主动传入新的 <code>props</code>，否则组件的 <code>props</code> 永远保持不变。</p>

<p><code>state</code> 和 <code>props</code> 有着千丝万缕的关系。它们都可以决定组件的行为和显示形态。一个组件的 <code>state</code> 中的数据可以通过 <code>props</code> 传给子组件，一个组件可以使用外部传入的 <code>props</code> 来初始化自己的 <code>state</code>。但是它们的职责其实非常明晰分明：<em><code>state</code> 是让组件控制自己的状态，<code>props</code> 是让外部对组件自己进行配置</em>。</p>

<p>如果你觉得还是搞不清 <code>state</code> 和 <code>props</code> 的使用场景，那么请记住一个简单的规则：尽量少地用 <code>state</code>，尽量多地用 <code>props</code>。</p>

<p>没有 <code>state</code> 的组件叫无状态组件（stateless component），设置了 state 的叫做有状态组件（stateful component）。因为状态会带来管理的复杂性，我们尽量多地写无状态组件，尽量少地写有状态的组件。这样会降低代码维护的难度，也会在一定程度上增强组件的可复用性。</p>

<p>&nbsp;</p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;

&lt;head&gt;
    &lt;meta charset="UTF-8" /&gt;
    &lt;title&gt;React defaultProps(默认参数） 不可以在组件内部对props进行修改&lt;/title&gt;
    &lt;script src="https://unpkg.com/react@16/umd/react.development.js"&gt;&lt;/script&gt;
    &lt;script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"&gt;&lt;/script&gt;
    &lt;script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"&gt;&lt;/script&gt;
&lt;/head&gt;

&lt;body&gt;
可以通过给组件添加类属性 defaultProps 来配置默认参数。
props 一旦传入，你就不可以在组件内部对它进行修改。
但是你可以通过父组件主动重新渲染的方式来传入新的 props，从而达到更新的效果。
    &lt;div id="root"&gt;&lt;/div&gt;
    &lt;script type="text/babel"&gt;
        class Toggle extends React.Component {
        static defaultProps = {
            likedText: '取消',
            unlikedText: '点赞'
        }        
        constructor(props) {
            super(props);
            this.state = {isToggleOn: true};

            // 这个绑定是必要的，使`this`在回调中起作用
            this.handleClick = this.handleClick.bind(this);
        }
 
        handleClick() {
            //this.props.likedText = '取消2';  //修改props会报错
            this.setState(prevState =&gt; ({
                isToggleOn: !prevState.isToggleOn
            }));         
        }
 
        render() {
          return (
            &lt;button onClick={this.handleClick}&gt;
              {this.state.isToggleOn ? this.props.likedText : this.props.unlikedText}
            &lt;/button&gt;
          );
        }
      }
 
      ReactDOM.render(
        &lt;Toggle /&gt;,
        document.getElementById('root')
      );
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p>&nbsp;</p>            ]]></description></item><item><title>React 组件的 state 和 setState</title><link>http://www.cnblogs.com/xutongbao/archive/2018/10/09/9924785.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 09 Oct 2018 02:07:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/10/09/9924785.html</guid><description><![CDATA[
                <p><img alt="" class="has" src="https://img-blog.csdn.net/20181009100520717?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>

<p><img alt="" class="has" src="https://img-blog.csdn.net/20181009100547121?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>

<p>&nbsp;</p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;

&lt;head&gt;
    &lt;meta charset="UTF-8" /&gt;
    &lt;title&gt;React 组件的 state 和 setState&lt;/title&gt;
    &lt;script src="https://unpkg.com/react@16/umd/react.development.js"&gt;&lt;/script&gt;
    &lt;script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"&gt;&lt;/script&gt;
    &lt;script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"&gt;&lt;/script&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;div id="root"&gt;&lt;/div&gt;
    &lt;script type="text/babel"&gt;
        class Toggle extends React.Component {
        constructor(props) {
          super(props);
          this.state = {isToggleOn: true};
 
          // 这个绑定是必要的，使`this`在回调中起作用
          this.handleClick = this.handleClick.bind(this);
        }
 
        handleClick() {
            console.log(this.state.isToggleOn); //第一次，两次打印的都是 false ,或者都是true
            this.setState(prevState =&gt; ({
                isToggleOn: !prevState.isToggleOn
            }));
            console.log(this.state.isToggleOn); //第二次，两次打印的都是 false ,或者都是true

            this.setState({ count: 0 }) // =&gt; this.state.count 还是 undefined
            this.setState({ count: this.state.count + 1}) // =&gt; undefined + 1 = NaN
            this.setState({ count: this.state.count + 2}) // =&gt; NaN + 2 = NaN       

            this.setState((prevState) =&gt; {
                return { count2: 0 }
            })
            this.setState((prevState) =&gt; {
                return { count2: prevState.count2 + 1 } // 上一个 setState 的返回是 count 为 0，当前返回 1
            })
            this.setState((prevState) =&gt; {
                return { count2: prevState.count2 + 2 } // 上一个 setState 的返回是 count 为 1，当前返回 3
            })             
        }
 
        render() {
          return (
            &lt;button onClick={this.handleClick}&gt;
              {this.state.isToggleOn ? 'ON' : 'OFF'}
            &lt;/button&gt;
          );
        }
      }
 
      ReactDOM.render(
        &lt;Toggle /&gt;,
        document.getElementById('root')
      );
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>            ]]></description></item><item><title>React中的事件绑定</title><link>http://www.cnblogs.com/xutongbao/archive/2018/09/30/9924786.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Sun, 30 Sep 2018 07:02:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/09/30/9924786.html</guid><description><![CDATA[
                <p>在react中，你必须谨慎对待 JSX 回调函数中的 <code>this</code>，类的方法默认是不会<a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_objects/Function/bind" rel="nofollow">绑定</a> <code>this</code> 的。如果你忘记绑定 <code>this.handleClick</code> 并把它传入 <code>onClick</code>, 当你调用这个函数的时候 <code>this</code> 的值会是 <code>undefined</code>。</p>

<p>1.在构造函数中绑定this或者在调用时绑定this</p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;meta charset="UTF-8" /&gt;
    &lt;title&gt;Hello World&lt;/title&gt;
    &lt;script src="https://unpkg.com/react@16/umd/react.development.js"&gt;&lt;/script&gt;
    &lt;script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"&gt;&lt;/script&gt;
    &lt;script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"&gt;&lt;/script&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;div id="root"&gt;&lt;/div&gt;
    &lt;script type="text/babel"&gt;
      class Toggle extends React.Component {
        constructor(props) {
          super(props);
          this.state = {isToggleOn: true};
 
          // 这个绑定是必要的，使`this`在回调中起作用
          this.handleClick = this.handleClick.bind(this);
        }
 
        handleClick() {
          this.setState(prevState =&gt; ({
            isToggleOn: !prevState.isToggleOn
          }));
        }
 
        render() {
          return (
            &lt;button onClick={this.handleClick}&gt;
              {this.state.isToggleOn ? 'ON' : 'OFF'}
            &lt;/button&gt;
          );
        }
      }
 
      ReactDOM.render(
        &lt;Toggle /&gt;,
        document.getElementById('root')
      );
    &lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre>

<p>&nbsp;</p>

<p>在调用时绑定this，事件对象以及更多的参数将会被隐式的进行传递</p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;meta charset="UTF-8" /&gt;
    &lt;title&gt;Hello World&lt;/title&gt;
    &lt;script src="https://unpkg.com/react@16/umd/react.development.js"&gt;&lt;/script&gt;
    &lt;script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"&gt;&lt;/script&gt;
    &lt;script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"&gt;&lt;/script&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;div id="root"&gt;&lt;/div&gt;
    &lt;script type="text/babel"&gt;
      class Toggle extends React.Component {
        constructor(props) {
          super(props);
          this.state = {isToggleOn: true};
 
          // 这个绑定是必要的，使`this`在回调中起作用
          //this.handleClick = this.handleClick.bind(this);
        }
 
        handleClick(e) {
          e.preventDefault();
          this.setState(prevState =&gt; ({
            isToggleOn: !prevState.isToggleOn
          }));
        }
 
        render() {
          return (
            &lt;button onClick={this.handleClick.bind(this)}&gt;
              {this.state.isToggleOn ? 'ON' : 'OFF'}
            &lt;/button&gt;
          );
        }
      }
 
      ReactDOM.render(
        &lt;Toggle /&gt;,
        document.getElementById('root')
      );
    &lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre>

<p>&nbsp;</p>

<p>2.属性初始化器语法</p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;meta charset="UTF-8" /&gt;
    &lt;title&gt;Hello World&lt;/title&gt;
    &lt;script src="https://unpkg.com/react@16/umd/react.development.js"&gt;&lt;/script&gt;
    &lt;script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"&gt;&lt;/script&gt;
    &lt;script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"&gt;&lt;/script&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;div id="root"&gt;&lt;/div&gt;
    &lt;script type="text/babel"&gt;
      class Toggle extends React.Component {
        constructor(props) {
          super(props);
          this.state = {isToggleOn: true};
 
          // 这个绑定是必要的，使`this`在回调中起作用
          //this.handleClick = this.handleClick.bind(this);
        }
 
        //看这里
        handleClick = () =&gt; {
          this.setState(prevState =&gt; ({
            isToggleOn: !prevState.isToggleOn
          }));
        }
 
        render() {
          return (
            &lt;button onClick={this.handleClick}&gt;
              {this.state.isToggleOn ? 'ON' : 'OFF'}
            &lt;/button&gt;
          );
        }
      }
 
      ReactDOM.render(
        &lt;Toggle /&gt;,
        document.getElementById('root')
      );
    &lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre>

<p>3.在回调函数中使用箭头函数（）</p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;meta charset="UTF-8" /&gt;
    &lt;title&gt;Hello World&lt;/title&gt;
    &lt;script src="https://unpkg.com/react@16/umd/react.development.js"&gt;&lt;/script&gt;
    &lt;script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"&gt;&lt;/script&gt;
    &lt;script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"&gt;&lt;/script&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;div id="root"&gt;&lt;/div&gt;
    &lt;script type="text/babel"&gt;
      class Toggle extends React.Component {
        constructor(props) {
          super(props);
          this.state = {isToggleOn: true};
 
          // 这个绑定是必要的，使`this`在回调中起作用
          //this.handleClick = this.handleClick.bind(this);
        }
 
        handleClick() {
          this.setState(prevState =&gt; ({
            isToggleOn: !prevState.isToggleOn
          }));
        }
 
        render() {
          return (
            /*在回调函数中使用箭头函数*/
            &lt;button onClick={ (e) =&gt; this.handleClick(e) }&gt;
              {this.state.isToggleOn ? 'ON' : 'OFF'}
            &lt;/button&gt;
          );
        }
      }
 
      ReactDOM.render(
        &lt;Toggle /&gt;,
        document.getElementById('root')
      );
    &lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre>

<p>使用这个语法有个问题就是每次 <code>LoggingButton</code> 渲染的时候都会创建一个不同的回调函数。在大多数情况下，这没有问题。然而如果这个回调函数作为一个属性值传入低阶组件，这些组件可能会进行额外的重新渲染。我们通常建议在构造函数中绑定或使用属性初始化器语法来避免这类性能问题。</p>            ]]></description></item><item><title>网页loading效果 可以通过js控制旋转速度</title><link>http://www.cnblogs.com/xutongbao/archive/2018/09/30/9924787.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Sun, 30 Sep 2018 02:23:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/09/30/9924787.html</guid><description><![CDATA[
                <p><img alt="" class="has" src="https://img-blog.csdn.net/2018093010221945?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>

<p>&nbsp;</p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;

&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;网页loading效果 可以通过js控制旋转速度&lt;/title&gt;
    &lt;style type="text/css"&gt;
    body {
        margin: 0;
        padding: 0;
        background-color: rgba(0, 0, 0, 0.7);
    }

    .m-loading-wrapper {
        z-index: 90;
        position: absolute;
        left: 50%;
        top: 50%;
        margin-left: -16px;
        margin-top: -16px;
        width: 32px;
        height: 32px;
        overflow: hidden;
        display: none;
        transform: rotate(270deg);
    }

    .m-loading {
        position: absolute;
        left: 0px;
        top: 0px;
        width: 32px;
        height: 96px;
        background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAADACAMAAACDB5U0AAAAMFBMVEUAAAD///////////////////////////////////////////////////////////87TQQwAAAAEHRSTlMAUQwWSGr/BSODz+iYN7ioo0T1UwAABSpJREFUeNrtmouSozgMRbFlYfn9/387FoaIJFAYU7s7W5Vb3ZOkMzrIliD2JdNPf79UCOpJPMxV8ABADKC7UakUOgLolHRPvPbz7OEbYI1SxvaMO4Qwu28AqUroAdg4VwR9ArSqgNQ3c5xC+QQkVaWnLrm5Esw7ADi+obqmMczZvgGMMjyFnVKcAu4B1JOAlZbLNQUPAtDmbQaPM0nZO9qecwqutXKAtYTwaihz1FG2BB88ru8spYTtZLK7ElqqLJWOAd6HrNZS1nZkGEBrwq2EwP3ItKMhBM+IuLxpciF5D4yB5ZG7gWlwWD3nlyS8g5NZ3sJPT6oUQ0McZNiyZyWYzmXaTBR7cHzDg1eGLpoBawIhHgOq6LobwflCx0OQwV8g7El2HeHjApGeTmX1Sx9ZmiwqUsSTQrLMezHzTl5qcFAHIQwCzOvno4G6hqBOhzDpgUn85wRndNsXjtEdn+7J0DVCq1hixtMa0EV8cqXEWE4A5upqQC28HA8Brq5HgLGG19+jj0C5Ip6Og1p4QVpeIb7SkLUFmbWLjj4XXMs+rVeVGNHyn+3b2sJS6+N0DChx+/zE6BwDQCng0lTRlgy/SIczGBW8njsXTaUiInOSMpI2JHl+csWyWAFYX2pE5Ed4P+rliWBiBaRJAG19AlOntKvCSQDy+d4nxQnQDtC7wtjPoJreAbZrjSMz6GAPuLfKAk4gTZ+AKfWmoFsTfgE0V7IDIKeBAJpAlkZ9EsCAngNkODT99NNPz2W8N0/iQTbiY6JQRbejYqQPgPgKHdI5hKy/AdA2ctcC3vPgNyD2+inWhYqgTwBxfOm7rHMK8ROQb/gxGCrBvAMUxzO1bxrXnZ8ArG/b8E4pTkHtAcgJYL9/wDv5DALgEs7+YtFNJeOrZ3ge3Vp7WEtoLvyD6LPPuL6zlFJvJxMsJTz1DwTA+yWzdlMIhWF6+YdHQFf+ARWfGeFSa/xIb2e16vAPMC9JZISDNWSXf0CuJVFo2D9I60w88A9U8dm7R/4B5vi/9A/0U/8g7kQD/kEsEl9cp39wDhjwD1IUOXroH9j/3j/Q0zP/QDnUD/wD46KLatw/wMg7nmH/AB0r4ph/oJVbDu9G/YMaykJaN5r6pn+wjr7RAdHJTF74BwKIbtvXGURUtvnB3f4BOvEPsCrJoW/7B6ol0A494B8krKJJAHf9A45XkwDu+geGASCAu/4BcLyZBNDnH4gUA7QAbvsHrYQCuO0ftBIK4L5/IH0igBH/QACjklYeFxnz8w9++umR5P6TGQ6Wjfi4yFfR7SjnthhgAMhasouli/dF7wFih3QNB3jPg98A125Fd2jZedEOIF8qiH2XdU7BfQLK3O/HIKeQ3gGm3Y3vky4VEO0eYJfvA+h+/ypnr/YA5ATUJLrYlMVKKCCNBKEmkKVQJ/0jK9S0llL71sqOE0gvoypkOrtNpLTMY9HbyQRLCTfzn72AfHmjKnsfxT+oTbiWUPmZ5Y9vlTUEtcZfHmVIpj3Oi4I5vdVYERH1d35LUePcdGrKEZaGOPwPKbRwr65vWLqjBH3LHu2Ff1ATKHgKiDB+09aEuaS+c8GeoOlv9g+S22nEP3B7YZ9/cAqIOOIfOBH+/AMwqB74BzZhlRn2D0hxvDOj/oHCRWrQPzDYlOyYf4BN29e30l3/QLXsSbZoN/0DJdnLJvGOfwAKk943PT3wDwwHPPAPSFWN+gdiFgz6B3K4Qf9ABjziH0gJh/0DKfq4f8C1f+QfQEo//+Cnf1t/AFGZQwaktm6jAAAAAElFTkSuQmCC");
        background-size: 32px 96px;
    }
    &lt;/style&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;div&gt;
        设置速度：
        &lt;input type="input" value="100" id="m-speed"&gt;
        &lt;input type="button" value="显示loading" id="m-btn"&gt;
    &lt;/div&gt;
    &lt;div class="m-loading-wrapper" id="m-loading"&gt;
        &lt;div class="m-loading" id="m-loading-inner"&gt;&lt;/div&gt;
    &lt;/div&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"&gt;&lt;/script&gt;
    &lt;script type="text/javascript"&gt;
    $(function() {
        var myAction = {},
            index = 1,
            loadingImgInterval,
            loadingInterval;
        var dom = {
            btn: $('#m-btn'),
            speed: $('#m-speed'),
            loading: $('#m-loading'),
            loadingInner: $('#m-loading-inner')
        };

        $.extend(myAction, {
            loadingFn: function(that) {
                dom.loading.show();
                var topArr = [0, -32, -64];
                var rotateArr = [0, 90, 180, 270];
                var topIndex = 0;
                var rotateIndex = 0;
                var speed = dom.speed.val() - 0;
                clearInterval(loadingImgInterval);
                loadingImgInterval = setInterval(function() {
                    if (topIndex &gt;= 3) {
                        topIndex = 0;
                        if (rotateIndex &gt;= 4) {
                            rotateIndex = 0;
                        }
                        dom.loading.css({ transform: 'rotate(' + rotateArr[rotateIndex] + 'deg)' });
                        rotateIndex++;
                    }
                    dom.loadingInner.css({ 'top': topArr[topIndex] });
                    topIndex++;
                }, speed);

                clearInterval(loadingInterval);
                loadingInterval = setInterval(function() {
                    dom.loading.hide();
                    dom.loading.css({ transform: 'rotate(' + 270 + 'deg)' });
                    dom.loadingInner.css({ 'top': 0 });
                    clearInterval(loadingImgInterval);
                    clearInterval(loadingInterval);
                }, 5000);
            },
            initEvent: function() {
                dom.btn.on('click', function() {
                    var that = $(this);
                    myAction.loadingFn(that);
                });
            }
        });

        var init = function() {
            myAction.initEvent();
        }();
    })
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p>&nbsp;</p>            ]]></description></item><item><title>纯css制作loading效果</title><link>http://www.cnblogs.com/xutongbao/archive/2018/09/29/9924788.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Sat, 29 Sep 2018 03:13:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/09/29/9924788.html</guid><description><![CDATA[
                <p><img alt="" class="has" src="https://img-blog.csdn.net/2018092911123986?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;

&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;纯css制作loading效果&lt;/title&gt;
    &lt;style type="text/css"&gt;
    body {
        margin: 0;
        padding: 0;
        background-color: rgba(0, 0, 0, 0.7);
    }

    .load-container {
        display: inline-block;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
    }
    /* load1 */

    .load1 .loader,
    .load1 .loader:before,
    .load1 .loader:after {
        background: #4285f4;
        -webkit-animation: load1 1s infinite ease-in-out;
        animation: load1 1s infinite ease-in-out;
        width: 1em;
        height: 4em;
    }

    .load1 .loader {
        color: #4285f4;
        text-indent: -9999em;
        margin: 88px auto;
        position: relative;
        font-size: 11px;
        -webkit-transform: translateZ(0);
        -ms-transform: translateZ(0);
        transform: translateZ(0);
        -webkit-animation-delay: -0.16s;
        animation-delay: -0.16s;
    }

    .load1 .loader:before,
    .load1 .loader:after {
        position: absolute;
        top: 0;
        content: '';
    }

    .load1 .loader:before {
        left: -1.5em;
        -webkit-animation-delay: -0.32s;
        animation-delay: -0.32s;
    }

    .load1 .loader:after {
        left: 1.5em;
    }

    @-webkit-keyframes load1 {
        0%,
        80%,
        100% {
            box-shadow: 0 0;
            height: 4em;
        }
        40% {
            box-shadow: 0 -2em;
            height: 5em;
        }
    }

    @keyframes load1 {
        0%,
        80%,
        100% {
            box-shadow: 0 0;
            height: 4em;
        }
        40% {
            box-shadow: 0 -2em;
            height: 5em;
        }
    }
    /* load2 */

    .load2 .loader {
        color: #4285f4;
        font-size: 20px;
        margin: 100px auto;
        width: 1em;
        height: 1em;
        border-radius: 50%;
        position: relative;
        text-indent: -9999em;
        -webkit-animation: load2 1.3s infinite linear;
        animation: load2 1.3s infinite linear;
        -webkit-transform: translateZ(0);
        -ms-transform: translateZ(0);
        transform: translateZ(0);
    }

    @-webkit-keyframes load2 {
        0%,
        100% {
            box-shadow: 0 -3em 0 0.2em, 2em -2em 0 0em, 3em 0 0 -1em, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 -1em, -3em 0 0 -1em, -2em -2em 0 0;
        }
        12.5% {
            box-shadow: 0 -3em 0 0, 2em -2em 0 0.2em, 3em 0 0 0, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 -1em, -3em 0 0 -1em, -2em -2em 0 -1em;
        }
        25% {
            box-shadow: 0 -3em 0 -0.5em, 2em -2em 0 0, 3em 0 0 0.2em, 2em 2em 0 0, 0 3em 0 -1em, -2em 2em 0 -1em, -3em 0 0 -1em, -2em -2em 0 -1em;
        }
        37.5% {
            box-shadow: 0 -3em 0 -1em, 2em -2em 0 -1em, 3em 0em 0 0, 2em 2em 0 0.2em, 0 3em 0 0em, -2em 2em 0 -1em, -3em 0em 0 -1em, -2em -2em 0 -1em;
        }
        50% {
            box-shadow: 0 -3em 0 -1em, 2em -2em 0 -1em, 3em 0 0 -1em, 2em 2em 0 0em, 0 3em 0 0.2em, -2em 2em 0 0, -3em 0em 0 -1em, -2em -2em 0 -1em;
        }
        62.5% {
            box-shadow: 0 -3em 0 -1em, 2em -2em 0 -1em, 3em 0 0 -1em, 2em 2em 0 -1em, 0 3em 0 0, -2em 2em 0 0.2em, -3em 0 0 0, -2em -2em 0 -1em;
        }
        75% {
            box-shadow: 0em -3em 0 -1em, 2em -2em 0 -1em, 3em 0em 0 -1em, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 0, -3em 0em 0 0.2em, -2em -2em 0 0;
        }
        87.5% {
            box-shadow: 0em -3em 0 0, 2em -2em 0 -1em, 3em 0 0 -1em, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 0, -3em 0em 0 0, -2em -2em 0 0.2em;
        }
    }

    @keyframes load2 {
        0%,
        100% {
            box-shadow: 0 -3em 0 0.2em, 2em -2em 0 0em, 3em 0 0 -1em, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 -1em, -3em 0 0 -1em, -2em -2em 0 0;
        }
        12.5% {
            box-shadow: 0 -3em 0 0, 2em -2em 0 0.2em, 3em 0 0 0, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 -1em, -3em 0 0 -1em, -2em -2em 0 -1em;
        }
        25% {
            box-shadow: 0 -3em 0 -0.5em, 2em -2em 0 0, 3em 0 0 0.2em, 2em 2em 0 0, 0 3em 0 -1em, -2em 2em 0 -1em, -3em 0 0 -1em, -2em -2em 0 -1em;
        }
        37.5% {
            box-shadow: 0 -3em 0 -1em, 2em -2em 0 -1em, 3em 0em 0 0, 2em 2em 0 0.2em, 0 3em 0 0em, -2em 2em 0 -1em, -3em 0em 0 -1em, -2em -2em 0 -1em;
        }
        50% {
            box-shadow: 0 -3em 0 -1em, 2em -2em 0 -1em, 3em 0 0 -1em, 2em 2em 0 0em, 0 3em 0 0.2em, -2em 2em 0 0, -3em 0em 0 -1em, -2em -2em 0 -1em;
        }
        62.5% {
            box-shadow: 0 -3em 0 -1em, 2em -2em 0 -1em, 3em 0 0 -1em, 2em 2em 0 -1em, 0 3em 0 0, -2em 2em 0 0.2em, -3em 0 0 0, -2em -2em 0 -1em;
        }
        75% {
            box-shadow: 0em -3em 0 -1em, 2em -2em 0 -1em, 3em 0em 0 -1em, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 0, -3em 0em 0 0.2em, -2em -2em 0 0;
        }
        87.5% {
            box-shadow: 0em -3em 0 0, 2em -2em 0 -1em, 3em 0 0 -1em, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 0, -3em 0em 0 0, -2em -2em 0 0.2em;
        }
    }
    /* load3 */

    .load3 .loader {
        margin: 100px auto;
        font-size: 25px;
        width: 1em;
        height: 1em;
        border-radius: 50%;
        position: relative;
        text-indent: -9999em;
        -webkit-animation: load3 1.1s infinite ease;
        animation: load3 1.1s infinite ease;
        -webkit-transform: translateZ(0);
        -ms-transform: translateZ(0);
        transform: translateZ(0);
    }

    @-webkit-keyframes load3 {
        0%,
        100% {
            box-shadow: 0em -2.6em 0em 0em #ffffff, 1.8em -1.8em 0 0em rgba(255, 255, 255, 0.2), 2.5em 0em 0 0em rgba(255, 255, 255, 0.2), 1.75em 1.75em 0 0em rgba(255, 255, 255, 0.2), 0em 2.5em 0 0em rgba(255, 255, 255, 0.2), -1.8em 1.8em 0 0em rgba(255, 255, 255, 0.2), -2.6em 0em 0 0em rgba(255, 255, 255, 0.5), -1.8em -1.8em 0 0em rgba(255, 255, 255, 0.7);
        }
        12.5% {
            box-shadow: 0em -2.6em 0em 0em rgba(255, 255, 255, 0.7), 1.8em -1.8em 0 0em #ffffff, 2.5em 0em 0 0em rgba(255, 255, 255, 0.2), 1.75em 1.75em 0 0em rgba(255, 255, 255, 0.2), 0em 2.5em 0 0em rgba(255, 255, 255, 0.2), -1.8em 1.8em 0 0em rgba(255, 255, 255, 0.2), -2.6em 0em 0 0em rgba(255, 255, 255, 0.2), -1.8em -1.8em 0 0em rgba(255, 255, 255, 0.5);
        }
        25% {
            box-shadow: 0em -2.6em 0em 0em rgba(255, 255, 255, 0.5), 1.8em -1.8em 0 0em rgba(255, 255, 255, 0.7), 2.5em 0em 0 0em #ffffff, 1.75em 1.75em 0 0em rgba(255, 255, 255, 0.2), 0em 2.5em 0 0em rgba(255, 255, 255, 0.2), -1.8em 1.8em 0 0em rgba(255, 255, 255, 0.2), -2.6em 0em 0 0em rgba(255, 255, 255, 0.2), -1.8em -1.8em 0 0em rgba(255, 255, 255, 0.2);
        }
        37.5% {
            box-shadow: 0em -2.6em 0em 0em rgba(255, 255, 255, 0.2), 1.8em -1.8em 0 0em rgba(255, 255, 255, 0.5), 2.5em 0em 0 0em rgba(255, 255, 255, 0.7), 1.75em 1.75em 0 0em #ffffff, 0em 2.5em 0 0em rgba(255, 255, 255, 0.2), -1.8em 1.8em 0 0em rgba(255, 255, 255, 0.2), -2.6em 0em 0 0em rgba(255, 255, 255, 0.2), -1.8em -1.8em 0 0em rgba(255, 255, 255, 0.2);
        }
        50% {
            box-shadow: 0em -2.6em 0em 0em rgba(255, 255, 255, 0.2), 1.8em -1.8em 0 0em rgba(255, 255, 255, 0.2), 2.5em 0em 0 0em rgba(255, 255, 255, 0.5), 1.75em 1.75em 0 0em rgba(255, 255, 255, 0.7), 0em 2.5em 0 0em #ffffff, -1.8em 1.8em 0 0em rgba(255, 255, 255, 0.2), -2.6em 0em 0 0em rgba(255, 255, 255, 0.2), -1.8em -1.8em 0 0em rgba(255, 255, 255, 0.2);
        }
        62.5% {
            box-shadow: 0em -2.6em 0em 0em rgba(255, 255, 255, 0.2), 1.8em -1.8em 0 0em rgba(255, 255, 255, 0.2), 2.5em 0em 0 0em rgba(255, 255, 255, 0.2), 1.75em 1.75em 0 0em rgba(255, 255, 255, 0.5), 0em 2.5em 0 0em rgba(255, 255, 255, 0.7), -1.8em 1.8em 0 0em #ffffff, -2.6em 0em 0 0em rgba(255, 255, 255, 0.2), -1.8em -1.8em 0 0em rgba(255, 255, 255, 0.2);
        }
        75% {
            box-shadow: 0em -2.6em 0em 0em rgba(255, 255, 255, 0.2), 1.8em -1.8em 0 0em rgba(255, 255, 255, 0.2), 2.5em 0em 0 0em rgba(255, 255, 255, 0.2), 1.75em 1.75em 0 0em rgba(255, 255, 255, 0.2), 0em 2.5em 0 0em rgba(255, 255, 255, 0.5), -1.8em 1.8em 0 0em rgba(255, 255, 255, 0.7), -2.6em 0em 0 0em #ffffff, -1.8em -1.8em 0 0em rgba(255, 255, 255, 0.2);
        }
        87.5% {
            box-shadow: 0em -2.6em 0em 0em rgba(255, 255, 255, 0.2), 1.8em -1.8em 0 0em rgba(255, 255, 255, 0.2), 2.5em 0em 0 0em rgba(255, 255, 255, 0.2), 1.75em 1.75em 0 0em rgba(255, 255, 255, 0.2), 0em 2.5em 0 0em rgba(255, 255, 255, 0.2), -1.8em 1.8em 0 0em rgba(255, 255, 255, 0.5), -2.6em 0em 0 0em rgba(255, 255, 255, 0.7), -1.8em -1.8em 0 0em #ffffff;
        }
    }

    @keyframes load3 {
        0%,
        100% {
            box-shadow: 0em -2.6em 0em 0em #ffffff, 1.8em -1.8em 0 0em rgba(255, 255, 255, 0.2), 2.5em 0em 0 0em rgba(255, 255, 255, 0.2), 1.75em 1.75em 0 0em rgba(255, 255, 255, 0.2), 0em 2.5em 0 0em rgba(255, 255, 255, 0.2), -1.8em 1.8em 0 0em rgba(255, 255, 255, 0.2), -2.6em 0em 0 0em rgba(255, 255, 255, 0.5), -1.8em -1.8em 0 0em rgba(255, 255, 255, 0.7);
        }
        12.5% {
            box-shadow: 0em -2.6em 0em 0em rgba(255, 255, 255, 0.7), 1.8em -1.8em 0 0em #ffffff, 2.5em 0em 0 0em rgba(255, 255, 255, 0.2), 1.75em 1.75em 0 0em rgba(255, 255, 255, 0.2), 0em 2.5em 0 0em rgba(255, 255, 255, 0.2), -1.8em 1.8em 0 0em rgba(255, 255, 255, 0.2), -2.6em 0em 0 0em rgba(255, 255, 255, 0.2), -1.8em -1.8em 0 0em rgba(255, 255, 255, 0.5);
        }
        25% {
            box-shadow: 0em -2.6em 0em 0em rgba(255, 255, 255, 0.5), 1.8em -1.8em 0 0em rgba(255, 255, 255, 0.7), 2.5em 0em 0 0em #ffffff, 1.75em 1.75em 0 0em rgba(255, 255, 255, 0.2), 0em 2.5em 0 0em rgba(255, 255, 255, 0.2), -1.8em 1.8em 0 0em rgba(255, 255, 255, 0.2), -2.6em 0em 0 0em rgba(255, 255, 255, 0.2), -1.8em -1.8em 0 0em rgba(255, 255, 255, 0.2);
        }
        37.5% {
            box-shadow: 0em -2.6em 0em 0em rgba(255, 255, 255, 0.2), 1.8em -1.8em 0 0em rgba(255, 255, 255, 0.5), 2.5em 0em 0 0em rgba(255, 255, 255, 0.7), 1.75em 1.75em 0 0em #ffffff, 0em 2.5em 0 0em rgba(255, 255, 255, 0.2), -1.8em 1.8em 0 0em rgba(255, 255, 255, 0.2), -2.6em 0em 0 0em rgba(255, 255, 255, 0.2), -1.8em -1.8em 0 0em rgba(255, 255, 255, 0.2);
        }
        50% {
            box-shadow: 0em -2.6em 0em 0em rgba(255, 255, 255, 0.2), 1.8em -1.8em 0 0em rgba(255, 255, 255, 0.2), 2.5em 0em 0 0em rgba(255, 255, 255, 0.5), 1.75em 1.75em 0 0em rgba(255, 255, 255, 0.7), 0em 2.5em 0 0em #ffffff, -1.8em 1.8em 0 0em rgba(255, 255, 255, 0.2), -2.6em 0em 0 0em rgba(255, 255, 255, 0.2), -1.8em -1.8em 0 0em rgba(255, 255, 255, 0.2);
        }
        62.5% {
            box-shadow: 0em -2.6em 0em 0em rgba(255, 255, 255, 0.2), 1.8em -1.8em 0 0em rgba(255, 255, 255, 0.2), 2.5em 0em 0 0em rgba(255, 255, 255, 0.2), 1.75em 1.75em 0 0em rgba(255, 255, 255, 0.5), 0em 2.5em 0 0em rgba(255, 255, 255, 0.7), -1.8em 1.8em 0 0em #ffffff, -2.6em 0em 0 0em rgba(255, 255, 255, 0.2), -1.8em -1.8em 0 0em rgba(255, 255, 255, 0.2);
        }
        75% {
            box-shadow: 0em -2.6em 0em 0em rgba(255, 255, 255, 0.2), 1.8em -1.8em 0 0em rgba(255, 255, 255, 0.2), 2.5em 0em 0 0em rgba(255, 255, 255, 0.2), 1.75em 1.75em 0 0em rgba(255, 255, 255, 0.2), 0em 2.5em 0 0em rgba(255, 255, 255, 0.5), -1.8em 1.8em 0 0em rgba(255, 255, 255, 0.7), -2.6em 0em 0 0em #ffffff, -1.8em -1.8em 0 0em rgba(255, 255, 255, 0.2);
        }
        87.5% {
            box-shadow: 0em -2.6em 0em 0em rgba(255, 255, 255, 0.2), 1.8em -1.8em 0 0em rgba(255, 255, 255, 0.2), 2.5em 0em 0 0em rgba(255, 255, 255, 0.2), 1.75em 1.75em 0 0em rgba(255, 255, 255, 0.2), 0em 2.5em 0 0em rgba(255, 255, 255, 0.2), -1.8em 1.8em 0 0em rgba(255, 255, 255, 0.5), -2.6em 0em 0 0em rgba(255, 255, 255, 0.7), -1.8em -1.8em 0 0em #ffffff;
        }
    }
    /* load4 */

    .load4 .loader {
        color: #4285f4;
        font-size: 90px;
        text-indent: -9999em;
        overflow: hidden;
        width: 1em;
        height: 1em;
        border-radius: 50%;
        margin: 72px auto;
        position: relative;
        -webkit-transform: translateZ(0);
        -ms-transform: translateZ(0);
        transform: translateZ(0);
        -webkit-animation: load4 1.7s infinite ease;
        animation: load4 1.7s infinite ease;
    }

    @-webkit-keyframes load4 {
        0% {
            -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
            box-shadow: 0 -0.83em 0 -0.4em, 0 -0.83em 0 -0.42em, 0 -0.83em 0 -0.44em, 0 -0.83em 0 -0.46em, 0 -0.83em 0 -0.477em;
        }
        5%,
        95% {
            box-shadow: 0 -0.83em 0 -0.4em, 0 -0.83em 0 -0.42em, 0 -0.83em 0 -0.44em, 0 -0.83em 0 -0.46em, 0 -0.83em 0 -0.477em;
        }
        10%,
        59% {
            box-shadow: 0 -0.83em 0 -0.4em, -0.087em -0.825em 0 -0.42em, -0.173em -0.812em 0 -0.44em, -0.256em -0.789em 0 -0.46em, -0.297em -0.775em 0 -0.477em;
        }
        20% {
            box-shadow: 0 -0.83em 0 -0.4em, -0.338em -0.758em 0 -0.42em, -0.555em -0.617em 0 -0.44em, -0.671em -0.488em 0 -0.46em, -0.749em -0.34em 0 -0.477em;
        }
        38% {
            box-shadow: 0 -0.83em 0 -0.4em, -0.377em -0.74em 0 -0.42em, -0.645em -0.522em 0 -0.44em, -0.775em -0.297em 0 -0.46em, -0.82em -0.09em 0 -0.477em;
        }
        100% {
            -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
            box-shadow: 0 -0.83em 0 -0.4em, 0 -0.83em 0 -0.42em, 0 -0.83em 0 -0.44em, 0 -0.83em 0 -0.46em, 0 -0.83em 0 -0.477em;
        }
    }

    @keyframes load4 {
        0% {
            -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
            box-shadow: 0 -0.83em 0 -0.4em, 0 -0.83em 0 -0.42em, 0 -0.83em 0 -0.44em, 0 -0.83em 0 -0.46em, 0 -0.83em 0 -0.477em;
        }
        5%,
        95% {
            box-shadow: 0 -0.83em 0 -0.4em, 0 -0.83em 0 -0.42em, 0 -0.83em 0 -0.44em, 0 -0.83em 0 -0.46em, 0 -0.83em 0 -0.477em;
        }
        10%,
        59% {
            box-shadow: 0 -0.83em 0 -0.4em, -0.087em -0.825em 0 -0.42em, -0.173em -0.812em 0 -0.44em, -0.256em -0.789em 0 -0.46em, -0.297em -0.775em 0 -0.477em;
        }
        20% {
            box-shadow: 0 -0.83em 0 -0.4em, -0.338em -0.758em 0 -0.42em, -0.555em -0.617em 0 -0.44em, -0.671em -0.488em 0 -0.46em, -0.749em -0.34em 0 -0.477em;
        }
        38% {
            box-shadow: 0 -0.83em 0 -0.4em, -0.377em -0.74em 0 -0.42em, -0.645em -0.522em 0 -0.44em, -0.775em -0.297em 0 -0.46em, -0.82em -0.09em 0 -0.477em;
        }
        100% {
            -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
            box-shadow: 0 -0.83em 0 -0.4em, 0 -0.83em 0 -0.42em, 0 -0.83em 0 -0.44em, 0 -0.83em 0 -0.46em, 0 -0.83em 0 -0.477em;
        }
    }
    /* load5 */

    .load5 .loader,
    .load5 .loader:before,
    .load5 .loader:after {
        border-radius: 50%;
        width: 2.5em;
        height: 2.5em;
        -webkit-animation-fill-mode: both;
        animation-fill-mode: both;
        -webkit-animation: load5 1.8s infinite ease-in-out;
        animation: load5 1.8s infinite ease-in-out;
    }

    .load5 .loader {
        color: #4285f4;
        font-size: 12px;
        margin: 80px auto;
        position: relative;
        text-indent: -9999em;
        -webkit-transform: translateZ(0);
        -ms-transform: translateZ(0);
        transform: translateZ(0);
        -webkit-animation-delay: -0.16s;
        animation-delay: -0.16s;
    }

    .load5 .loader:before,
    .load5 .loader:after {
        content: '';
        position: absolute;
        top: 0;
    }

    .load5 .loader:before {
        left: -3.5em;
        -webkit-animation-delay: -0.32s;
        animation-delay: -0.32s;
    }

    .load5 .loader:after {
        left: 3.5em;
    }

    @-webkit-keyframes load5 {
        0%,
        80%,
        100% {
            box-shadow: 0 2.5em 0 -1.3em;
        }
        40% {
            box-shadow: 0 2.5em 0 0;
        }
    }

    @keyframes load5 {
        0%,
        80%,
        100% {
            box-shadow: 0 2.5em 0 -1.3em;
        }
        40% {
            box-shadow: 0 2.5em 0 0;
        }
    }
    &lt;/style&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;input type="button" value="Loading1" id="m-btn"&gt;
    &lt;div class="load-container load1" id="m-loading"&gt;
        &lt;div class="loader"&gt;Loading...&lt;/div&gt;
    &lt;/div&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"&gt;&lt;/script&gt;
    &lt;script type="text/javascript"&gt;
    $(function() {
        var myAction = {},
            index = 1, loadingInterval;
        var dom = {
            btn: $('#m-btn'),
            loading: $('#m-loading'),
            loadingInner: $('#m-loading-inner')
        };

        $.extend(myAction, {
            loadingFn: function(that) {
                index++;
                if (index &gt; 5) {
                    index = 1;
                }
                that.val('Loading' + index);
                dom.loading.attr('class', 'load-container load' + index);
                dom.loading.show();
                clearInterval(loadingInterval);
                loadingInterval = setInterval(function () {
                    dom.loading.hide();
                }, 5000);
            },
            initEvent: function() {
                dom.btn.on('click', function() {
                    var that = $(this);
                    myAction.loadingFn(that);
                });
            }
        });

        var init = function() {
            myAction.initEvent();
        }();
    })
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p>&nbsp;</p>            ]]></description></item><item><title>canvas时钟</title><link>http://www.cnblogs.com/xutongbao/archive/2018/09/28/9924789.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Fri, 28 Sep 2018 08:15:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/09/28/9924789.html</guid><description><![CDATA[
                <p><img alt="" class="has" src="https://img-blog.csdn.net/20180928161400125?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;

&lt;head&gt;
    &lt;meta charset="utf-8"&gt;
    &lt;title&gt;canvas&lt;/title&gt;
    &lt;style&gt;
        body{background-color: rgba(0, 0, 0, 0.1)}
    &lt;/style&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;canvas id="myCanvas" width="800" height="800" style="border:1px solid #d3d3d3;"&gt;
        您的浏览器不支持 HTML5 canvas 标签。&lt;/canvas&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"&gt;&lt;/script&gt;
    &lt;script&gt;
    $(function() {
        var myAction = {},
            ctx, earchSpeed = 60,
            moonSpeed = 6;

        var dom = {
            earchSpeed: $('#m-earth-speed'),
            moonSpeed: $('#m-moon-speed'),
            btn: $('#m-btn'),
            canvas: $('#myCanvas')
        };

        $.extend(myAction, {
            initCanvas: function() {
                ctx = dom.canvas[0].getContext("2d");
                myAction.draw(ctx);
            },
            draw: function(ctx) {
                requestAnimationFrame(function step() {
                    myAction.drawDial(ctx); //绘制表盘
                    myAction.drawAllHands(ctx); //绘制时分秒针
                    requestAnimationFrame(step);
                });
            },
            /*绘制时分秒针*/
            drawAllHands: function(ctx) {
                var time = new Date();

                var s = time.getSeconds();
                var m = time.getMinutes();
                var h = time.getHours();

                var pi = Math.PI;
                var secondAngle = pi / 180 * 6 * s; //计算出来s针的弧度
                var minuteAngle = pi / 180 * 6 * m + secondAngle / 60; //计算出来分针的弧度
                var hourAngle = pi / 180 * 30 * h + minuteAngle / 12; //计算出来时针的弧度

                myAction.drawHand(hourAngle, 60, 6, "red", ctx); //绘制时针
                myAction.drawHand(minuteAngle, 106, 4, "green", ctx); //绘制分针
                myAction.drawHand(secondAngle, 129, 2, "blue", ctx); //绘制秒针
            },
            /*绘制时针、或分针、或秒针
             * 参数1：要绘制的针的角度
             * 参数2：要绘制的针的长度
             * 参数3：要绘制的针的宽度
             * 参数4：要绘制的针的颜色
             * 参数4：ctx
             * */
            drawHand: function(angle, len, width, color, ctx) {
                ctx.save();
                ctx.translate(150, 150); //把坐标轴的远点平移到原来的中心
                ctx.rotate(-Math.PI / 2 + angle); //旋转坐标轴。 x轴就是针的角度
                ctx.beginPath();
                ctx.moveTo(-4, 0);
                ctx.lineTo(len, 0); // 沿着x轴绘制针
                ctx.lineWidth = width;
                ctx.strokeStyle = color;
                ctx.lineCap = "round";
                ctx.stroke();
                ctx.closePath();
                ctx.restore();
            },
            /*绘制表盘*/
            drawDial: function() {
                var pi = Math.PI;

                ctx.clearRect(0, 0, 300, 300); //清除所有内容
                ctx.save();

                ctx.translate(150, 150); //一定坐标原点到原来的中心
                ctx.beginPath();
                ctx.arc(0, 0, 148, 0, 2 * pi); //绘制圆周
                ctx.stroke();
                ctx.closePath();

                for (var i = 0; i &lt; 60; i++) { //绘制刻度。
                    ctx.save();
                    ctx.rotate(-pi / 2 + i * pi / 30); //旋转坐标轴。坐标轴x的正方形从 向上开始算起
                    ctx.beginPath();
                    ctx.moveTo(110, 0);
                    ctx.lineTo(140, 0);
                    ctx.lineWidth = i % 5 ? 2 : 4;
                    ctx.strokeStyle = i % 5 ? "blue" : "red";
                    ctx.stroke();
                    ctx.closePath();
                    ctx.restore();
                }
                ctx.restore();
            }
        });
        var init = function() {
            myAction.initCanvas();
        }();
    })
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p>&nbsp;</p>            ]]></description></item><item><title>canvas实现动画 地球绕太阳公转 月球绕地球公转</title><link>http://www.cnblogs.com/xutongbao/archive/2018/09/28/9924790.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Fri, 28 Sep 2018 06:27:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/09/28/9924790.html</guid><description><![CDATA[
                <p><img alt="" class="has" src="https://img-blog.csdn.net/20180928142608881?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>

<p>&nbsp;</p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;

&lt;head&gt;
    &lt;meta charset="utf-8"&gt;
    &lt;title&gt;canvas&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;div&gt;
        地球公转速度：
        &lt;input type="input" value="60" id="m-earth-speed"&gt; 月球公转速度：
        &lt;input type="input" value="6" id="m-moon-speed"&gt;
        &lt;input type="button" id="m-btn" value='设置'&gt;
    &lt;/div&gt;
    &lt;canvas id="myCanvas" width="800" height="800" style="border:1px solid #d3d3d3;"&gt;
        您的浏览器不支持 HTML5 canvas 标签。&lt;/canvas&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"&gt;&lt;/script&gt;
    &lt;script&gt;
    $(function() {
        var myAction = {},
            ctx, earchSpeed = 60,
            moonSpeed = 6;

        var dom = {
            earchSpeed: $('#m-earth-speed'),
            moonSpeed: $('#m-moon-speed'),
            btn: $('#m-btn'),
            canvas: $('#myCanvas')
        };

        $.extend(myAction, {
            initCanvas: function() {
                ctx = dom.canvas[0].getContext("2d");
                myAction.draw();
            },
            draw: function() {
                ctx.clearRect(0, 0, 300, 300); //清空所有的内容

                ctx.fillRect(0, 0, 300, 300);
                //绘制太阳
                ctx.save();
                ctx.beginPath();
                ctx.fillStyle = "yellow";
                ctx.arc(150, 150, 20, 0, Math.PI * 2);
                ctx.fill();
                ctx.restore();


                ctx.save();
                ctx.translate(150, 150);

                //绘制地球轨道
                ctx.beginPath();
                ctx.strokeStyle = "rgba(255,255,0,0.5)";
                ctx.arc(0, 0, 100, 0, 2 * Math.PI);
                ctx.stroke()

                var time = new Date();
                //绘制地球
                ctx.rotate(2 * Math.PI / earchSpeed * time.getSeconds() + 2 * Math.PI / (earchSpeed * 1000) * time.getMilliseconds());
                ctx.translate(100, 0);
                ctx.beginPath();
                ctx.fillStyle = "blue";
                ctx.arc(0, 0, 10, 0, Math.PI * 2);
                ctx.fill();

                //绘制月球轨道
                ctx.beginPath();
                ctx.strokeStyle = "rgba(255,255,255,.3)";
                ctx.beginPath();
                ctx.arc(0, 0, 40, 0, 2 * Math.PI);
                ctx.stroke();

                //绘制月球
                ctx.rotate(2 * Math.PI / moonSpeed * time.getSeconds() + 2 * Math.PI / (moonSpeed * 1000) * time.getMilliseconds());
                ctx.translate(40, 0);
                ctx.fillStyle = "#ffffff";
                ctx.beginPath();
                ctx.arc(0, 0, 4, 0, Math.PI * 2);
                ctx.fill();
                ctx.restore();

                requestAnimationFrame(myAction.draw);
            },
            initEvent: function() {
                dom.btn.on('click', function() {
                    earchSpeed = dom.earchSpeed.val() - 0;
                    moonSpeed = dom.moonSpeed.val() - 0;
                });
            }
        });
        var init = function() {
            myAction.initCanvas();
            myAction.initEvent();
        }();
    })
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p>&nbsp;</p>            ]]></description></item><item><title>canvas基础三</title><link>http://www.cnblogs.com/xutongbao/archive/2018/09/28/9924791.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Fri, 28 Sep 2018 03:44:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/09/28/9924791.html</guid><description><![CDATA[
                <p>1.save(), restore()</p>

<p><img alt="" class="has" src="https://img-blog.csdn.net/20180928103526498?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;

&lt;head&gt;
    &lt;meta charset="utf-8"&gt;
    &lt;title&gt;canvas&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;canvas id="myCanvas" width="800" height="800" style="border:1px solid #d3d3d3;"&gt;
        您的浏览器不支持 HTML5 canvas 标签。&lt;/canvas&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"&gt;&lt;/script&gt;
    &lt;script&gt;
    $(function() {
        var myAction = {},
            ctx;

        var dom = {
            canvas: $('#myCanvas')
        };

        $.extend(myAction, {
            initCanvas: function() {
                ctx = dom.canvas[0].getContext("2d");

                ctx.fillRect(0, 0, 150, 150); // 使用默认设置绘制一个矩形
                ctx.save(); // 保存默认状态

                ctx.fillStyle = 'red' // 在原有配置基础上对颜色做改变
                ctx.fillRect(15, 15, 120, 120); // 使用新的设置绘制一个矩形

                ctx.save(); // 保存当前状态
                ctx.fillStyle = '#FFF' // 再次改变颜色配置
                ctx.fillRect(30, 30, 90, 90); // 使用新的配置绘制一个矩形

                ctx.restore(); // 重新加载之前的颜色状态
                ctx.fillRect(45, 45, 60, 60); // 使用上一次的配置绘制一个矩形

                ctx.restore(); // 加载默认颜色配置
                ctx.fillRect(60, 60, 30, 30); // 使用加载的配置绘制一个矩形
            }
        });

        var init = function() {
            myAction.initCanvas();
        }();
    })
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p>2.translate()</p>

<p><img alt="" class="has" src="https://img-blog.csdn.net/20180928104100566?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;

&lt;head&gt;
    &lt;meta charset="utf-8"&gt;
    &lt;title&gt;canvas&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;canvas id="myCanvas" width="800" height="800" style="border:1px solid #d3d3d3;"&gt;
        您的浏览器不支持 HTML5 canvas 标签。&lt;/canvas&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"&gt;&lt;/script&gt;
    &lt;script&gt;
    $(function() {
        var myAction = {},
            ctx;

        var dom = {
            canvas: $('#myCanvas')
        };

        $.extend(myAction, {
            initCanvas: function() {
                ctx = dom.canvas[0].getContext("2d");

                ctx.save(); //保存坐原点平移之前的状态
                ctx.translate(100, 100);
                ctx.strokeRect(0, 0, 100, 100)
                ctx.restore(); //恢复到最初状态
                ctx.translate(220, 220);
                ctx.fillRect(0, 0, 100, 100)
            }
        });

        var init = function() {
            myAction.initCanvas();
        }();
    })
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p>3.rotate()</p>

<p><img alt="" class="has" src="https://img-blog.csdn.net/20180928105642315?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;

&lt;head&gt;
    &lt;meta charset="utf-8"&gt;
    &lt;title&gt;canvas&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;canvas id="myCanvas" width="800" height="800" style="border:1px solid #d3d3d3;"&gt;
        您的浏览器不支持 HTML5 canvas 标签。&lt;/canvas&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"&gt;&lt;/script&gt;
    &lt;script&gt;
    $(function() {
        var myAction = {},
            ctx;

        var dom = {
            canvas: $('#myCanvas')
        };

        $.extend(myAction, {
            initCanvas: function() {
                ctx = dom.canvas[0].getContext("2d");

                ctx.fillStyle = "red";
                ctx.save();

                ctx.translate(100, 100);
                ctx.rotate(Math.PI / 180 * 45);
                ctx.fillStyle = "blue";
                ctx.fillRect(0, 0, 100, 100);
                ctx.restore();

                ctx.save();
                ctx.translate(0, 0);
                ctx.fillRect(0, 0, 50, 50)
                ctx.restore();
            }
        });

        var init = function() {
            myAction.initCanvas();
        }();
    })
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p>4.transform()</p>

<p><img alt="" class="has" src="https://img-blog.csdn.net/20180928110858958?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;

&lt;head&gt;
    &lt;meta charset="utf-8"&gt;
    &lt;title&gt;canvas&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;canvas id="myCanvas" width="800" height="800" style="border:1px solid #d3d3d3;"&gt;
        您的浏览器不支持 HTML5 canvas 标签。&lt;/canvas&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"&gt;&lt;/script&gt;
    &lt;script&gt;
    $(function() {
        var myAction = {},
            ctx;

        var dom = {
            canvas: $('#myCanvas')
        };

        $.extend(myAction, {
            initCanvas: function() {
                ctx = dom.canvas[0].getContext("2d");

                //transform()各参数的含义：
                //Horizontal scaling, Horizontal skewing, Vertical skewing, Vertical scaling, Horizontal moving, Vertical moving
                ctx.transform(2, 0.5, 0.5, 2, 50, 50);
                ctx.fillRect(0, 0, 100, 100);
            }
        });
        var init = function() {
            myAction.initCanvas();
        }();
    })
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p>5.合并</p>

<p><img alt="" class="has" src="https://img-blog.csdn.net/20180928114305841?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;

&lt;head&gt;
    &lt;meta charset="utf-8"&gt;
    &lt;title&gt;canvas&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;div id='m-type'&gt;&lt;/div&gt;
    &lt;canvas id="myCanvas" width="800" height="800" style="border:1px solid #d3d3d3;"&gt;
        您的浏览器不支持 HTML5 canvas 标签。&lt;/canvas&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"&gt;&lt;/script&gt;
    &lt;script&gt;
    $(function() {
        var myAction = {},
            ctx;

        var dom = {
            type: $('#m-type'),
            canvas: $('#myCanvas')
        };

        $.extend(myAction, {
            initCanvas: function() {
                ctx = dom.canvas[0].getContext("2d");

                var arr = ['source-over', 'source-in', 'source-out', 'source-atop', 
                'destination-over', 'destination-in', 'destination-out', 'destination-atop',
                'lighter', 'darken', 'lighten', 'xor', 'copy'];
                var index = 0;
                setInterval(function () {
                    ctx.save();
                    ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);
                    ctx.fillStyle = "blue";
                    ctx.fillRect(0, 0, 200, 200);

                    ctx.globalCompositeOperation = arr[index]; //全局合成操作
                    dom.type.text(arr[index]);
                    ctx.fillStyle = "red";
                    ctx.fillRect(100, 100, 200, 200);
                    ctx.restore();
                    index++;
                    if (index &gt;= arr.length) {
                        index = 0;
                    }
                    
                }, 1000);

            }
        });
        var init = function() {
            myAction.initCanvas();
        }();
    })
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p>6.clip()</p>

<p><img alt="" class="has" src="https://img-blog.csdn.net/20180928115839711?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;

&lt;head&gt;
    &lt;meta charset="utf-8"&gt;
    &lt;title&gt;canvas&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;div id='m-type'&gt;&lt;/div&gt;
    &lt;canvas id="myCanvas" width="800" height="800" style="border:1px solid #d3d3d3;"&gt;
        您的浏览器不支持 HTML5 canvas 标签。&lt;/canvas&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"&gt;&lt;/script&gt;
    &lt;script&gt;
    $(function() {
        var myAction = {},
            ctx;

        var dom = {
            type: $('#m-type'),
            canvas: $('#myCanvas')
        };

        $.extend(myAction, {
            initCanvas: function() {
                ctx = dom.canvas[0].getContext("2d");

                ctx.beginPath();
                ctx.arc(100, 100, 100, 0, Math.PI * 1);
                ctx.arc(150, 100, 100, 0, Math.PI * 2);
                ctx.clip();

                ctx.fillStyle = "pink";
                ctx.fillRect(0, 0, 800, 800);
            }
        });
        var init = function() {
            myAction.initCanvas();
        }();
    })
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>            ]]></description></item><item><title>js中对String去空格</title><link>http://www.cnblogs.com/xutongbao/archive/2018/09/28/9924792.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Fri, 28 Sep 2018 02:10:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/09/28/9924792.html</guid><description><![CDATA[
                <pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;

&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;js中对String去空格&lt;/title&gt;
    &lt;style type="text/css"&gt;
    body {
        margin: 0;
        padding: 0;
    }
    &lt;/style&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"&gt;&lt;/script&gt;
    &lt;script type="text/javascript"&gt;
    $(function() {
        var myAction = {};
        $.extend(myAction, {
            test: function() {
                var str = '  x u tong bao  ';
                var temp = str.replace(/\s+/g, ''); //去除所有空格
                console.log(':' + temp + '.');
                var temp = str.replace(/^\s+|\s+$/g, ''); //去除两头空格
                console.log(':' + temp + '.');
                var temp = str.replace(/^\s+/, ''); //去除左空格
                console.log(':' + temp + '.');
                var temp = str.replace(/(\s+$)/g, ''); //去除右空格
                console.log(':' + temp + '.');

                var temp = $.trim(str); //使用jQuery 去除两头空格
                console.log(':' + temp + '.');
            }
        });

        var init = function() {
            myAction.test();
        }();
    })
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p>&nbsp;</p>            ]]></description></item><item><title>如何使上层div遮住的按钮依然可以点击  使用css实现（ pointer-events:none ）</title><link>http://www.cnblogs.com/xutongbao/archive/2018/09/27/9924793.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 27 Sep 2018 10:56:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/09/27/9924793.html</guid><description><![CDATA[
                <p><img alt="" class="has" src="https://img-blog.csdn.net/20180927185450753?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;

&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;如何使上层div遮住的按钮依然可以点击&lt;/title&gt;
    &lt;style type="text/css"&gt;
    body{margin: 0;padding: 0;}
    .m-btn{margin: 100px;cursor: pointer;}
    .m-test{position: absolute; pointer-events:none;top:0;left: 0; width: 100%;height: 100%;background-color: rgba(0,0,0,0.3);}
    &lt;/style&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;input type="button" class="m-btn" id="m-btn" value="按钮"&gt;
    &lt;div class="m-test" id="m-test"&gt;&lt;/div&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"&gt;&lt;/script&gt;
    &lt;script src="https://cdn.bootcss.com/jquery-cookie/1.4.1/jquery.cookie.js"&gt;&lt;/script&gt;
    &lt;script type="text/javascript"&gt;
    $(function() {
        var myAction = {};

        var dom = {
            btn: $('#m-btn'),
            test: $('#m-test')
        }

        $.extend(myAction, {
            initEvent: function() {
                dom.btn.on('click', function () {
                    console.log('点击了按钮');
                }),                
                dom.test.on('click', function () {
                    console.log('点击了蒙层');
                })
            }
        });

        var init = function() {
            myAction.initEvent();
        }();
    })
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p>&nbsp;</p>            ]]></description></item><item><title>canvas基础二</title><link>http://www.cnblogs.com/xutongbao/archive/2018/09/26/9924794.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 26 Sep 2018 09:38:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/09/26/9924794.html</guid><description><![CDATA[
                <p>1.</p>

<p><img alt="" class="has" src="https://img-blog.csdn.net/20180926173330932?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;

&lt;head&gt;
    &lt;meta charset="utf-8"&gt;
    &lt;title&gt;canvas&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;canvas id="myCanvas" width="800" height="800" style="border:1px solid #d3d3d3;"&gt;
        您的浏览器不支持 HTML5 canvas 标签。&lt;/canvas&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"&gt;&lt;/script&gt;
    &lt;script&gt;
    $(function() {
        var myAction = {},
            ctx;

        var dom = {
            canvas: $('#myCanvas')
        };

        $.extend(myAction, {
            initCanvas: function() {
                ctx = dom.canvas[0].getContext("2d");
                for (var i = 0; i &lt; 6; i++) {
                    for (var j = 0; j &lt; 6; j++) {
                        ctx.fillStyle = 'rgb(' + Math.floor(255 - 42.5 * i) + ',' +
                            Math.floor(255 - 42.5 * j) + ',0)';
                        ctx.fillRect(j * 50, i * 50, 50, 50);
                    }
                }
            }
        });

        var init = function() {
            myAction.initCanvas();
        }();
    })
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p>2.</p>

<p><img alt="" class="has" src="https://img-blog.csdn.net/20180926173713516?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;

&lt;head&gt;
    &lt;meta charset="utf-8"&gt;
    &lt;title&gt;canvas&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;canvas id="myCanvas" width="800" height="800" style="border:1px solid #d3d3d3;"&gt;
        您的浏览器不支持 HTML5 canvas 标签。&lt;/canvas&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"&gt;&lt;/script&gt;
    &lt;script&gt;
    $(function() {
        var myAction = {},
            ctx;

        var dom = {
            canvas: $('#myCanvas')
        };

        $.extend(myAction, {
            initCanvas: function() {
                ctx = dom.canvas[0].getContext("2d");
                for (var i = 0; i &lt; 6; i++) {
                    for (var j = 0; j &lt; 6; j++) {
                        ctx.strokeStyle = 'rgb(' + Math.floor(255 - 42.5 * i) + ',' +
                            Math.floor(255 - 42.5 * j) + ',0)';
                        ctx.strokeRect(j * 50, i * 50, 40, 40);
                    }
                }
            }
        });

        var init = function() {
            myAction.initCanvas();
        }();
    })
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p>3.</p>

<p><img alt="" class="has" src="https://img-blog.csdn.net/20180926180957180?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;

&lt;head&gt;
    &lt;meta charset="utf-8"&gt;
    &lt;title&gt;canvas&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;canvas id="myCanvas" width="800" height="800" style="border:1px solid #d3d3d3;"&gt;
        您的浏览器不支持 HTML5 canvas 标签。&lt;/canvas&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"&gt;&lt;/script&gt;
    &lt;script&gt;
    $(function() {
        var myAction = {},
            ctx;

        var dom = {
            canvas: $('#myCanvas')
        };

        $.extend(myAction, {
            initCanvas: function() {
                ctx = dom.canvas[0].getContext("2d");
                ctx.strokeStyle = '#ff0000';
                ctx.beginPath();
                ctx.moveTo(10, 10);
                ctx.lineTo(100, 10);
                ctx.lineWidth = 10;
                ctx.stroke();

                ctx.strokeStyle = '#ffff00';
                ctx.beginPath();
                ctx.moveTo(110, 10);
                ctx.lineTo(160, 10)
                ctx.lineWidth = 20;
                ctx.stroke()
            }
        });

        var init = function() {
            myAction.initCanvas();
        }();
    })
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p>4.</p>

<p><img alt="" class="has" src="https://img-blog.csdn.net/20180926181331832?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;

&lt;head&gt;
    &lt;meta charset="utf-8"&gt;
    &lt;title&gt;canvas&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;canvas id="myCanvas" width="800" height="800" style="border:1px solid #d3d3d3;"&gt;
        您的浏览器不支持 HTML5 canvas 标签。&lt;/canvas&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"&gt;&lt;/script&gt;
    &lt;script&gt;
    $(function() {
        var myAction = {},
            ctx;

        var dom = {
            canvas: $('#myCanvas')
        };

        $.extend(myAction, {
            initCanvas: function() {
                ctx = dom.canvas[0].getContext("2d");
                var lineCaps = ["butt", "round", "square"];

                for (var i = 0; i &lt; 3; i++) {
                    ctx.beginPath();
                    ctx.moveTo(20 + 30 * i, 30);
                    ctx.lineTo(20 + 30 * i, 100);
                    ctx.lineWidth = 20;
                    ctx.lineCap = lineCaps[i];
                    ctx.stroke();
                }

                ctx.beginPath();
                ctx.moveTo(0, 30);
                ctx.lineTo(300, 30);

                ctx.moveTo(0, 100);
                ctx.lineTo(300, 100)

                ctx.strokeStyle = "red";
                ctx.lineWidth = 1;
                ctx.stroke();
            }
        });

        var init = function() {
            myAction.initCanvas();
        }();
    })
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p>5.</p>

<p><img alt="" class="has" src="https://img-blog.csdn.net/20180926181623346?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;

&lt;head&gt;
    &lt;meta charset="utf-8"&gt;
    &lt;title&gt;canvas&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;canvas id="myCanvas" width="800" height="800" style="border:1px solid #d3d3d3;"&gt;
        您的浏览器不支持 HTML5 canvas 标签。&lt;/canvas&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"&gt;&lt;/script&gt;
    &lt;script&gt;
    $(function() {
        var myAction = {},
            ctx;

        var dom = {
            canvas: $('#myCanvas')
        };

        $.extend(myAction, {
            initCanvas: function() {
                ctx = dom.canvas[0].getContext("2d");

                var lineJoin = ['round', 'bevel', 'miter'];
                ctx.lineWidth = 20;

                for (var i = 0; i &lt; lineJoin.length; i++) {
                    ctx.lineJoin = lineJoin[i];
                    ctx.beginPath();
                    ctx.moveTo(50, 50 + i * 50);
                    ctx.lineTo(100, 100 + i * 50);
                    ctx.lineTo(150, 50 + i * 50);
                    ctx.lineTo(200, 100 + i * 50);
                    ctx.lineTo(250, 50 + i * 50);
                    ctx.stroke();
                }
            }
        });

        var init = function() {
            myAction.initCanvas();
        }();
    })
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p>6.</p>

<p><img alt="" class="has" src="https://img-blog.csdn.net/20180926181948776?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;

&lt;head&gt;
    &lt;meta charset="utf-8"&gt;
    &lt;title&gt;canvas&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;canvas id="myCanvas" width="800" height="800" style="border:1px solid #d3d3d3;"&gt;
        您的浏览器不支持 HTML5 canvas 标签。&lt;/canvas&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"&gt;&lt;/script&gt;
    &lt;script&gt;
    $(function() {
        var myAction = {},
            ctx;

        var dom = {
            canvas: $('#myCanvas')
        };

        $.extend(myAction, {
            initCanvas: function() {
                ctx = dom.canvas[0].getContext("2d");

                ctx.setLineDash([20, 5]); // [实线长度, 间隙长度]
                ctx.lineDashOffset = -0;
                ctx.strokeRect(50, 50, 210, 210);
            }
        });

        var init = function() {
            myAction.initCanvas();
        }();
    })
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p>7.</p>

<p><img alt="" class="has" src="https://img-blog.csdn.net/20180926182406200?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;

&lt;head&gt;
    &lt;meta charset="utf-8"&gt;
    &lt;title&gt;canvas&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;canvas id="myCanvas" width="800" height="800" style="border:1px solid #d3d3d3;"&gt;
        您的浏览器不支持 HTML5 canvas 标签。&lt;/canvas&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"&gt;&lt;/script&gt;
    &lt;script&gt;
    $(function() {
        var myAction = {},
            ctx;

        var dom = {
            canvas: $('#myCanvas')
        };

        $.extend(myAction, {
            initCanvas: function() {
                ctx = dom.canvas[0].getContext("2d");

                ctx.font = "50px sans-serif";
                ctx.fillText("徐同保", 10, 100);
                ctx.strokeText("xutongbao", 10, 200);
            }
        });

        var init = function() {
            myAction.initCanvas();
        }();
    })
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p>8.</p>

<p><code>drawImage(image, x, y, width, height)</code></p>

<p><code>drawImage(image, sx, sy, sWidth, sHeight, dx, dy, dWidth, dHeight)</code></p>

<p><code><img alt="" class="has" src="https://img-blog.csdn.net/20180926190617193?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></code></p>

<p><img alt="" class="has" src="https://img-blog.csdn.net/20180926190449254?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;

&lt;head&gt;
    &lt;meta charset="utf-8"&gt;
    &lt;title&gt;canvas&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;canvas id="myCanvas" width="800" height="800" style="border:1px solid #d3d3d3;"&gt;
        您的浏览器不支持 HTML5 canvas 标签。&lt;/canvas&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"&gt;&lt;/script&gt;
    &lt;script&gt;
    $(function() {
        var myAction = {},
            ctx;

        var dom = {
            canvas: $('#myCanvas')
        };

        $.extend(myAction, {
            initCanvas: function() {
                ctx = dom.canvas[0].getContext("2d");

                var img = new Image();   // 创建img元素
                img.onload = function(){
                  ctx.drawImage(img, 0, 0, 200, 120);
                  ctx.drawImage(img, 10, 10, 200, 120, 300, 0, 200, 120);
                }
                img.src = 'https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1537969303914&amp;di=e0789df5029fc5d85b7c6acd18999e97&amp;imgtype=0&amp;src=http%3A%2F%2Fpic.58pic.com%2F58pic%2F17%2F27%2F14%2F86k58PICeMW_1024.jpg'; // 设置图片源地址
            }
        });

        var init = function() {
            myAction.initCanvas();
        }();
    })
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>            ]]></description></item><item><title>canvas基础一</title><link>http://www.cnblogs.com/xutongbao/archive/2018/09/26/9924795.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 26 Sep 2018 07:45:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/09/26/9924795.html</guid><description><![CDATA[
                <p>&nbsp;1.</p>

<p><img alt="" class="has" src="https://img-blog.csdn.net/20180926151817318?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>

<p>&nbsp;</p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;

&lt;head&gt;
    &lt;meta charset="utf-8"&gt;
    &lt;title&gt;canvas 绘制两个长方形&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;canvas id="myCanvas" width="800" height="800" style="border:1px solid #d3d3d3;"&gt;
        您的浏览器不支持 HTML5 canvas 标签。&lt;/canvas&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"&gt;&lt;/script&gt;
    &lt;script&gt;
    $(function() {
        var myAction = {},
            ctx;

        var dom = {
            canvas: $('#myCanvas')
        };

        $.extend(myAction, {
            initCanvas: function() {
                ctx = dom.canvas[0].getContext("2d");
                ctx.fillStyle = "rgb(200,0,0)";
                ctx.fillRect (10, 10, 55, 50);
                ctx.fillStyle = "rgba(0, 0, 200, 0.5)";
                ctx.fillRect (30, 30, 55, 50);
            }
        });

        var init = function() {
            myAction.initCanvas();
        }();
    })
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>2.</p>

<p><img alt="" class="has" src="https://img-blog.csdn.net/20180926154322766?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;

&lt;head&gt;
    &lt;meta charset="utf-8"&gt;
    &lt;title&gt;canvas&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;canvas id="myCanvas" width="800" height="800" style="border:1px solid #d3d3d3;"&gt;
        您的浏览器不支持 HTML5 canvas 标签。&lt;/canvas&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"&gt;&lt;/script&gt;
    &lt;script&gt;
    $(function() {
        var myAction = {},
            ctx;

        var dom = {
            canvas: $('#myCanvas')
        };

        $.extend(myAction, {
            initCanvas: function() {
                ctx = dom.canvas[0].getContext("2d");
                ctx.fillRect(10, 10, 100, 50);  //绘制矩形,填充的默认颜色为黑色
                //ctx.strokeStyle = '#ff0000';
                ctx.strokeRect(10, 70, 100, 50);  //绘制矩形边框
            }
        });

        var init = function() {
            myAction.initCanvas();
        }();
    })
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p><img alt="" class="has" src="https://img-blog.csdn.net/20180926154742323?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>

<pre class="has"><code class="language-javascript">ctx.clearRect(15, 15, 50, 25);</code></pre>

<p>3.</p>

<p><img alt="" class="has" src="https://img-blog.csdn.net/2018092615533588?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;

&lt;head&gt;
    &lt;meta charset="utf-8"&gt;
    &lt;title&gt;canvas&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;canvas id="myCanvas" width="800" height="800" style="border:1px solid #d3d3d3;"&gt;
        您的浏览器不支持 HTML5 canvas 标签。&lt;/canvas&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"&gt;&lt;/script&gt;
    &lt;script&gt;
    $(function() {
        var myAction = {},
            ctx;

        var dom = {
            canvas: $('#myCanvas')
        };

        $.extend(myAction, {
            initCanvas: function() {
                ctx = dom.canvas[0].getContext("2d");
                ctx.beginPath();
                ctx.moveTo(50, 50);
                ctx.lineTo(200, 50);
                ctx.lineTo(200, 200);
                ctx.closePath(); //虽然我们只绘制了两条线段，但是closePath会closePath，仍然是一个3角形
                //ctx.stroke(); //描边。stroke不会自动closePath()
                ctx.fill(); //填充闭合区域。如果path没有闭合，则fill()会自动闭合路径。
            }
        });

        var init = function() {
            myAction.initCanvas();
        }();
    })
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p>4.</p>

<p><code>arc(x, y, r, startAngle, endAngle, anticlockwise)</code>:</p>

<p>以<code>(x, y)</code>为圆心，以<code>r</code>为半径，从 <code>startAngle</code>弧度开始到<code>endAngle</code>弧度结束。<code>anticlosewise</code>是布尔值，<code>true</code>表示逆时针，<code>false</code>表示顺时针。(默认是顺时针)</p>

<p>注意：</p>

<pre class="has"><code>radians=(Math.PI/180)*degrees   //角度转换成弧度</code></pre>

<ol><li>这里的度数都是弧度。</li>
	<li><code>0</code>弧度是指的<code>x</code>轴正方形</li>
</ol><p>&nbsp;</p>

<p><code>arcTo(x1, y1, x2, y2, radius)</code>:</p>

<p>根据给定的控制点和半径画一段圆弧，最后再以直线连接两个控制点。</p>

<p><img alt="" class="has" src="https://img-blog.csdn.net/20180926162125196?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;

&lt;head&gt;
    &lt;meta charset="utf-8"&gt;
    &lt;title&gt;canvas&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;canvas id="myCanvas" width="800" height="800" style="border:1px solid #d3d3d3;"&gt;
        您的浏览器不支持 HTML5 canvas 标签。&lt;/canvas&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"&gt;&lt;/script&gt;
    &lt;script&gt;
    $(function() {
        var myAction = {},
            ctx;

        var dom = {
            canvas: $('#myCanvas')
        };

        $.extend(myAction, {
            initCanvas: function() {
                ctx = dom.canvas[0].getContext("2d");
                ctx.beginPath();
                ctx.arc(50, 50, 40, 0, Math.PI / 2, false);
                ctx.stroke();

                ctx.beginPath();
                ctx.arc(150, 50, 40, 0, -Math.PI / 2, true);
                ctx.closePath();
                ctx.stroke();

                ctx.beginPath();
                ctx.arc(50, 150, 40, -Math.PI / 2, Math.PI / 2, false);
                ctx.fill();

                ctx.beginPath();
                ctx.arc(150, 150, 40, 0, Math.PI, false);
                ctx.fill();
            }
        });

        var init = function() {
            myAction.initCanvas();
        }();
    })
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p><img alt="" class="has" src="https://img-blog.csdn.net/20180926162958577?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>

<p>&nbsp;</p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;

&lt;head&gt;
    &lt;meta charset="utf-8"&gt;
    &lt;title&gt;canvas&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;canvas id="myCanvas" width="800" height="800" style="border:1px solid #d3d3d3;"&gt;
        您的浏览器不支持 HTML5 canvas 标签。&lt;/canvas&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"&gt;&lt;/script&gt;
    &lt;script&gt;
    $(function() {
        var myAction = {},
            ctx;

        var dom = {
            canvas: $('#myCanvas')
        };

        $.extend(myAction, {
            initCanvas: function() {
                ctx = dom.canvas[0].getContext("2d");
                ctx.beginPath();
                ctx.moveTo(50, 50);
                //参数1、2：控制点1坐标   参数3、4：控制点2坐标  参数4：圆弧半径
                ctx.arcTo(200, 50, 200, 200, 100);
                ctx.lineTo(200, 200)
                ctx.stroke();
            }
        });

        var init = function() {
            myAction.initCanvas();
        }();
    })
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p>5.</p>

<p><img alt="" class="has" src="https://img-blog.csdn.net/20180926172455124?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;

&lt;head&gt;
    &lt;meta charset="utf-8"&gt;
    &lt;title&gt;canvas&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;canvas id="myCanvas" width="800" height="800" style="border:1px solid #d3d3d3;"&gt;
        您的浏览器不支持 HTML5 canvas 标签。&lt;/canvas&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"&gt;&lt;/script&gt;
    &lt;script&gt;
    $(function() {
        var myAction = {},
            ctx;

        var dom = {
            canvas: $('#myCanvas')
        };

        $.extend(myAction, {
            initCanvas: function() {
                ctx = dom.canvas[0].getContext("2d");
                ctx.beginPath();
                ctx.moveTo(10, 200); //起始点
                var cp1x = 40,
                    cp1y = 100; //控制点
                var x = 200,
                    y = 200; // 结束点
                //绘制二次贝塞尔曲线
                ctx.quadraticCurveTo(cp1x, cp1y, x, y);
                ctx.stroke();
            }
        });

        var init = function() {
            myAction.initCanvas();
        }();
    })
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p><img alt="" class="has" src="https://img-blog.csdn.net/20180926172640745?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;

&lt;head&gt;
    &lt;meta charset="utf-8"&gt;
    &lt;title&gt;canvas&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;canvas id="myCanvas" width="800" height="800" style="border:1px solid #d3d3d3;"&gt;
        您的浏览器不支持 HTML5 canvas 标签。&lt;/canvas&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"&gt;&lt;/script&gt;
    &lt;script&gt;
    $(function() {
        var myAction = {},
            ctx;

        var dom = {
            canvas: $('#myCanvas')
        };

        $.extend(myAction, {
            initCanvas: function() {
                ctx = dom.canvas[0].getContext("2d");
                ctx.beginPath();
                ctx.moveTo(40, 200); //起始点
                var cp1x = 20,
                    cp1y = 100; //控制点1
                var cp2x = 100,
                    cp2y = 120; //控制点2
                var x = 200,
                    y = 200; // 结束点
                //绘制三次贝塞尔曲线
                ctx.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);
                ctx.stroke();
            }
        });

        var init = function() {
            myAction.initCanvas();
        }();
    })
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>            ]]></description></item><item><title>canvas点击事件</title><link>http://www.cnblogs.com/xutongbao/archive/2018/09/26/9924796.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 26 Sep 2018 02:02:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/09/26/9924796.html</guid><description><![CDATA[
                <p>&nbsp;<img alt="" class="has" src="https://img-blog.csdn.net/20180926100043227?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;

&lt;head&gt;
    &lt;meta charset="utf-8"&gt;
    &lt;title&gt;canvas点击事件&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;canvas id="myCanvas" width="800" height="800" style="border:1px solid #d3d3d3;"&gt;
        您的浏览器不支持 HTML5 canvas 标签。&lt;/canvas&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"&gt;&lt;/script&gt;
    &lt;script&gt;
    $(function () {
        var myAction = {}, ctx;

        var dom = {
            canvas: $('#myCanvas')
        };

        $.extend(myAction, {
            initCanvas: function () {
                ctx = dom.canvas[0].getContext("2d");

                ctx.rect(10, 10, 100, 100);
                ctx.rect(120, 10, 100, 100);
                ctx.stroke();
            },
            getEventPosition: function (ev) {
                var x, y;
                if (ev.layerX || ev.layerX == 0) {
                    x = ev.layerX;
                    y = ev.layerY;
                } else if (ev.offsetX || ev.offsetX == 0) { // Opera
                    x = ev.offsetX;
                    y = ev.offsetY;
                }
                return { x: x, y: y };
            },
            initEvent: function () {
                dom.canvas.on('click', function(e) {
                    var p = myAction.getEventPosition(e);
                    if (ctx.isPointInPath(p.x, p.y)) {
                        console.log(1);
                    } else {
                        console.log(2);
                    }
                });                
            }
        });

        var init = function () {
            myAction.initCanvas();
            myAction.initEvent();
        }();
    })
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p><img alt="" class="has" src="https://img-blog.csdn.net/20180926100101750?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;

&lt;head&gt;
    &lt;meta charset="utf-8"&gt;
    &lt;title&gt;canvas点击事件&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;canvas id="myCanvas" width="800" height="800" style="border:1px solid #d3d3d3;"&gt;
        您的浏览器不支持 HTML5 canvas 标签。&lt;/canvas&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"&gt;&lt;/script&gt;
    &lt;script&gt;
    $(function() {
        var myAction = {},
            ctx;
        var arr = [
            {x: 10, y: 10, width: 100, height: 100},
            {x: 120, y: 10, width: 100, height: 100}
        ];

        var dom = {
            canvas: $('#myCanvas')
        };

        $.extend(myAction, {
            initCanvas: function() {
                ctx = dom.canvas[0].getContext("2d");
                //ctx = canvas.getContext('2d');
                myAction.draw();
            },
            getEventPosition: function(ev) {
                var x, y;
                if (ev.layerX || ev.layerX == 0) {
                    x = ev.layerX;
                    y = ev.layerY;
                } else if (ev.offsetX || ev.offsetX == 0) { // Opera
                    x = ev.offsetX;
                    y = ev.offsetY;
                }
                return { x: x, y: y };
            },
            draw: function(p) {
                var who = [];
                ctx.clearRect(0, 0, dom.canvas[0].width, dom.canvas[0].height);
                arr.forEach(function(v, i) {
                    ctx.beginPath();
                    ctx.rect(v.x, v.y, v.width, v.height);
                    ctx.stroke();
                    if (p &amp;&amp; ctx.isPointInPath(p.x, p.y)) {
                        //如果传入了事件坐标，就用isPointInPath判断一下
                        //如果当前环境覆盖了该坐标，就将当前环境的index值放到数组里
                        who.push(i);
                    }
                });
                //根据数组中的index值，可以到arr数组中找到相应的元素。
                return who;
            },
            initEvent: function() {
                dom.canvas.on('click', function(e) {
                    var p = myAction.getEventPosition(e);
                    var result = myAction.draw(p);
                    console.log(result);
                });
            }
        });

        var init = function() {
            myAction.initCanvas();
            myAction.initEvent();
        }();
    })
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p>&nbsp;</p>            ]]></description></item><item><title>jQuery判断当前页面是否被浏览</title><link>http://www.cnblogs.com/xutongbao/archive/2018/09/25/9924797.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 25 Sep 2018 07:02:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/09/25/9924797.html</guid><description><![CDATA[
                <p><img alt="" class="has" src="https://img-blog.csdn.net/20180925150105891?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;

&lt;head&gt;
    &lt;meta charset="utf-8"&gt;
    &lt;title&gt;jQuery判断当前页面是否被浏览&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"&gt;&lt;/script&gt;
    &lt;script&gt;
    $(document).on('visibilitychange', function(e) {
        if (e.target.visibilityState === "visible") {
            document.title = '被发现啦!';
        } else if (e.target.visibilityState === "hidden") {
            document.title = '藏好啦!';
        }
    });
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p>&nbsp;</p>            ]]></description></item><item><title>jQuery.ajax设置请求头实现post请求发送数据的格式（Form Data和Request Payload）</title><link>http://www.cnblogs.com/xutongbao/archive/2018/09/25/9924798.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 25 Sep 2018 01:55:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/09/25/9924798.html</guid><description><![CDATA[
                <p>&nbsp;Request Payload 请求头部的&nbsp;<code>Content-Type: application/json</code>，请求正文是一个 json 格式的字符串</p>

<p>Form Data 请求头部的&nbsp;<code>Content-Type: application/x-www-form-urlencoded</code>，请求正文是类似 get 请求 url 的请求参数</p>

<p><img alt="" class="has" src="https://img-blog.csdn.net/20180925094728246?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;

&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;ajax设置请求头&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"&gt;&lt;/script&gt;
    &lt;script type="text/javascript"&gt;
    $(function() {
        var myAction = {};

        $.extend(myAction, {
            test: function() {
                $.ajax({
                    url: 'http://10.10.10.52/api/v1/tasks/a956d066-a6e2-11e8-828e-000c29af35cf',
                    type: 'put',
                    dataType: 'json',
                    //data: JSON.stringify({data:{status: "start"}}),
                    data: {name: "xu", foo: 'bar'},
                    cache: false,
                    headers: { 
                        "Authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJrZW4iLCJpYXQiOjE1Mzc1NTQzMDksImRhdGEiOnsidXNlcm5hbWUiOiJ4dXRvbmdiYW8iLCJpc19zdXBlcnVzZXIiOjEsImlkIjoxNywibG9naW5fdGltZSI6MTUzNzU1NDMwOX0sImV4cCI6MTUzODE1NDMwOX0.32Lys4hjjY2XRpM2r9YSmpYA798u821m_M5Tzb6wxIU",
                        'Content-Type': 'application/x-www-form-urlencoded'  //multipart/form-data;boundary=--xxxxxxx   application/json
                    },                
                    success: function(res){
                        if (res.code === 200) {
                            
                        }   
                    },
                    error: function(e) {

                    }
                });
            }
        });

        var init = function() {
            myAction.test();
        }();
    })
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p>&nbsp;<img alt="" class="has" src="https://img-blog.csdn.net/20180925095023153?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;

&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;ajax设置请求头&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"&gt;&lt;/script&gt;
    &lt;script type="text/javascript"&gt;
    $(function() {
        var myAction = {};

        $.extend(myAction, {
            test: function() {
                $.ajax({
                    url: 'http://10.10.10.52/api/v1/tasks/a956d066-a6e2-11e8-828e-000c29af35cf',
                    type: 'put',
                    dataType: 'json',
                    data: JSON.stringify({data:{status: "start"}}),
                    //data: {name: "xu", foo: 'bar'},
                    cache: false,
                    headers: { 
                        "Authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJrZW4iLCJpYXQiOjE1Mzc1NTQzMDksImRhdGEiOnsidXNlcm5hbWUiOiJ4dXRvbmdiYW8iLCJpc19zdXBlcnVzZXIiOjEsImlkIjoxNywibG9naW5fdGltZSI6MTUzNzU1NDMwOX0sImV4cCI6MTUzODE1NDMwOX0.32Lys4hjjY2XRpM2r9YSmpYA798u821m_M5Tzb6wxIU",
                        'Content-Type': 'application/json'  //application/x-www-form-urlencoded  application/json
                    },                
                    success: function(res){
                        if (res.code === 200) {
                            
                        }   
                    },
                    error: function(e) {

                    }
                });
            }
        });

        var init = function() {
            myAction.test();
        }();
    })
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p>&nbsp;</p>            ]]></description></item><item><title>canvas制作圆角矩形（包括填充矩形的功能）</title><link>http://www.cnblogs.com/xutongbao/archive/2018/09/20/9924799.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 20 Sep 2018 06:40:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/09/20/9924799.html</guid><description><![CDATA[
                <p><img alt="" class="has" src="https://img-blog.csdn.net/2018092014391222?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;

&lt;head&gt;
    &lt;meta charset="utf-8"&gt;
    &lt;title&gt;canvas制作圆角矩形（包括填充矩形的功能）&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;canvas id="myCanvas" style="border:1px solid #d3d3d3;"&gt;
        您的浏览器不支持 HTML5 canvas 标签。&lt;/canvas&gt;
    &lt;script&gt;
    window.onload = function() {
        var myCanvas = document.getElementById("myCanvas"); //获取canvas对象  
        if (myCanvas.getContext("2d")) { //判断浏览器是否支持canvas标签  
            //设置canvas的宽度和高度  
            myCanvas.width = 400;
            myCanvas.height = 200;

            var context = myCanvas.getContext("2d"); //获取画布context的上下文环境  
            //绘制一个圆角矩形  
            strokeRoundRect(context, 10, 10, 100, 50, 10);  

            //绘制并填充一个圆角矩形  
            fillRoundRect(context, 200, 10, 100, 50, 10, 'rgba(0,0,0,0.7)');
        } else {
            alert("您的浏览器不支持canvas，请换个浏览器试试");
        }
    };


    /**该方法用来绘制一个有填充色的圆角矩形 
     *@param cxt:canvas的上下文环境 
     *@param x:左上角x轴坐标 
     *@param y:左上角y轴坐标 
     *@param width:矩形的宽度 
     *@param height:矩形的高度 
     *@param radius:圆的半径 
     *@param fillColor:填充颜色 
     **/
    function fillRoundRect(cxt, x, y, width, height, radius, /*optional*/ fillColor) {
        //圆的直径必然要小于矩形的宽高          
        if (2 * radius &gt; width || 2 * radius &gt; height) { return false; }

        cxt.save();
        cxt.translate(x, y);
        //绘制圆角矩形的各个边  
        drawRoundRectPath(cxt, width, height, radius);
        cxt.fillStyle = fillColor || "#000"; //若是给定了值就用给定的值否则给予默认值  
        cxt.fill();
        cxt.restore();
    }


    /**该方法用来绘制圆角矩形 
     *@param cxt:canvas的上下文环境 
     *@param x:左上角x轴坐标 
     *@param y:左上角y轴坐标 
     *@param width:矩形的宽度 
     *@param height:矩形的高度 
     *@param radius:圆的半径 
     *@param lineWidth:线条粗细 
     *@param strokeColor:线条颜色 
     **/
    function strokeRoundRect(cxt, x, y, width, height, radius, /*optional*/ lineWidth, /*optional*/ strokeColor) {
        //圆的直径必然要小于矩形的宽高          
        if (2 * radius &gt; width || 2 * radius &gt; height) { return false; }

        cxt.save();
        cxt.translate(x, y);
        //绘制圆角矩形的各个边  
        drawRoundRectPath(cxt, width, height, radius);
        cxt.lineWidth = lineWidth || 2; //若是给定了值就用给定的值否则给予默认值2  
        cxt.strokeStyle = strokeColor || "#000";
        cxt.stroke();
        cxt.restore();
    }

    function drawRoundRectPath(cxt, width, height, radius) {
        cxt.beginPath(0);
        //从右下角顺时针绘制，弧度从0到1/2PI  
        cxt.arc(width - radius, height - radius, radius, 0, Math.PI / 2);

        //矩形下边线  
        cxt.lineTo(radius, height);

        //左下角圆弧，弧度从1/2PI到PI  
        cxt.arc(radius, height - radius, radius, Math.PI / 2, Math.PI);

        //矩形左边线  
        cxt.lineTo(0, radius);

        //左上角圆弧，弧度从PI到3/2PI  
        cxt.arc(radius, radius, radius, Math.PI, Math.PI * 3 / 2);

        //上边线  
        cxt.lineTo(width - radius, 0);

        //右上角圆弧  
        cxt.arc(width - radius, radius, radius, Math.PI * 3 / 2, Math.PI * 2);

        //右边线  
        cxt.lineTo(width, height - radius);
        cxt.closePath();
    }
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p>&nbsp;</p>            ]]></description></item><item><title>css3+jQuery制作导航菜单（带动画效果）</title><link>http://www.cnblogs.com/xutongbao/archive/2018/09/13/9924800.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 13 Sep 2018 02:11:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/09/13/9924800.html</guid><description><![CDATA[
                <p><img alt="" class="has" src="https://img-blog.csdnimg.cn/20181107124304908.gif"></p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
 
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;css3+jQuery制作导航菜单（带动画效果）&lt;/title&gt;
    &lt;style&gt;
    body{margin: 0;padding: 0;}
    .m-menu{margin: 0;padding: 10px; width: 100%; height: 100px;}
    .m-menu-item{display: inline-block; position: relative; margin: 0 -5px 0 0; width: 200px;height: 100px;background-color: #dddddd;list-style-type: none;}
    .m-menu-item:hover{background-color: #999999;}
    .m-menu-item-text{display: inline-block; width: 100%; line-height: 100px;text-align: center;cursor: pointer;}
    .m-menu-empty{height: 50px;background-color: transparent;}
    .m-menu-item-detail{opacity: 0; position: absolute; top: 120px;width: 200px;height: 200px;background-color: rgba(102,102,102,0.5);box-shadow: 0 0 10px #3366cc;transform: scale(0, 0);z-index: 999;}
    .m-menu-item-detail-inner{padding: 5px;}
    .m-menu-item-detail-show {
        animation:detail 0.5s linear;
        animation-fill-mode: forwards;
    }
    @keyframes detail
    {
        0%   {transform: scale(0.5, 0.5);opacity: 0.5;}
        50%  {transform: scale(0.9, 0.9);opacity: 0.9;}
        100% {transform: scale(1, 1);opacity: 1;}
    }                
    &lt;/style&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;
&lt;/head&gt;
 
&lt;body&gt;
    &lt;ul class="m-menu" id="m-menu"&gt;
        &lt;li class="m-menu-item js-menu-item"&gt;
            &lt;span class="m-menu-item-text"&gt;菜单1&lt;/span&gt;
            &lt;div class="m-menu-empty"&gt;&lt;/div&gt;
            &lt;div class="m-menu-item-detail js-detail"&gt;
                &lt;div class="m-menu-item-detail-inner"&gt;菜单1的详细信息&lt;/div&gt;
            &lt;/div&gt;
        &lt;/li&gt;
        &lt;li class="m-menu-item js-menu-item"&gt;
            &lt;span class="m-menu-item-text"&gt;菜单2&lt;/span&gt;
            &lt;div class="m-menu-empty"&gt;&lt;/div&gt;
            &lt;div class="m-menu-item-detail js-detail"&gt;
                &lt;div class="m-menu-item-detail-inner"&gt;菜单2的详细信息&lt;/div&gt;
            &lt;/div&gt;  
        &lt;/li&gt;
    &lt;/ul&gt;
    &lt;script&gt;
    $(function () {
        var myAction = {};
        var dom = {
            menu: $('#m-menu'),
            menuItem: $('.js-menu-item'),
            detail: $('.js-detail')
        };
 
        $.extend(myAction, {
            openMenu: function (that) {
                var detail = that.find('.js-detail');
                if (!detail.hasClass('m-menu-item-detail-show')) {
                    detail.addClass('m-menu-item-detail-show');
                }
            },
            closeMenu: function () {
                //$('.js-detail').hide();
                $('.js-detail').removeClass('m-menu-item-detail-show');
            },
            initEvent: function () {
                dom.menu.on('mouseenter', '.js-menu-item', function () {
                    var that = $(this);
                    myAction.openMenu(that);
                });
                dom.menu.on('mouseleave', '.js-menu-item', function () {
                    var that = $(this);
                    myAction.closeMenu(that);
                });               
            }
        });
 
        var init = function () {
            myAction.initEvent();
        }();
    })
    &lt;/script&gt;
&lt;/body&gt;
 
&lt;/html&gt;</code></pre>

<p>&nbsp;</p>            ]]></description></item><item><title>G2 实时刷新 流量监控图</title><link>http://www.cnblogs.com/xutongbao/archive/2018/09/12/9924801.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 12 Sep 2018 06:38:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/09/12/9924801.html</guid><description><![CDATA[
                <p><img alt="" class="has" src="https://img-blog.csdn.net/20180912143730395?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;

&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;meta name="viewport" content="width=device-width,height=device-height"&gt;
    &lt;title&gt;G2 实时刷新 流量监控图&lt;/title&gt;
    &lt;style&gt;
     ::-webkit-scrollbar {
        display: none;
    }

    html,
    body {
        overflow: hidden;
        height: 100%;
        margin: 0;
    }

    .m-mount {
        margin: 100px 0 0 100px;
        width: 300px;
        height: 50px;
    }
    &lt;/style&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;div id="mountNode" class="m-mount"&gt;&lt;/div&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"&gt;&lt;/script&gt;
    &lt;script src="https://gw.alipayobjects.com/os/antv/pkg/_antv.g2-3.2.8-beta.5/dist/g2.min.js"&gt;&lt;/script&gt;
    &lt;script src="https://gw.alipayobjects.com/os/antv/pkg/_antv.data-set-0.8.9/dist/data-set.min.js"&gt;&lt;/script&gt;
    &lt;script&gt;
    $(function() {
        var myAction = {},
            g2Buffer = [],
            g2Interval,
            myChart;

        $.extend(myAction, {
            initChart: function() {
                myChart = new G2.Chart({
                    container: 'mountNode',
                    width: 300,
                    height: 50,
                    forceFit: false,
                    animate: false,
                    padding: [5, 5, 5, 5],
                });
                myChart.source([]);
                myChart.axis('value', {
                    label: null,
                    tickLine: null
                });
                myChart.axis('year', {
                    label: null,
                    subTickCount: 3,
                    subTickLine: {
                        length: 2,
                        stroke: '#545454',
                        lineWidth: 1
                    },
                    tickLine: {
                        length: 2,
                        lineWidth: 1,
                        stroke: '#545454'
                    }                    
                });
                myChart.tooltip({
                    crosshairs: {
                        type: 'line'
                    }
                });
                myChart.area().position('year*value');
                myChart.line().position('year*value').size(2);
                myChart.render();
            },
            g2ChartData: function(data) {
                var data = [];
                for (var i = 0; i &lt; 1000; i++) {
                    var temp = {};
                    temp.value = parseInt(90 * Math.random()) + 10;
                    data.push(temp);
                }

                for (var i = 0; i &lt; data.length; i++) {
                    g2Buffer.push(data[i]);
                }
            },
            g2ChartAuto: function() {
                clearInterval(g2Interval);
                setInterval(function() {
                    if (g2Buffer.length &gt; 20) {
                        var temp = g2Buffer.slice(0, 20);
                        for (var i = 0; i &lt; temp.length; i++) {
                            temp[i].year = i;
                        }
                        myChart.changeData(temp);
                        g2Buffer.shift();
                    }
                }, 1000);
            },
        });

        var init = function() {
            myAction.initChart();
            myAction.g2ChartData();
            myAction.g2ChartAuto();
        }();
    })
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p>&nbsp;</p>            ]]></description></item><item><title>canvas制作呼吸灯</title><link>http://www.cnblogs.com/xutongbao/archive/2018/09/06/9924802.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 06 Sep 2018 02:59:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/09/06/9924802.html</guid><description><![CDATA[
                <p>&nbsp;</p>

<p><img alt="" class="has" src="https://img-blog.csdn.net/20180906140615860?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;

&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;canvas制作呼吸灯&lt;/title&gt;
    &lt;style type="text/css"&gt;
    &lt;/style&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;canvas id="myCanvas" width="300" height="150" style="border:1px solid #d3d3d3;"&gt;
        Your browser does not support the HTML5 canvas tag.
    &lt;/canvas&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"&gt;&lt;/script&gt;
    &lt;script type="text/javascript"&gt;
    var canvas = document.getElementById("myCanvas");
    var ctx = canvas.getContext("2d");    
    var p = [0, 0.5], t_last = 0;
    var w = canvas.width;
    var h = canvas.height;    

    $(function () {
        var myAction = {};

        $.extend(myAction, {
            draw: function (r) {
                ctx.clearRect(0, 0, w, h);

                ctx.save();

                ctx.lineWidth = 1;
                ctx.strokeStyle = "rgba(105, 159, 169, 1)";
                ctx.fillStyle = "rgba(105, 159, 169, 0.4)";
                ctx.beginPath();
                ctx.arc(150, 75, r[0] * 30, 0, 2 * Math.PI);
                ctx.fill();
                ctx.stroke();

                ctx.beginPath();
                ctx.arc(50, 75, r[1] * 30, 0, 2 * Math.PI);
                ctx.fill();
                ctx.stroke();                

                ctx.restore();
            },                         
            step: function () {
                var temp = [0, 0];
                for (var i = 0; i &lt; p.length; i++) {
                    if (p[i] &lt;= 0.98) {
                        p[i] = p[i] + 0.02;
                        temp[i] = p[i];
                    } else if (p[i] &lt;= 1.98) {
                        p[i] = p[i] + 0.02;
                        temp[i] = 2 - p[i];
                    } else {
                        p[i] = 0;
                    }                    
                }

                
                myAction.draw(temp);
                setTimeout(function () {
                    myAction.step();
                }, 50)
            }           
        });

        var init = function () {
            myAction.step();
        }();
    });
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p>&nbsp;</p>            ]]></description></item><item><title>canvas中的save和restore实例</title><link>http://www.cnblogs.com/xutongbao/archive/2018/09/06/9924803.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 06 Sep 2018 02:36:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/09/06/9924803.html</guid><description><![CDATA[
                <p><img alt="" class="has" src="https://img-blog.csdn.net/20180906103451138?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;

&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;canvas中的save和restore实例&lt;/title&gt;
    &lt;style type="text/css"&gt;
    &lt;/style&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;div&gt;save表示保存save函数之前的状态，restore表示获取save保存的状态&lt;/div&gt;
    &lt;canvas id="canvas" width="500" height="300" style="border:1px solid #d3d3d3;"&gt;
        Your browser does not support the HTML5 canvas tag.
    &lt;/canvas&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"&gt;&lt;/script&gt;
    &lt;script type="text/javascript"&gt;
        $(function() {
            var canvas = document.getElementById("canvas");  
            var ctx = canvas.getContext('2d');
            ctx.fillStyle = "green";  

            ctx.save() 

            ctx.fillStyle = "red";            
            ctx.scale(2, 2)
            ctx.fillRect(10, 10, 150, 100)  // 红色矩形,尺寸放大一倍

            ctx.restore()

            ctx.fillRect(50, 50, 150, 100)  // 绿色矩形,尺寸没有放大
            ctx.draw()


        })
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p>&nbsp;</p>            ]]></description></item><item><title>使用window.requestAnimationFrame制作动画</title><link>http://www.cnblogs.com/xutongbao/archive/2018/09/05/9924804.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 05 Sep 2018 11:18:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/09/05/9924804.html</guid><description><![CDATA[
                <pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;

&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;使用window.requestAnimationFrame制作动画&lt;/title&gt;
    &lt;style type="text/css"&gt;
        .m-test{width: 100px;height: 100px;background-color: red;}
    &lt;/style&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;div class="m-test" id="m-test"&gt;&lt;/div&gt;
    &lt;script type="text/javascript"&gt;
    var start = null;
    var element = document.getElementById('m-test');
    element.style.position = 'absolute';

    function step(timestamp) {
        if (!start) start = timestamp;
        var progress = timestamp - start;
        element.style.left = Math.min(progress / 10, 200) + 'px';
        if (progress &lt; 2000) {
            window.requestAnimationFrame(step);
        }
    }

    window.requestAnimationFrame(step);
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p>&nbsp;</p>            ]]></description></item><item><title>js已知正切值求角度</title><link>http://www.cnblogs.com/xutongbao/archive/2018/09/05/9924805.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 05 Sep 2018 07:55:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/09/05/9924805.html</guid><description><![CDATA[
                <pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;

&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;js已知正切值求角度&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;
    JS 已知tan的值，如何求对应的角度
    &lt;br&gt; 也就是谁 tan x = y; 知道y的值，如何求x?
    &lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;
    &lt;script&gt;
    function getTanDeg(tan) {
        var result = Math.atan(tan) / (Math.PI / 180);
        result = Math.round(result);
        return result;
    }
    var result = getTanDeg(1);
    console.log(result); // 45度
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p>&nbsp;</p>            ]]></description></item><item><title>css制作等腰三角形</title><link>http://www.cnblogs.com/xutongbao/archive/2018/09/05/9924806.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 05 Sep 2018 07:25:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/09/05/9924806.html</guid><description><![CDATA[
                <pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;

&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;css制作等腰三角形&lt;/title&gt;
    &lt;style type="text/css"&gt;
    .m-wrapper{display: inline-block; position: relative;width: 100px;height: 200px;}
    .m-left{position: absolute;bottom: 0; left: -200%;width: 200%;height: 200%; background-color: #ffffff; transform-origin:right bottom;}
    .m-right{position: absolute;bottom:0;right: -200%;width: 200%;height: 200%;background-color: #ffffff; transform-origin:left bottom;}
    .m-middle {
        display: inline-block;
        width: 100%;
        height: 100%;
        background-color: #ff0000;
    }
    &lt;/style&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;div class="m-wrapper"&gt;
        &lt;div class="m-left" id="m-left"&gt;&lt;/div&gt;
        &lt;div class="m-middle"&gt;&lt;/div&gt;
        &lt;div class="m-right" id="m-right"&gt;&lt;/div&gt;
    &lt;/div&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"&gt;&lt;/script&gt;
    &lt;script type="text/javascript"&gt;
        $(function() {
            var myAction = {};
            var dom = {
                left: $('#m-left'),
                right: $('#m-right')
            };

            $.extend(myAction, {

                setHeight: function () {
                    var deg = 13;
                    setInterval(function () {
                        if (deg &lt;= 90) {
                            deg++;
                        } else {
                            deg = 13;
                        }
                        dom.left.css({transform: 'rotate(' + deg + 'deg)'});
                        dom.right.css({transform: 'rotate(' + (0 - deg) + 'deg)'});
                    }, 100); 
                }
            });

            var init = function () {
                myAction.setHeight();
            }();
        })
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p><img alt="" class="has" src="https://img-blog.csdn.net/20180905152358847?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>

<p><img alt="" class="has" src="https://img-blog.csdn.net/20180905152435590?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;

&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;css制作等腰三角形&lt;/title&gt;
    &lt;style type="text/css"&gt;
    .m-wrapper{display: inline-block; position: relative;width: 100px;height: 200px;}
    .m-left{position: absolute;bottom: 0; left: -200%;width: 200%;height: 200%; background-color: #ffffff; transform-origin:right bottom;}
    .m-right{position: absolute;bottom:0;right: -200%;width: 200%;height: 200%;background-color: #ffffff; transform-origin:left bottom;}
    .m-middle {
        display: none;
        width: 100%;
        height: 100%;
        background-color: #ff0000;
    }
    &lt;/style&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;div class="m-wrapper"&gt;
        &lt;div class="m-left" id="m-left"&gt;&lt;/div&gt;
        &lt;div class="m-middle" id="m-middle"&gt;&lt;/div&gt;
        &lt;div class="m-right" id="m-right"&gt;&lt;/div&gt;
    &lt;/div&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"&gt;&lt;/script&gt;
    &lt;script type="text/javascript"&gt;
        $(function() {
            var myAction = {};
            var dom = {
                left: $('#m-left'),
                right: $('#m-right'),
                middle: $('#m-middle')
            };

            $.extend(myAction, { 
                getDeg: function (percent) { 
                    var tan = 200 * percent / 50;
                    var result = Math.atan(tan) / (Math.PI / 180);
                    result = 90 - Math.round(result);
                    return result;
                },
                setHeight: function () {
                    var deg = myAction.getDeg(0.8);  //设置百分比可以调整等腰三角形的高度， 1是最大值， 即达到本等腰三角形的最大高度
                    dom.left.css({transform: 'rotate(' + deg + 'deg)'});
                    dom.right.css({transform: 'rotate(' + (0 - deg) + 'deg)'});    
                    dom.middle.show();                
                }
            });

            var init = function () {
                myAction.setHeight();
            }();
        })
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p>&nbsp;</p>            ]]></description></item><item><title>echart 柱状图 带箭头 调整柱子宽度 设置柱子颜色 hover时改变柱子颜色</title><link>http://www.cnblogs.com/xutongbao/archive/2018/09/05/9924807.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 05 Sep 2018 06:14:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/09/05/9924807.html</guid><description><![CDATA[
                <pre class="has"><code class="language-html">    &lt;!DOCTYPE html&gt;
    &lt;html lang="en"&gt;
    &lt;head&gt;
        &lt;meta charset="UTF-8"&gt;
        &lt;title&gt;echart 柱状图 带箭头 调整柱子宽度 设置柱子颜色 hover时改变柱子颜色&lt;/title&gt;
        &lt;script src="https://cdn.bootcss.com/echarts/4.1.0.rc2/echarts.min.js"&gt;&lt;/script&gt;
    &lt;/head&gt;
    &lt;body&gt;
    &lt;!-- 为ECharts准备一个具备大小（宽高）的Dom --&gt;
    &lt;div id="main" style="width: 120px;height:80px;"&gt;&lt;/div&gt;
    &lt;script type="text/javascript"&gt;
        // 基于准备好的dom，初始化echarts实例
        var myChart = echarts.init(document.getElementById('main'));
     
        // 指定图表的配置项和数据
        var option = {
            grid: {
                top: '10%',
                left: '3%',
                right: '10%',
                bottom: '3%',
                containLabel: false
            },             
            xAxis: {
                type: 'category',
                data: ['Mon', 'Tue', 'Wed', 'Thu'],
                axisLabel: {
                    show: false
                },
                axisTick: {
                    show: false
                },
                axisLine: {
                    symbol: ['none', 'arrow'],
                    symbolSize: [5, 7],
                    lineStyle: {
                        color: '#979797'
                    }
                }                 
            },
            yAxis: {
                type: 'value',
                axisLabel: {
                    show: false
                },
                axisTick: {
                    show: false
                },
                splitLine: {
                    show: false
                },
                axisLine: {
                    symbol: ['none', 'arrow'],
                    symbolSize: [5, 7],
                    lineStyle: {
                        color: '#979797'
                    }
                }         
            },
            series: [{
                data: [120, 200, 150, 80],
                type: 'bar',
                barCategoryGap:'80%',  //调整柱子宽度
                itemStyle: {
                    color: '#62A1A9'  //设置柱子颜色
                },                
                emphasis: {
                    itemStyle: {
                        color: '#2F4654',   //hover时改变柱子颜色
                        // shadowColor: 'rgba(102,102,102,0.50)',
                        // shadowOffsetX: 0,
                        // shadowOffsetY: 2,
                        // shadowBlur: 6,
                        borderWidth: 4,
                        borderColor: '#2F4654',
                        borderType: 'solid'
                    }
                },                
            }]
        };

     
        // 使用刚指定的配置项和数据显示图表。
        myChart.setOption(option);
    &lt;/script&gt;
    &lt;/body&gt;
    &lt;/html&gt;</code></pre>

<p><img alt="" class="has" src="https://img-blog.csdn.net/20180905141325942?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>            ]]></description></item><item><title>echart 柱状图 (精简)</title><link>http://www.cnblogs.com/xutongbao/archive/2018/09/05/9924808.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 05 Sep 2018 02:25:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/09/05/9924808.html</guid><description><![CDATA[
                <pre class="has"><code class="language-html">    &lt;!DOCTYPE html&gt;
    &lt;html lang="en"&gt;
    &lt;head&gt;
        &lt;meta charset="UTF-8"&gt;
        &lt;title&gt;echart 柱状图 (精简)&lt;/title&gt;
        &lt;script src="https://cdn.bootcss.com/echarts/3.7.2/echarts-en.js"&gt;&lt;/script&gt;
    &lt;/head&gt;
    &lt;body&gt;
    &lt;!-- 为ECharts准备一个具备大小（宽高）的Dom --&gt;
    &lt;div id="main" style="width: 120px;height:80px;"&gt;&lt;/div&gt;
    &lt;script type="text/javascript"&gt;
        // 基于准备好的dom，初始化echarts实例
        var myChart = echarts.init(document.getElementById('main'));
     
        // 指定图表的配置项和数据
        var option = {
            grid: {
                top: '3%',
                left: '3%',
                right: '3%',
                bottom: '3%',
                containLabel: false
            },             
            xAxis: {
                //show: false,
                type: 'category',
                data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
                axisLabel: {
                    show: false
                },
                axisTick: {
                    show: false
                },
                //boundaryGap: true,
                //offset: 20
            },
            yAxis: {
                type: 'value',
                axisLabel: {
                    show: false
                },
                axisTick: {
                    show: false
                },
                splitLine: {
                    show: false
                },
                boundaryGap: ['20%', '20%']           
            },
            series: [{
                data: [120, 200, 150, 80, 70, 110, 130],
                type: 'bar'
            }]
        };

     
        // 使用刚指定的配置项和数据显示图表。
        myChart.setOption(option);
    &lt;/script&gt;
    &lt;/body&gt;
    &lt;/html&gt;</code></pre>

<p><img alt="" class="has" src="https://img-blog.csdn.net/20180905102432487?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>            ]]></description></item><item><title>G2 面积图</title><link>http://www.cnblogs.com/xutongbao/archive/2018/09/04/9924809.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 04 Sep 2018 08:50:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/09/04/9924809.html</guid><description><![CDATA[
                <pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;

&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;meta name="viewport" content="width=device-width,height=device-height"&gt;
    &lt;title&gt;G2 面积图&lt;/title&gt;
    &lt;style&gt;
     ::-webkit-scrollbar {
        display: none;
    }

    html,
    body {
        overflow: hidden;
        height: 100%;
        margin: 0;
    }

    .m-mount {
        margin: 100px 0 0 100px;
        width: 200px;
        height: 50px;
    }

    .m-traffic-tooltip {
        padding: 0!important;
        width: 80px;
        height: 16px;
        background: rgba(102, 102, 102, 0.70)!important;
        border-radius: none!important;
    }

    .m-traffic-tooltip-inner {
        padding: 0 5px!important;
        color: #ffffff;
        font-size: 12px;
        line-height: 16px;
    }
    &lt;/style&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;div id="mountNode" class="m-mount"&gt;&lt;/div&gt;
    &lt;script src="https://gw.alipayobjects.com/os/antv/pkg/_antv.g2-3.2.8-beta.5/dist/g2.min.js"&gt;&lt;/script&gt;
    &lt;script src="https://gw.alipayobjects.com/os/antv/pkg/_antv.data-set-0.8.9/dist/data-set.min.js"&gt;&lt;/script&gt;
    &lt;script&gt;
    var data = [{
        year: '1991',
        value: 15468
    }, {
        year: '1992',
        value: 16100
    }, {
        year: '1993',
        value: 15900
    }, {
        year: '1994',
        value: 17409
    }, {
        year: '1995',
        value: 17000
    }, {
        year: '1996',
        value: 31056
    }, {
        year: '1997',
        value: 31982
    }, {
        year: '1998',
        value: 32040
    }, {
        year: '1999',
        value: 33233
    }];
    var chart = new G2.Chart({
        container: 'mountNode',
        forceFit: false,
        padding: [0, 5, 0, 5],
        width: 200,
        height: 50
    });
    chart.source(data);
    chart.scale({
        value: {
            min: 10000
        },
        year: {
            range: [0, 1]
        }
    });
    chart.axis('value', {
        label: null,
        tickLine: null
    });
    chart.axis('year', {
        label: null,
        tickLine: null,
        line: null
    });
    chart.tooltip({
        crosshairs: {
            type: 'y'
        },
        containerTpl: '&lt;div class="m-traffic-tooltip"&gt;' +
            '&lt;ul class="g2-tooltip-list m-traffic-tooltip-inner"&gt;&lt;/ul&gt;&lt;/div&gt;', // tooltip 容器模板
        itemTpl: '&lt;li data-index={index}&gt;&lt;span&gt;{value}&lt;/span&gt;&lt;/li&gt;', // {name}: {value}     
    });
    chart.area().position('year*value');
    chart.line().position('year*value').size(2);
    chart.render();
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p><img alt="" class="has" src="https://img-blog.csdn.net/20180904164947800?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>            ]]></description></item><item><title>按钮控制div显示和隐藏（动画）</title><link>http://www.cnblogs.com/xutongbao/archive/2018/09/04/9924810.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 04 Sep 2018 07:36:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/09/04/9924810.html</guid><description><![CDATA[
                <pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;

&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;按钮控制div显示和隐藏（动画）&lt;/title&gt;
    &lt;style&gt;
    .my-transition {
        margin-top: 200px;
        width: 100px;
        height: 100px;
        background: yellow;
        transform: scale(0.5, 0.5);
        opacity: 0;
        /*
                transition-property: width;
                transition-duration: 2s;
                transition-timing-function: linear;
                transition-delay: 1s;
                */
        transition: transform 0.5s linear, opacity 0.5s linear;
    }

    .my-click-transiton {
        opacity: 1;
        transform: scale(1, 1);
    }
    &lt;/style&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;input type="button" id="mybutton" value="click"&gt;
    &lt;div class="my-transition"&gt;&lt;/div&gt;
    &lt;script&gt;
    //用js触发CSS3-transition过渡动画
    $('#mybutton').click(function() {
        var myTransition = $('.my-transition');
        if (myTransition.hasClass('my-click-transiton')) {
            myTransition.removeClass('my-click-transiton')
        } else {
            $('.my-transition').addClass('my-click-transiton');
        }
    });
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p>&nbsp;</p>            ]]></description></item><item><title>css绘制条纹背景 css画线 分割线 坐标线 栅格线</title><link>http://www.cnblogs.com/xutongbao/archive/2018/09/03/9924811.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Mon, 03 Sep 2018 09:07:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/09/03/9924811.html</guid><description><![CDATA[
                <pre class="has"><code class="language-html">&lt;html&gt;

&lt;head&gt;
    &lt;title&gt;css绘制条纹背景&lt;/title&gt;
    &lt;link href="https://cdn.bootcss.com/vis/4.21.0/vis.min.css" rel="stylesheet"&gt;
    &lt;style type="text/css"&gt;
    body {
        margin: 0;
        background: #ffffff;
    }
    .m-test{margin: 100px 0 0 100px; width: 201px; height: 100px;border-top: 1px solid #dddddd;}
    .m-line{background-image: linear-gradient(0deg, #dddddd 1px, transparent 0),linear-gradient(90deg, #dddddd 1px, transparent 0);background-size: 100px 10px;}
    &lt;/style&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;div class="m-test m-line"&gt;&lt;/div&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p><img alt="" class="has" src="https://img-blog.csdn.net/20180903170629912?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>            ]]></description></item><item><title>Socket接口测试工具  (socket.io.js)</title><link>http://www.cnblogs.com/xutongbao/archive/2018/08/31/11915735.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Fri, 31 Aug 2018 02:54:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/08/31/11915735.html</guid><description><![CDATA[
                                            <pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;

&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;Socket接口测试&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"&gt;&lt;/script&gt;
    &lt;script src="https://cdn.bootcss.com/socket.io/2.1.1/socket.io.js"&gt;&lt;/script&gt;
    &lt;script type="text/javascript"&gt;
    $(function () {
        var myAction = {}, socket;

        var socketConfig = {
            token: 'Bearer ' + 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ',
            task_id: '1250659e-aba9-11e8-91a6'
        };  

        $.extend(myAction, {
            initSocket: function () {
                socket = io("ws://192.168.10.59/vackbot");  //ip
            },
            getData: function () {
                if (socket.connected) {
                    socket.emit("get_tasks", {
                        token: socketConfig.token
                    });
                    socket.on("push_tasks", function(res) {
                        console.log(res);
                    });

                    socket.emit("getlog", {
                        token: socketConfig.token,
                        task_id: socketConfig.task_id,
                        direction: 'down',      //up, down 向上查，向下查
                        log_time: null,         //日志里的时间, 1532249295
                        start_time: null,       //滑动条的起始时间
                        end_time: null,         //滑动条的结束时间
                        size: 10                //条数
                    });
                    socket.on("logpush", function(res) {
                        console.log(res);
                    });  

                    //下一页日志
                    socket.emit("getlog", {
                        token: socketConfig.token,
                        task_id: socketConfig.task_id,
                        direction: 'down',                
                        log_time: 1535560351.844,         
                        start_time: null,                 
                        end_time: null,                   
                        size: 10                          
                    });   

                    //上一页日志
                    socket.emit("getlog", {
                        token: socketConfig.token,
                        task_id: socketConfig.task_id,
                        direction: 'up',                
                        log_time: 1535560351.844,         
                        start_time: 1535560332.681,                 
                        end_time: 1535560351.844,                   
                        size: 10                         
                    });   

                    //下一页日志，限制结束时间
                    socket.emit("getlog", {
                        token: socketConfig.token,
                        task_id: socketConfig.task_id,
                        direction: 'down',                
                        log_time: 1535560351.844,         
                        start_time: 1535560351.844,                 
                        end_time: 1535560353.463,                   
                        size: 10                         
                    });                                                                                
                } else {
                    setTimeout(myAction.getData, 500);
                }
            },  
        });

        var init = function () {
            myAction.initSocket();
            myAction.getData();
        }();
    })
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p>&nbsp;</p>
                                    ]]></description></item><item><title>LocalStorage如何存储JSON对象</title><link>http://www.cnblogs.com/xutongbao/archive/2018/08/28/9924813.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 28 Aug 2018 06:02:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/08/28/9924813.html</guid><description><![CDATA[
                <pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;LocalStorage如何存储JSON对象&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;script&gt;
    var obj = {
        name: '徐同保',
        job: 'web前端'
    };
    var objString = JSON.stringify(obj);

    //setItem存储value
    localStorage.setItem("obj", objString);
 
    //getItem获取value
    var objStringNew = localStorage.getItem('obj');
    var objNew = JSON.parse(objString);
    console.log('姓名：' + objNew.name);
    console.log('职业：' + objNew.job);
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>

<p>也可以是数据对象</p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;

&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;LocalStorage如何存储JSON对象&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;script&gt;
    var obj = [{
            name: '徐同保',
            job: 'web前端'
        },
        {
            name: '徐同保s',
            job: 'web前端s'
        }
    ];
    var objString = JSON.stringify(obj);

    //setItem存储value
    localStorage.setItem("obj", objString);

    //getItem获取value
    var objStringNew = localStorage.getItem('obj');
    var objNew = JSON.parse(objString);
    for (var i = 0; i &lt; objNew.length; i++) {
        console.log('姓名：' + objNew[i].name);
        console.log('职业：' + objNew[i].job);        
    }

    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>            ]]></description></item><item><title>jQuery和css相结合制作动画----jQuery中animate方法不支持transform属性的解决方案</title><link>http://www.cnblogs.com/xutongbao/archive/2018/08/28/9924814.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 28 Aug 2018 03:12:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/08/28/9924814.html</guid><description><![CDATA[
                <p>&nbsp;</p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
        &lt;meta charset="utf-8"&gt;
        &lt;meta name="viewport" content="width=width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"&gt;
        &lt;title&gt;jQuery和css相结合制作动画----jQuery中animate方法不支持transform属性的解决方案&lt;/title&gt;
&lt;head&gt;
    &lt;style&gt;
    .m-test {
        width: 100px;
        height: 100px;
        background: red;
        position: relative;
    }
    .m-animation {
        transform: translate(0px, 100px);
        transition: all 0.5s ease-in-out;
    }
    &lt;/style&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;div class="m-test" id="m-test"&gt;&lt;/div&gt;
    &lt;script&gt;
    $(function() {
        var myAction = {};
        var dom = {
            test: $('#m-test')
        };

        $.extend(myAction, {
            initAnimation: function() {
                //dom.test.addClass('m-animation');
                dom.test.css({ transform: 'translate(0px, 100px)', transition: 'all 0.5s ease-in-out' });
            }
        });

        var init = function() {
            myAction.initAnimation();
        }();
    })
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p>&nbsp;</p>            ]]></description></item><item><title>jQuery深拷贝</title><link>http://www.cnblogs.com/xutongbao/archive/2018/08/27/9924815.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Mon, 27 Aug 2018 09:55:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/08/27/9924815.html</guid><description><![CDATA[
                <p>&nbsp;</p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta charset="utf-8"&gt;
    &lt;title&gt;jQuery深拷贝&lt;/title&gt;
&lt;/head&gt;
 
&lt;body&gt; 
    &lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;
    &lt;script&gt;
    $(function () {
        var myAction = {};

        $.extend(myAction, {
            initPage: function (pointA, pointB) {
                var myTest = {
                    a: 'a',
                    b: 'b'
                };                
                var myTest2 = jQuery.extend({}, myTest);
                myTest2.b = 'b2';
                console.log(myTest.b === 'b2');  //false

                var myArr = [1, 2];              
                var myArr2 = jQuery.extend([], myArr);
                myArr2[1] = 3;
                console.log(myArr[1] === 3);  //false      

                var myArrObj = [{a: 1}, {a: 2}];              
                var myArrObj2 = jQuery.extend([], myArrObj);
                myArrObj2[1].a = 3;
                console.log(myArrObj[1].a === 3);  //true 注意：未能实现深拷贝                    

                var myArrObj = [{a: 1}, {a: 2}];              
                var myArrObj2 = jQuery.extend(true, [], myArrObj);
                myArrObj2[1].a = 3;
                console.log(myArrObj[1].a === 3);  //false                           
            }
        });

        var init = function () {
            myAction.initPage();
        }();
    });

    &lt;/script&gt;
    &lt;script&gt;

    &lt;/script&gt;    
&lt;/body&gt;
&lt;/html&gt;</code></pre>

<p>&nbsp;</p>

<p>&nbsp;</p>            ]]></description></item><item><title>Canvas 通过改变渐变色渐变百分比位置做飞线效果</title><link>http://www.cnblogs.com/xutongbao/archive/2018/08/24/9924817.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Fri, 24 Aug 2018 09:45:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/08/24/9924817.html</guid><description><![CDATA[
                <p>&nbsp;<img alt="" class="has" src="https://img-blog.csdn.net/2018082417460360?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta charset="utf-8"&gt;
    &lt;title&gt;Canvas 通过改变渐变色渐变百分比位置做飞线效果&lt;/title&gt;
&lt;/head&gt;
 
&lt;body&gt;
    &lt;canvas id="myCanvas" width="700" height="700" style="border:1px solid #d3d3d3;"&gt;
        您的浏览器不支持 HTML5 canvas 标签。
    &lt;/canvas&gt;
    &lt;canvas id="myCanvas2" width="700" height="700" style="border:1px solid #d3d3d3;"&gt;
        您的浏览器不支持 HTML5 canvas 标签。
    &lt;/canvas&gt;    
    &lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;
    &lt;script&gt;
    $(function () {
        var myAction = {};

        $.extend(myAction, {
            getWidth: function (pointA, pointB) {
                var xWidth = (pointA.x - pointB.x) * (pointA.x - pointB.x);
                var yWidth = (pointA.y - pointB.y) * (pointA.y - pointB.y)
                var edgeWidth = Math.sqrt( xWidth + yWidth );
                return 100 / edgeWidth ;
            },
            initCanvas1: function () {
                var c = document.getElementById("myCanvas");
                var ctx = c.getContext("2d");
                var start = 0;
                var pointA = {
                    x: 0,
                    y: 100
                };
                var pointB = {
                    x: 700,
                    y: 100
                };    
                var width = myAction.getWidth(pointA, pointB);
                function auto() {
                    ctx.beginPath();
                    ctx.moveTo(0, 100);
                    ctx.lineTo(700, 100);
                    var grd = ctx.createLinearGradient(pointA.x, pointA.y, pointB.x, pointB.y);
                    grd.addColorStop(0, "#5BC0DE");
                    grd.addColorStop(start, "#5BC0DE");
                    grd.addColorStop(start + (width / 2), "#ffff00");
                    grd.addColorStop(start + width, "#5BC0DE");
                    grd.addColorStop(1, "#5BC0DE");
                    ctx.lineWidth = 5;
                    ctx.strokeStyle = grd;
                    ctx.stroke();

                    console.log(start + width)

                    ctx.closePath();  

                    if (start + width + 0.02 &gt;= 1) {
                        start = 0;
                    } else {
                        start = start + 0.02;
                    }
                    setTimeout(function() {
                        auto();
                    }, 100);        
                }
                auto();                
            }, 
            initCanvas2: function () {
                var c = document.getElementById("myCanvas2");
                var ctx = c.getContext("2d");
                var start = 0;
                var pointA = {
                    x: 0,
                    y: 0
                };
                var pointB = {
                    x: 700,
                    y: 700
                };      
                var width = myAction.getWidth(pointA, pointB);
                function auto() {
                    ctx.beginPath();
                    var grd = ctx.createLinearGradient(pointA.x, pointA.y, pointB.x, pointB.y);
                    grd.addColorStop(0, "#5BC0DE");
                    grd.addColorStop(start, "#5BC0DE");
                    grd.addColorStop(start + (width / 2), "#ffff00");
                    grd.addColorStop(start + width, "#5BC0DE");
                    grd.addColorStop(1, "#5BC0DE");
                    ctx.lineWidth = 5;
                    ctx.strokeStyle = grd;
                    ctx.moveTo(0, 0);
                    ctx.lineTo(700, 700);   
                    ctx.stroke();
                    ctx.closePath();  

                    if (start + width + 0.02 &gt;= 1) {
                        start = 0;
                    } else {
                        start = start + 0.02;
                    }
                    setTimeout(function() {
                        auto();
                    }, 100);        
                }
                auto();                
            }
        });

        var init = function () {
            myAction.initCanvas1();
            myAction.initCanvas2();
        }();
    });

    &lt;/script&gt;
    &lt;script&gt;

    &lt;/script&gt;    
&lt;/body&gt;
&lt;/html&gt;</code></pre>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>            ]]></description></item><item><title>IScroll 判断是否滚动到底部并加载更多数据</title><link>http://www.cnblogs.com/xutongbao/archive/2018/08/23/9924818.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 23 Aug 2018 11:15:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/08/23/9924818.html</guid><description><![CDATA[
                <pre class="has"><code class="language-html">    &lt;!DOCTYPE html&gt;
    &lt;html&gt;
     
    &lt;head&gt;
        &lt;meta charset="utf-8"&gt;
        &lt;meta name="viewport" content="width=width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"&gt;
        &lt;title&gt;IScroll 判断是否滚动到底部并加载更多数据&lt;/title&gt;
        &lt;style type="text/css"&gt;
        body {
            margin: 0;
            overflow: hidden;
        }
     
        .wrapper {
            position: absolute;
            top: 0;
            bottom: 50px;
            right: 0;
            width: 200px;
            background: #f8f8f9;
        }
     
        .wrapper ul {
            margin: 0;
            padding: 0 10px;
        }
     
        .m-item {
            position: relative;
            height: 100px;
            border: 1px solid green;
            list-style: none
        }
     
        .footer {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 50px;
            background: #444;
        }
        .mCustomScrollBox{overflow: unset;}
        .mCSB_container{overflow: unset;}
        &lt;/style&gt;
    &lt;/head&gt;
     
    &lt;body&gt;
        &lt;div id="wrapper" class="wrapper"&gt;
            &lt;ul id="m-list"&gt;
            &lt;/ul&gt;
        &lt;/div&gt;
        &lt;div class="footer"&gt;&lt;/div&gt;
        &lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;
        &lt;script src="https://cdn.bootcss.com/iScroll/5.2.0/iscroll.js"&gt;&lt;/script&gt;
        
        &lt;script type="text/javascript"&gt;
        $(function() {
            var dom = {
                wrapper: $('#wrapper'),
                list: $('#m-list')
            };
            var html = '';
            for (var i = 0 ; i &lt; 10; i++) {
                html += '&lt;li class="m-item js-item"&gt;' + i + '&lt;/li&gt;'
            }
            dom.list.html(html);    

            function scrollEndFn () {
                if (this.y - 200 &lt; this.maxScrollY &amp;&amp; (this.directionY === 1)) {
                    console.log('滚动到底部');
                    var html = '';
                    for (var i = 0 ; i &lt; 10; i++) {
                        html += '&lt;li class="m-item js-item"&gt;' + i + '&lt;/li&gt;'
                    }
                    dom.list.append(html);  
                    if (myScroll) {
                        myScroll.refresh();
                    }                
                }
            }            
            myScroll = new IScroll('#wrapper', { 
                click: true,        //支持点击
                scrollbars: true,   //显示滚轮
                mouseWheel: true,   //鼠标滚轮可以滚动
                interactiveScrollbars:true,  //滚动条可以拖动
                preventDefault: false, //禁止阻止浏览器默认行为，可以选择文字             
            });
            myScroll.on('scrollEnd', scrollEndFn);                
        });
        &lt;/script&gt;
    &lt;/body&gt;
     
    &lt;/html&gt;</code></pre>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>            ]]></description></item><item><title>css禁止文字被选择</title><link>http://www.cnblogs.com/xutongbao/archive/2018/08/23/9924819.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 23 Aug 2018 09:14:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/08/23/9924819.html</guid><description><![CDATA[
                <p>&nbsp;</p>

<p>&nbsp;</p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;

&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;css禁止文字被选择&lt;/title&gt;
    &lt;style type="text/css"&gt;
    .m-no-select {
        -webkit-touch-callout: none;
        /* iOS Safari */
        -webkit-user-select: none;
        /* Chrome/Safari/Opera */
        -khtml-user-select: none;
        /* Konqueror */
        -moz-user-select: none;
        /* Firefox */
        -ms-user-select: none;
        /* Internet Explorer/Edge */
        user-select: none;
        /* Non-prefixed version, currently

not supported by any browser */
    }
    &lt;/style&gt;
&lt;/head&gt;
&lt;div&gt;可以选择&lt;/div&gt;
&lt;div class="m-no-select"&gt;不可以选择&lt;/div&gt;

&lt;body&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"&gt;&lt;/script&gt;
    &lt;script type="text/javascript"&gt;
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>            ]]></description></item><item><title>时间戳(1532249295.179) 转日期格式(2018/07/22 16:48:15 179)</title><link>http://www.cnblogs.com/xutongbao/archive/2018/08/23/9924820.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 23 Aug 2018 06:44:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/08/23/9924820.html</guid><description><![CDATA[
                <pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
 
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;时间戳(1532249295.179) 转日期格式(2018/07/22 16:48:15 179)&lt;/title&gt;
    &lt;style type="text/css"&gt;
 
    &lt;/style&gt;
&lt;/head&gt;
 
&lt;body&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"&gt;&lt;/script&gt;
    &lt;script type="text/javascript"&gt;
    $(function() {
        var time = 1532249295.179;
 
        function formatDateTime (inputTime) {
            var date = new Date(inputTime);
            var y = date.getFullYear();
            var m = date.getMonth() + 1;
            m = m &lt; 10 ? ('0' + m) : m;
            var d = date.getDate();
            d = d &lt; 10 ? ('0' + d) : d;
            var h = date.getHours();
            h = h &lt; 10 ? ('0' + h) : h;
            var minute = date.getMinutes();
            var second = date.getSeconds();
            minute = minute &lt; 10 ? ('0' + minute) : minute;
            second = second &lt; 10 ? ('0' + second) : second;
            return y + '/' + m + '/' + d + ' ' + h + ':' + minute + ':' + second + ' ' + date.getMilliseconds();
        }
        var temp = formatDateTime(time * 1000);
        console.log(temp);  //2018/07/22 16:48:15 179
    })
    &lt;/script&gt;
&lt;/body&gt;
 
&lt;/html&gt;</code></pre>

<p>&nbsp;</p>            ]]></description></item><item><title>iscroll.js右侧可滑动的菜单，点击每个菜单都会出现本菜单的详情</title><link>http://www.cnblogs.com/xutongbao/archive/2018/08/22/9924821.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 22 Aug 2018 06:30:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/08/22/9924821.html</guid><description><![CDATA[
                <p>&nbsp;</p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;

&lt;head&gt;
    &lt;meta charset="utf-8"&gt;
    &lt;meta name="viewport" content="width=width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"&gt;
    &lt;title&gt;iscroll.js右侧可滑动的菜单，点击每个菜单都会出现本菜单的详情&lt;/title&gt;
    &lt;style type="text/css"&gt;
    body {
        margin: 0;
        overflow: hidden;
    }

    .wrapper {
        position: absolute;
        top: 0;
        bottom: 50px;
        right: 0;
        width: 200px;
        background: #f8f8f9;
    }

    .wrapper ul {
        margin: 0;
        padding: 0 10px;
    }

    .m-item {
        position: relative;
        height: 100px;
        border: 1px solid green;
        list-style: none
    }
    .m-detail{display: none; position: absolute;top: 0;left: -330px; width: 320px;height: 200px;background-color: rgba(0,0,0,0.7);}

    .footer {
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 50px;
        background: #444;
    }
    &lt;/style&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;div id="wrapper" class="wrapper" style="touch-action:none;"&gt;
        &lt;ul id="m-list"&gt;
        &lt;/ul&gt;
    &lt;/div&gt;
    &lt;div class="footer"&gt;&lt;/div&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;
    &lt;script src="https://cdn.bootcss.com/iScroll/5.2.0/iscroll.js"&gt;&lt;/script&gt;
    &lt;script type="text/javascript"&gt;
    $(function() {
        var dom = {
            list: $('#m-list')
        };
        var html = '';
        for (var i = 0 ; i &lt; 50; i++) {
            html += '&lt;li class="m-item js-item"&gt;' + i + ' &lt;div class="m-detail js-detail"&gt;&lt;/div&gt;&lt;/li&gt;'
        }
        dom.list.html(html)
        var myScroll2 = new IScroll('#wrapper', { click: true, scrollbars: true, mouseWheel: true, interactiveScrollbars:true});
        dom.list.on('mouseenter', '.js-item', function () {
            var that = $(this);
            $('.js-detail').hide();
            var detail = that.find('.js-detail');
            detail.show();
        });
        dom.list.on('mouseleave', '.js-detail', function () {
            var that = $(this);
            var detail = $('.js-detail');
            detail.hide();
        });        
    });
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p>&nbsp;</p>

<p>&nbsp;</p>            ]]></description></item><item><title>canvas绘制的文字如何换行</title><link>http://www.cnblogs.com/xutongbao/archive/2018/08/21/9924822.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 21 Aug 2018 08:03:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/08/21/9924822.html</guid><description><![CDATA[
                <p>&nbsp;</p>

<pre class="has"><code class="language-html">&lt;html&gt;

&lt;head&gt;
    &lt;title&gt;canvas绘制的文字如何换行&lt;/title&gt;
    &lt;style type="text/css"&gt;

    &lt;/style&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;canvas id="canvas" height="400" width="400"&gt;&lt;/canvas&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;
    &lt;script&gt;
    $(function() {
        var myAction = {};

        $.extend(myAction, {
            drawText: function(t, x, y, w) {
                var c = document.getElementById("canvas");
                var context = c.getContext("2d");
                var chr = t.split("");
                var temp = "";
                var row = [];

                context.font = "20px Arial";
                context.fillStyle = "black";
                context.textBaseline = "middle";

                for (var a = 0; a &lt; chr.length; a++) {
                    if (context.measureText(temp).width &lt; w) {;
                    } else {
                        row.push(temp);
                        temp = "";
                    }
                    temp += chr[a];
                }

                row.push(temp);

                for (var b = 0; b &lt; row.length; b++) {
                    context.fillText(row[b], x, y + (b + 1) * 20);
                }
            },
            initData: function() {
                myAction.drawText("Hello, World!What a nice day.", 0, 0, 110);
            }
        })

        var init = function() {
            myAction.initData();
        }();
    });
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;
</code></pre>

<p>&nbsp;</p>

<p>&nbsp;</p>            ]]></description></item><item><title>移动端H5页面禁止长按复制和去掉点击时高亮</title><link>http://www.cnblogs.com/xutongbao/archive/2018/08/15/9924823.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 15 Aug 2018 09:12:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/08/15/9924823.html</guid><description><![CDATA[
                <p>&nbsp;</p>

<p>&nbsp;</p>

<pre class="has"><code class="language-css">/*设置IOS页面长按不可复制粘贴，但是IOS上出现input、textarea不能输入，因此将使用-webkit-user-select:auto;*/  
*{  
    -webkit-touch-callout:none;  /*系统默认菜单被禁用*/  
    -webkit-user-select:none; /*webkit浏览器*/  
    -khtml-user-select:none; /*早期浏览器*/  
    -moz-user-select:none;/*火狐*/  
    -ms-user-select:none; /*IE10*/  
    user-select:none;  
} 
input,textarea {
    -webkit-user-select:auto; /*webkit浏览器*/
    margin: 0px;
    padding: 0px;
    outline: none;
}
*{ -webkit-tap-highlight-color: rgba(0,0,0,0);-webkit-tap-highlight-color: transparent; /* For some Androids */ }</code></pre>

<p>&nbsp;</p>            ]]></description></item><item><title>一列宽度不缩放，一列宽度弹性缩放，且超出后显示省略号</title><link>http://www.cnblogs.com/xutongbao/archive/2018/08/13/9924824.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Mon, 13 Aug 2018 10:47:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/08/13/9924824.html</guid><description><![CDATA[
                <p>行内元素也可以使用 Flex 布局</p>

<pre class="has"><code class="language-css">
    .box{
      display: inline-flex;
    }
</code></pre>

<p>如果所有项目的<code>flex-shrink</code>属性都为1，当空间不足时，都将等比例缩小。如果一个项目的<code>flex-shrink</code>属性为0，其他项目都为1，则空间不足时，前者不缩小。</p>

<pre class="has"><code class="language-css">
    .item {
      flex-shrink: &lt;number&gt;; /* default 1 */
    }
</code></pre>

<p>使用示例：</p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;

&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;一列宽度不缩放，一列宽度弹性缩放，且超出后显示省略号&lt;/title&gt;
    &lt;style type="text/css"&gt;
        .m-wrapper{display: inline-flex;width: 400px;font-size: 24px;}
        .m-label{flex-shrink: 0;}
        .m-content{margin: 0 0 0 10px;overflow: hidden;text-overflow:ellipsis;white-space: nowrap;}
    &lt;/style&gt;
&lt;/head&gt;

&lt;body&gt;
&lt;div&gt;
    &lt;div class="m-wrapper"&gt;
        &lt;span class="m-label"&gt;姓名:&lt;/span&gt;
        &lt;span class="m-content"&gt;内容内容内容内容内容内容内容内容内容内容内容内容内容内容&lt;/span&gt;  
    &lt;/div&gt;
&lt;/div&gt;
&lt;div&gt;
    &lt;div class="m-wrapper"&gt;
        &lt;span class="m-label"&gt;地址地址地址:&lt;/span&gt;
        &lt;span class="m-content"&gt;中国北京北京中国上海天津&lt;/span&gt;    
    &lt;/div&gt;
&lt;/div&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p><img alt="" class="has" src="https://img-blog.csdn.net/20180813184552282?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>            ]]></description></item><item><title>js钩子机制（hook）</title><link>http://www.cnblogs.com/xutongbao/archive/2018/08/03/9924825.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Fri, 03 Aug 2018 09:31:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/08/03/9924825.html</guid><description><![CDATA[
                <p>&nbsp;</p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;

&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;js钩子机制（hook）&lt;/title&gt;
    &lt;style type="text/css"&gt;

    &lt;/style&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"&gt;&lt;/script&gt;
    &lt;script type="text/javascript"&gt;
    $(function() {

        //使用前
        function old(errCode) {
            if (errCode) {
                if (errCode == '001') {
                    alert("用户不存在")
                } else if (errCode == '002') {
                    alert("密码输入错误")
                } else if (errCode == '003') {
                    alert("用户被锁定")
                }
            }
        }
        old('002');

        //使用后
        var codeList = {
            "001": "用户不存在",
            "002": "密码输入错误",
            "003": "用户被锁定"
        };

        function newFn(errCode) {
            if (errCode) {
                alert(codeList[errCode]);
            }
        }
        newFn('003');
    })
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p>&nbsp;</p>            ]]></description></item><item><title>mCustomScrollbar.js 漂亮的滚动条插件 适应内容自动更新</title><link>http://www.cnblogs.com/xutongbao/archive/2018/08/03/9924826.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Fri, 03 Aug 2018 02:22:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/08/03/9924826.html</guid><description><![CDATA[
                <p><img alt="" class="has" src="https://img-blog.csdn.net/20180803102153662?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>

<p>&nbsp;</p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
&lt;meta charset="UTF-8"&gt;
&lt;title&gt;mCustomScrollbar 漂亮的滚动条插件 适应内容自动更新&lt;/title&gt;
&lt;link href="https://cdn.bootcss.com/malihu-custom-scrollbar-plugin/3.1.5/jquery.mCustomScrollbar.css" rel="stylesheet"&gt;
&lt;style type="text/css"&gt;
.content{position: relative;background: #ffffff;width: 740px;height: 400px;border: 1px solid #dddddd;overflow: auto;}
.m-item{height: 50px;line-height: 50px;}
&lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div id="m-warpper" class="content"&gt;
	&lt;div id="m-inner"&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"&gt;&lt;/script&gt;
&lt;script src="https://cdn.bootcss.com/malihu-custom-scrollbar-plugin/3.1.5/jquery.mCustomScrollbar.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript"&gt;
$(function() {
	$("#m-warpper").mCustomScrollbar({
		theme:"minimal-dark"
	});
	setInterval(function () {
		var html = $('&lt;div class="m-item"&gt;' + new Date() + '&lt;/div&gt;')
		$("#m-inner").append(html);
	}, 1000);
})
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>

<p>&nbsp;</p>            ]]></description></item><item><title>axios.js 实例 -----$.ajax的替代方案</title><link>http://www.cnblogs.com/xutongbao/archive/2018/08/01/9924828.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 01 Aug 2018 08:48:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/08/01/9924828.html</guid><description><![CDATA[
                <p>Axios 是一个基于 promise 的 HTTP 库，可以用在浏览器和 node.js 中。</p>

<h2><a id="Features_10"></a>Features</h2>

<ul><li>从浏览器中创建 <a href="https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest" rel="nofollow">XMLHttpRequests</a></li>
	<li>从 node.js 创建 <a href="http://nodejs.org/api/http.html" rel="nofollow">http</a> 请求</li>
	<li>支持 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" rel="nofollow">Promise</a> API</li>
	<li>拦截请求和响应</li>
	<li>转换请求数据和响应数据</li>
	<li>取消请求</li>
	<li>自动转换 JSON 数据</li>
	<li>客户端支持防御 <a href="http://en.wikipedia.org/wiki/Cross-site_request_forgery" rel="nofollow">XSRF</a></li>
</ul><p><img alt="" class="has" src="https://img-blog.csdn.net/2018080116442876?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
&lt;meta charset="UTF-8"&gt;
&lt;title&gt;axios 实例&lt;/title&gt;
&lt;style type="text/css"&gt;
&lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;script src="https://cdn.bootcss.com/axios/0.18.0/axios.min.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript"&gt;
    //get请求第一种写法
    axios({
            method: 'get',
            url: 'https://ipinfo.io',
            params: {
              ID: 12345  //参数
            }
        })
        .then(function(response) {
            console.log(response.data);
        });

    //get请求第二种写法
    var result = axios({
            method: 'get',
            url: 'https://ipinfo.io',
            params: {
              ID: 12345
            }            
        });   
    result.then(function(response) {
        console.log(response.data);
    });

    //post请求
    axios({
            method: 'post',
            url: 'https://ipinfo.io',
            data: {
              ID: 12345  //参数
            }
        })
        .then(function(response) {
            console.log(response.data);
        });
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>

<p>&nbsp;</p>

<p>&nbsp;</p>            ]]></description></item><item><title>用 async/await 来处理异步实例</title><link>http://www.cnblogs.com/xutongbao/archive/2018/08/01/9924829.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 01 Aug 2018 08:06:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/08/01/9924829.html</guid><description><![CDATA[
                <p>&nbsp;</p>

<p>&nbsp;</p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
&lt;meta charset="UTF-8"&gt;
&lt;title&gt;用 async/await 来处理异步实例&lt;/title&gt;
&lt;style type="text/css"&gt;
&lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;script type="text/javascript"&gt;
function doubleAfter2seconds(num) {
    return new Promise((resolve, reject) =&gt; {
        setTimeout(() =&gt; {
            resolve(2 * num)
        }, 2000);
    } )
}
async function timeout() {
    var result = await doubleAfter2seconds(30);
    return result;
}
timeout().then(result =&gt; {
    console.log(result);
})
console.log('虽然在后面，但是我先执行');
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>

<p>&nbsp;</p>            ]]></description></item><item><title>immutable.js实例</title><link>http://www.cnblogs.com/xutongbao/archive/2018/08/01/9924830.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 01 Aug 2018 07:16:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/08/01/9924830.html</guid><description><![CDATA[
                <blockquote>
<p>Shared mutable state is the root of all evil（共享的可变状态是万恶之源）</p>

<p>-- Pete Hunt</p>
</blockquote>

<p>有人说 Immutable 可以给 React 应用带来数十倍的提升，也有人说 Immutable 的引入是近期 JavaScript 中伟大的发明，因为同期 React 太火，它的光芒被掩盖了。这些至少说明 Immutable 是很有价值的，下面我们来一探究竟。</p>

<p>JavaScript 中的对象一般是可变的（Mutable），因为使用了引用赋值，新的对象简单的引用了原始对象，改变新的对象将影响到原始对象。如 <code>foo={a: 1}; bar=foo; bar.a=2</code> 你会发现此时 <code>foo.a</code> 也被改成了 <code>2</code>。虽然这样做可以节约内存，但当应用复杂后，这就造成了非常大的隐患，Mutable 带来的优点变得得不偿失。为了解决这个问题，一般的做法是使用 shallowCopy（浅拷贝）或 deepCopy（深拷贝）来避免被修改，但这样做造成了 CPU 和内存的浪费。</p>

<p>Immutable 可以很好地解决这些问题。</p>

<p>&nbsp;</p>

<h2>什么是 Immutable Data</h2>

<p>Immutable Data 就是一旦创建，就不能再被更改的数据。对 Immutable 对象的任何修改或添加删除操作都会返回一个新的 Immutable 对象。Immutable 实现的原理是 <strong>Persistent Data Structure</strong>（持久化数据结构），也就是使用旧数据创建新数据时，要保证旧数据同时可用且不变。同时为了避免 deepCopy 把所有节点都复制一遍带来的性能损耗，Immutable 使用了 <strong>Structural Sharing</strong>（结构共享），即如果对象树中一个节点发生变化，只修改这个节点和受它影响的父节点，其它节点则进行共享。</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
&lt;meta charset="UTF-8"&gt;
&lt;title&gt;immutable.js实例&lt;/title&gt;
&lt;style type="text/css"&gt;
&lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;script src="https://cdn.bootcss.com/immutable/4.0.0-rc.9/immutable.min.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript"&gt;
// 原来的写法
var foo = {a: {b: 1}};
var bar = foo;
bar.a.b = 2;
console.log(foo.a.b);  // 打印 2
console.log(foo === bar);  //  打印 true

// 使用 immutable.js 后
var foo = Immutable.fromJS({a: {b: 1}});
var bar = foo.setIn(['a', 'b'], 2);   // 使用 setIn 赋值
console.log(foo.getIn(['a', 'b']));  // 使用 getIn 取值，打印 1
console.log(foo === bar);  //  打印 false     
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>

<p>参考链接：<a href="https://github.com/camsong/blog/issues/3" rel="nofollow">https://github.com/camsong/blog/issues/3</a></p>            ]]></description></item><item><title>leaflet地图和飞线</title><link>http://www.cnblogs.com/xutongbao/archive/2018/07/31/11915736.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 31 Jul 2018 11:08:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/07/31/11915736.html</guid><description><![CDATA[
                                            <p>gif:</p>

<p><img alt="" class="has" src="https://img-blog.csdn.net/20180731190806158?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>

<p>&nbsp;</p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
&lt;meta charset="UTF-8"&gt;
&lt;title&gt;js地图-leaflet&lt;/title&gt;
&lt;link href="https://cdn.bootcss.com/leaflet/1.3.1/leaflet.css" rel="stylesheet"&gt;
&lt;style type="text/css"&gt;
.m-map {width: 486px;height: 302px;}
.leaflet-control{display: none;}
.leaflet-right{direction: none;}
&lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div id="map" class="m-map"&gt;&lt;/div&gt;
&lt;script src="https://cdn.bootcss.com/leaflet/1.3.1/leaflet.js"&gt;&lt;/script&gt;
&lt;script src="src.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript"&gt;
    var map = L.map('map').setView([51.505, -0.09], 1);;
    var positron = L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {
    }).addTo(map);
 
    L.marker([51.5, -0.09]).addTo(map)
        .bindPopup('这里是伦敦')
        .openPopup();

    var data = [{"from":[-0.09,51.505],"to":[116.3,39.9],"labels":["伦敦","北京"],"color":"#ff3a31"}];

    var migrationLayer = new L.migrationLayer({
        map: map,
        data: data,
        pulseRadius:30,
        pulseBorderWidth:3,
        arcWidth:1,
        arcLabel:true,
        arcLabelFont:'10px sans-serif',
        }
    );
    migrationLayer.addTo(map);        
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>

<p>&nbsp;</p>

<p>src.js:</p>

<pre class="has"><code class="language-html">(function (window) {
    var utils = {
        // color:rgb或rgba格式
        // opacity: 透明度
        calculateColor: function (color, opacity) {
            if (color.indexOf('#') === 0) {
                var color16 = color.slice(1);
                var r = parseInt(color16.slice(0, 2), 16);
                var g = parseInt(color16.slice(2, 4), 16);
                var b = parseInt(color16.slice(4), 16);
                return 'rgba(' + r + ',' + g + ',' + b + ',' + opacity + ')';
            } else if (/^rgb\(/.test(color)) {
                return color.replace(/rgb/, 'rgba').replace(')', ",") +
                    opacity + ')';
            } else {
                return color.split(',').splice(0, 3).join(',') +
                    opacity + ')';
            }
        }
    };
    var arrayUtils = {
        forEach: function (arr, cb, scope) {
            if (typeof Array.prototype.forEach === 'function') {
                arr.forEach(cb, scope);
            } else {
                for (var i = 0, len = arr.length; i &lt; len; i++) {
                    cb.apply(scope, [arr[i], i, arr]);
                }
            }
        },
        map: function (arr, cb, scope) {
            if (typeof Array.prototype.map === 'function') {
                return arr.map(cb, scope);
            } else {
                var mapped = [];
                for (var i = 0, len = arr.length; i &lt; len; i++) {
                    mapped[i] = cb.apply(scope, [arr[i], i, arr]);
                }
                return mapped;
            }
        }
    };

    var Marker = (function () {
        var M = function (options) {
            this.x = options.x;
            this.y = options.y;
            this.rotation = options.rotation;
            this.style = options.style;
            this.color = options.color;
            this.size = options.size;
            this.borderWidth = options.borderWidth;
            this.borderColor = options.borderColor;
        };

        M.prototype.draw = function (context) {
            context.save();
            context.translate(this.x, this.y);
            context.rotate(this.rotation);

            context.lineWidth = this.borderWidth || 0;
            context.strokeStyle = this.borderColor || '#000';
            context.fillStyle = this.color || '#000';
            // 目前先只支持圆
            context.beginPath();
            if (this.style === 'circle') {
                context.arc(0, 0, this.size, 0, Math.PI * 2, false);
            } else if (this.style === 'arrow') {
                context.moveTo(-this.size, -this.size);
                context.lineTo(this.size, 0);
                context.lineTo(-this.size, this.size);
                context.lineTo(-this.size / 4, 0);
                context.lineTo(-this.size, -this.size);
            }
            context.closePath();
            context.stroke();
            context.fill();
            context.restore();
        };

        return M;
    })();

    var Arc = (function () {
        var A = function (options) {
            var startX = options.startX,
                startY = options.startY,
                endX = options.endX,
                endY = options.endY;
            //两点之间的圆有多个，通过两点及半径便可以定出两个圆，根据需要选取其中一个圆
            var L = Math.sqrt(Math.pow(startX - endX, 2) + Math.pow(startY - endY, 2));
            var m = (startX + endX) / 2; // 横轴中点
            var n = (startY + endY) / 2; // 纵轴中点
            var factor = 1.5;

            var centerX = (startY - endY) * factor + m;
            var centerY = (endX - startX) * factor + n;

            var radius = Math.sqrt(Math.pow(L / 2, 2) + Math.pow(L * factor, 2));
            var startAngle = Math.atan2(startY - centerY, startX - centerX);
            var endAngle = Math.atan2(endY - centerY, endX - centerX);

            // this.L = L;
            this.startX = startX;
            this.startY = startY;
            this.endX = endX;
            this.endY = endY;
            this.centerX = centerX;
            this.centerY = centerY;
            this.startAngle = startAngle;
            this.endAngle = endAngle;
            this.startLabel = options &amp;&amp; options.labels &amp;&amp; options.labels[0],
                this.endLabel = options &amp;&amp; options.labels &amp;&amp; options.labels[1],
                this.radius = radius;
            this.lineWidth = options.width || 1;
            this.strokeStyle = options.color || '#000';
            this.label = options.label;
            this.font = options.font;
            this.shadowBlur = options.shadowBlur;
        };

        A.prototype.draw = function (context) {
            context.save();
            context.lineWidth = this.lineWidth;
            context.strokeStyle = this.strokeStyle;
            context.shadowColor = this.strokeStyle;
            context.shadowBlur = this.shadowBlur || 2;

            context.beginPath();
            context.arc(this.centerX, this.centerY, this.radius, this.startAngle, this.endAngle, false);
            context.stroke();
            context.restore();

            context.save();
            context.fillStyle = this.strokeStyle;
            if (this.label) {
                context.font = this.font;
                if (this.startLabel) {
                    var x = this.startX - 15
                    var y = this.startY + 5
                    context.fillText(this.startLabel, x, y);
                }
                if (this.endLabel) {
                    var x = this.endX - 15;
                    var y = this.endY - 5;
                    context.fillText(this.endLabel, x, y);
                }
            }
            context.restore();
        };

        return A;
    })();

    var Pulse = (function () {
        function P(options) {
            this.x = options.x;
            this.y = options.y;
            this.maxRadius = options.radius;
            this.color = options.color;
            this.shadowBlur = 5;
            this.lineWidth = options.borderWidth;
            this.r = 0;
            this.factor = 2 / options.radius;
        };

        P.prototype.draw = function (context) {
            // var vr = (this.maxRadius - this.r) * this.factor;
            var vr = 0.5;
            this.r += vr;
            // this.shadowBlur = Math.floor(this.r);

            context.save();
            context.translate(this.x, this.y);
            var strokeColor = this.color;
            strokeColor = utils.calculateColor(strokeColor, 1 - this.r / this.maxRadius);
            context.strokeStyle = strokeColor;
            context.shadowBlur = this.shadowBlur;
            context.shadowColor = strokeColor;
            context.lineWidth = this.lineWidth;
            context.beginPath();
            context.arc(0, 0, this.r, 0, Math.PI * 2, false);
            context.stroke();
            context.restore();

            if (Math.abs(this.maxRadius - this.r) &lt; 0.8) {
                this.r = 0;
            }
        }

        return P;
    })();

    var Spark = (function () {
        var S = function (options) {
            var startX = options.startX,
                startY = options.startY,
                endX = options.endX,
                endY = options.endY;

            //两点之间的圆有多个，通过两点及半径便可以定出两个圆，根据需要选取其中一个圆
            var L = Math.sqrt(Math.pow(startX - endX, 2) + Math.pow(startY - endY, 2));
            var m = (startX + endX) / 2; // 横轴中点
            var n = (startY + endY) / 2; // 纵轴中点
            var factor = 1.5;

            var centerX = (startY - endY) * factor + m;
            var centerY = (endX - startX) * factor + n;

            var radius = Math.sqrt(Math.pow(L / 2, 2) + Math.pow(L * factor, 2));
            var startAngle = Math.atan2(startY - centerY, startX - centerX);
            var endAngle = Math.atan2(endY - centerY, endX - centerX);

            // 保证Spark的弧度不超过Math.PI
            if (startAngle * endAngle &lt; 0) {
                if (startAngle &lt; 0) {
                    startAngle += Math.PI * 2;
                    endAngle += Math.PI * 2;
                } else {
                    endAngle += Math.PI * 2;
                }
            }

            this.tailPointsCount = 50; // 拖尾点数
            this.centerX = centerX;
            this.centerY = centerY;
            this.startAngle = startAngle;
            this.endAngle = endAngle;
            this.radius = radius;
            this.lineWidth = options.width || 1;
            this.strokeStyle = options.color || '#fff';
            this.factor = 2 / this.radius;
            this.deltaAngle = (80 / Math.min(this.radius, 400)) / this.tailPointsCount;
            this.trailAngle = this.startAngle;
            this.arcAngle = this.startAngle;

            this.animateBlur = true;

            this.marker = new Marker({
                x: 50,
                y: 80,
                rotation: 50 * Math.PI / 180,
                style: 'arrow',
                color: 'rgb(255, 255, 255)',
                size: 3,
                borderWidth: 0,
                borderColor: this.strokeStyle
            });
        };

        S.prototype.drawArc = function (context, strokeColor, lineWidth, startAngle, endAngle) {
            context.save();
            context.lineWidth = lineWidth;
            // context.lineWidth = 5;
            context.strokeStyle = strokeColor;
            context.shadowColor = this.strokeStyle;
            // context.shadowBlur = 5;
            context.lineCap = "round";
            context.beginPath();
            context.arc(this.centerX, this.centerY, this.radius, startAngle, endAngle, false);
            context.stroke();
            context.restore();
        };

        S.prototype.draw = function (context) {
            var endAngle = this.endAngle;
            // 匀速
            var angle = this.trailAngle + this.factor;
            var strokeColor = this.strokeStyle;
            if (this.animateBlur) {
                this.arcAngle = angle;
            }
            this.trailAngle = angle;
            strokeColor = utils.calculateColor(strokeColor, 0.1);

            this.drawArc(context, strokeColor, this.lineWidth, this.startAngle, this.arcAngle);

            // 拖尾效果
            var count = this.tailPointsCount;
            for (var i = 0; i &lt; count; i++) {
                var arcColor = utils.calculateColor(this.strokeStyle, 0.3 - 0.3 / count * i);
                var tailLineWidth = 5;
                if (this.trailAngle - this.deltaAngle * i &gt; this.startAngle) {
                    this.drawArc(context, arcColor,
                        tailLineWidth - tailLineWidth / count * i,
                        this.trailAngle - this.deltaAngle * i,
                        this.trailAngle
                    );
                }
            }

            context.save();
            context.translate(this.centerX, this.centerY);
            this.marker.x = Math.cos(this.trailAngle) * this.radius;
            this.marker.y = Math.sin(this.trailAngle) * this.radius;
            this.marker.rotation = this.trailAngle + Math.PI / 2;
            this.marker.draw(context);
            context.restore();

            if ((endAngle - this.trailAngle) * 180 / Math.PI &lt; 0.5) {
                this.trailAngle = this.startAngle;
                this.animateBlur = false;
            }
        };

        return S;
    })();


    var Migration = (function () {
        var M = function (options) {
            this.data = options.data;
            this.store = {
                arcs: [],
                markers: [],
                pulses: [],
                sparks: []
            };
            this.playAnimation = true;
            this.started = false;
            this.context = options.context;
            this.style = options.style;
            this.init();
        };

        M.prototype.init = function () {
            this.updateData(this.data);
        };
        /*
         * Shape 必须拥有draw方法
        */
        M.prototype.add = function (Shape) {

        };
        M.prototype.remove = function () {

        };
        M.prototype.clear = function () {
            this.store = {
                arcs: [],
                markers: [],
                pulses: [],
                sparks: []
            };
            // 更新状态
            this.playAnimation = true;
            this.started = false;
            // 清除绘画实例，如果没有这个方法，多次调用start，相当于存在多个动画队列同时进行
            window.cancelAnimationFrame(this.requestAnimationId);
        };
        /*
         * 更新数据
        */
        M.prototype.updateData = function (data) {
            if (!data || data.length === 0) {
                return;
            }
            this.clear();
            this.data = data;
            if (this.data &amp;&amp; this.data.length &gt; 0) {
                arrayUtils.forEach(this.data, function (element) {
                    var arc = new Arc({
                        startX: element.from[0],
                        startY: element.from[1],
                        endX: element.to[0],
                        endY: element.to[1],
                        labels: element.labels,
                        label: this.style.arc.label,
                        font: this.style.arc.font,
                        width: this.style.arc.width,
                        color: element.color
                    });
                    var marker = new Marker({
                        x: element.to[0],
                        y: element.to[1],
                        rotation: arc.endAngle + Math.PI / 2,
                        style: 'arrow',
                        color: element.color,
                        size: 4,
                        borderWidth: 0,
                        borderColor: element.color
                    });
                    var pulse = new Pulse({
                        x: element.to[0],
                        y: element.to[1],
                        radius: this.style.pulse.radius,
                        color: element.color,
                        borderWidth: this.style.pulse.borderWidth
                    });
                    var spark = new Spark({
                        startX: element.from[0],
                        startY: element.from[1],
                        endX: element.to[0],
                        endY: element.to[1],
                        width: 15,
                        color: element.color
                    });

                    this.store.arcs.push(arc);
                    this.store.markers.push(marker);
                    this.store.pulses.push(pulse);
                    this.store.sparks.push(spark);
                }, this);
            }
        };
        /*
        */
        M.prototype.start = function (canvas) {
            var that = this;
            if (!this.started) {
                (function drawFrame() {
                    that.requestAnimationId = window.requestAnimationFrame(drawFrame, canvas);

                    if (that.playAnimation) {
                        canvas.width += 1;
                        canvas.width -= 1;
                        for (var p in that.store) {
                            var shapes = that.store[p];
                            for (var i = 0, len = shapes.length; i &lt; len; i++) {
                                shapes[i].draw(that.context);
                            }
                        }
                    }
                })();
                this.started = true;
            }
        };
        M.prototype.play = function () {
            this.playAnimation = true;
        };
        M.prototype.pause = function () {
            this.playAnimation = false;
        };
        return M;
    })();

    L.MigrationLayer = L.Class.extend({
        options: {
            map: {},
            data: {},
            pulseRadius: 25,
            pulseBorderWidth: 3,
            arcWidth: 1,
            arcLabel: true,
            arcLabelFont: '15px sans-serif',
            Marker: {},
            Spark: {}

        },
        _setOptions: function (obj, options) {
            if (!obj.hasOwnProperty('options')) {
                obj.options = obj.options ? L.Util.create(obj.options) : {};
            }
            for (var i in options) {
                obj.options[i] = options[i];
            }
            return obj.options;
        },
        initialize: function (options) {
            this._setOptions(this, options);
            this._map = this.options.map || {};
            this._data = this.options.data || {};
            this._style = {
                pulse: {
                    radius: this.options.pulseRadius,
                    borderWidth: this.options.pulseBorderWidth
                },
                arc: {
                    width: this.options.arcWidth,
                    label: this.options.arcLabel,
                    font: this.options.arcLabelFont
                }
            } || {};
            this._show = true;
            this._init();
        },
        _init: function () {
            var container = L.DomUtil.create('div', 'leaflet-ODLayer-container');
            container.style.position = 'absolute';
            container.style.width = this._map.getSize().x + "px";
            container.style.height = this._map.getSize().y + "px";

            this.container = container;

            this.canvas = document.createElement('canvas');
            this.context = this.canvas.getContext('2d');
            container.appendChild(this.canvas);
            this._map.getPanes().overlayPane.appendChild(container);
            //this._resize();
            if (!this.migration) {
                var data = this._convertData();
                this.migration = new Migration({
                    data: data,
                    context: this.context,
                    style: this._style
                });
                //this._draw();
                //this._bindMapEvents();
            }
        },
        _resize: function () {
            var bounds = this._map.getBounds();
            var topleft = bounds.getNorthWest();
            var topLeftscreen = this._map.latLngToContainerPoint(topleft);
            //当地图缩放或者平移到整个地图的范围小于外层容器的范围的时候，要对this.container进行上下平移操作，反之则回归原位
            if (topLeftscreen.y &gt; 0) {
                this.container.style.top = -topLeftscreen.y + 'px';
            } else {
                this.container.style.top = '0px';
            }

            var containerStyle = window.getComputedStyle(this._map.getContainer());
            this.canvas.setAttribute('width', parseInt(containerStyle.width, 10));
            this.canvas.setAttribute('height', parseInt(containerStyle.height, 10));
        },
        _convertData: function () {
            var bounds = this._map.getBounds();

            if (this._data &amp;&amp; bounds) {
                var data = arrayUtils.map(this._data, function (d) {

                    var fromPixel = this._map.latLngToContainerPoint(new L.LatLng(d.from[1], d.from[0]));
                    var toPixel = this._map.latLngToContainerPoint(new L.LatLng(d.to[1], d.to[0]));
                    return {
                        from: [fromPixel.x, fromPixel.y],
                        to: [toPixel.x, toPixel.y],
                        labels: d.labels,
                        value: d.value,
                        color: d.color
                    }
                }, this);

                return data;
            }
        },
        _bindMapEvents: function () {
            var that = this;
            // window.onresize = function () {
            //     that._resize();
            // };
            // this._map.on('movestart ', function () {
            //     that.migration.pause();
            // });
            this._map.on('moveend', function () {
                that.migration.play();
                that._draw();
            });
            this._map.on('zoomstart ', function () { that.container.style.display = 'none' });
            this._map.on('zoomend', function () {
                if (that._show) {
                    that.container.style.display = ''
                    that._draw();
                }
            });
        },
        _draw: function () {
            var bounds = this._map.getBounds();
            if (bounds &amp;&amp; this.migration.playAnimation) {
                this._resize();
                this._transform();
                var data = this._convertData();
                this.migration.updateData(data);
                this.migration.start(this.canvas);
            }
        },
        _transform: function () {
            var bounds = this._map.getBounds();
            var topLeft = this._map.latLngToLayerPoint(bounds.getNorthWest());
            L.DomUtil.setPosition(this.container, topLeft);
        },
        addTo: function () {
            this._bindMapEvents();
            var bounds = this._map.getBounds();
            if (bounds &amp;&amp; this.migration.playAnimation) {
                this._resize();
                this._transform();

                var data = this._convertData();
                this.migration.updateData(data);
                this.migration.start(this.canvas);
            }
        },
        setData: function (data) {
            this._data = data;
            this._draw();
        },
        hide: function () {
            this.container.style.display = 'none';
            this._show = false;
        },
        show: function () {
            this.container.style.display = '';
            this._show = true;
        },
        play: function () {
            this.migration.play();
        },
        pause: function () {
            this.migration.pause();
        },
        destroy: function () {
            this.migration.clear();
            //移除dom
            this.container.parentNode.removeChild(this.container);
            //移除事件监听
            this._map.clearAllEventListeners();
            this.mapHandles = [];
        }

    });
    L.migrationLayer = function (options) {
        return new L.MigrationLayer(options)
    }
})(window)
</code></pre>

<p>&nbsp;</p>
                                    ]]></description></item><item><title>Canvas 通过改变渐变线的起始点做飞线效果</title><link>http://www.cnblogs.com/xutongbao/archive/2018/07/30/9924832.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Mon, 30 Jul 2018 03:14:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/07/30/9924832.html</guid><description><![CDATA[
                <p>&nbsp;</p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta charset="utf-8"&gt;
    &lt;title&gt;Canvas 通过改变渐变线的起始点做飞线效果&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;canvas id="myCanvas" width="700" height="700" style="border:1px solid #d3d3d3;"&gt;
        您的浏览器不支持 HTML5 canvas 标签。
    &lt;/canvas&gt;
    &lt;script&gt;
    var c = document.getElementById("myCanvas");
    var ctx = c.getContext("2d");
    var start = 0;
    function auto() {
        ctx.beginPath();
        ctx.moveTo(0, 100);
        ctx.lineTo(700, 100);
        var grd = ctx.createLinearGradient(start, 0, start + 200, 0);
        grd.addColorStop(0, "#5BC0DE");
        grd.addColorStop(0.5, "#ffff00");
        grd.addColorStop(1, "#5BC0DE");
        ctx.lineWidth = 5;
        ctx.strokeStyle = grd;
        ctx.stroke();
        ctx.closePath();
        if (start &gt;= 700) {
            start = 0;
        } else {
            start = start + 50;
        }
        setTimeout(function() {
            auto();
        }, 100);
    }
    auto();
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>

<p>&nbsp;</p>

<p><img alt="" class="has" src="https://img-blog.csdn.net/20180730111319288?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70">\</p>

<p>竖版：</p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta charset="utf-8"&gt;
    &lt;title&gt;Canvas 通过改变渐变线的起始点做飞线效果&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;canvas id="myCanvas" width="700" height="700" style="border:1px solid #d3d3d3;"&gt;
        您的浏览器不支持 HTML5 canvas 标签。
    &lt;/canvas&gt;
    &lt;script&gt;
    var c = document.getElementById("myCanvas");
    var ctx = c.getContext("2d");
    var start = 0;
    function auto() {
        ctx.beginPath();
        ctx.moveTo(100, 0);
        ctx.lineTo(100, 700);
        var grd = ctx.createLinearGradient(0, start, 0, start + 200);
        grd.addColorStop(0, "#5BC0DE");
        grd.addColorStop(0.5, "#ffff00");
        grd.addColorStop(1, "#5BC0DE");
        ctx.lineWidth = 5;
        ctx.strokeStyle = grd;
        ctx.stroke();
        ctx.closePath();
        if (start &gt;= 700) {
            start = 0;
        } else {
            start = start + 50;
        }
        setTimeout(function() {
            auto();
        }, 100);
    }
    auto();
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>

<p>&nbsp;</p>

<p><img alt="" class="has" src="https://img-blog.csdn.net/20180730112555433?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>

<p>&nbsp;</p>

<p>&nbsp;</p>            ]]></description></item><item><title>css自动换行 包括url</title><link>http://www.cnblogs.com/xutongbao/archive/2018/07/26/9924833.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 26 Jul 2018 09:12:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/07/26/9924833.html</guid><description><![CDATA[
                <pre class="has"><code class="language-html">&lt;html&gt;
&lt;head&gt;
&lt;title&gt;css自动换行 包括url&lt;/title&gt;
&lt;style type="text/css"&gt;
    .m-test {max-width: 100px;word-wrap:break-word;word-break:break-all;white-space: normal}
&lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div class="m-test"&gt;from:http://183.235.33.17:8080/bpss/dwr/call/plaincall/__System.generateId.dwr&lt;/div&gt;
&lt;div class="m-test"&gt;中国北京中国北京中国北京&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>

<p>&nbsp;</p>

<p>&nbsp;</p>            ]]></description></item><item><title>handlebars.js 模板引擎</title><link>http://www.cnblogs.com/xutongbao/archive/2018/07/23/9924834.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Mon, 23 Jul 2018 08:23:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/07/23/9924834.html</guid><description><![CDATA[
                <p>&nbsp;</p>

<pre class="has"><code class="language-html">&lt;html&gt;
&lt;head&gt;
&lt;title&gt;handlebars.js 模板引擎&lt;/title&gt;
&lt;link href="https://cdn.bootcss.com/vis/4.21.0/vis.min.css" rel="stylesheet"&gt;
&lt;style type="text/css"&gt;
&lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;script id="tpl" type="text/x-handlebars-template"&gt;
{{#each data}}
    &lt;div&gt;
        &lt;h1&gt;{{title}}&lt;/h1&gt;
        &lt;div&gt;{{content}}&lt;/div&gt;
    &lt;/div&gt;
{{/each}}
&lt;/script&gt;
&lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;
&lt;script src="https://cdn.bootcss.com/handlebars.js/4.0.11/handlebars.min.js"&gt;&lt;/script&gt;
&lt;script&gt;
$(function () {
    var tpl   =  $("#tpl").html();
    var template = Handlebars.compile(tpl);
    var context = { 
        data: [
            {title: "xutongbao", content: "javascript"},
            {title: "徐同保", content: "CSS3"}
        ]
    };
    var html = template(context);
    $('body').html(html);
});	
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>

<p>&nbsp;</p>            ]]></description></item><item><title>g2-plugin-slider.js 数据滚动条插件</title><link>http://www.cnblogs.com/xutongbao/archive/2018/07/23/9924835.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Mon, 23 Jul 2018 04:01:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/07/23/9924835.html</guid><description><![CDATA[
                <p>&nbsp;</p>

<p><img alt="" class="has" src="https://img-blog.csdn.net/20180724092214809?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>

<pre class="has"><code class="language-html">&lt;html&gt;
&lt;head&gt;
&lt;title&gt;g2-plugin-slider.js 数据滚动条插件&lt;/title&gt;
&lt;link href="https://cdn.bootcss.com/vis/4.21.0/vis.min.css" rel="stylesheet"&gt;
&lt;style type="text/css"&gt;
    .m-slider-wrapper {position: fixed;bottom:3px;left:320px;width: 800px;}
&lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div class="m-slider-wrapper"&gt;
    &lt;div id="m-slider"&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;
&lt;script src="js/g2.min.js"&gt;&lt;/script&gt;
&lt;script src="js/g2-plugin-slider.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript"&gt;
var data = [{ "date": "2000-06-05", "aqi": 116, "city": "北京" }, { "date": "2000-06-06", "aqi": 129, "city": "北京" }, { "date": "2000-06-07", "aqi": 135, "city": "北京" }, { "date": "2000-06-08", "aqi": 86, "city": "北京" }, { "date": "2000-06-09", "aqi": 73, "city": "北京" }, { "date": "2000-06-10", "aqi": 85, "city": "北京" }, { "date": "2000-06-11", "aqi": 73, "city": "北京" }, { "date": "2000-06-12", "aqi": 68, "city": "北京" }, { "date": "2000-06-13", "aqi": 92, "city": "北京" }, { "date": "2000-06-14", "aqi": 130, "city": "北京" }, { "date": "2000-06-15", "aqi": 245, "city": "北京" }, { "date": "2000-06-16", "aqi": 139, "city": "北京" }, { "date": "2000-06-17", "aqi": 115, "city": "北京" }, { "date": "2000-06-18", "aqi": 111, "city": "北京" }, { "date": "2000-06-19", "aqi": 309, "city": "北京" }, { "date": "2000-06-20", "aqi": 206, "city": "北京" }, { "date": "2000-06-21", "aqi": 137, "city": "北京" }, { "date": "2000-06-22", "aqi": 128, "city": "北京" }, { "date": "2000-06-23", "aqi": 85, "city": "北京" }, { "date": "2000-06-24", "aqi": 94, "city": "北京" }, { "date": "2000-06-25", "aqi": 71, "city": "北京" }, { "date": "2000-06-26", "aqi": 106, "city": "北京" }, { "date": "2000-06-27", "aqi": 84, "city": "北京" }, { "date": "2000-06-28", "aqi": 93, "city": "北京" }, { "date": "2000-06-29", "aqi": 85, "city": "北京" }];
    
&lt;/script&gt;
&lt;script&gt;
$(function () {
    var myAction = {};
    var dom = {
        slider: $("#m-slider")
    };

    $.extend(myAction, {
        initSlider: function () { 
            //dom.slider.html('');
            var slider = new Slider({
                container: 'm-slider',
                data,
                xAxis: 'date',
                yAxis: 'aqi',
                onChange: function (obj) {
                    console.log(obj.startText + ':' + obj.endText);
                }
            });
            slider.render();            
        }              
    })

    var init = function () {
        myAction.initSlider();
    }();
});	
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>

<p>&nbsp;</p>            ]]></description></item><item><title>js拓扑图-vis插件</title><link>http://www.cnblogs.com/xutongbao/archive/2018/07/20/11915737.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Fri, 20 Jul 2018 07:51:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/07/20/11915737.html</guid><description><![CDATA[
                                            <p>&nbsp;vis插件可以实现的功能：</p>

<p>&nbsp;
</p><pre class="has"><code class="language-html">&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;js拓扑图-vis插件&lt;/title&gt;
    &lt;link href="https://cdn.bootcss.com/vis/4.21.0/vis.min.css" rel="stylesheet"&gt;
    &lt;style type="text/css"&gt;
        #mynetwork {
            width: 600px;
            height: 400px;
            border: 1px solid lightgray;
        }
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div id="mynetwork"&gt;&lt;/div&gt;
&lt;script src="https://cdn.bootcss.com/vis/4.21.0/vis.min.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript"&gt;
    // create an array with nodes
    var nodes = new vis.DataSet([
        {id: 1, label: 'Node 1'},
        {id: 2, label: 'Node 2'},
        {id: 3, label: 'Node 3'},
        {id: 4, label: 'Node 4'},
        {id: 5, label: 'Node 5'}
    ]);

    // create an array with edges
    var edges = new vis.DataSet([
        {from: 1, to: 3},
        {from: 1, to: 2},
        {from: 2, to: 4},
        {from: 2, to: 5}
    ]);

    // create a network
    var container = document.getElementById('mynetwork');

    // provide the data in the vis format
    var data = {
        nodes: nodes,
        edges: edges
    };
    var options = {};

    // initialize your network!
    var network = new vis.Network(container, data, options);
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>


<p>&nbsp;</p>

<pre class="has"><code class="language-html">&lt;html&gt;
&lt;head&gt;
&lt;title&gt;js拓扑图-vis插件&lt;/title&gt;
&lt;link href="https://cdn.bootcss.com/vis/4.21.0/vis.min.css" rel="stylesheet"&gt;
&lt;style type="text/css"&gt;
    .m-mynetwork {width: 600px;height: 400px;border: 1px solid lightgray;}
&lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div id="mynetwork" class="m-mynetwork"&gt;&lt;/div&gt;
&lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;
&lt;script src="https://cdn.bootcss.com/vis/4.21.0/vis.min.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript"&gt;
var dataDemo = {
	"nodes": [
		{
			"os": "linux",
			"group": "island_monkey_linux",
			"id": "5b08001853c3aef2788d7183",
			"dead": true,
			"label": "10.10.10.144"
		}, {
			"os": "linux",
			"group": "island_monkey_linux",
			"id": "5b08007453c3aef2788d7bc9",
			"dead": true,
			"label": "10.10.10.147"
		}, {
			"os": "linux",
			"group": "monkey_linux",
			"id": "5b0800b253c3aef2788d84f5",
			"dead": true,
			"label": "10.10.10.158"
		}
	],
	"edges": [{
		"to": "5b08007453c3aef2788d7bc9",
		"from": "5b08001853c3aef2788d7183",
		"id": "5b08004ae138230001dc670b",
		"group": "exploited"
	}, {
		"to": "5b0800b253c3aef2788d84f5",
		"from": "5b08001853c3aef2788d7183",
		"id": "5b08008ae138230001dc6718",
		"group": "exploited"
	}]
};	
&lt;/script&gt;
&lt;script&gt;
$(function () {
    var myAction = {}, network;
    var dom = {
        container: document.getElementById('mynetwork')
    };

    $.extend(myAction, {
        initVis: function () {
            var nodes = new vis.DataSet([
            ]);

            var edges = new vis.DataSet([
            ]);
            var data = {
                nodes: nodes,
                edges: edges
            };  

            var options = {
                nodes: {
                    shape: 'dot',
                    scaling: {
                        min: 20,
                        max: 30,
                        label: {
                            min: 14,
                            max: 30,
                            drawThreshold: 9,
                            maxVisible: 20
                        }
                    },
                    font: {
                        size: 14,
                        face: 'Helvetica Neue, Helvetica, Arial',
                        color: "#999999"
                    }
                },
                groups: {
                    monkey_linux: {
                        shape: 'image',
                        image: "img/do_linu.svg"
                    },
                    island_monkey_linux: {
                        shape: 'image',
                        image: {
                            unselected: 'img/apple.svg',
                            selected: 'img/lp.svg'
                        }
                    }

                },
                interaction: {
                    hover: true,
                    hoverConnectedEdges: false,
                    selectConnectedEdges: true,
                },
                "edges": {
                    "smooth": {
                        "forceDirection": "none",
                        "roundness": 0.8
                    }
                },
                "physics": {
                    "forceAtlas2Based": {
                        "springLength": 100,
                        "gravitationalConstant": -20
                    },
                    "minVelocity": 0.75,
                    "solver": "forceAtlas2Based"
                }
            };        
            network = new vis.Network(dom.container, data, options);       
        },
        buildDemoData: function  (data) {
            var eMap = {},
                model = {},
                ret = [],
                models = data.edges;
            for (var i = 0; i &lt; models.length; i++) {
                model = models[i];
                if (!eMap[model.to]) {
                    models[i].arrows = 'to';
                    models[i].width = 3;
                    if (models[i].group == "exploited") {
                        models[i].color = {
                            color: "rgb(204, 2, 0)"
                        }
                    } else if (models[i].group == "scan") {
                        models[i].color = {
                            color: "rgb(255, 153, 0)"
                        }
                    }
                    ret.push(models[i]);
                    eMap[model.to] = 1;
                }
            }
            return {
                nodes: data.nodes,
                edges: ret
            }
        },
        resetNetworkByJson: function  (data) {
            var obj = data;
            nodes = obj.nodes;
            edges = obj.edges;
            startpages = obj.startpages;
            network.setData({
                nodes: nodes,
                edges: edges
            });
        }               
    })

    var init = function () {
        myAction.initVis();
        var myData = myAction.buildDemoData(dataDemo);
        myAction.resetNetworkByJson(myData);
    }();
});	
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>

<p>&nbsp;</p>
                                    ]]></description></item><item><title>js地图-leaflet</title><link>http://www.cnblogs.com/xutongbao/archive/2018/07/20/9924837.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Fri, 20 Jul 2018 07:43:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/07/20/9924837.html</guid><description><![CDATA[
                <pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
&lt;meta charset="UTF-8"&gt;
&lt;title&gt;js地图-leaflet&lt;/title&gt;
&lt;link href="https://cdn.bootcss.com/leaflet/1.3.1/leaflet.css" rel="stylesheet"&gt;
&lt;style type="text/css"&gt;
.m-map {width: 486px;height: 302px;}
.leaflet-control{display: none;}
.leaflet-right{direction: none;}
&lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div id="map" class="m-map"&gt;&lt;/div&gt;
&lt;script src="https://cdn.bootcss.com/leaflet/1.3.1/leaflet.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript"&gt;
    var map = L.map('map').setView([51.505, -0.09], 13);;
    var positron = L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {
    }).addTo(map);

    L.marker([51.5, -0.09]).addTo(map)
        .bindPopup('A pretty CSS3 popup.&lt;br&gt; Easily customizable.')
        .openPopup();
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>

<p>&nbsp;</p>            ]]></description></item><item><title>css3 animation动画停留在最后一帧</title><link>http://www.cnblogs.com/xutongbao/archive/2018/07/13/9924838.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Fri, 13 Jul 2018 08:44:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/07/13/9924838.html</guid><description><![CDATA[
                <p><br></p><pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
&lt;meta charset="UTF-8"&gt;
&lt;title&gt;css3 animation动画停留在最后一帧&lt;/title&gt;
&lt;meta name="viewport" content="width=width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"&gt;
&lt;style type="text/css"&gt;
body{margin: 0;}
.m-test{width: 100px;height: 100px;animation:test-animation 3s;animation-fill-mode: forwards;}
@-webkit-keyframes test-animation {
  0% { background-color: rgba(0,0,0,0)}
  100% { background-color: rgba(100,100,100,0.5)}
}
@keyframes test-animation {
  0% { background-color: rgba(0,0,0,0)}
  100% { background-color: rgba(100,100,100,0.5)}
}  
&lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div class="m-test"&gt;&lt;/div&gt;
&lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript"&gt;
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre><br><p><br></p><p><br></p><p><br></p>            ]]></description></item><item><title>input输入手机号增加空格</title><link>http://www.cnblogs.com/xutongbao/archive/2018/07/13/9924839.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Fri, 13 Jul 2018 01:45:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/07/13/9924839.html</guid><description><![CDATA[
                <p>input输入手机号增加空格，点击按钮获取手机号时去掉空格。<br></p><pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
&lt;meta charset="UTF-8"&gt;
&lt;title&gt;input输入手机号增加空格&lt;/title&gt;
&lt;meta name="viewport" content="width=width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"&gt;
&lt;style type="text/css"&gt;
  body{margin: 0;}
  .m-input-wapper{padding: 10px 170px 10px 0;}
  .m-input{margin: 0 0 0 2px; padding: 0 0 0 10px; width: 100%;height: 60px;line-height: 60px;font-size: 20px; border:1px solid #ddd;}
  .m-search-btn{position: absolute;top: 10px;right: 5px;padding: 0; width: 146px;line-height: 60px;font-size: 20px; border:1px solid green;}
&lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div class="m-input-wapper" id="m-input-wapper"&gt;
  &lt;input type="text" class="m-input" id="m-input" maxlength="13"&gt;
  &lt;input type="button" class="m-search-btn" id="m-search-btn" value="获取手机号"&gt;
&lt;/div&gt;
&lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript"&gt;
  $('#m-input').on('keyup', function () {
    var that = $(this);
    var value = that.val();
    value = value.replace(/[^0-9]/ig, ""); 
    var arr = value.split('');
    if (arr.length &gt;= 4) {
      arr.splice(3, 0, ' ');
    } 
    if (arr.length &gt;= 9) {
      arr.splice(8, 0, ' ');
    }
    value = arr.join('');
    that.val(value);
  });
  $('#m-search-btn').on('click', function () {
    var value = $('#m-input').val();
    value = value.replace(/[^0-9]/ig, ""); 
    console.log(value);
  });
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre><br><p><img src="https://img-blog.csdn.net/20180713094416698?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""><br></p><p><br></p><p><br></p><p><br></p>            ]]></description></item><item><title>百度输入框 获取焦点时 滚动到页面顶部的实现</title><link>http://www.cnblogs.com/xutongbao/archive/2018/07/11/9924840.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 11 Jul 2018 10:53:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/07/11/9924840.html</guid><description><![CDATA[
                <p><br></p><p><br></p><pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;百度输入框 获取焦点时 滚动到页面顶部的实现&lt;/title&gt;
    &lt;meta name="viewport" content="width=width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"&gt;
    &lt;style type="text/css"&gt;
        body{margin: 0;}
        .m-test{height: 200px;background: #666;}
        .m-search{position: relative;}
        .m-input-wapper{padding: 10px 170px 10px 0;}
        .m-input{margin: 0 0 0 2px; padding: 0 0 0 10px; width: 100%;height: 60px;line-height: 60px;border:1px solid #ddd;}
        .m-search-btn{position: absolute;top: 10px;right: 5px;padding: 0; width: 146px;line-height: 60px;font-size: 20px; border:1px solid green;}
        .m-test2{height: 1000px;background: #ddd;}
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div class="m-test"&gt;&lt;/div&gt;
    &lt;div class="m-search"&gt;
      &lt;div class="m-input-wapper" id="m-input-wapper"&gt;
        &lt;input type="text" class="m-input" id="m-input"&gt;
        &lt;input type="button" class="m-search-btn" value="百度一下"&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    
    &lt;div class="m-test2"&gt;&lt;/div&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;
    &lt;script type="text/javascript"&gt;
        $('#m-input').on('focusin', function () {
          $("#m-input-wapper")[0].scrollIntoView(true);
        });
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre><p><br></p><p><img src="https://img-blog.csdn.net/20180711185441663?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""><br></p><p><br></p><p><br></p>            ]]></description></item><item><title>CSS3 transform-origin 设置旋转元素的基点位置</title><link>http://www.cnblogs.com/xutongbao/archive/2018/07/09/9924841.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Mon, 09 Jul 2018 02:54:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/07/09/9924841.html</guid><description><![CDATA[
                <p><br></p><pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html &gt;
&lt;head&gt;
&lt;meta charset="UTF-8"&gt;   
&lt;meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/&gt;  
&lt;meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" /&gt;       
&lt;title&gt;CSS3 transform-origin 设置旋转元素的基点位置&lt;/title&gt;
&lt;style type="text/css"&gt;
html {}
body {position: relative;padding: 0;margin: 0;}
.m-box-wrapper{display: inline-block;margin: 20px 0 0; width: 300px;height:300px;border:1px solid #ddd;text-align: center;}
.m-box{display: inline-block;margin: 100px 0 0; width: 200px;height: 100px;transform: rotate(45deg); background: green;}
.m-test1{transform-origin:center center;}
.m-test2{transform-origin:right center;}
&lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div class="m-box-wrapper"&gt;
    &lt;div class="m-box m-test1"&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="m-box-wrapper"&gt;
    &lt;div class="m-box m-test2"&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;script src="https://cdn.bootcss.com/jquery/1.9.0/jquery.js"&gt;&lt;/script&gt;
&lt;script&gt;
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre><br><p><img src="https://img-blog.csdn.net/20180709105350870?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""><br></p><p><br></p><p><br></p><p><br></p><p><br></p>            ]]></description></item><item><title>$.extend()和$.fn.extend()</title><link>http://www.cnblogs.com/xutongbao/archive/2018/07/09/9924842.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Mon, 09 Jul 2018 02:02:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/07/09/9924842.html</guid><description><![CDATA[
                <p></p><p><span xml:lang="en-us" lang="en-us">jQuery.extend<span xml:lang="en-us" lang="en-us">(<span xml:lang="en-us" lang="en-us">):把两个或者更多的对象合并到第一个当中<span xml:lang="en-us" lang="en-us">；</span></span></span></span></p><p><span xml:lang="en-us" lang="en-us">jQuery.fn.extend<span xml:lang="en-us" lang="en-us">(<span xml:lang="en-us" lang="en-us">):把对象挂载到<span xml:lang="en-us" lang="en-us">jQuery的<span xml:lang="en-us" lang="en-us">prototype属性，来扩展一个新的<span xml:lang="en-us" lang="en-us">jQuery实例方法<span xml:lang="en-us" lang="en-us">。</span></span></span></span></span></span></span></p><p><span xml:lang="en-us" lang="en-us"><span xml:lang="en-us" lang="en-us"><span xml:lang="en-us" lang="en-us"><span xml:lang="en-us" lang="en-us"><span xml:lang="en-us" lang="en-us"><span xml:lang="en-us" lang="en-us"><span xml:lang="en-us" lang="en-us">两者调用方式不同：<br>&nbsp;&nbsp;&nbsp; jQuery.extend(),一般由传入的全局函数来调用，主要是用来拓展个全局函数，如$.init()，$.ajax();<br>&nbsp;&nbsp;&nbsp; jQuery.fn.extend(),一般由具体的实例对象来调用，可以用来拓展个选择器，例如$.fn.each();<br>两者的主要功能作用不同：<br>&nbsp;&nbsp;&nbsp; jQuery.extend(object); 为扩展jQuery类本身，为自身添加新的方法；<br>&nbsp;&nbsp;&nbsp; jQuery.fn.extend(object);给jQuery对象添加方法。<br></span></span></span></span></span></span></span></p><br><p><br></p><pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html &gt;
&lt;head&gt;
&lt;meta charset="UTF-8"&gt;   
&lt;meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/&gt;  
&lt;meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" /&gt;       
&lt;title&gt;$.extend()和$.fn.extend()&lt;/title&gt;
&lt;style type="text/css"&gt;
html {}
body {position: relative;padding: 0;margin: 0;}
&lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;label&gt;&lt;input type="checkbox" name="foo"&gt; Foo&lt;/label&gt;
&lt;label&gt;&lt;input type="checkbox" name="bar"&gt; Bar&lt;/label&gt;
&lt;script src="https://cdn.bootcss.com/jquery/1.9.0/jquery.js"&gt;&lt;/script&gt;
&lt;script&gt;
$(function () { 
    $.fn.extend({
        check: function() {
            return this.each(function() {
                this.checked = true;
            });
        },
        uncheck: function() {
            return this.each(function() {
                this.checked = false;
            });
        }
    });
    // 使用新创建的.check() 方法
    $( "input[type='checkbox']" ).check();

    $.extend({
        min: function(a, b) { return a &lt; b ? a : b; },
        max: function(a, b) { return a &gt; b ? a : b; }
    });
    console.log($.min(2, 3)); // =&gt; 2
    console.log($.max(4, 5)); // =&gt; 5
})
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre><br><p><br></p><p><br></p><p><br></p><p><br></p>            ]]></description></item><item><title>$().each，$.each和arr.forEach对比解析</title><link>http://www.cnblogs.com/xutongbao/archive/2018/07/06/9924843.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Fri, 06 Jul 2018 07:46:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/07/06/9924843.html</guid><description><![CDATA[
                <p>jQuery中each类似于javascript的for循环<br>但不同于for循环的是在each里面不能使用break结束循环，也不能使用continue来结束本次循环，想要实现类似的功能就只能用return,<br>break&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 用return false<br>continue&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 用return ture<br></p><pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html &gt;
&lt;head&gt;
&lt;meta charset="UTF-8"&gt;   
&lt;meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/&gt;  
&lt;meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" /&gt;       
&lt;title&gt;$().each，$.each和arr.forEach对比解析&lt;/title&gt;
&lt;style type="text/css"&gt;
html {}
body {position: relative;padding: 0;margin: 0;}
&lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;button id="m-btn"&gt;Change colors&lt;/button&gt;
&lt;span&gt;&lt;/span&gt; 
&lt;div&gt;1&lt;/div&gt; 
&lt;div&gt;2&lt;/div&gt;
&lt;div&gt;3&lt;/div&gt; 
&lt;div&gt;4&lt;/div&gt;
&lt;div id="stop"&gt;Stop here&lt;/div&gt; 
&lt;div&gt;5&lt;/div&gt;
&lt;div&gt;6&lt;/div&gt;
&lt;script src="https://cdn.bootcss.com/jquery/1.9.0/jquery.js"&gt;&lt;/script&gt;
&lt;script&gt;
$("#m-btn").click(function () { 
    $("div").each(function (index, domEle) { 
        // domEle == this 

        if (index === 1) {
            return true;  //相当于continue
        }
        $(domEle).css("backgroundColor", "yellow"); 
        if ($(this).is("#stop")) { 
            $("span").text("Stopped at div index #" + index); 
            return false;  //相当于break
        } 
    });
});

var arr = ['a', 'b', 'c', 'd', 'e'];
arr.forEach(function(item, index) {
    if (item === 'b') {
        return true;  //相当于continue
    }
    if (item === 'c') {
        return false;  //相当于continue
    }
    console.log(index + ':' + item);
});

//$.each方法可用于遍历任何对象。如果需要退出 each 循环可使回调函数返回 false，其它返回值将被忽略。
$.each( [0, 1, 2, 3, 4, 5, 6], function(i, n){
    if (i === 1) {
        return true;  //相当于continue
    }
    if (i === 4) {
        return false;  //相当于break
    }

    console.log( "Item #" + i + ": " + n );
});
$.each( { name: "John", lang: "JS" }, function(i, n){
    console.log( "Name: " + i + ", Value: " + n );
});
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre><br><br>            ]]></description></item><item><title>ES6 assign</title><link>http://www.cnblogs.com/xutongbao/archive/2018/07/06/9924844.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Fri, 06 Jul 2018 07:22:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/07/06/9924844.html</guid><description><![CDATA[
                <p><br></p><p><br></p><pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html &gt;
&lt;head&gt;
&lt;meta charset="UTF-8"&gt;   
&lt;meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/&gt;  
&lt;meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" /&gt;       
&lt;title&gt;ES6 assign&lt;/title&gt;
&lt;style type="text/css"&gt;
html {height: 100%;}
body {width: 200px;height: 100%;position: relative;padding: 0;margin: 0;}
&lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;script src="https://cdn.bootcss.com/jquery/1.9.0/jquery.js"&gt;&lt;/script&gt;
&lt;script&gt;
    var name = "zhangsan";
    var password = "1111111";
    var obj = {
       name,
       password,
       arr: [1, 2, 3, 4],
       sayName() {
          console.log(this.name);
       }
    };
    var obj1 = {
       age: 20,
       name: 'xutongbao'
    };

    //花括号叫目标对象，后面的obj、obj1是源对象。对象合并是指：将源对象里面的属性添加到目标对象中去，若两者的属性名有冲突，后面的将会覆盖前面的
    var nObj = Object.assign({}, obj, obj1); 
    console.log(nObj);  //{name: "xutongbao", password: "1111111", arr: Array(4), sayName: ƒ, age: 20}
    nObj.arr.push(5);
    console.log(obj.arr); //[1, 2, 3, 4, 5]  此处说明assign是浅拷贝

    var arr11 = Object.assign([1,2,3], [4,5]);
    console.log(arr11); //[4,5,3]  对象是根据属性名来对应，数组是根据索引号来对应
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre><br>            ]]></description></item><item><title>ES6箭头函数this指向和arguments知识</title><link>http://www.cnblogs.com/xutongbao/archive/2018/07/06/9924845.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Fri, 06 Jul 2018 05:30:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/07/06/9924845.html</guid><description><![CDATA[
                <p>&nbsp;</p>

<p>&nbsp;</p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html &gt;
&lt;head&gt;
&lt;meta charset="UTF-8"&gt;   
&lt;meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/&gt;  
&lt;meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" /&gt;       
&lt;title&gt;箭头函数&lt;/title&gt;
&lt;style type="text/css"&gt;
html {height: 100%;}
body {width: 200px;height: 100%;position: relative;padding: 0;margin: 0;}
&lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;script src="https://cdn.bootcss.com/jquery/1.9.0/jquery.js"&gt;&lt;/script&gt;
&lt;script&gt;
var obj = {
    data: ['beijing', 'shanghai'],
    init: function () {
        console.log(arguments[0].name);//xutongbao
        var test = () =&gt; {
            console.log(this.data);//["beijing", "shanghai"]
            console.log(arguments[0].name);  //xutongbao
        }
        test();        
    }
}
obj.init({name: 'xutongbao'});
var test = () =&gt; {
    console.log(arguments);  //未定义 ReferenceError: arguments is not defined
}
test({name: 'xutongbao'}); 
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>

<p>由于<code>this</code>在箭头函数中已经按照词法作用域绑定了，所以，用<code>call()</code>或者<code>apply()</code>调用箭头函数时，无法对<code>this</code>进行绑定，即传入的第一个参数被忽略：</p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html &gt;
&lt;head&gt;
&lt;meta charset="UTF-8"&gt;   
&lt;meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/&gt;  
&lt;meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" /&gt;       
&lt;title&gt;箭头函数&lt;/title&gt;
&lt;style type="text/css"&gt;
&lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;script src="https://cdn.bootcss.com/jquery/1.9.0/jquery.js"&gt;&lt;/script&gt;
&lt;script&gt;
var obj = {
    birth: 1990,
    getAge: function (year) {
        var b = this.birth; // 1990
        var fn = (y) =&gt; y - this.birth; // this.birth仍是1990
        return fn.call({birth:2000}, year);
    }
};
var age = obj.getAge(2018); // 28
console.log(28)

&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>

<p>&nbsp;</p>            ]]></description></item><item><title>CSS多行文字超出隐藏加省略号</title><link>http://www.cnblogs.com/xutongbao/archive/2018/07/06/9924846.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Fri, 06 Jul 2018 03:52:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/07/06/9924846.html</guid><description><![CDATA[
                <p><br></p><p><br></p><pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html &gt;
&lt;head&gt;
&lt;meta charset="UTF-8"&gt;   
&lt;meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/&gt;  
&lt;meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" /&gt;       
&lt;title&gt;CSS多行文字超出隐藏加省略号&lt;/title&gt;
&lt;style type="text/css"&gt;
html {height: 100%;}
body {width: 200px;height: 100%;position: relative;padding: 0;margin: 0;}
.m-super-msg-text{display: -webkit-box;max-height: 54px;line-height: 18px; font-size: 12px;text-align:justify;color: #838791;letter-spacing: 0;overflow: hidden;text-overflow: ellipsis;-webkit-line-clamp: 3;-webkit-box-orient: vertical;word-break: break-all;}
&lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div class="m-super-msg-text"&gt;
超级大礼包，内含所有商品，半价优惠，经济实惠！超级大礼包，内含所有商品，半价优惠，经济实惠！超级大礼包，内含所有商品，半价优惠，经济实惠！
&lt;/div&gt;
&lt;script src="https://cdn.bootcss.com/jquery/1.9.0/jquery.js"&gt;&lt;/script&gt;
&lt;script&gt;
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre><br>            ]]></description></item><item><title>css3实现雷达图</title><link>http://www.cnblogs.com/xutongbao/archive/2018/07/05/9924847.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 05 Jul 2018 11:20:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/07/05/9924847.html</guid><description><![CDATA[
                <p>效果图：</p><p><img src="https://img-blog.csdn.net/20180705191813138?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""></p><p>gif图：</p><p><img src="https://img-blog.csdn.net/20180706110822630?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""><br></p><p><br></p><p>代码：</p><pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html &gt;
&lt;head&gt;
&lt;meta charset="UTF-8"&gt;   
&lt;meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/&gt;   
&lt;meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" /&gt;       
&lt;title&gt;Radar&lt;/title&gt;
&lt;style type="text/css"&gt;
html {height: 100%;}
body {width: 100%;height: 100%;position: relative;padding: 0;margin: 0;}
.m-wrapper {position: relative;left: 50%;top: 50%;width: 600px;height: 600px;-webkit-transform: translate(-50%, -50%);transform: translate(-50%, -50%);border-radius: 50%;border: 1px solid #dddddd;overflow: hidden;text-align: center;}
.m-center{display: inline-block;position: absolute;margin: auto;top: 0; bottom: 0;left: 0;right: 0;}
.m-divison1{width: 400px;height: 400px;border: 1px solid #dddddd;border-radius: 50%;}
.m-divison2{width: 200px;height: 200px;border: 1px solid #dddddd;border-radius: 50%;background-color: #ffffff;z-index: 9;}
.m-circle {width: 180px; height: 180px;border-radius: 90px;overflow: hidden;}
.m-circle-loading {position: absolute;top: 0;left:0;width: 50%; height: 100%;
    background: -webkit-linear-gradient(bottom, rgba(255, 255, 255, 0), #6699ff);
    background: -moz-linear-gradient(top, rgba(255, 255, 255, 0), #6699ff);   
    background: linear-gradient(to top, rgba(255, 255, 255, 0), #6699ff);
    -webkit-animation: radar-beam 5s infinite;
    animation: radar-beam 5s infinite;
    -webkit-animation-timing-function: linear;
    animation-timing-function: linear;
    -webkit-transform-origin: center right;
    transform-origin: center right;border-top-left-radius: 90px;border-bottom-left-radius:90px;}
.m-circle-loading-radius{position: absolute;top: 0;right: 0;width: 10px;height: 10px;background: #6699ff;border-top-right-radius: 50%;border-bottom-right-radius: 50%;-webkit-transform: translateX(5px);transform: translateX(5px);}
.m-center-text{width: 160px; height: 160px;line-height: 160px;font-size: 24px; border-radius: 50%;background: #ffffff;z-index: 99;}
.m-radar {display: block;position: absolute;top: 0;left: 0;width: 300px;height: 300px;
    background-image: -webkit-linear-gradient(44deg, rgba(255, 255, 255, 0) 50%, #cccccc 100%);
    background-image: linear-gradient(44deg, rgba(255, 255, 255, 0) 50%, #cccccc 100%);
    -webkit-animation: radar-beam 5s infinite;
    animation: radar-beam 5s infinite;
    -webkit-animation-timing-function: linear;  
    animation-timing-function: linear;
    -webkit-transform-origin: bottom right;
    transform-origin: bottom right;border-radius: 100% 0 0 0;}
.m-breathe-btn {display: inline-block;position:absolute; width:10px; height:10px;border:1px solid transparent; border-radius:5px; color:#fff; font-size:20px; text-align:center;cursor:pointer; box-shadow:0 1px 2px rgba(0,0,0,.3); overflow:hidden;background-image: -webkit-gradient(linear, left top, left bottom, from(#6cc3fe), to(#21a1d0));-webkit-animation-timing-function: ease-in-out;-webkit-animation-name: breathe;-webkit-animation-duration: 2700ms;-webkit-animation-iteration-count: infinite;-webkit-animation-direction: alternate;}
@-webkit-keyframes breathe {
  0% { opacity: .2; box-shadow:0 1px 2px rgba(255,255,255,0.1);}
  100% { opacity: 1; border:1px solid rgba(59,235,235,1); box-shadow:0 1px 30px rgba(59,255,255,1);}
}
@keyframes breathe {
  0% { opacity: .2; box-shadow:0 1px 2px rgba(255,255,255,0.1);}
  100% { opacity: 1; border:1px solid rgba(59,235,235,1); box-shadow:0 1px 30px rgba(59,255,255,1);}
}
@-webkit-keyframes radar-beam {
  0% {-webkit-transform: rotate(0deg);transform: rotate(0deg);}
  100% {-webkit-transform: rotate(360deg);transform: rotate(360deg);}
}
@keyframes radar-beam {
  0% {-webkit-transform: rotate(0deg);transform: rotate(0deg);}
  100% {-webkit-transform: rotate(360deg);transform: rotate(360deg);}
}

&lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div class="m-wrapper"&gt;
    &lt;div class="m-center m-divison1"&gt;
        &lt;div class="m-center m-divison2"&gt;
            &lt;div class="m-center m-circle"&gt;
                &lt;div class="m-center m-center-text" id="m-center-text"&gt;3.64k&lt;/div&gt;
                &lt;div class="m-circle-loading"&gt;
                    &lt;span class="m-circle-loading-radius"&gt;&lt;/span&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class="m-radar"&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;script src="https://cdn.bootcss.com/jquery/1.9.0/jquery.js"&gt;&lt;/script&gt;
&lt;script&gt;
$(function () {
    var dom = {
        centerText: $('#m-center-text')
    };
    var action = {
        initPage: function () {
            var height = $(document).height();
            var width = $(document).width();
            var count = 0;
            var myVar = setInterval(function () {
                var top = Math.floor(Math.random() * (height - 100) + 100);
                var left = Math.floor(Math.random() * (width - 200) + 100);
                var breatheBtn = $('&lt;div class="m-breathe-btn js-breathe-btn"&gt;&lt;/div&gt;');
                breatheBtn.css({top: top, left: left});
                $(document.body).append(breatheBtn);             
                var text = (Math.floor(Math.random() * 300) + 200) / 100 + 'k';
                dom.centerText.text(text);
                count++;
                if (count &gt;= 10) {
                    //clearInterval(myVar);
                    var totalBreatheBtn = $('.js-breathe-btn');
                    var length = totalBreatheBtn.length;
                    var index = Math.floor(Math.random() * length);
                    if (index &lt; length) {
                        $(totalBreatheBtn[index]).remove();
                    }
                }   
            }, 1000); 
        }
    }
    var init = function () {
        action.initPage();
    }();
});
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre><br><br><p><br></p><p><br></p><p><br></p>            ]]></description></item><item><title>js中参数都是按值传递的</title><link>http://www.cnblogs.com/xutongbao/archive/2018/06/25/9924849.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Mon, 25 Jun 2018 03:46:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/06/25/9924849.html</guid><description><![CDATA[
                <p><br></p><p><br></p><pre><code class="language-html">&lt;!DOCTYPE html&gt;            
&lt;html lang="en"&gt;            
&lt;head&gt;            
&lt;meta charset="UTF-8"&gt;     
&lt;meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"&gt;     
&lt;title&gt;js中参数都是按值传递的&lt;/title&gt;          
&lt;style type="text/css"&gt;      
&lt;/style&gt;           
&lt;/head&gt;            
&lt;body&gt;     
&lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;      
&lt;script type="text/javascript"&gt;      
//js中参数都是按值传递的,fun1中重新定义了一个数组，也就是现在堆内存中有两个数组，
//外部的arr指向的是老的数组，被传入参数指向的是新定义的数组，
//fun2中arr和myarr指向了同一个对象，而在myarr中修改了数组，其实修改了它们共同指向的数组
var arr = [1, 2];
function fun1 (myarr) {
    myarr = [];
}
function fun2 (myarr) {
    myarr.push(3);
}
fun1(arr); console.log(arr);  //1,2
fun2(arr); console.log(arr);  //1,2,3
&lt;/script&gt;      
&lt;/body&gt;            
&lt;/html&gt;  </code></pre><p><br></p><p><br></p><p><br></p>            ]]></description></item><item><title>移动端点击返回键 页面不刷新</title><link>http://www.cnblogs.com/xutongbao/archive/2018/06/19/9924850.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 19 Jun 2018 08:34:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/06/19/9924850.html</guid><description><![CDATA[
                <p>在浏览器中点击返回或者前进按钮时，页面不刷新的问题。这个问题存在于移动端居多，尤其是苹果手机。<br><br>这种问题经常在微信、uc这类的浏览器出现，这是因为浏览器保存了DOM和js的状态，相当于保存了整个页面，这种特性称作 “往返缓存”（back-forward cache，或bfcache）。<br>对于这种情况可以用“pageshow”事件来解决，“pageshow”事件表示浏览器展示文档的时候触发，并且是在“onload”事件之后触发。如果浏览器是存在往返缓存机制的话，<br></p><p>那么onload事件就只会触发一次，而“pageshow”事件则每次都会触发。这里需要注意“pageshow”事件必须绑定在window这个对象中，如下代码：</p><pre><code class="language-html">&lt;!DOCTYPE html&gt;            
&lt;html lang="en"&gt;            
&lt;head&gt;            
&lt;meta charset="UTF-8"&gt;     
&lt;meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"&gt;     
&lt;title&gt;移动端点击返回键 页面不刷新&lt;/title&gt;          
&lt;style type="text/css"&gt;          
&lt;/style&gt;           
&lt;/head&gt;            
&lt;body&gt;        
&lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;      
&lt;script type="text/javascript"&gt;      
window.addEventListener('pageshow', function(event) {
    //event.persisted属性为true时，表示当前文档是从往返缓存中获取
    if (event.persisted) {
        location.reload();  
    }
});
&lt;/script&gt;      
&lt;/body&gt;            
&lt;/html&gt;  </code></pre><br><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p>            ]]></description></item><item><title>placeholder样式，ie input框眼镜图标，ie文档兼容模式</title><link>http://www.cnblogs.com/xutongbao/archive/2018/06/14/9924851.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 14 Jun 2018 07:46:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/06/14/9924851.html</guid><description><![CDATA[
                <p>1.设置placeholder的样式，IE input 去掉文本框的叉叉和密码输入框的眼睛图标<br></p><pre><code class="language-css">.m-input::-webkit-input-placeholder{color: rgba(0,0,0,0.2);}
.m-input::-moz-input-placeholder{color: rgba(0,0,0,0.2);}
.m-input::-ms-input-placeholder{color: rgba(0,0,0,0.2);}
.m-input::-ms-clear,.m-input::-ms-reveal{display:none;}</code></pre><p><br></p><p>2.IE文档兼容模式的定义</p><pre><code class="language-html"> &lt;meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/&gt;</code></pre><br><br>            ]]></description></item><item><title>React生命周期</title><link>http://www.cnblogs.com/xutongbao/archive/2018/06/12/9924852.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 12 Jun 2018 02:53:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/06/12/9924852.html</guid><description><![CDATA[
                <p><br></p><p><br></p><p><br></p><pre><code class="language-html">&lt;!DOCTYPE html&gt;    
&lt;html&gt;    
&lt;head&gt;    
&lt;meta charset="UTF-8" /&gt;    
&lt;title&gt;React生命周期&lt;/title&gt;    
&lt;script src="https://unpkg.com/react@16/umd/react.development.js"&gt;&lt;/script&gt;    
&lt;script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"&gt;&lt;/script&gt;    
&lt;script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"&gt;&lt;/script&gt;    
&lt;/head&gt;    
&lt;body&gt;    
&lt;div id="root"&gt;&lt;/div&gt;    
&lt;script type="text/babel"&gt;    
class Components extends React.Component {

  constructor(props){
    super(props);
    this.state = {}
  }
  componentWillMount(){
    console.log("实例化：componentWillMount")
  }
  componentDidMount(){
    console.log("实例化：componentDidMount")
  }
  componentWillReceiveProps(){
    console.log("存在期：componentWillReceiveProps")
  }
  shouldComponentUpdate(nextProps,nextState){
    console.log("存在期：shouldComponentUpdate",nextProps,nextState)
    return true;
  }
  componentWillUpdate(){
    console.log("存在期：componentWillUpdate")
  }
  componentDidUpdate(){
    console.log("存在期：componentDidUpdate")
  }
  render() {
    if(!this.props.reRender){
      console.log("实例化：render")
    }else{
      console.log("存在期：render")
    }
    return (
      &lt;div&gt;
        &lt;br /&gt;
        请查看下面的console
        &lt;br /&gt;
      &lt;/div&gt;
    )

  }
}
Components.defaultProps = {
    text: "hello word",
}
class App extends React.Component{
  constructor(props){
    super(props);
    this.state = {}
  }
  refresh(){
    return (e)=&gt;{
      this.setState({
        reRender: true,
      })
    }
  }
  render(){
    return (
      &lt;div&gt;
        &lt;Components reRender={this.state.reRender}/&gt;  
        &lt;button onClick={this.refresh()}&gt;
            更新Component
        &lt;/button&gt;
      &lt;/div&gt;
    )
  }
}
ReactDOM.render(&lt;App /&gt;, document.getElementById('root'));
&lt;/script&gt;    
&lt;/body&gt;    
&lt;/html&gt;    </code></pre><p><img src="https://img-blog.csdn.net/20180612105247253" alt=""><br></p><p><br></p><p><br></p><p><br></p>            ]]></description></item><item><title>业务代码编码规范-最佳实践</title><link>http://www.cnblogs.com/xutongbao/archive/2018/06/11/9924853.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Mon, 11 Jun 2018 02:00:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/06/11/9924853.html</guid><description><![CDATA[
                <p><br></p><p>需要查找的dom不多，页面交互也不多时可以这样写：<br></p><pre><code class="language-html">&lt;!DOCTYPE html&gt;  
&lt;html lang="en"&gt;  
&lt;head&gt;  
  &lt;meta charset="utf-8"&gt;  
  &lt;meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"&gt;  
  &lt;title&gt;业务代码编码规范-最佳实践&lt;/title&gt;  
&lt;/head&gt;  
&lt;body&gt;  
&lt;input type="text" name="name" class="js-input"&gt;
&lt;input type="text" name="age" class="js-input"&gt;
&lt;input type="button" name="" value="按钮" id="m-btn" data-msg="表单按钮"&gt;
  
&lt;script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"&gt;&lt;/script&gt;   
&lt;script&gt;
$(function () {
  //节点查询和函数内的全局变量都写在这里，统一通过id查询，如果需要查询多个，
  //请在class里定义js-xxx，然后使用它来查询，使样式和行为分离
  var btn = $('#m-btn');
  var input = $('.js-input');

  function btnFn (that) {
    //节点的内容统一存在data属性里
    var msg = that.data('msg');
    var data = [];
    for(var i = 0; i &lt; input.length; i++) {
      var temp = {};
      var val = $(input[i]).val();
      var name = $(input[i]).attr('name');
      temp[name] = val;
      data.push(temp);
    }
    console.log(msg);
    console.log(data);
  }

  //事件绑定都写在这个函数里,只写事件绑定，具体业务处理写在xxxFn函数里
  function initEvent() {   
    btn.on('click', function () {
      var that = $(this);
      btnFn(that);
    })
  };  

  //程序入口都写在这里
  var init = function () {
    initEvent();
  }();  
})
&lt;/script&gt;
&lt;/body&gt;  
&lt;/html&gt;</code></pre><p><br></p><p>需要查找的dom比较多，页面交互也比较多时可以这样写：<br></p><pre><code class="language-html">&lt;!DOCTYPE html&gt;  
&lt;html lang="en"&gt;  
&lt;head&gt;  
  &lt;meta charset="utf-8"&gt;  
  &lt;meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"&gt;  
  &lt;title&gt;业务代码编码规范-最佳实践&lt;/title&gt;  
&lt;/head&gt;  
&lt;body&gt;  
&lt;input type="text" name="name" class="js-input"&gt;
&lt;input type="text" name="age" class="js-input"&gt;
&lt;input type="button" name="" value="按钮" id="m-btn" data-msg="表单按钮"&gt;
  
&lt;script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"&gt;&lt;/script&gt;   
&lt;script&gt;
$(function () {
  var myAction = {};

  //节点查询和函数内的全局变量都写在这里，统一通过id查询，如果需要查询多个，
  //请在class里定义js-xxx，然后使用它来查询，使样式和行为分离
  var dom = {
    btn: $('#m-btn'),
    input: $('.js-input')
  }
 
  //dom相关的方法都写在这里，ajax相关的可以单独写一个$.extend，方法都扩展到myAction
  $.extend(myAction, {
    btnFn: function (that) {
      //节点的内容统一存在data属性里
      var msg = that.data('msg');
      var data = [];
      for(var i = 0; i &lt; dom.input.length; i++) {
        var temp = {};
        var val = $(dom.input[i]).val();
        var name = $(dom.input[i]).attr('name');
        temp[name] = val;
        data.push(temp);
      }
      console.log(msg);
      console.log(data);
    }      
  });      
 
  //事件绑定都写在这个函数里,只写事件绑定，具体业务处理写在xxxFn函数里
  function initEvent() {   
    dom.btn.on('click', function () {
      var that = $(this);
      myAction.btnFn(that);
    })
  };  
 
  //程序入口都写在这里
  var init = function () {
    initEvent();
  }();  
})
&lt;/script&gt;
&lt;/body&gt;  
&lt;/html&gt;</code></pre><br><p><br></p><p><br></p><p><br></p><p><br></p>            ]]></description></item><item><title>非常炫的文字效果</title><link>http://www.cnblogs.com/xutongbao/archive/2018/06/07/9924854.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 07 Jun 2018 06:10:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/06/07/9924854.html</guid><description><![CDATA[
                <p><br></p><pre><code class="language-html">&lt;!DOCTYPE html&gt;  
&lt;html lang="en"&gt;  
&lt;head&gt;  
  &lt;meta charset="utf-8"&gt;  
  &lt;meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"&gt;  
  &lt;title&gt;非常炫的文字效果&lt;/title&gt;  
  &lt;style&gt;  
    .colorful a {
      color: #E16132;
      margin-right: 5px;
      text-decoration: none;
      padding: 3px 0;
    }

    @supports (-webkit-transform: scale(0)) {
      .colorful {
        /*-webkit-mask-image: linear-gradient(to right, red, orange, yellow, green, cyan, blue, purple);*/
        background-image: linear-gradient(to right, red, orange, yellow, green, yellow, orange, red, orange, yellow, green, yellow, orange, red);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          -webkit-background-size: 200% 100%;
          animation: bgp 5s infinite linear;
      }
    }
    @-webkit-keyframes bgp {
        0%  { background-position: 0 0;}
        100% { background-position: -100% 0;}
    }
  &lt;/style&gt;  
&lt;/head&gt;  
&lt;body&gt;  
&lt;p class="colorful ovh"&gt;
  &lt;a href="https://blog.csdn.net/xutongbao" class="btn" target="_blank"&gt;徐同保&lt;/a&gt;
  &lt;a href="#" class="btn" target="_blank"&gt;京东自营&lt;/a&gt;
  &lt;a href="#" class="btn" target="_blank"&gt;当当自营&lt;/a&gt;
  &lt;a href="#" class="btn" target="_blank"&gt;亚马逊&lt;/a&gt;
  &lt;a href="#" class="btn" target="_blank"&gt;异步社区&lt;/a&gt;
&lt;/p&gt;
  
&lt;script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"&gt;&lt;/script&gt;   
&lt;/body&gt;  
&lt;/html&gt;</code></pre><br><p><img src="https://img-blog.csdn.net/2018060714090182" alt=""><br></p><p><br></p><p></p><p><span style="color:#FF0000;"><strong>备注</strong></span>：欢迎加入web前端求职招聘qq群：<strong><span style="color:#000000;">668352707</span></strong></p><br><p><br></p><p><br></p>            ]]></description></item><item><title>通过链接添加qq群</title><link>http://www.cnblogs.com/xutongbao/archive/2018/06/07/9924856.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 07 Jun 2018 05:38:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/06/07/9924856.html</guid><description><![CDATA[
                <p><br></p><pre><code class="language-html">&lt;!DOCTYPE html&gt;  
&lt;html lang="en"&gt;  
&lt;head&gt;  
  &lt;meta charset="utf-8"&gt;  
  &lt;meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"&gt;  
  &lt;title&gt;通过链接加入qq群&lt;/title&gt;  
  &lt;style&gt;  
  &lt;/style&gt;  
&lt;/head&gt;  
&lt;body&gt;  
&lt;a target="_blank" href="https://jq.qq.com/?_wv=1027&amp;k=5pPgamW"&gt;北京web前端招聘求职&lt;/a&gt;
  
&lt;script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"&gt;&lt;/script&gt;   
&lt;/body&gt;  
&lt;/html&gt;</code></pre><p><br></p><p><img src="https://img-blog.csdn.net/20180607133621696" alt="" width="300"></p><p><br></p><p><img src="https://img-blog.csdn.net/20180607133644696" alt="" width="300"><br></p><p><br></p><p><br></p><p>复制的链接形如：https://jq.qq.com/?_wv=1027&amp;k=5pPgamW</p><p><br></p>            ]]></description></item><item><title>React编程思想实例</title><link>http://www.cnblogs.com/xutongbao/archive/2018/06/06/9924857.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 06 Jun 2018 09:55:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/06/06/9924857.html</guid><description><![CDATA[
                <p>这份代码是使用React实现根据用户输入的内容筛选列表的需求，这个需求很常见，使用jquery也可以实现，但是需要写很多dom监听事件，很多查找dom然后修改dom的js代码，结构不是很清晰。现在使用React实现，代码如下，可以看到各个模块的功能很清晰，没有查找dom以及给dom绑定事件的语句，如果有bug也很好定位，当然使用React需要理解她的思想，有一些学习成本。<br></p><p><br></p><p><br></p><p><br></p><pre><code class="language-html">&lt;!DOCTYPE html&gt;  
&lt;html&gt;  
&lt;head&gt;  
&lt;meta charset="UTF-8" /&gt;  
&lt;title&gt;React编程思想实例&lt;/title&gt;  
&lt;script src="https://unpkg.com/react@16/umd/react.development.js"&gt;&lt;/script&gt;  
&lt;script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"&gt;&lt;/script&gt;  
&lt;script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"&gt;&lt;/script&gt;  
&lt;/head&gt;  
&lt;body&gt;  
&lt;div id="root"&gt;&lt;/div&gt;  
&lt;script type="text/babel"&gt;  
  class ProductCategoryRow extends React.Component {
    render() {
      return (&lt;tr&gt;&lt;th colSpan="2"&gt;{this.props.category}&lt;/th&gt;&lt;/tr&gt;);
    }
  }

  class ProductRow extends React.Component {
    render() {
      var name = this.props.product.stocked ?
        this.props.product.name :
        &lt;span style={{color: 'red'}}&gt;
          {this.props.product.name}
        &lt;/span&gt;;
      return (
        &lt;tr&gt;
          &lt;td&gt;{name}&lt;/td&gt;
          &lt;td&gt;{this.props.product.price}&lt;/td&gt;
        &lt;/tr&gt;
      );
    }
  }

  class ProductTable extends React.Component {
    render() {
      var rows = [];
      var lastCategory = null;
      console.log(this.props.inStockOnly)
      this.props.products.forEach((product) =&gt; {
        if (product.name.indexOf(this.props.filterText) === -1 || (!product.stocked &amp;&amp; this.props.inStockOnly)) {
          return;
        }
        if (product.category !== lastCategory) {
          rows.push(&lt;ProductCategoryRow category={product.category} key={product.category} /&gt;);
        }
        rows.push(&lt;ProductRow product={product} key={product.name} /&gt;);
        lastCategory = product.category;
      });
      return (
        &lt;table&gt;
          &lt;thead&gt;
            &lt;tr&gt;
              &lt;th&gt;Name&lt;/th&gt;
              &lt;th&gt;Price&lt;/th&gt;
            &lt;/tr&gt;
          &lt;/thead&gt;
          &lt;tbody&gt;{rows}&lt;/tbody&gt;
        &lt;/table&gt;
      );
    }
  }

  class SearchBar extends React.Component {
    constructor(props) {
      super(props);
      this.handleFilterTextInputChange = this.handleFilterTextInputChange.bind(this);
      this.handleInStockInputChange = this.handleInStockInputChange.bind(this);
    }
    
    handleFilterTextInputChange(e) {
      this.props.onFilterTextInput(e.target.value);
    }
    
    handleInStockInputChange(e) {
      this.props.onInStockInput(e.target.checked);
    }
    
    render() {
      return (
        &lt;form&gt;
          &lt;input
            type="text"
            placeholder="Search..."
            value={this.props.filterText}
            onChange={this.handleFilterTextInputChange}
          /&gt;
          &lt;p&gt;
            &lt;input
              type="checkbox"
              checked={this.props.inStockOnly}
              onChange={this.handleInStockInputChange}
            /&gt;
            {' '}
            Only show products in stock
          &lt;/p&gt;
        &lt;/form&gt;
      );
    }
  }

  class FilterableProductTable extends React.Component {
    constructor(props) {
      super(props);
      this.state = {
        filterText: '',
        inStockOnly: false
      };
      
      this.handleFilterTextInput = this.handleFilterTextInput.bind(this);
      this.handleInStockInput = this.handleInStockInput.bind(this);
    }

    handleFilterTextInput(filterText) {
      this.setState({
        filterText: filterText
      });
    }
    
    handleInStockInput(inStockOnly) {
      this.setState({
        inStockOnly: inStockOnly
      })
    }

    render() {
      return (
        &lt;div&gt;
          &lt;SearchBar
            filterText={this.state.filterText}
            inStockOnly={this.state.inStockOnly}
            onFilterTextInput={this.handleFilterTextInput}
            onInStockInput={this.handleInStockInput}
          /&gt;
          &lt;ProductTable
            products={this.props.products}
            filterText={this.state.filterText}
            inStockOnly={this.state.inStockOnly}
          /&gt;
        &lt;/div&gt;
      );
    }
  }


  var PRODUCTS = [
    {category: 'Sporting Goods', price: '$49.99', stocked: true, name: 'xutongbao'},
    {category: 'Sporting Goods', price: '$9.99', stocked: true, name: '徐同保'},
    {category: 'Sporting Goods', price: '$29.99', stocked: false, name: '星河'},
    {category: 'Electronics', price: '$99.99', stocked: true, name: 'iPod Touch'},
    {category: 'Electronics', price: '$399.99', stocked: false, name: 'iPhone 5'},
    {category: 'Electronics', price: '$199.99', stocked: true, name: 'Nexus 7'}
  ];

  ReactDOM.render(
    &lt;FilterableProductTable products={PRODUCTS} /&gt;,
    document.getElementById('root')
  );
&lt;/script&gt;  
&lt;/body&gt;  
&lt;/html&gt;  
</code></pre><br><p><img src="https://img-blog.csdn.net/20180606175426286" alt=""></p><p><br></p><p><br></p><p><br></p><p></p><p><span style="color:#FF0000;"><strong>备注</strong></span>：欢迎加入web前端求职招聘qq群：<strong><span style="color:#000000;">668352707</span></strong></p><p><img src="https://img-blog.csdn.net/20180606175454767" alt=""><br></p><p><br></p><p><br></p><p><br></p>            ]]></description></item><item><title>禁止IOS长按复制粘贴</title><link>http://www.cnblogs.com/xutongbao/archive/2018/06/06/9924858.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 06 Jun 2018 07:01:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/06/06/9924858.html</guid><description><![CDATA[
                <p><br></p><pre><code class="language-css">/*设置IOS页面长按不可复制粘贴，但是IOS上出现input、textarea不能输入，因此将使用-webkit-user-select:auto;*/
*{
    -webkit-touch-callout:none;  /*系统默认菜单被禁用*/
    -webkit-user-select:none; /*webkit浏览器*/
    -khtml-user-select:none; /*早期浏览器*/
    -moz-user-select:none;/*火狐*/
    -ms-user-select:none; /*IE10*/
    user-select:none;
}
input,textarea {
    -webkit-user-select:auto; /*webkit浏览器*/
    margin: 0px;
    padding: 0px;
    outline: none;
}</code></pre><br>            ]]></description></item><item><title>禁止文本框输入中文和空格（适用于密码输入框）</title><link>http://www.cnblogs.com/xutongbao/archive/2018/06/06/9924859.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 06 Jun 2018 02:12:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/06/06/9924859.html</guid><description><![CDATA[
                <p><br></p><p></p><pre><code class="language-html">&lt;!DOCTYPE html&gt;  
&lt;html lang="en"&gt;  
&lt;head&gt;  
  &lt;meta charset="utf-8"&gt;  
  &lt;meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"&gt;  
  &lt;title&gt;Swiper demo&lt;/title&gt;  
  &lt;style&gt;  
  
  &lt;/style&gt;  
&lt;/head&gt;  
&lt;body&gt;  
&lt;input type="text" name="" id="m-input"&gt;  
  
  
&lt;script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"&gt;&lt;/script&gt;  
  
&lt;script&gt;  
$('#m-input').on('keyup change', function () {  
  var that = $(this);  
  var val = that.val();  
  var temp = ""   
  for(var i = 0; i &lt; val.length; i++) {  
      var char = val.charCodeAt(i);  
      if (char &gt; 0 &amp;&amp; char &lt; 255 &amp;&amp; char !== 32) {  
          temp += val.charAt(i)   
      }  
  }  
  that.val(temp);    
});  
&lt;/script&gt;  
&lt;/body&gt;  
&lt;/html&gt;</code></pre><br><p><br></p><p><br></p><p><br></p>            ]]></description></item><item><title>swiper轮播图实例</title><link>http://www.cnblogs.com/xutongbao/archive/2018/05/31/9924860.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 31 May 2018 03:26:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/05/31/9924860.html</guid><description><![CDATA[
                <p><br></p><p><br></p><pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="utf-8"&gt;
  &lt;meta name="viewport" content="width=width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"&gt;
  &lt;title&gt;Swiper demo&lt;/title&gt;
  &lt;!-- Link Swiper's CSS --&gt;
  &lt;link href="https://cdn.bootcss.com/Swiper/4.3.0/css/swiper.min.css" rel="stylesheet"&gt;

  &lt;!-- Demo styles --&gt;
  &lt;style&gt;
    html, body {
      position: relative;
      width: 100%;
      height: 100%;
    }
    body {
      margin: 0;
      padding: 0;
    }    

    .m-swiper-container{width: 100%;}
    .m-swiper-slide{display: block; background-size: 100% 100%;}
    .m-swiper-img{width: 100%;}
  &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;!-- Swiper --&gt;
  &lt;div class="swiper-container m-swiper-container" id="m-swiper-container"&gt;
    &lt;div class="swiper-wrapper" id="m-swiper-wrapper"&gt;
    &lt;/div&gt;
  &lt;/div&gt;


  &lt;script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"&gt;&lt;/script&gt;
  &lt;!-- Swiper JS --&gt;
  &lt;script src="https://cdn.bootcss.com/Swiper/4.3.0/js/swiper.min.js"&gt;&lt;/script&gt;

  &lt;!-- Initialize Swiper --&gt;
  &lt;script&gt;
    var swiperWrapper = $('#m-swiper-wrapper');
    var json = [{
      img:'https://img-blog.csdn.net/20180531112426283',
      url:'http://www.baidu.com'
    }, 
    {
      img:'https://img-blog.csdn.net/20180531112432547',
      url:'http://www.baidu.com'
    },  
    {
      img:'https://img-blog.csdn.net/20180531112437692',
      url:'http://www.baidu.com'
    }];
    var html = '';
    for (var i = 0; i &lt; json.length; i++) {
      html += '&lt;a class="swiper-slide m-swiper-slide" href="' + json[i].url + '"&gt;' +
      '&lt;img src="' + json[i].img + '" class="m-swiper-img"&gt;' +
      '&lt;/a&gt;';
    }
    swiperWrapper.html(html);
    var swiper = new Swiper('#m-swiper-container', {
      speed:300,
      autoplay : {
        delay:3000
      },      
      loop: true
    });
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre><br><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><img src="https://img-blog.csdn.net/20180531112426283" alt=""></p><p><img src="https://img-blog.csdn.net/20180531112432547" alt=""></p><p><img src="https://img-blog.csdn.net/20180531112437692" alt=""></p><p><br></p><p></p><p><span style="color:#FF0000;"><strong>备注</strong></span>：欢迎加入web前端求职招聘qq群：<strong><span style="color:#000000;">668352707</span></strong></p><p><strong><span style="color:#000000;"><img src="https://img-blog.csdn.net/20180601163047378" alt=""><br></span></strong></p><br>            ]]></description></item><item><title>React入门</title><link>http://www.cnblogs.com/xutongbao/archive/2018/05/25/9924861.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Fri, 25 May 2018 06:04:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/05/25/9924861.html</guid><description><![CDATA[
                <p>React Developer Tools.crx下载地址：<a href="https://pan.baidu.com/s/137XB-alpKdUS9k-5bHekrg" rel="nofollow">https://pan.baidu.com/s/137XB-alpKdUS9k-5bHekrg</a><br></p><p>React是一个声明式的，高效的，并且灵活的用于构建用户界面的 JavaScript 库。当数据更改时，React 将有效地更新并渲染正确的组件。组件接收参数，称为 <code>props</code>(属性)，并通过 <code>render</code> 方法返回一个显示的视图层次结构。<code>render</code> 方法返回您要渲染的内容<em>描述</em>，然后 React 接受该描述并将其渲染到屏幕上。特别是，<code>render</code> 返回一个 <strong>React 元素</strong>，这是一个渲染内容的轻量级描述。大多数 React 开发人员使用一种名为 JSX 的特殊语法，可以更容易地编写这些结构。每个组件都是封装的，因此它可以独立操作，这允许你从简单的组件构建复杂的UI。</p><p>jquery的瓶颈：</p><p><span class="RichText ztext CopyrightRichText-richText">1) 一个js文件有千把行是很正常的 <br></span></p><p><span class="RichText ztext CopyrightRichText-richText">2) 各种ajax的callback毫无规则的在源文件里面到处乱飞 <br></span></p><p><span class="RichText ztext CopyrightRichText-richText">3) html代码和dom操作也是随性所欲</span></p><p><span class="RichText ztext CopyrightRichText-richText"><br></span></p><p><span class="RichText ztext CopyrightRichText-richText"></span><br></p><p>1.hello world<br></p><pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;meta charset="UTF-8" /&gt;
    &lt;title&gt;Hello World&lt;/title&gt;
    &lt;script src="https://unpkg.com/react@16/umd/react.development.js"&gt;&lt;/script&gt;
    &lt;script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"&gt;&lt;/script&gt;
    &lt;script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"&gt;&lt;/script&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;div id="root"&gt;&lt;/div&gt;
    &lt;script type="text/babel"&gt;
      function formatName(user) {
        return user.firstName + ' ' + user.lastName;
      }

      const user = {
        firstName: 'xu',
        lastName: 'tongbao'
      };

      const element = (
        &lt;h1&gt;
          Hello, {formatName(user)}!
        &lt;/h1&gt;
      );

      ReactDOM.render(
        element,
        document.getElementById('root')
      );
    &lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre><br><p><br></p><p>2.时钟</p><pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;meta charset="UTF-8" /&gt;
    &lt;title&gt;Hello World&lt;/title&gt;
    &lt;script src="https://unpkg.com/react@16/umd/react.development.js"&gt;&lt;/script&gt;
    &lt;script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"&gt;&lt;/script&gt;
    &lt;script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"&gt;&lt;/script&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;div id="root"&gt;&lt;/div&gt;
    &lt;script type="text/babel"&gt;
      function tick() {
        const element = (
          &lt;div&gt;
            &lt;h1&gt;Hello, world!&lt;/h1&gt;
            &lt;h2&gt;It is {new Date().toLocaleTimeString()}.&lt;/h2&gt;
          &lt;/div&gt;
        );
        ReactDOM.render(
          element,
          document.getElementById('root')
        );
      }

      setInterval(tick, 1000);
    &lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre><p>3.组件和属性</p><pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;meta charset="UTF-8" /&gt;
    &lt;title&gt;Hello World&lt;/title&gt;
    &lt;script src="https://unpkg.com/react@16/umd/react.development.js"&gt;&lt;/script&gt;
    &lt;script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"&gt;&lt;/script&gt;
    &lt;script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"&gt;&lt;/script&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;div id="root"&gt;&lt;/div&gt;
    &lt;script type="text/babel"&gt;
      function Welcome(props) {
        return &lt;h1&gt;Hello, {props.name}&lt;/h1&gt;;
      }

      const element = &lt;Welcome name="xutongbao" /&gt;;
      ReactDOM.render(
        element,
        document.getElementById('root')
      );
    &lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre><p>4.组件引用组件</p><pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;meta charset="UTF-8" /&gt;
    &lt;title&gt;Hello World&lt;/title&gt;
    &lt;script src="https://unpkg.com/react@16/umd/react.development.js"&gt;&lt;/script&gt;
    &lt;script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"&gt;&lt;/script&gt;
    &lt;script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"&gt;&lt;/script&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;div id="root"&gt;&lt;/div&gt;
    &lt;script type="text/babel"&gt;
      function Welcome(props) {
        return &lt;h1&gt;Hello, {props.name}&lt;/h1&gt;;
      }

      function App() {
        return (
          &lt;div&gt;
            &lt;Welcome name="xutongbao" /&gt;
            &lt;Welcome name="徐同保" /&gt;
            &lt;Welcome name="星河" /&gt;
          &lt;/div&gt;
        );
      }

      ReactDOM.render(
        &lt;App /&gt;,
        document.getElementById('root')
      );
    &lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre><p>5.提取组件</p><pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;meta charset="UTF-8" /&gt;
    &lt;title&gt;Hello World&lt;/title&gt;
    &lt;script src="https://unpkg.com/react@16/umd/react.development.js"&gt;&lt;/script&gt;
    &lt;script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"&gt;&lt;/script&gt;
    &lt;script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"&gt;&lt;/script&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;div id="root"&gt;&lt;/div&gt;
    &lt;script type="text/babel"&gt;
      function formatDate(date) {
        return date.toLocaleDateString();
      }

      function Avatar(props) {
        return (
          &lt;img className="Avatar"
               src={props.user.avatarUrl}
               alt={props.user.name} /&gt;
        );
      }

      function UserInfo(props) {
        return (
          &lt;div className="UserInfo"&gt;
            &lt;Avatar user={props.user} /&gt;
            &lt;div className="UserInfo-name"&gt;
              {props.user.name}
            &lt;/div&gt;
          &lt;/div&gt;
        );
      }

      function Comment(props) {
        return (
          &lt;div className="Comment"&gt;
            &lt;UserInfo user={props.author} /&gt;
            &lt;div className="Comment-text"&gt;
              {props.text}
            &lt;/div&gt;
            &lt;div className="Comment-date"&gt;
              {formatDate(props.date)}
            &lt;/div&gt;
          &lt;/div&gt;
        );
      }

      const comment = {
        date: new Date(),
        text: '希望你能快乐的学习react！',
        author: {
          name: '徐同保',
          avatarUrl: 'http://placekitten.com/g/64/64'
        }
      };
      ReactDOM.render(
        &lt;Comment
          date={comment.date}
          text={comment.text}
          author={comment.author} /&gt;,
        document.getElementById('root')
      );
    &lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre><p>6.使用状态（state）和生命周期做的时钟</p><pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;meta charset="UTF-8" /&gt;
    &lt;title&gt;Hello World&lt;/title&gt;
    &lt;script src="https://unpkg.com/react@16/umd/react.development.js"&gt;&lt;/script&gt;
    &lt;script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"&gt;&lt;/script&gt;
    &lt;script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"&gt;&lt;/script&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;div id="root"&gt;&lt;/div&gt;
    &lt;script type="text/babel"&gt;
      class Clock extends React.Component {
        constructor(props) {
          super(props);
          this.state = {date: new Date()};
        }

        componentDidMount() {
          this.timerID = setInterval(
            () =&gt; this.tick(),
            1000
          );
        }

        componentWillUnmount() {
          clearInterval(this.timerID);
        }

        tick() {
          this.setState({
            date: new Date()
          });
        }

        render() {
          return (
            &lt;div&gt;
              &lt;h1&gt;Hello, world!&lt;/h1&gt;
              &lt;h2&gt;It is {this.state.date.toLocaleTimeString()}.&lt;/h2&gt;
            &lt;/div&gt;
          );
        }
      }

      ReactDOM.render(
        &lt;Clock /&gt;,
        document.getElementById('root')
      );
    &lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre><p>7.事件（开关按钮）</p><pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;meta charset="UTF-8" /&gt;
    &lt;title&gt;Hello World&lt;/title&gt;
    &lt;script src="https://unpkg.com/react@16/umd/react.development.js"&gt;&lt;/script&gt;
    &lt;script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"&gt;&lt;/script&gt;
    &lt;script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"&gt;&lt;/script&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;div id="root"&gt;&lt;/div&gt;
    &lt;script type="text/babel"&gt;
      class Toggle extends React.Component {
        constructor(props) {
          super(props);
          this.state = {isToggleOn: true};

          // 这个绑定是必要的，使`this`在回调中起作用
          this.handleClick = this.handleClick.bind(this);
        }

        handleClick() {
          this.setState(prevState =&gt; ({
            isToggleOn: !prevState.isToggleOn
          }));
        }

        render() {
          return (
            &lt;button onClick={this.handleClick}&gt;
              {this.state.isToggleOn ? 'ON' : 'OFF'}
            &lt;/button&gt;
          );
        }
      }

      ReactDOM.render(
        &lt;Toggle /&gt;,
        document.getElementById('root')
      );
    &lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre><p>8.条件渲染（登录和退出）</p><pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset="UTF-8" /&gt;
&lt;title&gt;Hello World&lt;/title&gt;
&lt;script src="https://unpkg.com/react@16/umd/react.development.js"&gt;&lt;/script&gt;
&lt;script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"&gt;&lt;/script&gt;
&lt;script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div id="root"&gt;&lt;/div&gt;
&lt;script type="text/babel"&gt;
class LoginControl extends React.Component {
  constructor(props) {
    super(props);
    this.handleLoginClick = this.handleLoginClick.bind(this);
    this.handleLogoutClick = this.handleLogoutClick.bind(this);
    this.state = {isLoggedIn: false};
  }

  handleLoginClick() {
    this.setState({isLoggedIn: true});
  }

  handleLogoutClick() {
    this.setState({isLoggedIn: false});
  }

  render() {
    const isLoggedIn = this.state.isLoggedIn;
    
    let button = null;
    if (isLoggedIn) {
      button = &lt;LogoutButton onClick={this.handleLogoutClick} /&gt;;
    } else {
      button = &lt;LoginButton onClick={this.handleLoginClick} /&gt;;
    }

    return (
      &lt;div&gt;
        &lt;Greeting isLoggedIn={isLoggedIn} /&gt;
        {button}
      &lt;/div&gt;
    );
  }
}

function UserGreeting(props) {
  return &lt;h1&gt;Welcome back!&lt;/h1&gt;;
}

function GuestGreeting(props) {
  return &lt;h1&gt;Please sign up.&lt;/h1&gt;;
}

function Greeting(props) {
  const isLoggedIn = props.isLoggedIn;
  if (isLoggedIn) {
    return &lt;UserGreeting /&gt;;
  }
  return &lt;GuestGreeting /&gt;;
}

function LoginButton(props) {
  return (
    &lt;button onClick={props.onClick}&gt;
      Login
    &lt;/button&gt;
  );
}

function LogoutButton(props) {
  return (
    &lt;button onClick={props.onClick}&gt;
      Logout
    &lt;/button&gt;
  );
}

ReactDOM.render(
  &lt;LoginControl /&gt;,
  document.getElementById('root')
);
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>9.键（Keys）<br><pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset="UTF-8" /&gt;
&lt;title&gt;Hello World&lt;/title&gt;
&lt;script src="https://unpkg.com/react@16/umd/react.development.js"&gt;&lt;/script&gt;
&lt;script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"&gt;&lt;/script&gt;
&lt;script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div id="root"&gt;&lt;/div&gt;
&lt;script type="text/babel"&gt;
function Blog(props) {
  const sidebar = (
    &lt;ul&gt;
      {props.posts.map((post) =&gt;
        &lt;li key={post.id}&gt;
          {post.title}
        &lt;/li&gt;
      )}
    &lt;/ul&gt;
  );
  const content = props.posts.map((post) =&gt;
    &lt;div key={post.id}&gt;
      &lt;h3&gt;{post.title}&lt;/h3&gt;
      &lt;p&gt;{post.content}&lt;/p&gt;
    &lt;/div&gt;
  );
  return (
    &lt;div&gt;
      {sidebar}
      &lt;hr /&gt;
      {content}
    &lt;/div&gt;
  );
}

const posts = [
  {id: 1, title: 'name', content: 'xutongbao'},
  {id: 2, title: '姓名', content: '徐同保'}
];
ReactDOM.render(
  &lt;Blog posts={posts} /&gt;,
  document.getElementById('root')
);
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>10.表单（受控元素）<br><pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset="UTF-8" /&gt;
&lt;title&gt;Hello World&lt;/title&gt;
&lt;script src="https://unpkg.com/react@16/umd/react.development.js"&gt;&lt;/script&gt;
&lt;script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"&gt;&lt;/script&gt;
&lt;script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div id="root"&gt;&lt;/div&gt;
&lt;script type="text/babel"&gt;
class NameForm extends React.Component {
  constructor(props) {
    super(props);
    this.state = {value: ''};

    this.handleChange = this.handleChange.bind(this);
    this.handleSubmit = this.handleSubmit.bind(this);
  }

  handleChange(event) {
    this.setState({value: event.target.value});
  }

  handleSubmit(event) {
    alert('A name was submitted: ' + this.state.value);
    event.preventDefault();
  }

  render() {
    return (
      &lt;form onSubmit={this.handleSubmit}&gt;
        &lt;label&gt;
          Name:
          &lt;input type="text" value={this.state.value} onChange={this.handleChange} /&gt;
        &lt;/label&gt;
        &lt;input type="submit" value="Submit" /&gt;
      &lt;/form&gt;
    );
  }
}

ReactDOM.render(
  &lt;NameForm /&gt;,
  document.getElementById('root')
);
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>11.表单（文件上传）<br><pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset="UTF-8" /&gt;
&lt;title&gt;Hello World&lt;/title&gt;
&lt;script src="https://unpkg.com/react@16/umd/react.development.js"&gt;&lt;/script&gt;
&lt;script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"&gt;&lt;/script&gt;
&lt;script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div id="root"&gt;&lt;/div&gt;
&lt;script type="text/babel"&gt;
class FileInput extends React.Component {
  constructor(props) {
    super(props);
    this.handleSubmit = this.handleSubmit.bind(
      this
    );
  }
  handleSubmit(event) {
    event.preventDefault();
    alert(
      `Selected file - ${
        this.fileInput.files[0].name
      }`
    );
  }

  render() {
    return (
      &lt;form
        onSubmit={this.handleSubmit}&gt;
        &lt;label&gt;
          Upload file:
          &lt;input
            type="file"
            ref={input =&gt; {
              this.fileInput = input;
            }}
          /&gt;
        &lt;/label&gt;
        &lt;br /&gt;
        &lt;button type="submit"&gt;
          Submit
        &lt;/button&gt;
      &lt;/form&gt;
    );
  }
}

ReactDOM.render(
  &lt;FileInput /&gt;,
  document.getElementById('root')
);
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre><p>12.状态提升（将公用的值以及修改该值的方法都放在父组件里）</p><p>在一个 React 应用中，对于任何可变的数据都应该循序“单一数据源”原则。通常情况下，state 首先被添加到需要它进行渲染的组件。然后，如果其它的组件也需要它，你可以提升状态到它们最近的祖先组件。你应该依赖 从上到下的数据流向 ，而不是试图在不同的组件中同步状态。</p><pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset="UTF-8" /&gt;
&lt;title&gt;Hello World&lt;/title&gt;
&lt;script src="https://unpkg.com/react@16/umd/react.development.js"&gt;&lt;/script&gt;
&lt;script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"&gt;&lt;/script&gt;
&lt;script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div id="root"&gt;&lt;/div&gt;
&lt;script type="text/babel"&gt;
const scaleNames = {
  c: 'Celsius',
  f: 'Fahrenheit'
};

function toCelsius(fahrenheit) {
  return (fahrenheit - 32) * 5 / 9;
}

function toFahrenheit(celsius) {
  return (celsius * 9 / 5) + 32;
}

function tryConvert(temperature, convert) {
  const input = parseFloat(temperature);
  if (Number.isNaN(input)) {
    return '';
  }
  const output = convert(input);
  const rounded = Math.round(output * 1000) / 1000;
  return rounded.toString();
}

function BoilingVerdict(props) {
  if (props.celsius &gt;= 100) {
    return &lt;p&gt;The water would boil.&lt;/p&gt;;
  }
  return &lt;p&gt;The water would not boil.&lt;/p&gt;;
}

class TemperatureInput extends React.Component {
  constructor(props) {
    super(props);
    this.handleChange = this.handleChange.bind(this);
  }

  handleChange(e) {
    this.props.onTemperatureChange(e.target.value);
  }

  render() {
    const temperature = this.props.temperature;
    const scale = this.props.scale;
    return (
      &lt;fieldset&gt;
        &lt;legend&gt;Enter temperature in {scaleNames[scale]}:&lt;/legend&gt;
        &lt;input value={temperature}
               onChange={this.handleChange} /&gt;
      &lt;/fieldset&gt;
    );
  }
}

class Calculator extends React.Component {
  constructor(props) {
    super(props);
    this.handleCelsiusChange = this.handleCelsiusChange.bind(this);
    this.handleFahrenheitChange = this.handleFahrenheitChange.bind(this);
    this.state = {temperature: '', scale: 'c'};
  }

  handleCelsiusChange(temperature) {
    this.setState({scale: 'c', temperature});
  }

  handleFahrenheitChange(temperature) {
    this.setState({scale: 'f', temperature});
  }

  render() {
    const scale = this.state.scale;
    const temperature = this.state.temperature;
    const celsius = scale === 'f' ? tryConvert(temperature, toCelsius) : temperature;
    const fahrenheit = scale === 'c' ? tryConvert(temperature, toFahrenheit) : temperature;

    return (
      &lt;div&gt;
        &lt;TemperatureInput
          scale="c"
          temperature={celsius}
          onTemperatureChange={this.handleCelsiusChange} /&gt;
        &lt;TemperatureInput
          scale="f"
          temperature={fahrenheit}
          onTemperatureChange={this.handleFahrenheitChange} /&gt;
        &lt;BoilingVerdict
          celsius={parseFloat(celsius)} /&gt;
      &lt;/div&gt;
    );
  }
}

ReactDOM.render(
  &lt;Calculator /&gt;,
  document.getElementById('root')
);

&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre><p>13.组合（children）</p><pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset="UTF-8" /&gt;
&lt;title&gt;Hello World&lt;/title&gt;
&lt;script src="https://unpkg.com/react@16/umd/react.development.js"&gt;&lt;/script&gt;
&lt;script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"&gt;&lt;/script&gt;
&lt;script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"&gt;&lt;/script&gt;
&lt;style type="text/css"&gt;
.FancyBorder {
  padding: 10px 10px;
  border: 10px solid;
}

.FancyBorder-blue {
  border-color: blue;
}

.Dialog-title {
  margin: 0;
  font-family: sans-serif;
}

.Dialog-message {
  font-size: larger;
}
&lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div id="root"&gt;&lt;/div&gt;
&lt;script type="text/babel"&gt;
function FancyBorder(props) {
  return (
    &lt;div className={'FancyBorder FancyBorder-' + props.color}&gt;
      {props.children}
    &lt;/div&gt;
  );
}

function WelcomeDialog() {
  return (
    &lt;FancyBorder color="blue"&gt;
      &lt;h1 className="Dialog-title"&gt;
        Welcome
      &lt;/h1&gt;
      &lt;p className="Dialog-message"&gt;
        Thank you for visiting our spacecraft!
      &lt;/p&gt;
    &lt;/FancyBorder&gt;
  );
}

ReactDOM.render(
  &lt;WelcomeDialog /&gt;,
  document.getElementById('root')
);
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre><p>14.组合（多个占位符）</p><pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset="UTF-8" /&gt;
&lt;title&gt;Hello World&lt;/title&gt;
&lt;script src="https://unpkg.com/react@16/umd/react.development.js"&gt;&lt;/script&gt;
&lt;script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"&gt;&lt;/script&gt;
&lt;script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"&gt;&lt;/script&gt;
&lt;style type="text/css"&gt;
html, body, #root {
  width: 100%;
  height: 100%;
}

.SplitPane {
  width: 100%;
  height: 100%;
}

.SplitPane-left {
  float: left;
  width: 30%;
  height: 100%;
}

.SplitPane-right {
  float: left;
  width: 70%;
  height: 100%;
}

.Contacts {
  width: 100%;
  height: 100%; 
  background: lightblue;
}

.Chat {
  width: 100%;
  height: 100%; 
  background: pink;
}

&lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div id="root"&gt;&lt;/div&gt;
&lt;script type="text/babel"&gt;
function Contacts() {
  return &lt;div className="Contacts" /&gt;;
}

function Chat() {
  return &lt;div className="Chat" /&gt;;
}

function SplitPane(props) {
  return (
    &lt;div className="SplitPane"&gt;
      &lt;div className="SplitPane-left"&gt;
        {props.left}
      &lt;/div&gt;
      &lt;div className="SplitPane-right"&gt;
        {props.right}
      &lt;/div&gt;
    &lt;/div&gt;
  );
}

function App() {
  return (
    &lt;SplitPane
      left={
        &lt;Contacts /&gt;
      }
      right={
        &lt;Chat /&gt;
      } /&gt;
  );
}

ReactDOM.render(
  &lt;App /&gt;,
  document.getElementById('root')
);

&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre><br><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p>            ]]></description></item><item><title>js单例模式</title><link>http://www.cnblogs.com/xutongbao/archive/2018/05/11/9924862.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Fri, 11 May 2018 03:43:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/05/11/9924862.html</guid><description><![CDATA[
                <pre><code class="language-javascript">&lt;!DOCTYPE html&gt;  
&lt;html&gt;  
&lt;head&gt;  
    &lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;  
&lt;/head&gt;  
&lt;body&gt;   
&lt;script&gt;  
    var Single = (function () {
        var instance = null;
        var defaultData = {age: 25};
        SingleInstance.prototype._init = function (ops) {
            for (var a in defaultData) {
                this[a] = defaultData[a];
            }
            for (var b in ops) {
                this[b] = ops[b];
            }
        };
        function SingleInstance(args) {
            if (this instanceof SingleInstance) {
                if (instance == null) {
                    instance = this;
                }
                instance._init(args);
                return instance;
            }else {
                if(instance==null){
                    instance=new SingleInstance;
                }
    　　　　　　　 instance._init(args);
                return instance;
            }
        }
        return SingleInstance;
    })();

    var i1 = new Single({name: "xu"});
    var i2 = new Single({name: "tong"});
    var i3 = Single({name: "bao"});
    console.log(i1 === i2);  //true
    console.log(i1 === i3);  //true
    console.log(i1.name);    //bao
    console.log(i1.age);     //25
&lt;/script&gt;  
&lt;/body&gt;  
&lt;/html&gt;  </code></pre><br>            ]]></description></item><item><title>js判断是pc还是手机</title><link>http://www.cnblogs.com/xutongbao/archive/2018/05/09/9924863.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 09 May 2018 08:46:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/05/09/9924863.html</guid><description><![CDATA[
                <pre><code class="language-javascript">	var isPC = function() {
	    var userAgentInfo = navigator.userAgent;
	    var Agents = ["Android", "iPhone", "SymbianOS", "Windows Phone", "iPod", "iPad"];
	    var flag = true;
	    for (var i = 0; v &lt; Agents.length; i++) {
	        if (userAgentInfo.indexOf(Agents[i]) &gt; 0) {
	            flag = false;
	            break;
	        }
	    }
	    return flag;
	};</code></pre><br>            ]]></description></item><item><title>js实现xml转json和json转xml</title><link>http://www.cnblogs.com/xutongbao/archive/2018/04/12/9924864.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 12 Apr 2018 01:59:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/04/12/9924864.html</guid><description><![CDATA[
                <pre><code class="language-html">&lt;!DOCTYPE html&gt;      
&lt;html lang="en"&gt;      
&lt;head&gt;      
    &lt;meta charset="UTF-8"&gt;      
    &lt;title&gt;js实现xml转json和json转xml&lt;/title&gt;    
    &lt;style type="text/css"&gt;    
        html,body{width:100%;height:100%;margin:0;}     
    &lt;/style&gt;    
&lt;/head&gt;      
&lt;body&gt;     
&lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;    
&lt;script type="text/javascript" src="http://www.jsons.cn/Down/jquery.json2xml.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript" src="http://www.jsons.cn/Down/jquery.xml2json.js"&gt;&lt;/script&gt;

&lt;script type="text/javascript"&gt; 

//参考链接：http://www.jsons.cn/articleinfo/8/

var json = {
  "alexa": {
    "@attributes": {
      "ver": "0.9",
      "url": "http://coursesweb.net/",
      "home": "0",
      "aid": "="
    },
    "#text": "",
    "sd": [
      {
        "@attributes": {
          "title": "a",
          "host": "coursesweb.net"
        },
        "#text": "",
        "title": {
          "#text": "CoursesWeb: php, mysql, html, css, javascript, ajax, jquery, actionscript, flash"
        },
        "linksin": {
          "@attributes": {
            "num": "1102"
          }
        },
        "speed": {
          "@attributes": {
            "pct": "51"
          },
          "#text": "4578"
        }
      },
      {
        "#text": "",
        "popularity": {
          "#text": "5777"
        },
        "reach": {
          "@attributes": {
            "rank": "5952"
          }
        },
        "rank": {
          "@attributes": {
            "url": "http://coursesweb.net/"
          },
          "#text": "6667"
        }
      }
    ]
  }
};

var xml_content = $.json2xml(json);
console.log(xml_content);

var xmlstr = `&lt;alexa ver="0.9" url="http://coursesweb.net/" home="0" aid="="&gt;  
  &lt;sd title="a" host="coursesweb.net"&gt;  
    &lt;title&gt;CoursesWeb: php, mysql, html, css, javascript, ajax, jquery, actionscript, flash&lt;/title&gt;  
    &lt;linksin num="1102"/&gt;  
    &lt;speed pct="51"&gt;4578&lt;/speed&gt;  
  &lt;/sd&gt;  
  &lt;sd&gt;  
    &lt;popularity&gt;5777&lt;/popularity&gt;  
    &lt;reach rank="5952"/&gt;  
    &lt;rank url="http://coursesweb.net/"&gt;6667&lt;/rank&gt;  
  &lt;/sd&gt;  
&lt;/alexa&gt;`; 

var json_obj = $.xml2json(xmlstr);
console.log(json_obj);

&lt;/script&gt;        
&lt;/body&gt;      
&lt;/html&gt;</code></pre><p><br></p><p><br></p><p><img src="https://img-blog.csdn.net/20180412095828501" alt=""><br></p>            ]]></description></item><item><title>js实现xml转json</title><link>http://www.cnblogs.com/xutongbao/archive/2018/04/11/9924865.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 11 Apr 2018 09:04:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/04/11/9924865.html</guid><description><![CDATA[
                <pre><code class="language-javascript">&lt;!DOCTYPE html&gt;          
&lt;html lang="en"&gt;          
&lt;head&gt;          
    &lt;meta charset="UTF-8"&gt;          
    &lt;title&gt;js实现xml转json&lt;/title&gt;        
    &lt;style type="text/css"&gt;        
        html,body{width:100%;height:100%;margin:0;}         
    &lt;/style&gt;        
&lt;/head&gt;          
&lt;body&gt;         
&lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;        
&lt;script type="text/javascript"&gt;    
// Converts XML to JSON    
// from: http://coursesweb.net/javascript/convert-xml-json-javascript_s2    
function XMLtoJSON() {    
  var me = this;      // stores the object instantce    
    
  // gets the content of an xml file and returns it in     
  me.fromFile = function(xml, rstr) {    
    // Cretes a instantce of XMLHttpRequest object    
    var xhttp = (window.XMLHttpRequest) ? new XMLHttpRequest() : new ActiveXObject("Microsoft.XMLHTTP");    
    // sets and sends the request for calling "xml"    
    xhttp.open("GET", xml ,false);    
    xhttp.send(null);    
    
    // gets the JSON string    
    var json_str = jsontoStr(setJsonObj(xhttp.responseXML));    
    
    // sets and returns the JSON object, if "rstr" undefined (not passed), else, returns JSON string    
    return (typeof(rstr) == 'undefined') ? JSON.parse(json_str) : json_str;    
  }    
    
  // returns XML DOM from string with xml content    
  me.fromStr = function(xml, rstr) {    
    // for non IE browsers    
    if(window.DOMParser) {    
      var getxml = new DOMParser();    
      var xmlDoc = getxml.parseFromString(xml,"text/xml");    
    }    
    else {    
      // for Internet Explorer    
      var xmlDoc = new ActiveXObject("Microsoft.XMLDOM");    
      xmlDoc.async = "false";    
    }    
    
    // gets the JSON string    
    var json_str = jsontoStr(setJsonObj(xmlDoc));    
    
    // sets and returns the JSON object, if "rstr" undefined (not passed), else, returns JSON string    
    return (typeof(rstr) == 'undefined') ? JSON.parse(json_str) : json_str;    
  }    
    
  // receives XML DOM object, returns converted JSON object    
  var setJsonObj = function(xml) {    
    var js_obj = {};    
    if (xml.nodeType == 1) {    
      if (xml.attributes.length &gt; 0) {    
        js_obj["@attributes"] = {};    
        for (var j = 0; j &lt; xml.attributes.length; j++) {    
          var attribute = xml.attributes.item(j);    
          js_obj["@attributes"][attribute.nodeName] = attribute.value;    
        }    
      }    
    } else if (xml.nodeType == 3) {    
      js_obj = xml.nodeValue;    
    }                
    if (xml.hasChildNodes()) {    
      for (var i = 0; i &lt; xml.childNodes.length; i++) {    
        var item = xml.childNodes.item(i);    
        var nodeName = item.nodeName;    
        if (typeof(js_obj[nodeName]) == "undefined") {    
          js_obj[nodeName] = setJsonObj(item);    
        } else {    
          if (typeof(js_obj[nodeName].push) == "undefined") {    
            var old = js_obj[nodeName];    
            js_obj[nodeName] = [];    
            js_obj[nodeName].push(old);    
          }    
          js_obj[nodeName].push(setJsonObj(item));    
        }    
      }    
    }    
    return js_obj;    
  }    
    
  // converts JSON object to string (human readablle).    
  // Removes '\t\r\n', rows with multiples '""', multiple empty rows, '  "",', and "  ",; replace empty [] with ""    
&nbsp; var jsontoStr = function(js_obj) {
&nbsp;&nbsp;&nbsp; var rejsn = JSON.stringify(js_obj, undefined, 2).
&nbsp;&nbsp;&nbsp; replace(/(\\t|\\r|\\n)/g, '').replace(/"",[\n\t\r\s]+""[,]*/g, '').
&nbsp;&nbsp;&nbsp; replace(/(\n[\t\s\r]*\n)/g, '').replace(/[\s\t]{2,}""[,]{0,1}/g, '').
&nbsp;&nbsp;&nbsp; replace(/"[\s\t]{1,}"[,]{0,1}/g, '');
&nbsp;&nbsp;&nbsp; return (rejsn.indexOf('"parsererror": {') == -1) ? rejsn : 'Invalid XML format';
&nbsp; }&nbsp; 

  
};    
    
// creates object instantce of XMLtoJSON    
var xml2json = new XMLtoJSON();    
&lt;/script&gt;    
    
&lt;script type="text/javascript"&gt;      
    
var xmlstr = `&lt;alexa ver="0.9" url="http://coursesweb.net/" home="0" aid="="&gt;    
  &lt;sd title="a" host="coursesweb.net"&gt;    
    &lt;title&gt;CoursesWeb: php, mysql, html, css, javascript, ajax, jquery, actionscript, flash&lt;/title&gt;    
    &lt;linksin num="1102"/&gt;    
    &lt;speed pct="51"&gt;4578&lt;/speed&gt;    
  &lt;/sd&gt;    
  &lt;sd&gt;    
    &lt;popularity&gt;5777&lt;/popularity&gt;    
    &lt;reach rank="5952"/&gt;    
    &lt;rank url="http://coursesweb.net/"&gt;6667&lt;/rank&gt;    
  &lt;/sd&gt;    
&lt;/alexa&gt;`;    
    
// gets JSON object from a string with xml content    
var objson = xml2json.fromStr(xmlstr);    
console.log(objson);    
    
// gets JSON string from a string with xml content    
var strjson = xml2json.fromStr(xmlstr, 'string');    
console.log(strjson);    
&lt;/script&gt;            
&lt;/body&gt;          
&lt;/html&gt;</code></pre><br><br><p><br></p><p><br></p><p><img src="https://img-blog.csdn.net/20180411170336204" alt=""><br></p>            ]]></description></item><item><title>margin重叠的解决办法</title><link>http://www.cnblogs.com/xutongbao/archive/2018/04/10/9924866.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 10 Apr 2018 08:14:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/04/10/9924866.html</guid><description><![CDATA[
                <pre><code class="language-html">&lt;!DOCTYPE html&gt;      
&lt;html lang="en"&gt;      
&lt;head&gt;      
    &lt;meta charset="UTF-8"&gt;      
    &lt;title&gt;margin重叠的解决办法&lt;/title&gt;    
    &lt;style type="text/css"&gt;    
        html,body{width:100%;height:100%;margin:0;}     
        .m-test1 {margin: 0 0 10px; background: green;height: 50px;opacity: 0.6;}
        .m-test2 {margin: 10px 0 0; background: red;height: 50px;opacity: 0.6;}    
        .m-method1 {display: inline-block;width: 100%;}     
        .m-method2 {margin: 0;padding: 0 0 10px;}  

        .m-test3{margin: 10px 0 0;background: green;opacity: 0.6;}  
        .m-test4 {margin: 10px 0 0; background: red;height: 50px;opacity: 0.6;} 
    &lt;/style&gt;    
&lt;/head&gt;      
&lt;body&gt;    
两个垂直相邻的块级元素，当上下两个边距相遇时，其外边距会产生重叠现象，且重叠后的外边距，等于其中较大者：
&lt;div class="m-test1"&gt;&lt;/div&gt;
&lt;div class="m-test2"&gt;&lt;/div&gt;
方式一：
&lt;div class="m-test1 m-method1"&gt;&lt;/div&gt;
&lt;div class="m-test2"&gt;&lt;/div&gt;
方式二：
&lt;div class="m-test1 m-method2"&gt;&lt;/div&gt;
&lt;div class="m-test2"&gt;&lt;/div&gt; 

父子元素margin-top重叠：
&lt;div class="m-test3"&gt;
    &lt;div class="m-test4"&gt;&lt;/div&gt;
&lt;/div&gt;  
方法一： 
&lt;div class="m-test3" style="overflow:hidden;"&gt;
    &lt;div class="m-test4"&gt;&lt;/div&gt;
&lt;/div&gt;  
方法二： 
&lt;div class="m-test3" style="border-top:1px solid transparent;"&gt;
    &lt;div class="m-test4"&gt;&lt;/div&gt;
&lt;/div&gt;  
方法三： 
&lt;div class="m-test3" style="padding:1px 0 0;"&gt;
    &lt;div class="m-test4"&gt;&lt;/div&gt;
&lt;/div&gt; 
&lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;    
&lt;script type="text/javascript"&gt;  
&lt;/script&gt;        
&lt;/body&gt;      
&lt;/html&gt;</code></pre><br><p><br></p><p><br></p><p><br></p><p><img src="https://img-blog.csdn.net/20180410161410629" alt=""><br></p><p><br></p>            ]]></description></item><item><title>去除移动端按钮点击时的阴影和rem标签垂直居中</title><link>http://www.cnblogs.com/xutongbao/archive/2018/04/09/9924867.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Mon, 09 Apr 2018 03:55:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/04/09/9924867.html</guid><description><![CDATA[
                <pre><code class="language-css">*{ -webkit-tap-highlight-color: rgba(0,0,0,0);-webkit-tap-highlight-color: transparent; /* For some Androids */ }  </code></pre><p><br></p><p>使用rem设置height和line-height相同时文字没有居中？<br></p><p>pc上模拟器模拟出来的是垂直居中的没错，但是在实际手机中，苹果手机渲染出来是垂直居中的，安卓手机渲染出来就是会偏上一些，兼容的方法就是不要设置height，line-height设置为1，用padding值上下相等来保持垂直居中。<br></p><pre><code class="language-css">.m-label{display: inline-block;margin: 0.09rem 0.07rem; padding: 0.155rem 0.23rem;line-height: 1px; font-size: 0.14rem;letter-spacing: 0;border-radius: 0.16rem;text-align: center;}</code></pre><br><p><img src="https://img-blog.csdn.net/20180409120238224" alt=""><br></p><p><br></p>            ]]></description></item><item><title>关于fiddler https 客户端 抓包配置</title><link>http://www.cnblogs.com/xutongbao/archive/2018/04/09/9924868.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Mon, 09 Apr 2018 01:41:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/04/09/9924868.html</guid><description><![CDATA[
                <h2 style="text-align:left;">设置fiddler抓包</h2><p style="text-align:left;">File—–&gt;勾选capture traffic</p><h2 style="text-align:left;">设置抓https和解密https</h2><p style="text-align:left;">Tools—–&gt;fiddler options—–&gt;https—–&gt;capture https traffic—-&gt;decrypt https traffic—&gt;Ignore server certificate errors</p><p style="text-align:left;">由于我们只抓手机的，所以这里选择 from remote clients only</p><p style="text-align:left;">根据自己的需求设置抓包类型，from all progresses&nbsp;，是全部抓取</p><p style="text-align:left;"><br></p><p><img src="https://img-blog.csdn.net/20180409093414935" alt=""></p><p></p><p style="text-align:left;"><span style="color:#3f3f3f;">connections—–&gt;allow remote computers to connect&nbsp;</span><br style="text-align:left;"><span style="color:#3f3f3f;">由于是手机连接代理，所以勾选allow remote computers to connect <br></span></p><img src="https://img-blog.csdn.net/20180409093457841" alt=""><br><p></p><h2 style="text-align:left;color:rgb(63,63,63);text-transform:none;text-indent:0px;letter-spacing:normal;word-spacing:0px;background-color:rgb(255,255,255);">给fiddler安装certmaker插件</h2><p><br></p><p><span style="color:#3f3f3f;">由于默认的证书不符合</span><a class="external-link" href="http://lib.csdn.net/base/15" rel="nofollow" style="text-align:left;text-decoration:none;" title="undefined">Android</a><span style="color:#3f3f3f;">和ios的证书要求，所以，需要下载</span><a class="external-link" href="http://www.telerik.com/fiddler/add-ons" rel="nofollow" style="text-align:left;text-decoration:none;">certmaker</a><span style="color:#3f3f3f;">插件，双击安装后，重启fiddler。</span><strong style="text-align:left;">注意这一步很重要，必须使用certmaker插件，不要使用默认的证书生成器，否则抓不到包。</strong></p><p>certmaker插件下载地址：<a href="https://pan.baidu.com/s/1zmDts7LXUYwyYoML3P0AjA" rel="nofollow">https://pan.baidu.com/s/1zmDts7LXUYwyYoML3P0AjA</a><br></p><p><br></p><h2 style="text-align:left;">设置手机代理</h2><h3 style="text-align:left;">手机与pc在同一个网段</h3><p style="text-align:left;">首先保证手机与pc在同一个局域网中&nbsp;</p><p style="text-align:left;">pc ip 地址 :172.16.66.43</p><p style="text-align:left;">手机代理服务器设置为手动，服务器填为pc ip地址，端口一般为8888(和filder 那里设置一致)</p><p style="text-align:left;"><br></p><h3 style="text-align:left;">手机安装根证书</h3><p style="text-align:left;">在手机浏览器中，输入<a class="external-link" href="http://192.168.1.106:8888/" rel="nofollow" style="text-decoration:none;">http://172.16.66.43:8888</a>, 点击最下边的<strong>FiddlerRoot certificate</strong>，确定安装。</p><img src="https://img-blog.csdn.net/20180409093602284" alt=""><br><p></p><p><br></p><p>Android&nbsp; 更加手机提醒设置.。</p><p>Ios根据提示安装描述文件。并在打开ios手机的通用-&gt;关于本机-&gt;证书信任设置-&gt;打开NO_NOT_TRUST_FiddlerRoot菜单，打开对应的选项。</p><p>安装证书时会回提示给手机加密码，密码密码暂时同时设置为4位(1234)，6位(123456)</p><p>成功抓包后密码就可以去掉了。</p><br><p><br></p><p><img src="https://img-blog.csdn.net/20180409094214794" alt=""><br></p>            ]]></description></item><item><title>javascript高级算法题</title><link>http://www.cnblogs.com/xutongbao/archive/2018/04/08/9924869.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Sun, 08 Apr 2018 06:01:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/04/08/9924869.html</guid><description><![CDATA[
                <pre><code class="language-html">    &lt;!DOCTYPE html&gt;      
    &lt;html lang="en"&gt;      
    &lt;head&gt;      
        &lt;meta charset="UTF-8"&gt;      
        &lt;title&gt;javascript高级算法题&lt;/title&gt;    
        &lt;style type="text/css"&gt;    
            html,body{width:100%;height:100%;margin:0;}     
        &lt;/style&gt;    
    &lt;/head&gt;      
    &lt;body&gt;    
    &lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;    
    &lt;script type="text/javascript"&gt;  
    //原数据
    var labelArray = [];
  

    //算法：页面上有若干个标签，每个标签对应若干个游戏，每个游戏可以存在于多个标签下面，
    //根据用户选择的标签，筛选出6个游戏，如果一个游戏在用户选择的标签下面同时存在，则权重比较大，
    //第一次筛选，要求用户选择的每个标签下面筛选出1个游戏，且这个游戏权重必须最大，如果并列最大，则随机抽1个，
    //第一次筛选出来的游戏个数如果小于6，即用户选择的标签个数小于6，则从剩下的游戏中随机抽几个，凑够6个。
    var selectGame = function (selectLabelArray) {
        var tempArray = [];
        for (var i = 0; i &lt; selectLabelArray.length; i++) {
            var oldObject = labelArray[selectLabelArray[i]];
            var newObject = $.extend(true, {}, oldObject);
            for (var j = 0; j &lt; newObject.game.length; j++) {
                newObject.game[j].weight = 0;   
            }
            tempArray.push(newObject);
        }
        for (var i = 0; i &lt; tempArray.length; i++) {
            for (var j = 0; j &lt; tempArray[i].game.length; j++) {
                for (var k = 0; k &lt; tempArray.length; k++) {
                    for (var z = 0; z &lt; tempArray[k].game.length; z++) {
                        if (tempArray[i].game[j].gindex === tempArray[k].game[z].gindex) {
                            tempArray[i].game[j].weight++;
                        }
                    }

                }
            }
        }
        for (var i = 0; i &lt; tempArray.length; i++) {
            tempArray[i].maxWeight = tempArray[i].game[0].weight;
            for (var j = 0; j &lt; tempArray[i].game.length; j++) {
                if (tempArray[i].maxWeight &lt; tempArray[i].game[j].weight) {
                    tempArray[i].maxWeight = tempArray[i].game[j].weight;
                }
            }
        }
        var firstSelect = [];
        var secondSelect = [];
        for (var i = 0; i &lt; tempArray.length; i++) {
            var tempMaxWeight = [];
            for (var j = 0; j &lt; tempArray[i].game.length; j++) {
                if (tempArray[i].maxWeight === tempArray[i].game[j].weight) {
                    tempMaxWeight.push(tempArray[i].game[j]);
                }
            }
            for (var j = 0; j &lt; firstSelect.length; j++) {
                for (var k = 0; k &lt; tempMaxWeight.length; k++) {
                    if (tempMaxWeight[k].gindex === firstSelect[j].gindex) {
                        tempMaxWeight.splice(k, 1);
                        k--;
                    }               
                }
            }
            if (tempMaxWeight.length &gt; 0) {
                var randomNum = Math.random() * tempMaxWeight.length;  
                randomNum = parseInt(randomNum, 10); 
                firstSelect.push(tempMaxWeight[randomNum]);
            }
        }
        console.log(firstSelect);
        var tempOther = [];
        for (var i = 0; i &lt; tempArray.length; i++) {
            tempOther = tempOther.concat(tempArray[i].game);
        }
        var uniqueOther = [tempOther[0]];        
        for(var i = 0; i &lt; tempOther.length; i++){   
            var repeat = false;   
            for (var j = 0; j &lt; uniqueOther.length; j++) {
                if(uniqueOther[j].gindex === tempOther[i].gindex){        
                    repeat = true;        
                    break;       
                }    
            }  
            if(!repeat){        
                uniqueOther.push(tempOther[i]);        
            }                     
        }     
        for (var j = 0; j &lt; firstSelect.length; j++) {
            for (var k = 0; k &lt; uniqueOther.length; k++) {
                if (uniqueOther[k].gindex === firstSelect[j].gindex) {
                    uniqueOther.splice(k, 1);
                    k--;
                }            
            }
        }        
        for (var i = firstSelect.length; i &lt; 6; i++) {
            var randomNum = Math.random() * uniqueOther.length;  
            randomNum = parseInt(randomNum, 10); 
            secondSelect.push(uniqueOther[randomNum]); 
            uniqueOther.splice(randomNum, 1); 
        } 
        console.log(secondSelect);   
        var result = firstSelect.concat(secondSelect);
        for (var i = 0; i &lt; result.length; i++) {
            console.log(result[i].gname);
        }  
        return result;
    };

    labelArray =
    [
        {
            "type": 0,
            "label": "古风",
            "sex": "女性向",
            "game": [
                {
                    "gindex": 484531,
                    "gname": "白发年",
                    "gname_fake": "古风,恋爱,穿越,虐心催泪,王权朝堂_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/b495df75fbceab93901e0c85b914d508_830.jpg!n900"
                },
                {
                    "gindex": 492982,
                    "gname": "百鬼楼之锦衣",
                    "gname_fake": "古风,恋爱,玄幻,虐心催泪_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/c2844c7404cac18ac7741aca945df1a5_508.jpg!n900"
                },
                {
                    "gindex": 1056111,
                    "gname": "本宫一日不死，尔等终究是妃",
                    "gname_fake": "古风,搞笑,宫斗_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/425eec951da562d4788a2d32c7925e29_82.jpg!n900"
                },
                {
                    "gindex": 555413,
                    "gname": "碧海夜心",
                    "gname_fake": "古风,恋爱,玄幻,虐心催泪_1",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/200492d5bbfdc0100c9f72ce46f711cc_337.jpg!n900"
                },
                {
                    "gindex": 982061,
                    "gname": "沧海仙途",
                    "gname_fake": "古风,养成,逆袭,男性向_0",
                    "sex": "男性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/dbe782809c6edaa9cd68ad9454cdcd6e_134.jpg!n900"
                },
                {
                    "gindex": 513159,
                    "gname": "沧浪烟云",
                    "gname_fake": "古风,玄幻,虐心催泪_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/37bc1757dab27b7deee91a5697e08eb6_292.jpg!n900"
                },
                {
                    "gindex": 911657,
                    "gname": "朝中美人",
                    "gname_fake": "古风,逆袭,王权朝堂,紧张烧脑_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/84dca583c4f0d6b67442f583b72aed61_445.jpg!n900"
                },
                {
                    "gindex": 218573,
                    "gname": "宠妃进化法则",
                    "gname_fake": "古风,恋爱,宫斗_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/94343c49428a90d1321dbaae8b67a19d_302.jpg!n900"
                },
                {
                    "gindex": 512700,
                    "gname": "初年传",
                    "gname_fake": "古风,养成,宫斗_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/cacb68cffda188fe1b9543fdf046dc42_513.jpg!n900"
                },
                {
                    "gindex": 271305,
                    "gname": "帝皇",
                    "gname_fake": "古风,恋爱,男性向,宫斗,王权朝堂_0",
                    "sex": "男性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/a1fda83fb58560da06e6424c69f42732_189.jpg!n900"
                },
                {
                    "gindex": 916045,
                    "gname": "反派打脸十八式",
                    "gname_fake": "古风,穿越,甜蜜苏爽,养成,耽美_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/6c2dd006a1672616fc2901ffcc50b74c_355.jpg!n900"
                },
                {
                    "gindex": 325369,
                    "gname": "妃容天下",
                    "gname_fake": "古风,恋爱,养成,玄幻,虐心催泪,宫斗_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/23d2f9060a8d01d41c50b1e5c1ec34cb_719.jpg!n900"
                },
                {
                    "gindex": 194818,
                    "gname": "官居几品",
                    "gname_fake": "古风,养成,男性向_0",
                    "sex": "男性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/c1054ffe06f0cbc0fa1278630d149a0b_422.jpg!n900"
                },
                {
                    "gindex": 771564,
                    "gname": "官居几品之云家天下",
                    "gname_fake": "古风,逆袭,王权朝堂_0",
                    "sex": "男性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/a8b3887d5f7b24f98aeaacb9d6222438_120.jpg!n900"
                },
                {
                    "gindex": 452823,
                    "gname": "国贼顾挽之",
                    "gname_fake": "古风,虐心催泪_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/223c3b1251aef3b44bee042ea04221ef_812.jpg!n900"
                },
                {
                    "gindex": 83480,
                    "gname": "好 色千金 一亲君泽",
                    "gname_fake": "古风,恋爱,穿越,甜蜜苏爽,乙女_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/0cf3fb51476c822337c9b3de41eb45e8_1285.jpg!n900"
                },
                {
                    "gindex": 472718,
                    "gname": "何处不桃花",
                    "gname_fake": "古风,穿越,养成_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/1d706113948d8a553432fdee4d2bb028_400.jpg!n900"
                },
                {
                    "gindex": 781795,
                    "gname": "黑化徒弟养成攻略",
                    "gname_fake": "古风,穿越,耽美_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/82a93ca9edc73276f9bdbc44f68c5c32_563.jpg!n900"
                },
                {
                    "gindex": 108237,
                    "gname": "后宫三千人",
                    "gname_fake": "古风,宫斗,紧张烧脑_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/upload/201508/3400320_d2ce8628c16f3067f64b49cb6837a1db.jpg!n900"
                },
                {
                    "gindex": 495223,
                    "gname": "狐妖之凤唳九霄",
                    "gname_fake": "古风,恋爱,养成,玄幻,虐心催泪,宫斗_1",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/0ef1daee7954e414b693e2276d5ef428_588.jpg!n900"
                },
                {
                    "gindex": 1030105,
                    "gname": "皇上请稳住",
                    "gname_fake": "古风,穿越,搞笑,男性向,王权朝堂_0",
                    "sex": "男性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/cfd3fd955dfe90bd9b3b5c1f6ac1b996_353.jpg!n900"
                },
                {
                    "gindex": 523418,
                    "gname": "黄龙",
                    "gname_fake": "古风,王权朝堂,紧张烧脑_0",
                    "sex": "男性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/4632efad9b7a8f2126a0d2fe354420f8_597.jpg!n900"
                },
                {
                    "gindex": 467225,
                    "gname": "祸世",
                    "gname_fake": "古风,恋爱,穿越,玄幻_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/bb94906aa7bed6ae03943c1e86cbc4a1_840.jpg!n900"
                },
                {
                    "gindex": 257307,
                    "gname": "江湖一锅粥",
                    "gname_fake": "古风,恋爱,穿越,搞笑_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/bf2008a32dbee363ad900779664c731e_540.jpg!n900"
                },
                {
                    "gindex": 584680,
                    "gname": "江山美人记",
                    "gname_fake": "古风,男性向,宫斗,王权朝堂_0",
                    "sex": "男性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/317134df867fccb2b67c59c2f74c468d_604.jpg!n900"
                },
                {
                    "gindex": 555462,
                    "gname": "江山无殇",
                    "gname_fake": "古风,虐心催泪,男性向,宫斗,王权朝堂_0",
                    "sex": "男性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/b158c109878f6e958d2f4c8888a3411d_1335.jpg!n900"
                },
                {
                    "gindex": 86886,
                    "gname": "进击的宫斗",
                    "gname_fake": "古风,恋爱,穿越,搞笑,宫斗_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/148bcb99347b916b0839012bb427dade_184.jpg!n900"
                },
                {
                    "gindex": 167836,
                    "gname": "君心我心",
                    "gname_fake": "古风,恋爱,穿越,虐心催泪_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/a6ef319d0f7cade16330f26a41bfa83f_823.jpg!n900"
                },
                {
                    "gindex": 727669,
                    "gname": "君心我心貳",
                    "gname_fake": "古风,穿越,紧张烧脑_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/a52386b3d66eadc3f1d5648bdf7457c8_602.jpg!n900"
                },
                {
                    "gindex": 531657,
                    "gname": "撩汉的正确方式",
                    "gname_fake": "古风,甜蜜苏爽,养成,耽美_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/476c776c2ac7be4c40fa515c81c8707f_609.jpg!n900"
                },
                {
                    "gindex": 513821,
                    "gname": "灵烟阁",
                    "gname_fake": "古风,穿越_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/4c1d839ff9a3d3305856be1edb8b9ab2_594.jpg!n900"
                },
                {
                    "gindex": 147115,
                    "gname": "妙手红妆",
                    "gname_fake": "古风,恋爱,穿越,逆袭_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/5b86f8aee6d08cc4b103d420d88a3973_697.jpg!n900"
                },
                {
                    "gindex": 520891,
                    "gname": "模拟人生",
                    "gname_fake": "古风_0",
                    "sex": "中性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/2cb83d7bbef285f8dfaa3c44d71baa00_278.jpg!n900"
                },
                {
                    "gindex": 688353,
                    "gname": "陌上尘",
                    "gname_fake": "古风,恋爱,虐心催泪_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/8d529afc4a0b86df81d6e9bfb03337b0_682.jpg!n900"
                },
                {
                    "gindex": 522363,
                    "gname": "谋取帝心",
                    "gname_fake": "古风,恋爱,甜蜜苏爽,宫斗_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/79cba13e3204696061401a054b855cae_235.jpg!n900"
                },
                {
                    "gindex": 722019,
                    "gname": "男神都有黑历史",
                    "gname_fake": "古风,恋爱,穿越,玄幻,虐心催泪_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/d35645b4054bd295f3172ff5a5d70751_478.jpg!n900"
                },
                {
                    "gindex": 542258,
                    "gname": "你是传奇",
                    "gname_fake": "古风,养成,逆袭,紧张烧脑_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/9ed8fb603f8a7f4b8b0ee84b1cf22170_1229.jpg!n900"
                },
                {
                    "gindex": 627563,
                    "gname": "女配逆袭之素衣  古言篇",
                    "gname_fake": "古风,恋爱,穿越,逆袭,虐心催泪_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/a24af08a21dc3680fda86cab95f2b3bc_132.jpg!n900"
                },
                {
                    "gindex": 722899,
                    "gname": "七品芝麻官",
                    "gname_fake": "古风,男性向,王权朝堂_0",
                    "sex": "男性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/b8facbf3cff20d6213478b4982d039f7_258.jpg!n900"
                },
                {
                    "gindex": 411825,
                    "gname": "千秋万代·国",
                    "gname_fake": "古风,养成,王权朝堂,紧张烧脑_0",
                    "sex": "男性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/8ff75bfa3448f72eb08cd398c0fd9894_857.jpg!n900"
                },
                {
                    "gindex": 256729,
                    "gname": "清魂引",
                    "gname_fake": "古风,恋爱,搞笑,玄幻_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/3a825bb384eea3b42da401afcff5d886_274.jpg!n900"
                },
                {
                    "gindex": 242585,
                    "gname": "人鱼传说之长生烛",
                    "gname_fake": "古风,恋爱,玄幻,虐心催泪_2",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/0444a7f9f02d3411ceab1a7a3465d4f4_143.jpg!n900"
                },
                {
                    "gindex": 92827,
                    "gname": "柔倾天下-上部",
                    "gname_fake": "古风,穿越_1",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/c887af0d51ddf52d5b1f3a022b461ac0_736.jpg!n900"
                },
                {
                    "gindex": 928828,
                    "gname": "如何征服心机喵",
                    "gname_fake": "古风,恋爱,甜蜜苏爽,搞笑,养成,逆袭_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/4d3641e921a65fa900c92c11d9869462_402.jpg!n900"
                },
                {
                    "gindex": 884262,
                    "gname": "三国霸业",
                    "gname_fake": "古风,男性向,王权朝堂_1",
                    "sex": "男性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/90129dfab39738813f4cc1555649ea6c_189.jpg!n900"
                },
                {
                    "gindex": 404891,
                    "gname": "韶时尽",
                    "gname_fake": "古风,恋爱,穿越,玄幻,虐心催泪_1",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/45bbcb902fcf4b07bddaf988883dcc52_1132.jpg!n900"
                },
                {
                    "gindex": 549098,
                    "gname": "深宫未归人",
                    "gname_fake": "古风,虐心催泪,宫斗_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/7668b427d3f82f949c6e5603695f6726_250.jpg!n900"
                },
                {
                    "gindex": 379533,
                    "gname": "盛世天下之媚娘篇",
                    "gname_fake": "古风,恋爱,宫斗,王权朝堂,紧张烧脑_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/12c25005d740058682d290fbe2baa090_266.jpg!n900"
                },
                {
                    "gindex": 768025,
                    "gname": "盛世天下之女帝篇",
                    "gname_fake": "古风,宫斗,王权朝堂,紧张烧脑_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/b0b6d835e2afd542320bfe3498b7f419_122.jpg!n900"
                },
                {
                    "gindex": 563575,
                    "gname": "帅哥我来也",
                    "gname_fake": "古风,恋爱,穿越,搞笑_1",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/cf7f37a3252968e84b1028d3204356b3_445.jpg!n900"
                },
                {
                    "gindex": 51944,
                    "gname": "偷心冷医仙",
                    "gname_fake": "古风,恋爱,养成_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/28c8bfff5af5091d895c6d0ee4fdacef_513.jpg!n900"
                },
                {
                    "gindex": 788182,
                    "gname": "绾思结",
                    "gname_fake": "古风,恋爱,甜蜜苏爽,搞笑,玄幻_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/0c2f05565423e3917ccceed394841681_959.jpg!n900"
                },
                {
                    "gindex": 1034440,
                    "gname": "尉迟恭是什么鬼：网聊篇Ⅰ",
                    "gname_fake": "古风,搞笑,耽美_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/a22642095e69d3ed1185beb43f624a0a_48.jpg!n900"
                },
                {
                    "gindex": 321028,
                    "gname": "问缘",
                    "gname_fake": "古风,恋爱,虐心催泪_1",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/51e3c87610490e73e6bc44647a266a4f_794.jpg!n900"
                },
                {
                    "gindex": 932991,
                    "gname": "我被男神捅死了",
                    "gname_fake": "古风,恋爱,搞笑,逆袭,虐心催泪_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/6c7463c24add6f8d37f654cbf288dec8_286.jpg!n900"
                },
                {
                    "gindex": 956471,
                    "gname": "我的血族大人",
                    "gname_fake": "古风,恋爱,穿越,甜蜜苏爽,玄幻_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/c2c9f3ece30aa0163217f928f1cf0a4e_359.jpg!n900"
                },
                {
                    "gindex": 523383,
                    "gname": "我的养父是杀手",
                    "gname_fake": "古风,恋爱,穿越,甜蜜苏爽,搞笑,玄幻_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/00ca63824b87c0636101e0a5ae6d467a_135.jpg!n900"
                },
                {
                    "gindex": 875192,
                    "gname": "我是陆锦溪",
                    "gname_fake": "古风,恋爱,穿越,搞笑,玄幻_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/00d237c4609be4c3810bd4ec9a306999_288.jpg!n900"
                },
                {
                    "gindex": 1030173,
                    "gname": "我做夫人那些年",
                    "gname_fake": "古风,养成,虐心催泪_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/7ed6d12fb4028de04d0425170fc0acf0_159.jpg!n900"
                },
                {
                    "gindex": 829584,
                    "gname": "西游姬",
                    "gname_fake": "古风,恋爱,穿越,搞笑,玄幻,虐心催泪_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/20ed6995145fe81e85a51f04d29aa26c_513.jpg!n900"
                },
                {
                    "gindex": 51280,
                    "gname": "仙狐缘",
                    "gname_fake": "古风,恋爱,穿越,玄幻_1",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/upload/201801/29424590_1db2d110dc95f72983dc57bddf8b547d.jpg!n900"
                },
                {
                    "gindex": 155748,
                    "gname": "仙泣",
                    "gname_fake": "古风,恋爱,穿越,玄幻_2",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/16254b868e08b047dafd4e2bdc70c9f9_633.jpg!n900"
                },
                {
                    "gindex": 778437,
                    "gname": "仙者食为道",
                    "gname_fake": "古风,养成,逆袭,男性向_1",
                    "sex": "男性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/7e87d2f6eb1757e0fe6e4fd2479ba9da_247.jpg!n900"
                },
                {
                    "gindex": 909514,
                    "gname": "妖孽七夫君",
                    "gname_fake": "古风,穿越,甜蜜苏爽,搞笑,养成_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/55f4fe1f2c30e76c1c431d3fbb04a4e0_432.jpg!n900"
                },
                {
                    "gindex": 878284,
                    "gname": "一入仙途",
                    "gname_fake": "古风,恋爱,玄幻,耽美_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/633c0e709007ef8eeb407ada53fc7a9e_313.jpg!n900"
                },
                {
                    "gindex": 390475,
                    "gname": "引歌一梦",
                    "gname_fake": "古风,恋爱,玄幻_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/5aabdb77efafdd758509d127f95bf1e7_466.jpg!n900"
                },
                {
                    "gindex": 387133,
                    "gname": "与君长生上部",
                    "gname_fake": "古风,恋爱,玄幻_1",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/eda6370c91d5d1449e4bd2f78f8402fd_543.jpg!n900"
                },
                {
                    "gindex": 220105,
                    "gname": "遇龙",
                    "gname_fake": "古风,恋爱,玄幻,虐心催泪_3",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/d3de4a826cb2b2dcfebef2f333c0a4a5_40.jpg!n900"
                },
                {
                    "gindex": 256888,
                    "gname": "月出处天子",
                    "gname_fake": "古风,穿越,养成,虐心催泪,王权朝堂,耽美_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/41a3e6f373344f570a3a643c0084be9e_1380.jpg!n900"
                },
                {
                    "gindex": 643298,
                    "gname": "宅迷情深",
                    "gname_fake": "古风,虐心催泪,乙女_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/6156f56f627a4cc46dd8eaa6717f8532_391.jpg!n900"
                },
                {
                    "gindex": 853443,
                    "gname": "朕的后宫，朕来管",
                    "gname_fake": "古风,宫斗_0",
                    "sex": "男性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/1cbe99d84df870742601d8e8e98a4e78_86.jpg!n900"
                },
                {
                    "gindex": 614717,
                    "gname": "朕太帅了怎么办",
                    "gname_fake": "古风,搞笑_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/aa7e8491174344b4bd5e2f6959eb1c40_427.jpg!n900"
                },
                {
                    "gindex": 33522,
                    "gname": "醉乡：酿雪成蝶",
                    "gname_fake": "古风,玄幻_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/ad62d2d9249c4d5aa8428466b056b55d_2310.jpg!n900"
                }
            ]
        },
        {
            "type": 1,
            "label": "恋爱",
            "sex": "女性向",
            "game": [
                {
                    "gindex": 484531,
                    "gname": "白发年",
                    "gname_fake": "古风,恋爱,穿越,虐心催泪,王权朝堂_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/b495df75fbceab93901e0c85b914d508_830.jpg!n900"
                },
                {
                    "gindex": 492982,
                    "gname": "百鬼楼之锦衣",
                    "gname_fake": "古风,恋爱,玄幻,虐心催泪_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/c2844c7404cac18ac7741aca945df1a5_508.jpg!n900"
                },
                {
                    "gindex": 927144,
                    "gname": "暴走千金",
                    "gname_fake": "恋爱,现代,逆袭_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/a0a01b29514908a7c32a1c6ed155e721_278.jpg!n900"
                },
                {
                    "gindex": 555413,
                    "gname": "碧海夜心",
                    "gname_fake": "古风,恋爱,玄幻,虐心催泪_1",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/200492d5bbfdc0100c9f72ce46f711cc_337.jpg!n900"
                },
                {
                    "gindex": 433668,
                    "gname": "并不十分娱乐圈",
                    "gname_fake": "恋爱,现代,搞笑,娱乐圈_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/upload/201605/11858820_8c1e012df83e7423c4e0d66f63b72dba.png!n900"
                },
                {
                    "gindex": 846207,
                    "gname": "橙光梦工厂",
                    "gname_fake": "恋爱,现代,养成,逆袭_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/62a01eca649379f30cea889942780080_152.jpg!n900"
                },
                {
                    "gindex": 218573,
                    "gname": "宠妃进化法则",
                    "gname_fake": "古风,恋爱,宫斗_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/94343c49428a90d1321dbaae8b67a19d_302.jpg!n900"
                },
                {
                    "gindex": 694089,
                    "gname": "纯纯欲动",
                    "gname_fake": "恋爱,现代,逆袭,娱乐圈_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/98511951fd0b32309652cb66387dce52_269.jpg!n900"
                },
                {
                    "gindex": 271305,
                    "gname": "帝皇",
                    "gname_fake": "古风,恋爱,男性向,宫斗,王权朝堂_0",
                    "sex": "男性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/a1fda83fb58560da06e6424c69f42732_189.jpg!n900"
                },
                {
                    "gindex": 325369,
                    "gname": "妃容天下",
                    "gname_fake": "古风,恋爱,养成,玄幻,虐心催泪,宫斗_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/23d2f9060a8d01d41c50b1e5c1ec34cb_719.jpg!n900"
                },
                {
                    "gindex": 823064,
                    "gname": "给我滚",
                    "gname_fake": "恋爱,现代,养成,逆袭,娱乐圈,耽美_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/ecddfa6c7eae0bf525be6b5221f8ae3b_242.jpg!n900"
                },
                {
                    "gindex": 83480,
                    "gname": "好 色千金 一亲君泽",
                    "gname_fake": "古风,恋爱,穿越,甜蜜苏爽,乙女_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/0cf3fb51476c822337c9b3de41eb45e8_1285.jpg!n900"
                },
                {
                    "gindex": 495223,
                    "gname": "狐妖之凤唳九霄",
                    "gname_fake": "古风,恋爱,养成,玄幻,虐心催泪,宫斗_1",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/0ef1daee7954e414b693e2276d5ef428_588.jpg!n900"
                },
                {
                    "gindex": 467225,
                    "gname": "祸世",
                    "gname_fake": "古风,恋爱,穿越,玄幻_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/bb94906aa7bed6ae03943c1e86cbc4a1_840.jpg!n900"
                },
                {
                    "gindex": 257307,
                    "gname": "江湖一锅粥",
                    "gname_fake": "古风,恋爱,穿越,搞笑_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/bf2008a32dbee363ad900779664c731e_540.jpg!n900"
                },
                {
                    "gindex": 86886,
                    "gname": "进击的宫斗",
                    "gname_fake": "古风,恋爱,穿越,搞笑,宫斗_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/148bcb99347b916b0839012bb427dade_184.jpg!n900"
                },
                {
                    "gindex": 167836,
                    "gname": "君心我心",
                    "gname_fake": "古风,恋爱,穿越,虐心催泪_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/a6ef319d0f7cade16330f26a41bfa83f_823.jpg!n900"
                },
                {
                    "gindex": 1061759,
                    "gname": "立绘成精了·曲项视角篇",
                    "gname_fake": "恋爱,现代,搞笑_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/e338559e9d22adc69d16bdde80264b44_30.jpg!n900"
                },
                {
                    "gindex": 1037401,
                    "gname": "恋情告急",
                    "gname_fake": "恋爱,现代,甜蜜苏爽,乙女_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/3fc34144e1dfbaacc5c2720e418cfc17_106.jpg!n900"
                },
                {
                    "gindex": 147115,
                    "gname": "妙手红妆",
                    "gname_fake": "古风,恋爱,穿越,逆袭_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/5b86f8aee6d08cc4b103d420d88a3973_697.jpg!n900"
                },
                {
                    "gindex": 433902,
                    "gname": "名媛蜜语1少女时代篇",
                    "gname_fake": "恋爱,现代,甜蜜苏爽,养成,校园,乙女_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/c4b48f07a681189a70b351b983643217_295.jpg!n900"
                },
                {
                    "gindex": 496313,
                    "gname": "名媛蜜语2璀璨大学篇",
                    "gname_fake": "恋爱,现代,甜蜜苏爽,养成,校园,乙女_1",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/a472870120355394c3e379c0ace3e5e8_408.jpg!n900"
                },
                {
                    "gindex": 947744,
                    "gname": "名媛蜜语3事业婚礼篇",
                    "gname_fake": "恋爱,现代,甜蜜苏爽,娱乐圈_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/574401c1ab2f50032bbad39e40bc80d9_270.jpg!n900"
                },
                {
                    "gindex": 688353,
                    "gname": "陌上尘",
                    "gname_fake": "古风,恋爱,虐心催泪_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/8d529afc4a0b86df81d6e9bfb03337b0_682.jpg!n900"
                },
                {
                    "gindex": 522363,
                    "gname": "谋取帝心",
                    "gname_fake": "古风,恋爱,甜蜜苏爽,宫斗_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/79cba13e3204696061401a054b855cae_235.jpg!n900"
                },
                {
                    "gindex": 512933,
                    "gname": "那些年和男神相杀的日子",
                    "gname_fake": "恋爱,现代,搞笑,玄幻,乙女_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/19250eaa9c032db09785309b0245590c_185.jpg!n900"
                },
                {
                    "gindex": 562339,
                    "gname": "男配好难当",
                    "gname_fake": "恋爱,现代,甜蜜苏爽,搞笑,耽美_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/e8d58afbc7139c47b4675bfd3b20e504_73.jpg!n900"
                },
                {
                    "gindex": 722019,
                    "gname": "男神都有黑历史",
                    "gname_fake": "古风,恋爱,穿越,玄幻,虐心催泪_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/d35645b4054bd295f3172ff5a5d70751_478.jpg!n900"
                },
                {
                    "gindex": 1034420,
                    "gname": "你的失恋男友已上线",
                    "gname_fake": "恋爱,现代,搞笑_1",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/0eac06a880dd92c46f102c315992a936_68.jpg!n900"
                },
                {
                    "gindex": 627563,
                    "gname": "女配逆袭之素衣  古言篇",
                    "gname_fake": "古风,恋爱,穿越,逆袭,虐心催泪_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/a24af08a21dc3680fda86cab95f2b3bc_132.jpg!n900"
                },
                {
                    "gindex": 1061794,
                    "gname": "女寝皆是修罗场",
                    "gname_fake": "恋爱,现代,校园_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/034d26f3e581d7099e9114dae81e3768_28.jpg!n900"
                },
                {
                    "gindex": 350256,
                    "gname": "炮灰夺爱计",
                    "gname_fake": "恋爱,现代,甜蜜苏爽,逆袭_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/fafc80acbd9b5cbe0465e4054c0b0e59_480.jpg!n900"
                },
                {
                    "gindex": 267301,
                    "gname": "偏偏爱上你",
                    "gname_fake": "恋爱,现代,甜蜜苏爽_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/f2d325c56c89f6865e95af59e707ed95_808.jpg!n900"
                },
                {
                    "gindex": 859478,
                    "gname": "亲爱的小鲜肉",
                    "gname_fake": "恋爱,现代,甜蜜苏爽,搞笑,养成,逆袭,娱乐圈_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/upload/201803/27286342_a3dce6fafd7b14b772e67369a85c5ac3.jpg!n900"
                },
                {
                    "gindex": 708720,
                    "gname": "轻风起时亦见你",
                    "gname_fake": "恋爱,现代,甜蜜苏爽,搞笑,校园_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/890830106b686bb8228bad97a159897b_174.jpg!n900"
                },
                {
                    "gindex": 256729,
                    "gname": "清魂引",
                    "gname_fake": "古风,恋爱,搞笑,玄幻_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/3a825bb384eea3b42da401afcff5d886_274.jpg!n900"
                },
                {
                    "gindex": 242585,
                    "gname": "人鱼传说之长生烛",
                    "gname_fake": "古风,恋爱,玄幻,虐心催泪_2",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/0444a7f9f02d3411ceab1a7a3465d4f4_143.jpg!n900"
                },
                {
                    "gindex": 928828,
                    "gname": "如何征服心机喵",
                    "gname_fake": "古风,恋爱,甜蜜苏爽,搞笑,养成,逆袭_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/4d3641e921a65fa900c92c11d9869462_402.jpg!n900"
                },
                {
                    "gindex": 404891,
                    "gname": "韶时尽",
                    "gname_fake": "古风,恋爱,穿越,玄幻,虐心催泪_1",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/45bbcb902fcf4b07bddaf988883dcc52_1132.jpg!n900"
                },
                {
                    "gindex": 379533,
                    "gname": "盛世天下之媚娘篇",
                    "gname_fake": "古风,恋爱,宫斗,王权朝堂,紧张烧脑_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/12c25005d740058682d290fbe2baa090_266.jpg!n900"
                },
                {
                    "gindex": 563575,
                    "gname": "帅哥我来也",
                    "gname_fake": "古风,恋爱,穿越,搞笑_1",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/cf7f37a3252968e84b1028d3204356b3_445.jpg!n900"
                },
                {
                    "gindex": 880710,
                    "gname": "谁让我当红",
                    "gname_fake": "恋爱,现代,甜蜜苏爽,娱乐圈_1",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/3a7c1b8c0339127c1ec27c266d37e6b6_409.jpg!n900"
                },
                {
                    "gindex": 563965,
                    "gname": "替嫁豪门",
                    "gname_fake": "恋爱,现代,虐心催泪_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/7c41b7dee98a080598ad6995d88afc6e_425.jpg!n900"
                },
                {
                    "gindex": 51944,
                    "gname": "偷心冷医仙",
                    "gname_fake": "古风,恋爱,养成_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/28c8bfff5af5091d895c6d0ee4fdacef_513.jpg!n900"
                },
                {
                    "gindex": 788182,
                    "gname": "绾思结",
                    "gname_fake": "古风,恋爱,甜蜜苏爽,搞笑,玄幻_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/0c2f05565423e3917ccceed394841681_959.jpg!n900"
                },
                {
                    "gindex": 630113,
                    "gname": "网红绝对计划",
                    "gname_fake": "恋爱,现代,甜蜜苏爽,逆袭,娱乐圈_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/7163602ebdbdd1f2bdc39700306a79a3_306.jpg!n900"
                },
                {
                    "gindex": 993275,
                    "gname": "网游之大神别装了",
                    "gname_fake": "恋爱,现代,甜蜜苏爽,搞笑_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/74bb1c93140b4cf26e80adf9a1126c53_253.jpg!n900"
                },
                {
                    "gindex": 561954,
                    "gname": "网游之可话江湖",
                    "gname_fake": "恋爱,现代,甜蜜苏爽,搞笑,校园_1",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/10d3b9e1927c17c974e4717cc41e28a7_184.jpg!n900"
                },
                {
                    "gindex": 544321,
                    "gname": "伪装夫夫",
                    "gname_fake": "恋爱,现代,搞笑,逆袭,娱乐圈,耽美_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/aad827172a8068297ba239c31f1e5853_210.jpg!n900"
                },
                {
                    "gindex": 321028,
                    "gname": "问缘",
                    "gname_fake": "古风,恋爱,虐心催泪_1",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/51e3c87610490e73e6bc44647a266a4f_794.jpg!n900"
                },
                {
                    "gindex": 932991,
                    "gname": "我被男神捅死了",
                    "gname_fake": "古风,恋爱,搞笑,逆袭,虐心催泪_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/6c7463c24add6f8d37f654cbf288dec8_286.jpg!n900"
                },
                {
                    "gindex": 956471,
                    "gname": "我的血族大人",
                    "gname_fake": "古风,恋爱,穿越,甜蜜苏爽,玄幻_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/c2c9f3ece30aa0163217f928f1cf0a4e_359.jpg!n900"
                },
                {
                    "gindex": 523383,
                    "gname": "我的养父是杀手",
                    "gname_fake": "古风,恋爱,穿越,甜蜜苏爽,搞笑,玄幻_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/00ca63824b87c0636101e0a5ae6d467a_135.jpg!n900"
                },
                {
                    "gindex": 875192,
                    "gname": "我是陆锦溪",
                    "gname_fake": "古风,恋爱,穿越,搞笑,玄幻_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/00d237c4609be4c3810bd4ec9a306999_288.jpg!n900"
                },
                {
                    "gindex": 829584,
                    "gname": "西游姬",
                    "gname_fake": "古风,恋爱,穿越,搞笑,玄幻,虐心催泪_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/20ed6995145fe81e85a51f04d29aa26c_513.jpg!n900"
                },
                {
                    "gindex": 51280,
                    "gname": "仙狐缘",
                    "gname_fake": "古风,恋爱,穿越,玄幻_1",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/upload/201801/29424590_1db2d110dc95f72983dc57bddf8b547d.jpg!n900"
                },
                {
                    "gindex": 155748,
                    "gname": "仙泣",
                    "gname_fake": "古风,恋爱,穿越,玄幻_2",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/16254b868e08b047dafd4e2bdc70c9f9_633.jpg!n900"
                },
                {
                    "gindex": 878284,
                    "gname": "一入仙途",
                    "gname_fake": "古风,恋爱,玄幻,耽美_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/633c0e709007ef8eeb407ada53fc7a9e_313.jpg!n900"
                },
                {
                    "gindex": 763638,
                    "gname": "以罪之名",
                    "gname_fake": "恋爱,紧张烧脑,乙女_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/dc76e6edcdc07b29d544a62e87db7eaa_228.jpg!n900"
                },
                {
                    "gindex": 513073,
                    "gname": "阴阳便利店",
                    "gname_fake": "恋爱,现代_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/4a2d7cb198f65edf9fb7d2e2ab791272_604.jpg!n900"
                },
                {
                    "gindex": 390475,
                    "gname": "引歌一梦",
                    "gname_fake": "古风,恋爱,玄幻_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/5aabdb77efafdd758509d127f95bf1e7_466.jpg!n900"
                },
                {
                    "gindex": 387250,
                    "gname": "娱乐大明星",
                    "gname_fake": "恋爱,现代,逆袭,娱乐圈_1",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/782e17c06345141cb0bb66dee86e2dea_455.jpg!n900"
                },
                {
                    "gindex": 387133,
                    "gname": "与君长生上部",
                    "gname_fake": "古风,恋爱,玄幻_1",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/eda6370c91d5d1449e4bd2f78f8402fd_543.jpg!n900"
                },
                {
                    "gindex": 220105,
                    "gname": "遇龙",
                    "gname_fake": "古风,恋爱,玄幻,虐心催泪_3",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/d3de4a826cb2b2dcfebef2f333c0a4a5_40.jpg!n900"
                },
                {
                    "gindex": 1039332,
                    "gname": "只言恋语",
                    "gname_fake": "恋爱,现代_1",
                    "sex": "中性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/8b8dab370c1d99b2964b1f17e44ba9a3_49.jpg!n900"
                },
                {
                    "gindex": 486852,
                    "gname": "重生之陈阿娇",
                    "gname_fake": "恋爱,穿越,非遗_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/0bb861ff70b757488b316afe6cd92733_85.jpg!n900"
                },
                {
                    "gindex": 129015,
                    "gname": "重生之蝶变新生",
                    "gname_fake": "恋爱,现代_2",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/d5c4b2ab6bf62f9769709d9cea73598e_250.jpg!n900"
                },
                {
                    "gindex": 512955,
                    "gname": "重生之胖妞逆袭",
                    "gname_fake": "恋爱,现代,甜蜜苏爽,逆袭,校园_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/dae19af7934107a9e513da6197f60e38_249.jpg!n900"
                }
            ]
        },
        {
            "type": 2,
            "label": "穿越",
            "sex": "女性向",
            "game": [
                {
                    "gindex": 484531,
                    "gname": "白发年",
                    "gname_fake": "古风,恋爱,穿越,虐心催泪,王权朝堂_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/b495df75fbceab93901e0c85b914d508_830.jpg!n900"
                },
                {
                    "gindex": 728011,
                    "gname": "初夏重回汉唐汉服换装",
                    "gname_fake": "穿越,非遗_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/47bd519ea59ef7d53edaca5d32fb39f4_314.jpg!n900"
                },
                {
                    "gindex": 916045,
                    "gname": "反派打脸十八式",
                    "gname_fake": "古风,穿越,甜蜜苏爽,养成,耽美_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/6c2dd006a1672616fc2901ffcc50b74c_355.jpg!n900"
                },
                {
                    "gindex": 83480,
                    "gname": "好 色千金 一亲君泽",
                    "gname_fake": "古风,恋爱,穿越,甜蜜苏爽,乙女_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/0cf3fb51476c822337c9b3de41eb45e8_1285.jpg!n900"
                },
                {
                    "gindex": 472718,
                    "gname": "何处不桃花",
                    "gname_fake": "古风,穿越,养成_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/1d706113948d8a553432fdee4d2bb028_400.jpg!n900"
                },
                {
                    "gindex": 781795,
                    "gname": "黑化徒弟养成攻略",
                    "gname_fake": "古风,穿越,耽美_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/82a93ca9edc73276f9bdbc44f68c5c32_563.jpg!n900"
                },
                {
                    "gindex": 1030105,
                    "gname": "皇上请稳住",
                    "gname_fake": "古风,穿越,搞笑,男性向,王权朝堂_0",
                    "sex": "男性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/cfd3fd955dfe90bd9b3b5c1f6ac1b996_353.jpg!n900"
                },
                {
                    "gindex": 467225,
                    "gname": "祸世",
                    "gname_fake": "古风,恋爱,穿越,玄幻_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/bb94906aa7bed6ae03943c1e86cbc4a1_840.jpg!n900"
                },
                {
                    "gindex": 257307,
                    "gname": "江湖一锅粥",
                    "gname_fake": "古风,恋爱,穿越,搞笑_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/bf2008a32dbee363ad900779664c731e_540.jpg!n900"
                },
                {
                    "gindex": 86886,
                    "gname": "进击的宫斗",
                    "gname_fake": "古风,恋爱,穿越,搞笑,宫斗_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/148bcb99347b916b0839012bb427dade_184.jpg!n900"
                },
                {
                    "gindex": 167836,
                    "gname": "君心我心",
                    "gname_fake": "古风,恋爱,穿越,虐心催泪_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/a6ef319d0f7cade16330f26a41bfa83f_823.jpg!n900"
                },
                {
                    "gindex": 727669,
                    "gname": "君心我心貳",
                    "gname_fake": "古风,穿越,紧张烧脑_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/a52386b3d66eadc3f1d5648bdf7457c8_602.jpg!n900"
                },
                {
                    "gindex": 513821,
                    "gname": "灵烟阁",
                    "gname_fake": "古风,穿越_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/4c1d839ff9a3d3305856be1edb8b9ab2_594.jpg!n900"
                },
                {
                    "gindex": 147115,
                    "gname": "妙手红妆",
                    "gname_fake": "古风,恋爱,穿越,逆袭_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/5b86f8aee6d08cc4b103d420d88a3973_697.jpg!n900"
                },
                {
                    "gindex": 722019,
                    "gname": "男神都有黑历史",
                    "gname_fake": "古风,恋爱,穿越,玄幻,虐心催泪_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/d35645b4054bd295f3172ff5a5d70751_478.jpg!n900"
                },
                {
                    "gindex": 627563,
                    "gname": "女配逆袭之素衣  古言篇",
                    "gname_fake": "古风,恋爱,穿越,逆袭,虐心催泪_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/a24af08a21dc3680fda86cab95f2b3bc_132.jpg!n900"
                },
                {
                    "gindex": 92827,
                    "gname": "柔倾天下-上部",
                    "gname_fake": "古风,穿越_1",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/c887af0d51ddf52d5b1f3a022b461ac0_736.jpg!n900"
                },
                {
                    "gindex": 404891,
                    "gname": "韶时尽",
                    "gname_fake": "古风,恋爱,穿越,玄幻,虐心催泪_1",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/45bbcb902fcf4b07bddaf988883dcc52_1132.jpg!n900"
                },
                {
                    "gindex": 563575,
                    "gname": "帅哥我来也",
                    "gname_fake": "古风,恋爱,穿越,搞笑_1",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/cf7f37a3252968e84b1028d3204356b3_445.jpg!n900"
                },
                {
                    "gindex": 956471,
                    "gname": "我的血族大人",
                    "gname_fake": "古风,恋爱,穿越,甜蜜苏爽,玄幻_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/c2c9f3ece30aa0163217f928f1cf0a4e_359.jpg!n900"
                },
                {
                    "gindex": 523383,
                    "gname": "我的养父是杀手",
                    "gname_fake": "古风,恋爱,穿越,甜蜜苏爽,搞笑,玄幻_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/00ca63824b87c0636101e0a5ae6d467a_135.jpg!n900"
                },
                {
                    "gindex": 875192,
                    "gname": "我是陆锦溪",
                    "gname_fake": "古风,恋爱,穿越,搞笑,玄幻_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/00d237c4609be4c3810bd4ec9a306999_288.jpg!n900"
                },
                {
                    "gindex": 887622,
                    "gname": "我在唐朝开酒吧",
                    "gname_fake": "穿越,搞笑,非遗_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/48524af370bb671471bdc98cc0a506fd_201.jpg!n900"
                },
                {
                    "gindex": 829584,
                    "gname": "西游姬",
                    "gname_fake": "古风,恋爱,穿越,搞笑,玄幻,虐心催泪_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/20ed6995145fe81e85a51f04d29aa26c_513.jpg!n900"
                },
                {
                    "gindex": 51280,
                    "gname": "仙狐缘",
                    "gname_fake": "古风,恋爱,穿越,玄幻_1",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/upload/201801/29424590_1db2d110dc95f72983dc57bddf8b547d.jpg!n900"
                },
                {
                    "gindex": 155748,
                    "gname": "仙泣",
                    "gname_fake": "古风,恋爱,穿越,玄幻_2",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/16254b868e08b047dafd4e2bdc70c9f9_633.jpg!n900"
                },
                {
                    "gindex": 909514,
                    "gname": "妖孽七夫君",
                    "gname_fake": "古风,穿越,甜蜜苏爽,搞笑,养成_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/55f4fe1f2c30e76c1c431d3fbb04a4e0_432.jpg!n900"
                },
                {
                    "gindex": 256888,
                    "gname": "月出处天子",
                    "gname_fake": "古风,穿越,养成,虐心催泪,王权朝堂,耽美_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/41a3e6f373344f570a3a643c0084be9e_1380.jpg!n900"
                },
                {
                    "gindex": 486852,
                    "gname": "重生之陈阿娇",
                    "gname_fake": "恋爱,穿越,非遗_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/0bb861ff70b757488b316afe6cd92733_85.jpg!n900"
                }
            ]
        },
        {
            "type": 3,
            "label": "虐心催泪",
            "sex": "女性向",
            "game": [
                {
                    "gindex": 484531,
                    "gname": "白发年",
                    "gname_fake": "古风,恋爱,穿越,虐心催泪,王权朝堂_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/b495df75fbceab93901e0c85b914d508_830.jpg!n900"
                },
                {
                    "gindex": 492982,
                    "gname": "百鬼楼之锦衣",
                    "gname_fake": "古风,恋爱,玄幻,虐心催泪_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/c2844c7404cac18ac7741aca945df1a5_508.jpg!n900"
                },
                {
                    "gindex": 555413,
                    "gname": "碧海夜心",
                    "gname_fake": "古风,恋爱,玄幻,虐心催泪_1",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/200492d5bbfdc0100c9f72ce46f711cc_337.jpg!n900"
                },
                {
                    "gindex": 513159,
                    "gname": "沧浪烟云",
                    "gname_fake": "古风,玄幻,虐心催泪_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/37bc1757dab27b7deee91a5697e08eb6_292.jpg!n900"
                },
                {
                    "gindex": 325369,
                    "gname": "妃容天下",
                    "gname_fake": "古风,恋爱,养成,玄幻,虐心催泪,宫斗_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/23d2f9060a8d01d41c50b1e5c1ec34cb_719.jpg!n900"
                },
                {
                    "gindex": 452823,
                    "gname": "国贼顾挽之",
                    "gname_fake": "古风,虐心催泪_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/223c3b1251aef3b44bee042ea04221ef_812.jpg!n900"
                },
                {
                    "gindex": 495223,
                    "gname": "狐妖之凤唳九霄",
                    "gname_fake": "古风,恋爱,养成,玄幻,虐心催泪,宫斗_1",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/0ef1daee7954e414b693e2276d5ef428_588.jpg!n900"
                },
                {
                    "gindex": 555462,
                    "gname": "江山无殇",
                    "gname_fake": "古风,虐心催泪,男性向,宫斗,王权朝堂_0",
                    "sex": "男性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/b158c109878f6e958d2f4c8888a3411d_1335.jpg!n900"
                },
                {
                    "gindex": 167836,
                    "gname": "君心我心",
                    "gname_fake": "古风,恋爱,穿越,虐心催泪_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/a6ef319d0f7cade16330f26a41bfa83f_823.jpg!n900"
                },
                {
                    "gindex": 688353,
                    "gname": "陌上尘",
                    "gname_fake": "古风,恋爱,虐心催泪_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/8d529afc4a0b86df81d6e9bfb03337b0_682.jpg!n900"
                },
                {
                    "gindex": 722019,
                    "gname": "男神都有黑历史",
                    "gname_fake": "古风,恋爱,穿越,玄幻,虐心催泪_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/d35645b4054bd295f3172ff5a5d70751_478.jpg!n900"
                },
                {
                    "gindex": 627563,
                    "gname": "女配逆袭之素衣  古言篇",
                    "gname_fake": "古风,恋爱,穿越,逆袭,虐心催泪_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/a24af08a21dc3680fda86cab95f2b3bc_132.jpg!n900"
                },
                {
                    "gindex": 590940,
                    "gname": "人生重启",
                    "gname_fake": "现代,养成,虐心催泪,男性向_0",
                    "sex": "男性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/7d3feeb8ebc28dd5c67003939b06bbb6_267.jpg!n900"
                },
                {
                    "gindex": 242585,
                    "gname": "人鱼传说之长生烛",
                    "gname_fake": "古风,恋爱,玄幻,虐心催泪_2",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/0444a7f9f02d3411ceab1a7a3465d4f4_143.jpg!n900"
                },
                {
                    "gindex": 404891,
                    "gname": "韶时尽",
                    "gname_fake": "古风,恋爱,穿越,玄幻,虐心催泪_1",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/45bbcb902fcf4b07bddaf988883dcc52_1132.jpg!n900"
                },
                {
                    "gindex": 549098,
                    "gname": "深宫未归人",
                    "gname_fake": "古风,虐心催泪,宫斗_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/7668b427d3f82f949c6e5603695f6726_250.jpg!n900"
                },
                {
                    "gindex": 563965,
                    "gname": "替嫁豪门",
                    "gname_fake": "恋爱,现代,虐心催泪_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/7c41b7dee98a080598ad6995d88afc6e_425.jpg!n900"
                },
                {
                    "gindex": 321028,
                    "gname": "问缘",
                    "gname_fake": "古风,恋爱,虐心催泪_1",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/51e3c87610490e73e6bc44647a266a4f_794.jpg!n900"
                },
                {
                    "gindex": 932991,
                    "gname": "我被男神捅死了",
                    "gname_fake": "古风,恋爱,搞笑,逆袭,虐心催泪_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/6c7463c24add6f8d37f654cbf288dec8_286.jpg!n900"
                },
                {
                    "gindex": 1030173,
                    "gname": "我做夫人那些年",
                    "gname_fake": "古风,养成,虐心催泪_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/7ed6d12fb4028de04d0425170fc0acf0_159.jpg!n900"
                },
                {
                    "gindex": 829584,
                    "gname": "西游姬",
                    "gname_fake": "古风,恋爱,穿越,搞笑,玄幻,虐心催泪_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/20ed6995145fe81e85a51f04d29aa26c_513.jpg!n900"
                },
                {
                    "gindex": 220105,
                    "gname": "遇龙",
                    "gname_fake": "古风,恋爱,玄幻,虐心催泪_3",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/d3de4a826cb2b2dcfebef2f333c0a4a5_40.jpg!n900"
                },
                {
                    "gindex": 256888,
                    "gname": "月出处天子",
                    "gname_fake": "古风,穿越,养成,虐心催泪,王权朝堂,耽美_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/41a3e6f373344f570a3a643c0084be9e_1380.jpg!n900"
                },
                {
                    "gindex": 643298,
                    "gname": "宅迷情深",
                    "gname_fake": "古风,虐心催泪,乙女_0",
                    "sex": "女性向",
                    "real_thumb": "http://pic.cgyouxi.com/orange/title/6156f56f627a4cc46dd8eaa6717f8532_391.jpg!n900"
                }
            ]
        }
    ];  
    selectGame([0, 1]);
    &lt;/script&gt;        
    &lt;/body&gt;      
    &lt;/html&gt;  </code></pre><p><br></p><p><br></p><p><br></p><p><img src="https://img-blog.csdn.net/20180408145418419" alt=""><br></p>            ]]></description></item><item><title>在一个数组中删除另一个数组存在的值</title><link>http://www.cnblogs.com/xutongbao/archive/2018/04/08/9924870.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Sun, 08 Apr 2018 05:24:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/04/08/9924870.html</guid><description><![CDATA[
                <pre><code class="language-html">&lt;!DOCTYPE html&gt;    
&lt;html lang="en"&gt;    
&lt;head&gt;    
    &lt;meta charset="UTF-8"&gt;    
    &lt;title&gt;在一个数组中删除另一个数组存在的值&lt;/title&gt;  
    &lt;style type="text/css"&gt;  
        html,body{width:100%;height:100%;margin:0;}   
    &lt;/style&gt;  
&lt;/head&gt;    
&lt;body&gt;  
&lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;  
&lt;script type="text/javascript"&gt;
//方法一：
var arr = [1, 2, 3, 4, '1', 0,  1, 2, 'a', 'b'];
var brr = [1, 2, 'a'];
 
for(var i = 0;i &lt; brr.length; i++) {
    for(var j = 0; j &lt; arr.length; j++) {
        if(arr[j] === brr[i]) {
            arr.splice(j,1);
            j--;
        }
    }
}
console.log(arr);

//方法二（高效）：
var arr = [1, 2, 3, 4, '1', 0,  1, 2, 'a', 'b'];
var brr = [1, 2, 'a'];
var temp = [];
var temparray = [];
for (var i = 0; i &lt; brr.length; i++) {  
    temp[brr[i]] = typeof brr[i];;
}
for (var i = 0; i &lt; arr.length; i++) {  
    var type = typeof arr[i];
    if (!temp[arr[i]]) {  
        temparray.push(arr[i]);
    } else if (temp[arr[i]].indexOf(type) &lt; 0) { 
        temparray.push(arr[i]); 
    }  
}

console.log(temparray);
&lt;/script&gt;      
&lt;/body&gt;    
&lt;/html&gt;</code></pre><img src="https://img-blog.csdn.net/2018040814550790" alt=""><br>            ]]></description></item><item><title>图片预加载，优化用户体验</title><link>http://www.cnblogs.com/xutongbao/archive/2018/04/01/9924871.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Sun, 01 Apr 2018 10:18:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/04/01/9924871.html</guid><description><![CDATA[
                <pre><code class="language-html">&lt;!DOCTYPE html&gt;    
&lt;html lang="en"&gt;    
&lt;head&gt;    
    &lt;meta charset="UTF-8"&gt;    
    &lt;title&gt;图片预加载，优化用户体验&lt;/title&gt;  
    &lt;style type="text/css"&gt;  
        html,body{width:100%;height:100%;margin:0;}   
        .m-selected-favorite_active{display: inline-block;width: 72px;height: 72px; background: url(https://img-blog.csdn.net/2018040118174855);background-size: 100% 100%;}
        .m-selected-favorite{display: inline-block;width: 72px;height: 72px;background: url(https://img-blog.csdn.net/20180401181741607);background-size: 100% 100%;}
    &lt;/style&gt;  
&lt;/head&gt;    
&lt;body&gt;  
&lt;span class="m-selected-favorite_active" id="m-favorite" data-active="active"&gt;&lt;/span&gt; 

&lt;div style="display:none"&gt;&lt;img src="https://img-blog.csdn.net/20180401181741607" /&gt;&lt;div&gt; 

&lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;  
&lt;script type="text/javascript"&gt;
$('#m-favorite').on('click', function () {
    var that = $(this);
    if (that.data('active') === 'active') {
        that.data('active', 'notactive');
        that.removeClass('m-selected-favorite_active');
        that.addClass('m-selected-favorite')
    } else {
        that.data('active', 'active');
        that.removeClass('m-selected-favorite');
        that.addClass('m-selected-favorite_active');
    }    
});
&lt;/script&gt;      
&lt;/body&gt;    
&lt;/html&gt;</code></pre><br><br><p><br></p><p></p><p><img src="https://img-blog.csdn.net/20180401181741607" alt=""><img src="https://img-blog.csdn.net/2018040118174855" alt=""></p><p><br></p><p><img src="https://img-blog.csdn.net/20180401182240222" alt=""><br></p>            ]]></description></item><item><title>API接口规范</title><link>http://www.cnblogs.com/xutongbao/archive/2018/03/13/9924872.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 13 Mar 2018 05:23:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/03/13/9924872.html</guid><description><![CDATA[
                接口规范：<br>1.使用HTTPs协议，确保交互数据的传输安全<br>2.应该尽量将API部署在专用域名之下，如：https://api.example.com<br>3.应该将API的版本号放入URL中，如：https://api.example.com/v{n}/<br>4.网址中不能有动词，只能有名词，而且所用的名词往往与数据库的表格名对应。<br>一般来说，数据库中的表都是同种记录的"集合"（collection），所以API中的名词也应该使用复数，如：https://api.example.com/v1/products<br>5.对于资源的具体操作类型，由HTTP动词表示，常用的HTTP动词有四个。<br>GET（SELECT）：从服务器取出资源（一项或多项）。<br>POST（CREATE）：在服务器新建一个资源。<br>PUT（UPDATE）：在服务器更新资源（客户端提供改变后的完整资源）。<br>DELETE（DELETE）：从服务器删除资源。<br>如：GET/products：列出所有商品<br>6.如果记录数量很多，服务器不可能都将它们返回给用户。API应该提供参数，过滤返回结果。<br>下面是一些常见的参数。<br>?limit=10：指定返回记录的数量<br>?offset=10：指定返回记录的开始位置。<br>?page=2&amp;per_page=100：指定第几页，以及每页的记录数。<br>?sortby=name&amp;order=asc：指定返回结果按照哪个属性排序，以及排序顺序。<br>?producy_type=1：指定筛选条件<br>7.传入参数分为4种类型：<br>1)地址栏参数<br>* restful 地址栏参数 /api/v1/product/122 122为产品编号，获取产品为122的信息<br>* get方式的查询字串 见过滤信息小节<br>2)请求body数据<br>3)cookie<br>4)request header<br>cookie和header 一般都是用于OAuth认证的2种途径<br>8.返回数据<br>接口返回模板：<br>{<br>&nbsp;&nbsp;&nbsp; status:0,<br>&nbsp;&nbsp;&nbsp; data:{}||[],<br>&nbsp;&nbsp;&nbsp; msg:’’<br><p>}</p><p><br></p><p><span style="color:#FF0000;"><strong>备注</strong></span>：欢迎加入web前端求职招聘qq群：<strong><span style="color:#000000;">668352707</span></strong></p><p><strong><span style="color:#000000;"><img src="https://img-blog.csdn.net/20180329094038839" alt=""></span></strong><br></p>            ]]></description></item><item><title>骰子的布局（flex）</title><link>http://www.cnblogs.com/xutongbao/archive/2018/03/12/9924874.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Mon, 12 Mar 2018 10:37:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/03/12/9924874.html</guid><description><![CDATA[
                <p>骰子的布局（一个点）<br></p><pre><code class="language-html">&lt;!DOCTYPE html&gt;            
&lt;html&gt;            
&lt;head&gt;            
    &lt;meta charset="UTF-8"&gt;        
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"&gt;      
    &lt;title&gt;骰子的布局（flex）&lt;/title&gt;          
    &lt;style type="text/css"&gt;    
        body{margin: 0}  

        .m-container{margin: 5px; padding: 5px; width:100px;height: 100px;border:1px solid green;}
        .m-item {margin: 5px; width: 20px;height: 20px;border-radius: 10px;background-color: black;}

        .box1 {display: flex;justify-content: center;}  /*水平居中*/
        .box2 {display: flex;justify-content: flex-end;}  /*水平靠右*/
        .box3 {display: flex;align-items: center;}  /*垂直居中*/
        .box4 {display: flex;justify-content: center;align-items: center;}  /*水平垂直居中*/
        .box5 {display: flex;justify-content: center;align-items: flex-end;}  /*水平居中，垂直靠下*/
    &lt;/style&gt;          
&lt;/head&gt;            
&lt;body&gt;         

&lt;div class="m-container box1"&gt;
  &lt;span class="m-item"&gt;&lt;/span&gt;
&lt;/div&gt;

&lt;div class="m-container box2"&gt;
  &lt;span class="m-item"&gt;&lt;/span&gt;
&lt;/div&gt;

&lt;div class="m-container box3"&gt;
  &lt;span class="m-item"&gt;&lt;/span&gt;
&lt;/div&gt;

&lt;div class="m-container box4"&gt;
  &lt;span class="m-item"&gt;&lt;/span&gt;
&lt;/div&gt;

&lt;div class="m-container box5"&gt;
  &lt;span class="m-item"&gt;&lt;/span&gt;
&lt;/div&gt;

&lt;/body&gt;            
&lt;/html&gt;  </code></pre><img src="https://img-blog.csdn.net/20180312183647888" alt=""><br><p>骰子的布局（两个点）<br></p><pre><code class="language-html">&lt;!DOCTYPE html&gt;            
&lt;html&gt;            
&lt;head&gt;            
    &lt;meta charset="UTF-8"&gt;        
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"&gt;      
    &lt;title&gt;骰子的布局（flex）&lt;/title&gt;          
    &lt;style type="text/css"&gt;    
        body{margin: 0}  

        .m-container{margin: 5px; padding: 5px; width:100px;height: 100px;border:1px solid green;}
        .m-item {margin: 5px; width: 20px;height: 20px;border-radius: 10px;background-color: black;}

        .box1 {display: flex;justify-content: space-between;}  /*底部两端对齐*/
        .box2 {display: flex;flex-direction: column; justify-content: space-between;}  /*靠左两端对齐*/
        .box3 {display: flex;flex-direction: column; justify-content: space-between;align-items: center;}  /*水平居中，两端对齐*/
        .box4 {display: flex;flex-direction: column; justify-content: space-between;align-items: flex-end;}  /*水平靠右，两端对齐*/
        .box5 {display: flex;} 
        .box5 .m-item:nth-child(2) {align-self: center;}
        .box6 {display: flex;justify-content: space-between;} 
        .box6 .m-item:nth-child(2) {align-self: flex-end;}        
    &lt;/style&gt;          
&lt;/head&gt;            
&lt;body&gt;         

&lt;div class="m-container box1"&gt;
  &lt;span class="m-item"&gt;&lt;/span&gt;
  &lt;span class="m-item"&gt;&lt;/span&gt;
&lt;/div&gt;

&lt;div class="m-container box2"&gt;
  &lt;span class="m-item"&gt;&lt;/span&gt;
  &lt;span class="m-item"&gt;&lt;/span&gt;
&lt;/div&gt;

&lt;div class="m-container box3"&gt;
  &lt;span class="m-item"&gt;&lt;/span&gt;
  &lt;span class="m-item"&gt;&lt;/span&gt;
&lt;/div&gt;

&lt;div class="m-container box4"&gt;
  &lt;span class="m-item"&gt;&lt;/span&gt;
  &lt;span class="m-item"&gt;&lt;/span&gt;
&lt;/div&gt;

&lt;div class="m-container box5"&gt;
  &lt;span class="m-item"&gt;&lt;/span&gt;
  &lt;span class="m-item"&gt;&lt;/span&gt;
&lt;/div&gt;

&lt;div class="m-container box6"&gt;
  &lt;span class="m-item"&gt;&lt;/span&gt;
  &lt;span class="m-item"&gt;&lt;/span&gt;
&lt;/div&gt;

&lt;/body&gt;            
&lt;/html&gt;  </code></pre><img src="https://img-blog.csdn.net/20180313115857822" alt=""><br><p><br></p><p><br></p><p><br></p><p><span style="color:#FF0000;"><strong>备注</strong></span>：欢迎加入web前端求职招聘qq群：<strong><span style="color:#000000;">668352707</span></strong><br></p>            ]]></description></item><item><title>javascript中的作用域</title><link>http://www.cnblogs.com/xutongbao/archive/2018/03/12/9924875.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Mon, 12 Mar 2018 05:09:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/03/12/9924875.html</guid><description><![CDATA[
                <pre><code class="language-javascript">        var foo = {
            baz: 1,
            bar: function () {
                return this.baz;
            }
        };
        console.log(foo.bar());  //1
        (function () {
            this; //Window
            console.log(arguments[0]()); //undefined
        })(foo.bar)</code></pre><p><br></p><p><br></p><p><br></p><p><br></p><p><span style="color:#FF0000;"><strong>备注</strong></span>：欢迎加入web前端求职招聘qq群：<strong><span style="color:#000000;">668352707</span></strong><br></p>            ]]></description></item><item><title>js引用类型和基本类型、隐式类型转换以及强制类型转换面试题</title><link>http://www.cnblogs.com/xutongbao/archive/2018/03/08/9924876.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 08 Mar 2018 06:21:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/03/08/9924876.html</guid><description><![CDATA[
                <pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;js引用类型和基本类型、隐式类型转换以及强制类型转换面试题&lt;/title&gt;
    &lt;style&gt;
        body{margin:0;padding:0;}
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;script type="text/javascript"&gt;
    "use strict";
    var a = 1;
    var b = {};
    function show(x, y) {
        x = 2;
        y.num = 3;
    }
    show(a, b);

    console.log(a,b);  //1 {num:3}

    if (null == undefined) {
        console.log("1")
    } else {
        console.log("2")
    }  //1

    console.log(Number(undefined))  //NaN
    console.log(Number(null))       //0
&lt;/script&gt;
 
&lt;/body&gt;
&lt;/html&gt;</code></pre><span style="color:#FF0000;"><strong>备注</strong></span>：欢迎加入web前端求职招聘qq群：<strong><span style="color:#000000;">668352707</span></strong><br>            ]]></description></item><item><title>css的content属性，以及如何通过css content属性实现css计数器？</title><link>http://www.cnblogs.com/xutongbao/archive/2018/03/07/9924877.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 07 Mar 2018 04:04:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/03/07/9924877.html</guid><description><![CDATA[
                <pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;css的content属性，以及如何通过css content属性实现css计数器？&lt;/title&gt;
    &lt;style&gt;
        body{margin:0;padding:0;}
        
        .m-container{background:#000080;border:1px solid red;}
        .m-left{float:left;width:20%;height:200px;background:#DDD}
        .m-clearfloat:after{display:block;clear:both;content:"";visibility:hidden;height:0}
        .m-clearfloat{zoom:1} 

        .m-test ol { counter-reset: section; list-style-type: none; }
        .m-test ol li { counter-increment: section; }
        .m-test ol li:before { content: counters(section, "-") ". "; }
        /*.m-test ol li:before { content: counters(section, "-", upper-roman) ". "; } */ /*大写罗马数字*/
        /*.m-test ol li:before { content: counters(section, "-", lower-alpha) ". "; }*/ /*字母*/
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;div class="m-container m-clearfloat"&gt;
    &lt;div class="m-left"&gt;Left&lt;/div&gt;
&lt;/div&gt;

&lt;div class="m-test"&gt;
    &lt;ol&gt;
        &lt;li&gt;水果
            &lt;ol&gt;
                &lt;li&gt;苹果&lt;/li&gt;
                &lt;li&gt;苹果&lt;/li&gt;
                &lt;li&gt;苹果&lt;/li&gt;
            &lt;/ol&gt;
        &lt;/li&gt;
        &lt;li&gt;水果
            &lt;ol&gt;
                &lt;li&gt;香蕉&lt;/li&gt;
                &lt;li&gt;
                    香蕉
                    &lt;ol&gt;
                        &lt;li&gt;海南香蕉&lt;/li&gt;
                        &lt;li&gt;海南香蕉&lt;/li&gt;
                        &lt;li&gt;海南香蕉&lt;/li&gt;
                        &lt;li&gt;海南香蕉&lt;/li&gt;
                    &lt;/ol&gt;
                &lt;/li&gt;
                &lt;li&gt;香蕉&lt;/li&gt;
            &lt;/ol&gt;
        &lt;/li&gt;
        &lt;li&gt;水果&lt;/li&gt;
    &lt;/ol&gt;
&lt;/div&gt;
 
&lt;/body&gt;
&lt;/html&gt;</code></pre><img src="https://img-blog.csdn.net/20180307120310485" alt=""><br><p><br></p><p><br></p><p><span style="color:#FF0000;"><strong>备注</strong></span>：欢迎加入web前端求职招聘qq群：<strong><span style="color:#000000;">668352707</span></strong><br></p>            ]]></description></item><item><title>CSS实现：一个矩形内容，有投影，有圆角，hover状态慢慢变透明</title><link>http://www.cnblogs.com/xutongbao/archive/2018/03/06/9924878.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 06 Mar 2018 05:14:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/03/06/9924878.html</guid><description><![CDATA[
                <pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;CSS实现：一个矩形内容，有投影，有圆角，hover状态慢慢变透明&lt;/title&gt;
    &lt;style&gt;
        body{margin:0;padding:0;}
        .m-test{width: 200px;height: 100px;border-radius: 10px;box-shadow: 10px 10px 5px #888888; background-color: green;transition: 0.7s; }
        .m-test:hover {opacity: 0;}  
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div class="m-test"&gt;
&lt;/div&gt;
 
&lt;/body&gt;
&lt;/html&gt;</code></pre><p><br></p><p><br></p><p><br></p><p><span style="color:#FF0000;"><strong>备注</strong></span>：欢迎加入web前端求职招聘qq群：<strong><span style="color:#000000;">668352707</span></strong><br></p>            ]]></description></item><item><title>百度元宵节动画</title><link>http://www.cnblogs.com/xutongbao/archive/2018/03/02/9924879.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Fri, 02 Mar 2018 09:05:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/03/02/9924879.html</guid><description><![CDATA[
                <p><br></p><p><br></p><pre><code class="language-html">&lt;!DOCTYPE html&gt;            
&lt;html&gt;            
&lt;head&gt;            
    &lt;meta charset="UTF-8"&gt;            
    &lt;title&gt;百度元宵节动画&lt;/title&gt;         
    &lt;style type="text/css"&gt;
        .m-test{width: 270px;height: 129px;background: url(https://img-blog.csdn.net/20180302170619180);}
    &lt;/style&gt;
&lt;/head&gt;            
&lt;body&gt;    
    自制百度元宵节动画
    &lt;div class="m-test" id="m-test"&gt;&lt;/div&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;
    &lt;script type="text/javascript"&gt;    
        $(function() {
            var positionX = 0;
            setInterval(function() {
                if(positionX &gt; -8640) {
                    positionX = positionX - 270;
                    $('#m-test').css({'background-position': positionX + 'px 0'});
                    if (positionX &lt;= -8640) {
                        positionX = 0;
                    }
                }
            }, 20);
        });
    &lt;/script&gt;  
&lt;/body&gt;            
&lt;/html&gt;</code></pre><br><p><br></p><p><img src="https://img-blog.csdn.net/20180302170146514" alt=""></p><p><br></p><p>GIF 屏幕录制工具LICEcap <a href="https://www.cockos.com/licecap/" rel="nofollow">https://www.cockos.com/licecap/</a><br><br></p><p><img src="https://img-blog.csdn.net/20180302170619180" alt=""></p><p><br></p><p><br></p><p><strong><span style="color:#000000;"><span style="color:#FF0000;"><strong>备注</strong></span>：欢迎加入web前端求职招聘qq群：<strong><span style="color:#000000;">668352707</span></strong></span></strong><br></p>            ]]></description></item><item><title>HTML5的拖放功能</title><link>http://www.cnblogs.com/xutongbao/archive/2018/03/02/9924880.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Fri, 02 Mar 2018 08:19:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/03/02/9924880.html</guid><description><![CDATA[
                <pre><code class="language-html">&lt;!DOCTYPE html&gt;            
&lt;html&gt;            
&lt;head&gt;            
    &lt;meta charset="UTF-8"&gt;            
    &lt;title&gt;H5拖放&lt;/title&gt;         
    &lt;style type="text/css"&gt;
        body{font-size:84%;}
        .dustbin{width:100px; height:260px; line-height:1.4; background-color:gray; font-size:36px; font-family:"微软雅黑", "Yahei Mono"; text-align:center; text-shadow:-1px -1px #bbb; float:left;}
        .dragbox{width:500px; padding-left:20px; float:left;}
        .draglist{padding:10px; margin-bottom:5px; border:2px dashed #ccc; background-color:#eee; cursor:move;}
        .draglist:hover{border-color:#cad5eb; background-color:#f0f3f9;}
        .dragremind{padding-top:2em; clear:both;}    
    &lt;/style&gt;
&lt;/head&gt;            
&lt;body&gt;    
    &lt;div class="dustbin"&gt;&lt;br /&gt;垃&lt;br /&gt;圾&lt;br /&gt;箱&lt;/div&gt;
    &lt;div class="dragbox"&gt;
        &lt;div class="draglist" title="拖拽我" draggable="true"&gt;垃圾&lt;/div&gt;
    &lt;/div&gt;
    &lt;div class="dragremind"&gt;&lt;/div&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;
    &lt;script type="text/javascript"&gt;  
        var eleDustbin = $(".dustbin")[0], eleDrags = $(".draglist")[0], eleRemind = $(".dragremind")[0], eleDrag = null;
        eleDrags.onselectstart = function() {
            return false;
        };
        eleDrags.ondragstart = function(ev) {
            /*拖拽开始*/
            //拖拽效果
            ev.dataTransfer.effectAllowed = "move";
            ev.dataTransfer.setData("text", ev.target.innerHTML);
            ev.dataTransfer.setDragImage(ev.target, 0, 0);
            eleDrag = ev.target;
            return true;
        };
        eleDrags.ondragend = function(ev) {
            /*拖拽结束*/
            ev.dataTransfer.clearData("text");
            eleDrag = null;
            return false
        };
        eleDustbin.ondragover = function(ev) {
            /*拖拽元素在目标元素头上移动的时候*/
            ev.preventDefault();
            return true;
        };

        eleDustbin.ondragenter = function(ev) {
            /*拖拽元素进入目标元素头上的时候*/
            this.style.color = "#ffffff";
            return true;
        };
        eleDustbin.ondrop = function(ev) {
            /*拖拽元素进入目标元素头上，同时鼠标松开的时候*/
            if (eleDrag) {
                eleRemind.innerHTML = '&lt;strong&gt;"' + eleDrag.innerHTML + '"&lt;/strong&gt;被扔进了垃圾箱';
                eleDrag.parentNode.removeChild(eleDrag);
            }
            this.style.color = "#000000";
            return false;
        };     
    &lt;/script&gt;  
&lt;/body&gt;            
&lt;/html&gt;</code></pre><p><br></p><p><br></p><p><span style="color:#FF0000;"><strong>备注</strong></span>：欢迎加入web前端求职招聘qq群：<strong><span style="color:#000000;">668352707</span></strong><br></p>            ]]></description></item><item><title>拖拽插件jquery.dad.js</title><link>http://www.cnblogs.com/xutongbao/archive/2018/03/02/9924881.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Fri, 02 Mar 2018 08:00:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/03/02/9924881.html</guid><description><![CDATA[
                <p>&nbsp;</p>

<p>&nbsp;<img alt="" class="has" src="https://img-blog.csdn.net/20181015112413683?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>

<p>&nbsp;带删除功能:</p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;            
&lt;html&gt;            
&lt;head&gt;            
    &lt;meta charset="UTF-8"&gt;            
    &lt;title&gt;拖拽插件jquery.dad.js&lt;/title&gt;         
    &lt;style type="text/css"&gt;
        .dad-noSelect,.dad-noSelect *{
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            -khtml-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            cursor: -webkit-grabbing !important;
            cursor: -moz-grabbing !important;
        }
 
        .dad-container{
            position: relative;
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            -khtml-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }
        .dad-container::after{
            content: '';
            clear: both !important;
            display: block;
        }
        .dad-active .dad-draggable-area{
            cursor: -webkit-grab;
            cursor: -moz-grab;
        }
        .dad-draggable-area&gt;*,.dad-draggable-area img{
            pointer-events: none;
        }
        .dads-children.active{
            pointer-events: none;
        }
        .dads-children-clone{
            opacity: 1;
            z-index: 9999;
            pointer-events: none;
        }
        .dads-children-placeholder{
            pointer-events: none;
            overflow: hidden;
            position: absolute !important;
            box-sizing: border-box;
            border:4px dashed #639BF6;
            margin:5px;
            text-align: center;
            color: #639BF6;
            font-weight: bold;
        }    
        .daddy&gt;div {
            box-sizing: border-box;
            width: 20%;
            padding: 5px;
            float: left;
            display: block;
            position: relative;
        }
        .daddy&gt;div&gt;div {
            display: block;
            height: 120px;
            line-height: 120px;
            text-align: center;
            font-size: 30px;
            font-weight: bold;
            background: #639BF6;
            color: white;
            font-family: "Arial", sans-serif;
        }
        .m-delete{pointer-events: auto;}
    &lt;/style&gt;
&lt;/head&gt;            
&lt;body&gt;    
ccs文件和js文件可以去GitHub上下载，下载地址是：https://github.com/williammustaffa/jquery.dad.js
本实例是直接把源代码都复制过来了
    &lt;div id="daddy" class="dad daddy"&gt;
        &lt;div&gt;
            &lt;div&gt;1&lt;/div&gt;
            &lt;input type="button" value="删除" class="m-delete js-delete"&gt;
        &lt;/div&gt;
        &lt;div&gt;
            &lt;div&gt;2&lt;/div&gt;
            &lt;input type="button" value="删除" class="m-delete js-delete"&gt;
        &lt;/div&gt;
        &lt;div&gt;
            &lt;div&gt;3&lt;/div&gt;
            &lt;input type="button" value="删除" class="m-delete js-delete"&gt;
        &lt;/div&gt;
        &lt;div&gt;
            &lt;div&gt;4&lt;/div&gt;
            &lt;input type="button" value="删除" class="m-delete js-delete"&gt;
        &lt;/div&gt;
        &lt;div&gt;
            &lt;div&gt;5&lt;/div&gt;
            &lt;input type="button" value="删除" class="m-delete js-delete"&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;  
    &lt;!-- &lt;script src='jquery.dad.js'&gt;&lt;/script&gt;    --&gt;
    &lt;script type="text/javascript"&gt;
        /*!
         * jquery.dad.js v1 (http://konsolestudio.com/dad)
         * Author William Lima
         */
 
        (function ($) {
          'use strict';
          var supportsTouch = 'ontouchstart' in window || navigator.msMaxTouchPoints;
 
          $.fn.dad = function (opts) {
            var _this = this;
 
            var defaults = {
              target: '&gt;div',
              draggable: false,
              placeholder: '',
              callback: false,
              containerClass: 'dad-container',
              childrenClass: 'dads-children',
              cloneClass: 'dads-children-clone',
              active: true,
            };
 
            var options = $.extend({}, defaults, opts);
 
            $(this).each(function () {
              var active = options.active;
              var $daddy = $(this);
              var childrenClass = options.childrenClass;
              var cloneClass = options.cloneClass;
              var jQclass = '.' + childrenClass;
              var $target = $daddy.find(options.target);
              var placeholder = options.placeholder;
              var callback = options.callback;
              var dragClass = 'dad-draggable-area';
              var holderClass = 'dads-children-placeholder';
 
              // HANDLE MOUSE
              var mouse = {
                x: 0,
                y: 0,
                target: false,
                clone: false,
                placeholder: false,
                cloneoffset: {
                  x: 0,
                  y: 0,
                },
                updatePosition: function (e) {
                  this.x = e.pageX;
                  this.y = e.pageY;
                },
 
                move: function (e) {
                  this.updatePosition(e);
                  if (this.clone !== false &amp;&amp; _this.target !== false) {
                    this.clone.css({
                      left: this.x - this.cloneoffset.x,
                      top: this.y - this.cloneoffset.y,
                    });
                  }
                },
              };
 
              $(window).on('mousemove touchmove', function (e) {
                var ev = e;
 
                if (mouse.clone !== false &amp;&amp; mouse.target !== false) e.preventDefault();
 
                if (supportsTouch &amp;&amp; e.type == 'touchmove') {
                  ev = e.originalEvent.touches[0];
                  var mouseTarget = document.elementFromPoint(ev.clientX, ev.clientY);
 
                  $(mouseTarget).trigger('touchenter');
                }
 
                mouse.move(ev);
              });
 
              $daddy.addClass(options.containerClass);
 
              if (!$daddy.hasClass('dad-active') &amp;&amp; active === true) {
                $daddy.addClass('dad-active');
              };
 
              _this.addDropzone = function (selector, func) {
                $(selector).on('mouseenter touchenter', function () {
                  if (mouse.target !== false) {
                    mouse.placeholder.css({ display: 'none' });
                    mouse.target.css({ display: 'none' });
                    $(this).addClass('active');
                  }
                }).on('mouseup touchend', function () {
                  if (mouse.target != false) {
                    mouse.placeholder.css({ display: 'block' });
                    mouse.target.css({ display: 'block' });
                    func(mouse.target);
                    dadEnd();
                  };
 
                  $(this).removeClass('active');
                }).on('mouseleave touchleave', function () {
                  if (mouse.target !== false) {
                    mouse.placeholder.css({ display: 'block' });
                    mouse.target.css({ display: 'block' });
                  }
 
                  $(this).removeClass('active');
                });
              };
 
              // GET POSITION FUNCTION
              _this.getPosition = function () {
                var positionArray = [];
                $(this).find(jQclass).each(function () {
                  positionArray[$(this).attr('data-dad-id')] = parseInt($(this).attr('data-dad-position'));
                });
 
                return positionArray;
              };
 
              _this.activate = function () {
                active = true;
                if (!$daddy.hasClass('dad-active')) {
                  $daddy.addClass('dad-active');
                }
 
                return _this;
              };
 
              // DEACTIVATE FUNCTION
              _this.deactivate = function () {
                active = false;
                $daddy.removeClass('dad-active');
                return _this;
              };
 
              // DEFAULT DROPPING
              $daddy.on('DOMNodeInserted', function (e) {
                var $thisTarget = $(e.target);
                if (!$thisTarget.hasClass(childrenClass) &amp;&amp; !$thisTarget.hasClass(holderClass)) {
                  $thisTarget.addClass(childrenClass);
                }
              });
 
              $(document).on('mouseup touchend', function () {
                dadEnd();
              });
 
              // ORDER ELEMENTS
              var order = 1;
              $target.addClass(childrenClass).each(function () {
                if ($(this).data('dad-id') == undefined) {
                  $(this).attr('data-dad-id', order);
                }
 
                $(this).attr('data-dad-position', order);
                order++;
              });
 
              // CREATE REORDER FUNCTION
              function updatePosition(e) {
                var order = 1;
                e.find(jQclass).each(function () {
                  $(this).attr('data-dad-position', order);
                  order++;
                });
              }
 
              // END EVENT
              function dadEnd() {
                if (mouse.target != false &amp;&amp;  mouse.clone != false) {
                  if (callback != false) {
                    callback(mouse.target);
                  }
 
                  var appear = mouse.target;
                  var desappear = mouse.clone;
                  var holder = mouse.placeholder;
                  var bLeft = 0;
                  var bTop = 0;
 
                  // Maybe we will use this in the future
                  //Math.floor(parseFloat($daddy.css('border-left-width')));
                  //Math.floor(parseFloat($daddy.css('border-top-width')));
                  if ($.contains($daddy[0], mouse.target[0])) {
                    mouse.clone.animate({
                      top: mouse.target.offset().top - $daddy.offset().top - bTop,
                      left: mouse.target.offset().left - $daddy.offset().left - bLeft,
                    }, 300, function () {
                      appear.css({
                        visibility: 'visible',
                      }).removeClass('active');
                      desappear.remove();
                    });
                  } else {
                    mouse.clone.fadeOut(300, function () {
                      desappear.remove();
                    });
                  }
 
                  holder.remove();
                  mouse.clone = false;
                  mouse.placeholder = false;
                  mouse.target = false;
                  updatePosition($daddy);
                }
 
                $('html, body').removeClass('dad-noSelect');
              }
 
              // UPDATE EVENT
              function dadUpdate(obj) {
                if (mouse.target !== false &amp;&amp; mouse.clone !== false) {
                  var $origin = $('&lt;span style="display:none"&gt;&lt;/span&gt;');
                  var $newplace = $('&lt;span style="display:none"&gt;&lt;/span&gt;');
 
                  if (obj.prevAll().hasClass('active')) {
                    obj.after($newplace);
                  } else {
                    obj.before($newplace);
                  }
 
                  mouse.target.before($origin);
                  $newplace.before(mouse.target);
 
                  // UPDATE PLACEHOLDER
                  mouse.placeholder.css({
                    top: mouse.target.offset().top - $daddy.offset().top,
                    left: mouse.target.offset().left - $daddy.offset().left,
                    width: mouse.target.outerWidth() - 10,
                    height: mouse.target.outerHeight() - 10,
                  });
 
                  $origin.remove();
                  $newplace.remove();
                }
              }
 
              // GRABBING EVENT
              var jq = (options.draggable !== false) ? options.draggable : jQclass;
              $daddy.find(jq).addClass(dragClass);
              $daddy.on('mousedown touchstart', jq, function (e) {
                var isDelete = $(e.target).hasClass('js-delete');
                if(isDelete) {
                  return;
                }
                // For touchstart we must update "mouse" position
                if (e.type == 'touchstart') {
                  mouse.updatePosition(e.originalEvent.touches[0]);
                }
 
                if (mouse.target == false &amp;&amp; active == true &amp;&amp; (e.which == 1 || e.type == 'touchstart')) {
                  var $self = $(this);
 
                  // GET TARGET
                  if (options.draggable !== false) {
                    mouse.target = $daddy.find(jQclass).has(this);
                  } else {
                    mouse.target = $self;
                  }
 
                  // ADD CLONE
                  mouse.clone = mouse.target.clone();
                  mouse.target.css({ visibility: 'hidden' }).addClass('active');
                  mouse.clone.addClass(cloneClass);
                  $daddy.append(mouse.clone);
 
                  // ADD PLACEHOLDER
                  var $placeholder = $('&lt;div&gt;&lt;/div&gt;');
                  mouse.placeholder = $placeholder;
                  mouse.placeholder.addClass(holderClass);
                  mouse.placeholder.css({
                    top: mouse.target.offset().top - $daddy.offset().top,
                    left: mouse.target.offset().left - $daddy.offset().left,
                    width: mouse.target.outerWidth() - 10,
                    height: mouse.target.outerHeight() - 10,
                    lineHeight: mouse.target.height() - 18 + 'px',
                    textAlign: 'center',
                  }).text(placeholder);
 
                  $daddy.append(mouse.placeholder);
 
                  // GET OFFSET FOR CLONE
                  var bLeft = Math.floor(parseFloat($daddy.css('border-left-width')));
                  var bTop = Math.floor(parseFloat($daddy.css('border-top-width')));
                  var difx = mouse.x - mouse.target.offset().left + $daddy.offset().left + bLeft;
                  var dify = mouse.y - mouse.target.offset().top + $daddy.offset().top + bTop;
                  mouse.cloneoffset.x = difx;
                  mouse.cloneoffset.y = dify;
 
                  // REMOVE THE CHILDREN DAD CLASS AND SET THE POSITION ON SCREEN
                  mouse.clone.removeClass(childrenClass).css({
                    position: 'absolute',
                    top: mouse.y - mouse.cloneoffset.y,
                    left: mouse.x - mouse.cloneoffset.x,
                  });
 
                  // UNABLE THE TEXT SELECTION AND SET THE GRAB CURSOR
                  $('html,body').addClass('dad-noSelect');
                }
              });
 
              $daddy.on('mouseenter touchenter', jQclass, function () {
                dadUpdate($(this));
              });
            });
 
            return this;
          };
        })(jQuery);    
    &lt;/script&gt; 
    &lt;script type="text/javascript"&gt;  
        $(function () {
          var myAction = {};

          var dom = {
            dad: $('#daddy'),
            delete: $('.js-delete')
          }

          $.extend(myAction, {
            initDad: function () {
              dom.dad.dad();
            },
            initEvent: function () {
              dom.delete.on('click', function () {
                var that = $(this);
                that.parent().remove();
              });              
            }
          });

          var init = function () {
            myAction.initDad();
            myAction.initEvent();
          }();
        });    
    &lt;/script&gt;  
&lt;/body&gt;            
&lt;/html&gt;</code></pre>

<p>&nbsp;不带删除功能：</p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;            
&lt;html&gt;            
&lt;head&gt;            
    &lt;meta charset="UTF-8"&gt;            
    &lt;title&gt;拖拽插件jquery.dad.js&lt;/title&gt;         
    &lt;style type="text/css"&gt;
        .dad-noSelect,.dad-noSelect *{
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            -khtml-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            cursor: -webkit-grabbing !important;
            cursor: -moz-grabbing !important;
        }

        .dad-container{
            position: relative;
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            -khtml-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }
        .dad-container::after{
            content: '';
            clear: both !important;
            display: block;
        }
        .dad-active .dad-draggable-area{
            cursor: -webkit-grab;
            cursor: -moz-grab;
        }
        .dad-draggable-area&gt;*,.dad-draggable-area img{
            pointer-events: none;
        }
        .dads-children.active{
            pointer-events: none;
        }
        .dads-children-clone{
            opacity: 1;
            z-index: 9999;
            pointer-events: none;
        }
        .dads-children-placeholder{
            pointer-events: none;
            overflow: hidden;
            position: absolute !important;
            box-sizing: border-box;
            border:4px dashed #639BF6;
            margin:5px;
            text-align: center;
            color: #639BF6;
            font-weight: bold;
        }    
        .daddy&gt;div {
            box-sizing: border-box;
            width: 20%;
            padding: 5px;
            float: left;
            display: block;
            position: relative;
        }
        .daddy&gt;div&gt;div {
            display: block;
            height: 120px;
            line-height: 120px;
            text-align: center;
            font-size: 30px;
            font-weight: bold;
            background: #639BF6;
            color: white;
            font-family: "Arial", sans-serif;
        }
    &lt;/style&gt;
&lt;/head&gt;            
&lt;body&gt;    
ccs文件和js文件可以去GitHub上下载，下载地址是：https://github.com/williammustaffa/jquery.dad.js
本实例是直接把源代码都复制过来了
    &lt;div id="daddy" class="dad daddy"&gt;
        &lt;div&gt;
            &lt;div&gt;1&lt;/div&gt;
        &lt;/div&gt;
        &lt;div&gt;
            &lt;div&gt;2&lt;/div&gt;
        &lt;/div&gt;
        &lt;div&gt;
            &lt;div&gt;3&lt;/div&gt;
        &lt;/div&gt;
        &lt;div&gt;
            &lt;div&gt;4&lt;/div&gt;
        &lt;/div&gt;
        &lt;div&gt;
            &lt;div&gt;5&lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;  
    &lt;!-- &lt;script src='jquery.dad.js'&gt;&lt;/script&gt;    --&gt;
    &lt;script type="text/javascript"&gt;
        /*!
         * jquery.dad.js v1 (http://konsolestudio.com/dad)
         * Author William Lima
         */

        (function ($) {
          'use strict';
          var supportsTouch = 'ontouchstart' in window || navigator.msMaxTouchPoints;

          $.fn.dad = function (opts) {
            var _this = this;

            var defaults = {
              target: '&gt;div',
              draggable: false,
              placeholder: '',
              callback: false,
              containerClass: 'dad-container',
              childrenClass: 'dads-children',
              cloneClass: 'dads-children-clone',
              active: true,
            };

            var options = $.extend({}, defaults, opts);

            $(this).each(function () {
              var active = options.active;
              var $daddy = $(this);
              var childrenClass = options.childrenClass;
              var cloneClass = options.cloneClass;
              var jQclass = '.' + childrenClass;
              var $target = $daddy.find(options.target);
              var placeholder = options.placeholder;
              var callback = options.callback;
              var dragClass = 'dad-draggable-area';
              var holderClass = 'dads-children-placeholder';

              // HANDLE MOUSE
              var mouse = {
                x: 0,
                y: 0,
                target: false,
                clone: false,
                placeholder: false,
                cloneoffset: {
                  x: 0,
                  y: 0,
                },
                updatePosition: function (e) {
                  this.x = e.pageX;
                  this.y = e.pageY;
                },

                move: function (e) {
                  this.updatePosition(e);
                  if (this.clone !== false &amp;&amp; _this.target !== false) {
                    this.clone.css({
                      left: this.x - this.cloneoffset.x,
                      top: this.y - this.cloneoffset.y,
                    });
                  }
                },
              };

              $(window).on('mousemove touchmove', function (e) {
                var ev = e;

                if (mouse.clone !== false &amp;&amp; mouse.target !== false) e.preventDefault();

                if (supportsTouch &amp;&amp; e.type == 'touchmove') {
                  ev = e.originalEvent.touches[0];
                  var mouseTarget = document.elementFromPoint(ev.clientX, ev.clientY);

                  $(mouseTarget).trigger('touchenter');
                }

                mouse.move(ev);
              });

              $daddy.addClass(options.containerClass);

              if (!$daddy.hasClass('dad-active') &amp;&amp; active === true) {
                $daddy.addClass('dad-active');
              };

              _this.addDropzone = function (selector, func) {
                $(selector).on('mouseenter touchenter', function () {
                  if (mouse.target !== false) {
                    mouse.placeholder.css({ display: 'none' });
                    mouse.target.css({ display: 'none' });
                    $(this).addClass('active');
                  }
                }).on('mouseup touchend', function () {
                  if (mouse.target != false) {
                    mouse.placeholder.css({ display: 'block' });
                    mouse.target.css({ display: 'block' });
                    func(mouse.target);
                    dadEnd();
                  };

                  $(this).removeClass('active');
                }).on('mouseleave touchleave', function () {
                  if (mouse.target !== false) {
                    mouse.placeholder.css({ display: 'block' });
                    mouse.target.css({ display: 'block' });
                  }

                  $(this).removeClass('active');
                });
              };

              // GET POSITION FUNCTION
              _this.getPosition = function () {
                var positionArray = [];
                $(this).find(jQclass).each(function () {
                  positionArray[$(this).attr('data-dad-id')] = parseInt($(this).attr('data-dad-position'));
                });

                return positionArray;
              };

              _this.activate = function () {
                active = true;
                if (!$daddy.hasClass('dad-active')) {
                  $daddy.addClass('dad-active');
                }

                return _this;
              };

              // DEACTIVATE FUNCTION
              _this.deactivate = function () {
                active = false;
                $daddy.removeClass('dad-active');
                return _this;
              };

              // DEFAULT DROPPING
              $daddy.on('DOMNodeInserted', function (e) {
                var $thisTarget = $(e.target);
                if (!$thisTarget.hasClass(childrenClass) &amp;&amp; !$thisTarget.hasClass(holderClass)) {
                  $thisTarget.addClass(childrenClass);
                }
              });

              $(document).on('mouseup touchend', function () {
                dadEnd();
              });

              // ORDER ELEMENTS
              var order = 1;
              $target.addClass(childrenClass).each(function () {
                if ($(this).data('dad-id') == undefined) {
                  $(this).attr('data-dad-id', order);
                }

                $(this).attr('data-dad-position', order);
                order++;
              });

              // CREATE REORDER FUNCTION
              function updatePosition(e) {
                var order = 1;
                e.find(jQclass).each(function () {
                  $(this).attr('data-dad-position', order);
                  order++;
                });
              }

              // END EVENT
              function dadEnd() {
                if (mouse.target != false &amp;&amp;  mouse.clone != false) {
                  if (callback != false) {
                    callback(mouse.target);
                  }

                  var appear = mouse.target;
                  var desappear = mouse.clone;
                  var holder = mouse.placeholder;
                  var bLeft = 0;
                  var bTop = 0;

                  // Maybe we will use this in the future
                  //Math.floor(parseFloat($daddy.css('border-left-width')));
                  //Math.floor(parseFloat($daddy.css('border-top-width')));
                  if ($.contains($daddy[0], mouse.target[0])) {
                    mouse.clone.animate({
                      top: mouse.target.offset().top - $daddy.offset().top - bTop,
                      left: mouse.target.offset().left - $daddy.offset().left - bLeft,
                    }, 300, function () {
                      appear.css({
                        visibility: 'visible',
                      }).removeClass('active');
                      desappear.remove();
                    });
                  } else {
                    mouse.clone.fadeOut(300, function () {
                      desappear.remove();
                    });
                  }

                  holder.remove();
                  mouse.clone = false;
                  mouse.placeholder = false;
                  mouse.target = false;
                  updatePosition($daddy);
                }

                $('html, body').removeClass('dad-noSelect');
              }

              // UPDATE EVENT
              function dadUpdate(obj) {
                if (mouse.target !== false &amp;&amp; mouse.clone !== false) {
                  var $origin = $('&lt;span style="display:none"&gt;&lt;/span&gt;');
                  var $newplace = $('&lt;span style="display:none"&gt;&lt;/span&gt;');

                  if (obj.prevAll().hasClass('active')) {
                    obj.after($newplace);
                  } else {
                    obj.before($newplace);
                  }

                  mouse.target.before($origin);
                  $newplace.before(mouse.target);

                  // UPDATE PLACEHOLDER
                  mouse.placeholder.css({
                    top: mouse.target.offset().top - $daddy.offset().top,
                    left: mouse.target.offset().left - $daddy.offset().left,
                    width: mouse.target.outerWidth() - 10,
                    height: mouse.target.outerHeight() - 10,
                  });

                  $origin.remove();
                  $newplace.remove();
                }
              }

              // GRABBING EVENT
              var jq = (options.draggable !== false) ? options.draggable : jQclass;
              $daddy.find(jq).addClass(dragClass);
              $daddy.on('mousedown touchstart', jq, function (e) {
                // For touchstart we must update "mouse" position
                if (e.type == 'touchstart') {
                  mouse.updatePosition(e.originalEvent.touches[0]);
                }

                if (mouse.target == false &amp;&amp; active == true &amp;&amp; (e.which == 1 || e.type == 'touchstart')) {
                  var $self = $(this);

                  // GET TARGET
                  if (options.draggable !== false) {
                    mouse.target = $daddy.find(jQclass).has(this);
                  } else {
                    mouse.target = $self;
                  }

                  // ADD CLONE
                  mouse.clone = mouse.target.clone();
                  mouse.target.css({ visibility: 'hidden' }).addClass('active');
                  mouse.clone.addClass(cloneClass);
                  $daddy.append(mouse.clone);

                  // ADD PLACEHOLDER
                  var $placeholder = $('&lt;div&gt;&lt;/div&gt;');
                  mouse.placeholder = $placeholder;
                  mouse.placeholder.addClass(holderClass);
                  mouse.placeholder.css({
                    top: mouse.target.offset().top - $daddy.offset().top,
                    left: mouse.target.offset().left - $daddy.offset().left,
                    width: mouse.target.outerWidth() - 10,
                    height: mouse.target.outerHeight() - 10,
                    lineHeight: mouse.target.height() - 18 + 'px',
                    textAlign: 'center',
                  }).text(placeholder);

                  $daddy.append(mouse.placeholder);

                  // GET OFFSET FOR CLONE
                  var bLeft = Math.floor(parseFloat($daddy.css('border-left-width')));
                  var bTop = Math.floor(parseFloat($daddy.css('border-top-width')));
                  var difx = mouse.x - mouse.target.offset().left + $daddy.offset().left + bLeft;
                  var dify = mouse.y - mouse.target.offset().top + $daddy.offset().top + bTop;
                  mouse.cloneoffset.x = difx;
                  mouse.cloneoffset.y = dify;

                  // REMOVE THE CHILDREN DAD CLASS AND SET THE POSITION ON SCREEN
                  mouse.clone.removeClass(childrenClass).css({
                    position: 'absolute',
                    top: mouse.y - mouse.cloneoffset.y,
                    left: mouse.x - mouse.cloneoffset.x,
                  });

                  // UNABLE THE TEXT SELECTION AND SET THE GRAB CURSOR
                  $('html,body').addClass('dad-noSelect');
                }
              });

              $daddy.on('mouseenter touchenter', jQclass, function () {
                dadUpdate($(this));
              });
            });

            return this;
          };
        })(jQuery);    
    &lt;/script&gt; 
    &lt;script type="text/javascript"&gt;  
        $(function () {
          //dad simple demo
          $('.dad').dad();
        });    
    &lt;/script&gt;  
&lt;/body&gt;            
&lt;/html&gt;</code></pre>

<p><img alt="" class="has" src="https://img-blog.csdn.net/20180302155946871"></p>

<p>&nbsp;</p>

<p><img alt="" class="has" src="https://img-blog.csdn.net/20180302155946871"></p>

<p>&nbsp;</p>

<p><span style="color:#ff0000;"><strong>备注</strong></span>：欢迎加入web前端求职招聘qq群：<strong><span style="color:#000000;">668352707</span></strong></p>            ]]></description></item><item><title>::selection、多背景、border-image</title><link>http://www.cnblogs.com/xutongbao/archive/2018/03/02/9924882.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Fri, 02 Mar 2018 06:18:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/03/02/9924882.html</guid><description><![CDATA[
                <pre><code class="language-html">&lt;!DOCTYPE html&gt;            
&lt;html&gt;            
&lt;head&gt;            
    &lt;meta charset="UTF-8"&gt;        
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"&gt;      
    &lt;title&gt;::selection、多背景、border-image&lt;/title&gt;          
    &lt;style type="text/css"&gt;
        ::selection{color:#ff0000;}
        .m-demo{height: 400px;background: url(https://ss1.bdstatic.com/70cFvXSh_Q1YnxGkpoWK1HF6hhy/it/u=3240464600,3985442193&amp;fm=27&amp;gp=0.jpg) 0 0 no-repeat,url(https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=499121603,3200983999&amp;fm=200&amp;gp=0.jpg) 100px 50px no-repeat;}
        .m-demo2{width:600px;height: 200px;border:15px solid transparent;background: #666; border-image:url(https://ss3.bdstatic.com/70cFv8Sh_Q1YnxGkpoWK1HF6hhy/it/u=922887712,1270423619&amp;fm=27&amp;gp=0.jpg) 30 30 round;}
    &lt;/style&gt;
&lt;/head&gt;            
&lt;body&gt;    
    选取后文字颜色变成红色
    多背景：
    &lt;div class="m-demo"&gt;&lt;/div&gt; 
    border-image：
    &lt;div class="m-demo2"&gt;&lt;/div&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;      
    &lt;script type="text/javascript"&gt;      
    &lt;/script&gt;  
&lt;/body&gt;            
&lt;/html&gt;</code></pre><img src="https://img-blog.csdn.net/20180302141732989" alt=""><br><p><br></p><p><br></p><p><br></p><p><span style="color:#FF0000;"><strong>备注</strong></span>：欢迎加入web前端求职招聘qq群：<strong><span style="color:#000000;">668352707</span></strong><br></p><p><br></p>            ]]></description></item><item><title>有一个高度自适应的div，里面有两个div，一个高度100px，希望另一个填满剩下的高度(三种方案)</title><link>http://www.cnblogs.com/xutongbao/archive/2018/03/01/9924883.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 01 Mar 2018 01:58:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/03/01/9924883.html</guid><description><![CDATA[
                <pre><code class="language-html">&lt;!DOCTYPE html&gt;          
&lt;html&gt;          
&lt;head&gt;          
    &lt;meta charset="UTF-8"&gt;      
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"&gt;    
    &lt;title&gt;有一个高度自适应的div，里面有两个div，一个高度100px，希望另一个填满剩下的高度(三种方案)&lt;/title&gt;        
    &lt;style type="text/css"&gt;  
        html,
        body { height: 100%; padding: 0; margin: 0; }

        /*方案一*/
        /*.outer { height: 100%; padding: 100px 0 0; box-sizing: border-box ; }
        .A { height: 100px; margin: -100px 0 0; background: #BBE8F2; }
        .B { height: 100%; background: #D9C666; }*/

        /*方案二*/
        /*.outer { height: 100%; padding: 100px 0 0; box-sizing: border-box ; position: relative; }
        .A { height: 100px; background: #BBE8F2; position: absolute; top: 0 ; left: 0 ; width: 100%; }
        .B { height: 100%; background: #D9C666; }*/

        /*方案三*/
        .outer { height: 100%; position: relative; }
        .A { height: 100px; background: #BBE8F2; }
        .B { background: #D9C666; width: 100%; position: absolute; top: 100px ; left: 0 ; bottom: 0; }
    &lt;/style&gt;        
&lt;/head&gt;          
&lt;body&gt;  
    &lt;div class="outer"&gt;
        &lt;div class="A"&gt;&lt;/div&gt;
        &lt;div class="B"&gt;&lt;/div&gt;
    &lt;/div&gt;
&lt;/body&gt;          
&lt;/html&gt;</code></pre><span style="color:#FF0000;"><strong>备注</strong></span>：欢迎加入web前端求职招聘qq群：<strong><span style="color:#000000;">668352707</span></strong><br>            ]]></description></item><item><title>CSS实现div的全屏自适应显示(两种方案)</title><link>http://www.cnblogs.com/xutongbao/archive/2018/03/01/9924884.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 01 Mar 2018 01:41:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/03/01/9924884.html</guid><description><![CDATA[
                <pre><code class="language-html">&lt;!DOCTYPE html&gt;          
&lt;html&gt;          
&lt;head&gt;          
    &lt;meta charset="UTF-8"&gt;      
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"&gt;    
    &lt;title&gt;CSS实现div的全屏自适应显示(两种方案)&lt;/title&gt;        
    &lt;style type="text/css"&gt;  
        html, body {padding: 0;  margin: 0;  height: 100%;  overflow:hidden;}  
        .m-demo {height: 100%;background: #666666;}
        .m-demo2 {position: absolute; height: 100%; width: 100%; top: 0px; bottom: 0px;overflow:hidden; word-break:break-all;background: green;}
    &lt;/style&gt;        
&lt;/head&gt;          
&lt;body&gt;  
    &lt;div class="m-demo"&gt;&lt;/div&gt;
    &lt;div class="m-demo2"&gt;&lt;/div&gt;
&lt;/body&gt;          
&lt;/html&gt;</code></pre><br>            ]]></description></item><item><title>font-style: oblique文字斜体，display:inline-block显示间隙</title><link>http://www.cnblogs.com/xutongbao/archive/2018/02/28/9924885.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 28 Feb 2018 10:45:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/02/28/9924885.html</guid><description><![CDATA[
                <pre><code class="language-html">&lt;!DOCTYPE html&gt;          
&lt;html&gt;          
&lt;head&gt;          
    &lt;meta charset="UTF-8"&gt;      
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"&gt;    
    &lt;title&gt;font-style: oblique文字斜体，display:inline-block显示间隙&lt;/title&gt;        
    &lt;style type="text/css"&gt;  
        body{margin: 0}
        .m-demo {font-size: 36px;font-style: oblique;}
        .m-space a{display: inline-block;background: #8e8e8e;font-size: 36px;}
    &lt;/style&gt;        
&lt;/head&gt;          
&lt;body&gt;  
    &lt;div class="m-demo"&gt;
    徐同保
    &lt;/div&gt;   
    &lt;div class="m-space"&gt;
        &lt;a href='#'&gt;百度&lt;/a&gt;
        &lt;a href='#'&gt;百度&lt;/a&gt;
        &lt;a href='#'&gt;百度&lt;/a&gt;
    &lt;/div&gt;
    &lt;div class="m-space"&gt;
        &lt;a href='#'&gt;百度&lt;/a
        &gt;&lt;a href='#'&gt;百度&lt;/a
        &gt;&lt;a href='#'&gt;百度&lt;/a&gt;
    &lt;/div&gt;
&lt;/body&gt;          
&lt;/html&gt;</code></pre><img src="https://img-blog.csdn.net/20180228184449407" alt=""><br><br>            ]]></description></item><item><title>css制作三角形和小于12px的文字</title><link>http://www.cnblogs.com/xutongbao/archive/2018/02/28/9924886.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 28 Feb 2018 04:27:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/02/28/9924886.html</guid><description><![CDATA[
                <pre><code class="language-html">&lt;!DOCTYPE html&gt;          
&lt;html&gt;          
&lt;head&gt;          
    &lt;meta charset="UTF-8"&gt;      
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"&gt;    
    &lt;title&gt;css制作三角形和小于12px的文字&lt;/title&gt;        
    &lt;style type="text/css"&gt;  
        body{margin: 0}
        .m-demo { width: 0; height: 0; border-width: 40px; border-style: solid; border-color: transparent transparent red transparent;}
        
        .m-test{display: inline-block;font-size: 12px;vertical-align: text-top;}
        .m-test2{display: inline-block; font-size: 20px;transform:scale(0.5,0.5); }
        .m-test3{display: inline-block; font-size: 20px;transform:scale(0.4,0.4); }
    &lt;/style&gt;        
&lt;/head&gt;          
&lt;body&gt;  
    &lt;div class="m-demo"&gt;
    &lt;/div&gt;   
    &lt;div&gt;&lt;span class="m-test"&gt;徐同保(12px)&lt;/span&gt;&lt;span class="m-test2"&gt;徐同保(10px)&lt;/span&gt;&lt;span class="m-test3"&gt;徐同保(8px)&lt;/span&gt;&lt;/div&gt;
    &lt;/div&gt;
&lt;/body&gt;          
&lt;/html&gt;</code></pre><img src="https://img-blog.csdn.net/20180228121659255" alt=""><br><p><br></p><p><br></p><p><br></p><p><br></p>            ]]></description></item><item><title>flex布局</title><link>http://www.cnblogs.com/xutongbao/archive/2018/02/28/9924887.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 28 Feb 2018 02:42:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/02/28/9924887.html</guid><description><![CDATA[
                <pre><code class="language-html">&lt;!DOCTYPE html&gt;          
&lt;html&gt;          
&lt;head&gt;          
    &lt;meta charset="UTF-8"&gt;      
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"&gt;    
    &lt;title&gt;flex布局&lt;/title&gt;        
    &lt;style type="text/css"&gt;  
        body{margin: 0}
        .m-box{display:-webkit-box;}
        .m-test1{-webkit-box-flex:1.0;border:1px solid red;}
        .m-test2{-webkit-box-flex:2.0;border:1px solid blue;}

        /*
        flex-direction: row | row-reverse | column | column-reverse;
        flex-wrap: nowrap | wrap | wrap-reverse;

        */
        .m-flex{display: flex;flex-direction: row;}
        .m-test3{flex:1; border:1px solid red;}
        .m-test4{flex:2;border:1px solid blue;}

        .m-test5{flex:0 0 100px; border:1px solid red;}
        .m-test6{flex:1;border:1px solid blue;}
        .m-test7{flex:0 0 100px;border:1px solid blue;}

        .m-flex2{display: flex;flex-direction: row;width: 100%;flex-flow: row wrap;align-content: flex-start;}
        .m-test8{flex:0 0 25%;height: 50px;border:1px solid blue;box-sizing: border-box;}
    &lt;/style&gt;        
&lt;/head&gt;          
&lt;body&gt;  
    display:-webkit-box
    &lt;div class="m-box"&gt;
        &lt;div class="m-test1"&gt;徐&lt;/div&gt;
        &lt;div class="m-test2"&gt;同保&lt;/div&gt;
    &lt;/div&gt;
    display:flex
    &lt;div class="m-flex"&gt;
        &lt;div class="m-test3"&gt;徐&lt;/div&gt;
        &lt;div class="m-test4"&gt;同保&lt;/div&gt;
    &lt;/div&gt;   
    圣杯布局: 
    &lt;div class="m-flex"&gt;
        &lt;div class="m-test5"&gt;左&lt;/div&gt;
        &lt;div class="m-test6"&gt;中&lt;/div&gt;
        &lt;div class="m-test7"&gt;右&lt;/div&gt;
    &lt;/div&gt; 
    流式布局:
    &lt;div class="m-flex2"&gt;
        &lt;div class="m-test8"&gt;&lt;/div&gt;
        &lt;div class="m-test8"&gt;&lt;/div&gt;
        &lt;div class="m-test8"&gt;&lt;/div&gt;
        &lt;div class="m-test8"&gt;&lt;/div&gt;
        &lt;div class="m-test8"&gt;&lt;/div&gt;
        &lt;div class="m-test8"&gt;&lt;/div&gt;
        &lt;div class="m-test8"&gt;&lt;/div&gt;
        &lt;div class="m-test8"&gt;&lt;/div&gt;
        &lt;div class="m-test8"&gt;&lt;/div&gt;        
    &lt;/div&gt;
&lt;/body&gt;          
&lt;/html&gt;</code></pre><img src="https://img-blog.csdn.net/20180228104132281" alt=""><br><p><br></p><p><br></p><p><br></p>            ]]></description></item><item><title>倒影、阴影和文字特效 (reflect、shadow、text-shadow)</title><link>http://www.cnblogs.com/xutongbao/archive/2018/02/27/9924888.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 27 Feb 2018 09:39:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/02/27/9924888.html</guid><description><![CDATA[
                <pre><code class="language-html">&lt;!DOCTYPE html&gt;          
&lt;html&gt;          
&lt;head&gt;          
    &lt;meta charset="UTF-8"&gt;      
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"&gt;    
    &lt;title&gt;倒影、阴影和文字特效 (reflect、shadow、text-shadow)&lt;/title&gt;        
    &lt;style type="text/css"&gt;  
        body{margin: 0}
        .m-reflect{font-size: 36px;color: green;-webkit-box-reflect:below 0 linear-gradient(transparent,rgba(255,255,255,.3));} 
        .m-shadow{margin: 50px 0 0; width:300px;height:100px;background-color:#ff9900;box-shadow: 10px 10px 5px #888888;}
        .m-text-shadow{text-shadow: 2px 2px 2px green;font-size: 36px}
    &lt;/style&gt;        
&lt;/head&gt;          
&lt;body&gt;  
&lt;div class="m-reflect"&gt;徐同保&lt;/div&gt;
&lt;div class="m-shadow"&gt;&lt;/div&gt;
&lt;div class="m-text-shadow"&gt;徐同保&lt;/div&gt;
&lt;/body&gt;          
&lt;/html&gt;</code></pre><img src="https://img-blog.csdn.net/20180227173848909" alt=""><br><p><br></p><p><br></p><p><span style="color:#FF0000;"><strong>备注</strong></span>：欢迎加入web前端求职招聘qq群：<strong><span style="color:#000000;">668352707</span></strong><br></p>            ]]></description></item><item><title>多列 响应式布局</title><link>http://www.cnblogs.com/xutongbao/archive/2018/02/27/9924889.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 27 Feb 2018 08:46:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/02/27/9924889.html</guid><description><![CDATA[
                <pre><code class="language-html">&lt;!DOCTYPE html&gt;          
&lt;html&gt;          
&lt;head&gt;          
    &lt;meta charset="UTF-8"&gt;      
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"&gt;    
    &lt;title&gt;多列 响应式布局&lt;/title&gt;        
    &lt;style type="text/css"&gt;  
        body{margin: 0}
        .newspaper
        {
            padding: 10px;
            line-height: 30px;
            column-count:3;
            column-gap:40px;        
            column-rule:1px solid #ff0000;  
            text-align:justify;          
        }
        @media screen and (max-width: 767px) {  
            .newspaper {  
                column-count:1;
            }  
        }  
    &lt;/style&gt;        
&lt;/head&gt;          
&lt;body&gt;  
    &lt;div class="newspaper"&gt;
    人民网北京2月24日电 (记者 刘阳)国家发展改革委近日发出通知，决定自2月25日零时起将汽、柴油价格每吨分别提高300元和290元，折算到90号汽油和0号柴油（全国平均）每升零售价格分别提高0.22元和0.25元。

    此次国内成品油价格调整幅度，是按照现行国内成品油价格形成机制，根据国际市场油价变化情况确定的。去年11月16日国内成品油价格调整以来，受市场预期欧美经济复苏前景向好以及中东局势持续动荡等因素影响，国际市场原油价格先抑后扬，2月上旬WTI和布伦特原油期货价格再次回升至每桶95美元和115美元以上。虽然近两日价格有所回落，但国内油价挂钩的国际市场三种原油连续22个工作日移动平均价格上涨幅度已超过4%，达到国内成品油价格调整的边界条件。

    通知指出，这次成品油调价后，国家将按照已建立的补贴机制，继续对种粮农民、渔业（含远洋渔业）、林业、城市公交、农村道路客运（含岛际和农村水路客运）等给予补贴。同时，为保证市场物价基本稳定，防止连锁涨价，对与居民生活密切相关的铁路客运、城市公交、农村道路客运（含岛际和农村水路客运）价格不作调整。

    通知要求，中石油、中石化、中海油三大公司要组织好成品油生产和调运，保持合理库存，加强综合协调和应急调度，保障成品油供应。各级价格主管部门要加大市场监督检查力度，依法查处不执行国家价格政策，以及囤积居奇、造谣惑众、合谋涨价、搭车涨价等违法行为，维护正常市场秩序。
    &lt;/div&gt;
&lt;/body&gt;          
&lt;/html&gt;</code></pre><img src="https://img-blog.csdn.net/20180227164537734" alt=""><br><p><img src="https://img-blog.csdn.net/20180227164551211" alt=""></p><p><br></p><p><br></p><p><span style="color:#FF0000;"><strong>备注</strong></span>：欢迎加入web前端求职招聘qq群：<strong><span style="color:#000000;">668352707</span></strong><br></p>            ]]></description></item><item><title>CSS3新增伪类</title><link>http://www.cnblogs.com/xutongbao/archive/2018/02/27/9924890.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 27 Feb 2018 07:26:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/02/27/9924890.html</guid><description><![CDATA[
                <div>CSS3新增伪类</div><p>举例： <br></p><p>p:first-of-type <br></p><p>p:last-of-type&nbsp; <br></p><p>p:only-of-type&nbsp; <br></p><p>p:only-child&nbsp; <br></p><p>p:nth-child(2)</p><p> :after <br></p><p>:before</p><p>:not()<br></p><p><img src="https://img-blog.csdn.net/20180227152354104" alt=""><br></p><p><img src="https://img-blog.csdn.net/20180227152409756" alt=""><br></p><p><img src="https://img-blog.csdn.net/201802271524235" alt=""><br></p><p><img src="https://img-blog.csdn.net/20180227152437464" alt=""></p><p><img src="https://img-blog.csdn.net/20180227152501384" alt=""><br></p><p><img src="https://img-blog.csdn.net/20180227152511842" alt=""><br></p><p><br></p><p><img src="https://img-blog.csdn.net/20180227152517584" alt=""><br></p><p><img src="https://img-blog.csdn.net/20180227154220606" alt=""><br></p><p><br></p><p><br></p>            ]]></description></item><item><title>translate3d(x,y,z)的用法</title><link>http://www.cnblogs.com/xutongbao/archive/2018/02/23/9924891.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Fri, 23 Feb 2018 03:58:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/02/23/9924891.html</guid><description><![CDATA[
                <pre><code class="language-html">&lt;!DOCTYPE html&gt;          
&lt;html&gt;          
&lt;head&gt;          
    &lt;meta charset="UTF-8"&gt;      
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"&gt;    
    &lt;title&gt;translate3d(x,y,z)的用法&lt;/title&gt;        
    &lt;style type="text/css"&gt;  
        body{margin: 0}
        div{width: 60px;height: 60px;background-color: skyblue;}
        .moved{transform: perspective(500px) translate3d(20px, 0px, 0px);background-color: pink;transition: 0.3s;  }
        .moved:hover{transform: perspective(500px) translate3d(20px, 0px, 174px);}          
    &lt;/style&gt;        
&lt;/head&gt;          
&lt;body&gt;  
    &lt;div&gt;Static&lt;/div&gt;
    &lt;div class="moved"&gt;Moved&lt;/div&gt;
    &lt;div&gt;Static&lt;/div&gt;

    &lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;   
    &lt;script type="text/javascript"&gt;
    &lt;/script&gt;
&lt;/body&gt;          
&lt;/html&gt;</code></pre><br><p><img src="https://img-blog.csdn.net/20180223115732608" alt=""></p><p><br></p><p><span style="color:#FF0000;"><strong>备注</strong></span>：欢迎加入web前端求职招聘qq群：<strong><span style="color:#000000;">668352707</span></strong><br></p>            ]]></description></item><item><title>伪类选择器:checked将作用与input类型为radio或者checkbox以及option</title><link>http://www.cnblogs.com/xutongbao/archive/2018/02/23/9924892.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Fri, 23 Feb 2018 02:58:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/02/23/9924892.html</guid><description><![CDATA[
                <pre><code class="language-html">&lt;!DOCTYPE html&gt;          
&lt;html&gt;          
&lt;head&gt;          
    &lt;meta charset="UTF-8"&gt;      
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"&gt;    
    &lt;title&gt;伪类选择器:checked将作用与input类型为radio或者checkbox以及option&lt;/title&gt;        
    &lt;style type="text/css"&gt;  
        option:checked {color: red;}
        input:checked + span {background: #f00;}
        input:checked + span:after{content:" 我被选中了";}
    &lt;/style&gt;        
&lt;/head&gt;          
&lt;body&gt;  
    &lt;select&gt;
        &lt;option&gt;Volvo&lt;/option&gt;
        &lt;option selected="selected"&gt;Saab&lt;/option&gt;
        &lt;option&gt;Mercedes&lt;/option&gt;
        &lt;option&gt;Audi&lt;/option&gt;
    &lt;/select&gt;

    &lt;div&gt;&lt;input type="radio" name="sex" value="male" checked&gt;&lt;span&gt;Male&lt;/span&gt;&lt;div&gt;
    &lt;div&gt;&lt;input type="radio" name="sex" value="female"&gt;&lt;span&gt;Female&lt;/span&gt;&lt;/div&gt; 

    &lt;div&gt;&lt;input type="checkbox" name="group" value="red" checked&gt;&lt;span&gt;red&lt;/span&gt;&lt;div&gt;
    &lt;div&gt;&lt;input type="checkbox" name="group" value="blue"&gt;&lt;span&gt;blue&lt;/span&gt;&lt;/div&gt; 

    &lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;   
    &lt;script type="text/javascript"&gt;
    &lt;/script&gt;
&lt;/body&gt;          
&lt;/html&gt;</code></pre><br><p><img src="https://img-blog.csdn.net/20180223105730489" alt=""></p><p><br></p><p><span style="color:#FF0000;"><strong>备注</strong></span>：欢迎加入web前端求职招聘qq群：<strong><span style="color:#000000;">668352707</span></strong><br></p>            ]]></description></item><item><title>对行内元素设置margin-top和margin-bottom是否起作用</title><link>http://www.cnblogs.com/xutongbao/archive/2018/02/23/9924893.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Fri, 23 Feb 2018 01:53:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/02/23/9924893.html</guid><description><![CDATA[
                <p>对行内元素设置margin-top 和margin-bottom是否起作用？</p><p>不起作用。（需要注意行内元素的替换元素img、input，他们是行内元素，但是可以为其设置宽高，并且margin属性也是对其起作用的，有着类似于Inline-block的行为）</p><pre><code class="language-html">&lt;!DOCTYPE html&gt;          
&lt;html&gt;          
&lt;head&gt;          
    &lt;meta charset="UTF-8"&gt;      
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"&gt;    
    &lt;title&gt;对行内元素设置margin-top和margin-bottom是否起作用&lt;/title&gt;        
    &lt;style type="text/css"&gt;  
        .m-test1{margin: 100px;}
        .m-test2{margin: 100px;}
        .m-test3{margin: 100px;}
    &lt;/style&gt;        
&lt;/head&gt;          
&lt;body&gt;  
    &lt;div&gt;&lt;span class="m-test1"&gt;xu&lt;/span&gt;&lt;/div&gt;
    &lt;div&gt;&lt;img class="m-test2" src="https://ss1.bdstatic.com/70cFvXSh_Q1YnxGkpoWK1HF6hhy/it/u=3240464600,3985442193&amp;fm=27&amp;gp=0.jpg"&gt;&lt;/div&gt;
    &lt;div&gt;&lt;input type="text" class="m-test3"&gt;&lt;/div&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;   
    &lt;script type="text/javascript"&gt;
    &lt;/script&gt;
&lt;/body&gt;          
&lt;/html&gt;</code></pre><strong><span style="color:#000000;"><span style="color:#FF0000;"><strong>备注</strong></span>：欢迎加入web前端求职招聘qq群：<strong><span style="color:#000000;">668352707</span></strong></span></strong><br>            ]]></description></item><item><title>个人作品</title><link>http://www.cnblogs.com/xutongbao/archive/2018/02/12/11915738.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Mon, 12 Feb 2018 03:06:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/02/12/11915738.html</guid><description><![CDATA[
                                            <p>2018-09-20</p>

<p>使用vis插件，结合公司业务制作的路径图</p>

<p><img alt="" class="has" src="https://img-blog.csdn.net/201809201504020?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>

<p>1.教程站列表页</p>

<p><a href="http://www.66rpg.com/j/" rel="nofollow">http://www.66rpg.com/j/</a></p>

<p><img alt="" class="has" src="https://img-blog.csdn.net/20180212110725298"></p>

<p>&nbsp;</p>

<p>2.教程站详情页</p>

<p><a href="http://www.66rpg.com/j/109" rel="nofollow">http://www.66rpg.com/j/109</a></p>

<p><img alt="" class="has" src="https://img-blog.csdn.net/20180212110913838"></p>

<p>&nbsp;</p>

<p>3.教程站列表页（移动端）</p>

<p><a href="http://www.66rpg.com/j/m/index.php?" rel="nofollow">http://www.66rpg.com/j/m/index.php?</a></p>

<p><img alt="" class="has" src="https://img-blog.csdn.net/20180212111028258"></p>

<p>&nbsp;</p>

<p>4.教程站详情页（移动端）</p>

<p><a href="http://www.66rpg.com/j/m/14" rel="nofollow">http://www.66rpg.com/j/m/14</a></p>

<p><img alt="" class="has" src="https://img-blog.csdn.net/20180212111120620"></p>

<p>&nbsp;</p>

<p>5.专辑页（移动端）</p>

<p><a href="http://m.66rpg.com/album/index" rel="nofollow">http://m.66rpg.com/album/index</a></p>

<p><img alt="" class="has" src="https://img-blog.csdn.net/20180212111726158"></p>

<p>&nbsp;</p>

<p>6.抽奖页</p>

<p><a href="http://www.66rpg.com/active/lottery?active_id=7056enl4vSB3i2W8nMskt5x4ZVgcEdqQIbFt6568ew" rel="nofollow">http://www.66rpg.com/active/lottery?active_id=7056enl4vSB3i2W8nMskt5x4ZVgcEdqQIbFt6568ew</a></p>

<p><img alt="" class="has" src="https://img-blog.csdn.net/20180212112152536"></p>

<p>&nbsp;</p>

<p>7.抽奖页（移动端）</p>

<p><a href="http://m.66rpg.com/active/lottery?active_id=7056enl4vSB3i2W8nMskt5x4ZVgcEdqQIbFt6568ew" rel="nofollow">http://m.66rpg.com/active/lottery?active_id=7056enl4vSB3i2W8nMskt5x4ZVgcEdqQIbFt6568ew</a><img alt="" class="has" src="https://img-blog.csdn.net/201802121123283"></p>

<p>&nbsp;</p>

<p>8.我的活动页（需要登录才能访问）</p>

<p><a href="http://www.66rpg.com/home/activity" rel="nofollow">http://www.66rpg.com/home/activity</a></p>

<p><img alt="" class="has" src="https://img-blog.csdn.net/20180212112706606"></p>

<p><img alt="" class="has" src="https://img-blog.csdn.net/20180212112716204"></p>

<p><img alt="" class="has" src="https://img-blog.csdn.net/20180212112724829"></p>

<p><img alt="" class="has" src="https://img-blog.csdn.net/2018021211273751"></p>

<p>&nbsp;</p>

<p>9.新手引导（app内嵌h5）</p>

<p><a href="http://m.66rpg.com/list/guide.html" rel="nofollow">http://m.66rpg.com/list/guide.html</a></p>

<p><img alt="" class="has" src="https://img-blog.csdn.net/20180410095547982"></p>

<p><img alt="" class="has" src="https://img-blog.csdn.net/20180410095620904"></p>

<p>10.使用cms发布的静态页面（响应式页面，兼容移动端和pc，我负责写模板和样式，内容由编辑负责）</p>

<p><a href="http://www.66rpg.com/monthly/t_21/51.shtml" rel="nofollow">http://www.66rpg.com/monthly/t_21/51.shtml</a></p>

<p><a href="http://www.66rpg.com/monthly/t_21/124.shtml" rel="nofollow">http://www.66rpg.com/monthly/t_21/124.shtml</a></p>

<p><a href="http://www.66rpg.com/monthly/t_21/127.shtml" rel="nofollow">http://www.66rpg.com/monthly/t_21/127.shtml</a></p>

<p><img alt="" class="has" src="https://img-blog.csdn.net/20180410105037529"></p>

<p>&nbsp;</p>

<p>11.忘记密码（含移动端）</p>

<p>http://passport.66rpg.com/user/findpwd.shtml</p>

<p>http://passport.66rpg.com/mobile/user/findpwd.shtml<img alt="" class="has" src="https://img-blog.csdn.net/20180709155121993?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>

<p>&nbsp;</p>

<p><img alt="" class="has" src="https://img-blog.csdn.net/20180709155129509?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p><img alt="" class="has" src="https://img-blog.csdn.net/2018041009563695"></p>

<p>&nbsp;</p>                                    ]]></description></item><item><title>个人作品</title><link>http://www.cnblogs.com/xutongbao/archive/2018/02/12/9924894.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Mon, 12 Feb 2018 03:06:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/02/12/9924894.html</guid><description><![CDATA[<p>2018-09-20</p>
<p>使用vis插件，结合公司业务制作的路径图</p>
<p><img class="has" src="https://img-blog.csdn.net/201809201504020?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="" /></p>
<p>1.教程站列表页</p>
<p><a href="http://www.66rpg.com/j/" rel="nofollow">http://www.66rpg.com/j/</a></p>
<p><img class="has" src="https://img-blog.csdn.net/20180212110725298" alt="" /></p>
<p>&nbsp;</p>
<p>2.教程站详情页</p>
<p><a href="http://www.66rpg.com/j/109" rel="nofollow">http://www.66rpg.com/j/109</a></p>
<p><img class="has" src="https://img-blog.csdn.net/20180212110913838" alt="" /></p>
<p>&nbsp;</p>
<p>3.教程站列表页（移动端）</p>
<p><a href="http://www.66rpg.com/j/m/index.php?" rel="nofollow">http://www.66rpg.com/j/m/index.php?</a></p>
<p><img class="has" src="https://img-blog.csdn.net/20180212111028258" alt="" /></p>
<p>&nbsp;</p>
<p>4.教程站详情页（移动端）</p>
<p><a href="http://www.66rpg.com/j/m/14" rel="nofollow">http://www.66rpg.com/j/m/14</a></p>
<p><img class="has" src="https://img-blog.csdn.net/20180212111120620" alt="" /></p>
<p>&nbsp;</p>
<p>5.专辑页（移动端）</p>
<p><a href="http://m.66rpg.com/album/index" rel="nofollow">http://m.66rpg.com/album/index</a></p>
<p><img class="has" src="https://img-blog.csdn.net/20180212111726158" alt="" /></p>
<p>&nbsp;</p>
<p>6.抽奖页</p>
<p><a href="http://www.66rpg.com/active/lottery?active_id=7056enl4vSB3i2W8nMskt5x4ZVgcEdqQIbFt6568ew" rel="nofollow">http://www.66rpg.com/active/lottery?active_id=7056enl4vSB3i2W8nMskt5x4ZVgcEdqQIbFt6568ew</a></p>
<p><img class="has" src="https://img-blog.csdn.net/20180212112152536" alt="" /></p>
<p>&nbsp;</p>
<p>7.抽奖页（移动端）</p>
<p><a href="http://m.66rpg.com/active/lottery?active_id=7056enl4vSB3i2W8nMskt5x4ZVgcEdqQIbFt6568ew" rel="nofollow">http://m.66rpg.com/active/lottery?active_id=7056enl4vSB3i2W8nMskt5x4ZVgcEdqQIbFt6568ew</a><img class="has" src="https://img-blog.csdn.net/201802121123283" alt="" /></p>
<p>&nbsp;</p>
<p>8.我的活动页（需要登录才能访问）</p>
<p><a href="http://www.66rpg.com/home/activity" rel="nofollow">http://www.66rpg.com/home/activity</a></p>
<p><img class="has" src="https://img-blog.csdn.net/20180212112706606" alt="" /></p>
<p><img class="has" src="https://img-blog.csdn.net/20180212112716204" alt="" /></p>
<p><img class="has" src="https://img-blog.csdn.net/20180212112724829" alt="" /></p>
<p><img class="has" src="https://img-blog.csdn.net/2018021211273751" alt="" /></p>
<p>&nbsp;</p>
<p>9.新手引导（app内嵌h5）</p>
<p><a href="http://m.66rpg.com/list/guide.html" rel="nofollow">http://m.66rpg.com/list/guide.html</a></p>
<p><img class="has" src="https://img-blog.csdn.net/20180410095547982" alt="" /></p>
<p><img class="has" src="https://img-blog.csdn.net/20180410095620904" alt="" /></p>
<p>10.使用cms发布的静态页面（响应式页面，兼容移动端和pc，我负责写模板和样式，内容由编辑负责）</p>
<p><a href="http://www.66rpg.com/monthly/t_21/51.shtml" rel="nofollow">http://www.66rpg.com/monthly/t_21/51.shtml</a></p>
<p><a href="http://www.66rpg.com/monthly/t_21/124.shtml" rel="nofollow">http://www.66rpg.com/monthly/t_21/124.shtml</a></p>
<p><a href="http://www.66rpg.com/monthly/t_21/127.shtml" rel="nofollow">http://www.66rpg.com/monthly/t_21/127.shtml</a></p>
<p><img class="has" src="https://img-blog.csdn.net/20180410105037529" alt="" /></p>
<p>&nbsp;</p>
<p>11.忘记密码（含移动端）</p>
<p>http://passport.66rpg.com/user/findpwd.shtml</p>
<p>http://passport.66rpg.com/mobile/user/findpwd.shtml<img class="has" src="https://img-blog.csdn.net/20180709155121993?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="" /></p>
<p>&nbsp;</p>
<p><img class="has" src="https://img-blog.csdn.net/20180709155129509?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="" /></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><img class="has" src="https://img-blog.csdn.net/2018041009563695" alt="" /></p>
<p>&nbsp;</p>
<p>&nbsp;<img src="https://img2018.cnblogs.com/blog/1243192/201811/1243192-20181123103629959-1366347905.jpg" alt="" /></p>]]></description></item><item><title>CSS3 渐变文字</title><link>http://www.cnblogs.com/xutongbao/archive/2018/02/12/9924895.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Mon, 12 Feb 2018 03:01:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/02/12/9924895.html</guid><description><![CDATA[
                <pre><code class="language-html">&lt;!DOCTYPE html&gt;          
&lt;html&gt;          
&lt;head&gt;          
    &lt;meta charset="UTF-8"&gt;      
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"&gt;    
    &lt;title&gt;CSS3 渐变文字&lt;/title&gt;        
    &lt;style type="text/css"&gt;  
      .text-gradient {  display: inline-block;color: green;font-size: 24px;font-family: '微软雅黑';background-image: -webkit-linear-gradient(left, rgb(255, 118, 92), rgb(255, 35, 179));-webkit-background-clip: text;-webkit-text-fill-color: transparent;}; 
    &lt;/style&gt;        
&lt;/head&gt;          
&lt;body&gt;  
  &lt;div class="text-gradient"&gt;徐同保&lt;/div&gt; 
&lt;/body&gt;          
&lt;/html&gt;</code></pre><br>            ]]></description></item><item><title>H5 tab切换页面</title><link>http://www.cnblogs.com/xutongbao/archive/2018/02/11/9924896.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Sun, 11 Feb 2018 10:42:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/02/11/9924896.html</guid><description><![CDATA[
                <pre><code class="language-html">&lt;!DOCTYPE html&gt;          
&lt;html&gt;          
&lt;head&gt;          
    &lt;meta charset="UTF-8"&gt;      
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"&gt;    
    &lt;title&gt;H5 tab切换页面&lt;/title&gt;        
    &lt;style type="text/css"&gt;    
      html{margin: 0; padding: 0;}
      body{margin: 0 auto; padding: 0;max-width: 1000px; background: #f5f6f8;font-size: 14px;}
      .m-header{position: relative; height: 0.48rem;line-height: 0.48rem; font-size:0.16rem;border-bottom:1px solid #EBEBEB; text-align: center;color: #2C2C2C;letter-spacing: 0;background: #fff;}
      .m-return {position: absolute;display: inline-block;top:0.13rem;left: 0.12rem;width: 0.14rem; height: 0.22rem; background-image: url(http://c2.cgyouxi.com/website/mobile/img/arrow-l.png?v=20180122);background-size: 100% 100%;}
      .m-tab{position: relative;padding: 0.40rem 0 0; width: 100%;background: #fff;}
      .m-tab a{position: absolute; display: inline-block;width: 50%; font-size: 0.14rem;color: #2C2C2C;letter-spacing: 0;line-height: 0.38rem;text-align: center;text-decoration: none;}
      .m-tab a:first-child{top: 0;left: 0; }
      .m-tab a.m-coupons{top:0; right:0;}
      .m-tab a.active{border-bottom: 2px solid #FFAC28;}
      .m-division{height: 1px; background:#EBEBEB;} 
      .m-view1{background: #fff;height: 200px;}    
      .m-view2{background: #fff;height: 200px;}       
      @media screen and (min-width: 360px) {  
        html {
          font-size: 100px!important;
        }
      }

    &lt;/style&gt;   
    &lt;script type="text/javascript"&gt;  
      document.documentElement.style.fontSize = document.documentElement.clientWidth / 3.6 + 'px';
      (function (doc, win) {
          var docEl = doc.documentElement;
          var resizeEvt = 'orientationchange' in window ? 'orientationchange' : 'resize';

          var recalc = function () {
              var clientWidth = docEl.clientWidth;
              if (!clientWidth) {
                  return;
              }
              docEl.style.fontSize = 100 * (clientWidth / 360) + 'px';
          };

          if (!doc.addEventListener) {
              return;
          }
          win.addEventListener(resizeEvt, recalc, false);
          doc.addEventListener('DOMContentLoaded', recalc, false);
      })(document, window);     
    &lt;/script&gt;        
&lt;/head&gt;          
&lt;body&gt;  
  &lt;div class="m-header" id="m-header"&gt;
  &lt;div class="m-return" id="m-return"&gt;&lt;/div&gt;
  我的活动
  &lt;/div&gt;
  &lt;div class="m-tab"&gt;
    &lt;a href="javascript:void(0);" id="m-my-invite" class="active"&gt;我邀请的好友&lt;/a&gt;
    &lt;a href="javascript:void(0);" id="m-my-coupons" class="m-coupons"&gt;我的赠送券&lt;/a&gt;
    &lt;div class="m-division"&gt;&lt;/div&gt;  
  &lt;/div&gt;  
  &lt;div id="m-view1" class="m-view1"&gt;
    1
  &lt;/div&gt;
  &lt;div id="m-view2" class="m-view2" style="display: none;"&gt; 
    2
  &lt;/div&gt;  
  &lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;    
  &lt;script type="text/javascript"&gt;    
    $('#m-return').on('click', function() {
      window.history.back()
    });  
    var myCoupons = $('#m-my-coupons');
    var myInvite = $('#m-my-invite');
    var view1 = $('#m-view1');
    var view2 = $('#m-view2');  
    $('#m-return').on('click', function() {
      window.history.back()
    });
    myInvite.on('click', function() {
      myCoupons.removeClass('active');
      myInvite.addClass('active');
      view2.hide();
      view1.show(); 
    });
    myCoupons.on('click', function() {
      myInvite.removeClass('active');
      myCoupons.addClass('active');     
      view1.hide();
      view2.show();   
    });   
  &lt;/script&gt;    
&lt;/body&gt;          
&lt;/html&gt;</code></pre><br><p><img src="https://img-blog.csdn.net/20180211184136325" alt=""></p><p><br></p><p><strong><span style="color:#000000;"><span style="color:#FF0000;"><strong>备注</strong></span>：欢迎加入web前端求职招聘qq群：<strong><span style="color:#000000;">668352707</span></strong></span></strong><br></p>            ]]></description></item><item><title>网页分享功能 支持 微信二维码  qq空间  qq好友  新浪微博  百度贴吧  豆瓣  人人</title><link>http://www.cnblogs.com/xutongbao/archive/2018/02/09/9924897.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Fri, 09 Feb 2018 06:11:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/02/09/9924897.html</guid><description><![CDATA[
                <pre><code class="language-html">&lt;!DOCTYPE html&gt;        
&lt;html lang="en"&gt;        
&lt;head&gt;        
    &lt;meta charset="UTF-8"&gt;        
    &lt;title&gt;网页分享功能&lt;/title&gt;      
    &lt;style type="text/css"&gt;
        body{margin: 0;}  
        .m-pop-bg{position: fixed;width: 100%;top: 0;bottom: 0;right: 0;overflow: auto; background-color: rgba(0,0,0,0.6);z-index: 9999;}
        .m-pop{position:absolute;left:50%;top:50%;width: 320px; height: 310px;transform:translate(-50%,-50%);-webkit-transform:translate(-50%,-50%);background-color:#fff;border-radius:4px;}
        .m-pop-img{margin-top: 30px;text-align: center;}
        .m-pop-footer{text-align: center;}
    &lt;/style&gt;   
&lt;/head&gt;        
&lt;body&gt;  
    &lt;div id="m-share"&gt;
        &lt;button id="m-wechat"&gt;微信二维码&lt;/button&gt;
        &lt;button id="m-qzone"&gt;qq空间&lt;/button&gt;
        &lt;button id="m-qq"&gt;qq好友&lt;/button&gt;
        &lt;button id="m-weibo"&gt;新浪微博&lt;/button&gt;
        &lt;button id="m-tieba"&gt;百度贴吧&lt;/button&gt;
        &lt;button id="m-douban"&gt;豆瓣&lt;/button&gt;
        &lt;button id="m-renren"&gt;人人&lt;/button&gt;
    &lt;/div&gt;

    &lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;  
    &lt;script type="text/javascript"&gt;  
        $(function() {
            var initShare = function() {
                $('#m-share').on('click', 'button', function(){
                    var that = $(this), conf = {},
                        name, title, summary, shareChannel, shareData = {};
                    var shareUrl = 'https://www.baidu.com/';
                    var gname = '快来看我投资的《官居几品》';
                    var summary = '我投资的作品，怎么可能不好看，免费资格送给你，快来体验吧！';
                    var img = 'http://coursecdn.cgyouxi.com/j/images/logo.png?v=20170804';
                    if(that.attr('id') === 'm-wechat'){
                        name = 'wechat';
                        shareChannel = 4;
                        shareData =  {
                            url: shareUrl,
                            cid: '',
                            btn_type: 'flash'
                        }
                    } else if (that.attr('id') === 'm-qzone'){
                        name = 'qzone';
                        shareChannel = 2;
                        shareData = {
                            url : shareUrl,
                            title: gname,
                            desc: '超带感，根本停不下来！',
                            summary: summary,
                            img: img
                        }
                    } else if (that.attr('id') === 'm-qq'){
                        name = 'qq';
                        shareChannel = 3;
                        shareData = {
                            url : shareUrl,
                            title: gname,
                            desc: '',
                            summary: summary,
                            img: img
                        }
                    } else if (that.attr('id') === 'm-weibo') {
                        name = 'weibo';
                        shareChannel = 1;
                        shareData = {
                            url: shareUrl,
                            title: gname,
                            desc: '超带感，根本停不下来！',
                            summary: summary,                            
                            img: img
                        }
                    } else if (that.attr('id') === 'm-tieba') {
                        name = 'tieba';
                        shareChannel = 6;
                        shareData = {
                            url: shareUrl,
                            title: gname,
                            desc: '超带感，根本停不下来！',
                            summary: summary,                            
                            img: img
                        }
                    } else if (that.attr('id') === 'm-douban') {
                        name = 'douban';
                        shareChannel = 7;
                        shareData = {
                            url: shareUrl,
                            title: gname,
                            desc: '超带感，根本停不下来！',
                            summary: summary,                            
                            img: img
                        }
                    } else if (that.attr('id') === 'm-renren') {
                        name = 'renren';
                        shareChannel = 8;
                        shareData = {
                            url: shareUrl,
                            title: gname,
                            desc: '超带感，根本停不下来！',
                            summary: summary,                            
                            img: img
                        }
                    }

                    conf = {
                        platForm: 0,
                        shareChnnel: shareChannel
                    };
                    myShare(name, shareData, conf);
                    if ($('#qrdiv').length &gt; 0) {
                        $('#qrdiv').css({'position': 'fixed'});
                    }
                });
            };

            var init = function() {
                initShare();
            }();      

            var config = {
                'weibo': 'http://service.weibo.com/share/share.php?title=#TITLE#&amp;appkey=1343713053&amp;pic=#PIC#&amp;searchPic=false',
                'qzone': 'http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=#URL#&amp;showcount=1&amp;desc=#DESC#&amp;summary=#SUMMARY#&amp;title=#TITLE#&amp;site=橙光中心&amp;pics=#PIC#&amp;style=203&amp;width=98&amp;height=22',
                'wechat': {cid: '', gindex: '', btn_type: ''},
                'tieba': 'http://tieba.baidu.com/f/commit/share/openShareApi?url=#URL#&amp;title=#TITLE#&amp;desc=&amp;comment=&amp;pic=#PIC#',
                'qq': 'http://connect.qq.com/widget/shareqq/index.html?url=#URL#&amp;title=#TITLE#&amp;desc=#DESC#&amp;summary=#SUMMARY#&amp;site=www.66rpg.com&amp;pics=#PIC#',
                'douban': 'http://www.douban.com/share/service?href=#URL#&amp;name=#TITLE#&amp;text=#SUMMARY#&amp;image=#PIC#',
                'renren': 'http://widget.renren.com/dialog/share?resourceUrl=#URL#&amp;srcUrl=&amp;title=#TITLE#&amp;pic=#PIC#&amp;description=#SUMMARY#',
            };
            var orgShare = {
                share: function(name, obj, conf){
                    if(name != 'wechat'){
                        if(name == 'weibo'){
                            var url = config[name].replace('#TITLE#', encodeURIComponent(obj.title))
                                .replace('#DESC#', encodeURIComponent(obj.desc))
                                .replace('#SUMMARY#', encodeURIComponent(obj.summary))
                                .replace('#PIC#', encodeURI(obj.img));
                        } else {
                            var url = config[name].replace('#URL#', obj.url)
                                .replace('#TITLE#', encodeURIComponent(obj.title))
                                .replace('#DESC#', encodeURIComponent(obj.desc))
                                .replace('#SUMMARY#', encodeURIComponent(obj.summary))
                                .replace('#PIC#', encodeURI(obj.img));
                        }
                        orgShare.openWindow(url);
                    } else {
                        orgShare.makeQRcode(obj);
                    }

                },
                openWindow: function(url) {
                    window.open(url, "", "width=700, height=680, top=" + (screen.height / 2 - 340) + ", left=" + (screen.width / 2 - 350) + ", toolbar=no, menubar=no, scrollbars=no, location=yes, resizable=no, status=no");
                    return false;
                },
                makeQRcode: function(obj) {
                    var html = '&lt;div id="m-pop-bg" class="m-pop-bg"&gt;' +
                        '&lt;div id="m-pop" class="m-pop"&gt;' +
                        '&lt;div class="m-pop-img" &gt;&lt;img src="http://www.66rpg.com/redirect/make_code_url?size=6&amp;url=https://www.baidu.com/"&gt;&lt;/div&gt;' +
                        '&lt;div class="m-pop-footer"&gt;微信扫一扫即可分享给好友&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;';
                    $('body').append(html);
                }
            };

            $(document).on("click", "#m-pop-bg", function () {
                $("#m-pop-bg").remove();
            })
            $(document).on("click", "#m-pop", function (e) {
                e.stopPropagation();
                e.preventDefault();
            })
            
            var myShare = orgShare.share;                    
        });      
    &lt;/script&gt;  
&lt;/body&gt;        
&lt;/html&gt; </code></pre><br><br><img src="https://img-blog.csdn.net/20180209140949223" alt=""><br>            ]]></description></item><item><title>js 分页</title><link>http://www.cnblogs.com/xutongbao/archive/2018/02/08/9924898.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 08 Feb 2018 08:30:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/02/08/9924898.html</guid><description><![CDATA[
                <pre><code class="language-html">&lt;!DOCTYPE html&gt;        
&lt;html lang="en"&gt;        
&lt;head&gt;        
    &lt;meta charset="UTF-8"&gt;        
    &lt;title&gt;js 分页&lt;/title&gt;      
    &lt;style type="text/css"&gt;  
        .m-pagination{margin: 0 ;text-align:center;display: inline-block;}
        .m-pagination li{text-align: center;float: left;font-size: 14px;border: 1px solid #ccc;margin: 2px;padding: 0px 10px;cursor: pointer;line-height: 20px;list-style-type: none;}
        .m-pagination .m-current{font-weight: bold;}
        .m-pagination .m-jump-input{outline:none;border:0;margin:0;padding:0;width:36px;height:18px;line-height:18px;text-align:center;}
        .m-pagination .m-jump{padding: 0 10px 0 0;}
        .m-pagination .m-jump-btn{display:inline-block;height:100%;border-left:1px solid #DDD;padding-left:10px;}
  &lt;/style&gt;   
&lt;/head&gt;        
&lt;body&gt;  
    &lt;div&gt;&lt;ul id="m-pagination" class="m-pagination"&gt;&lt;/ul&gt;&lt;/div&gt;

    &lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;  
    &lt;script type="text/javascript"&gt;  
        var pageFixed = function(user_config) {
            var c, end, i, k, l_offset, r_offset, start, v, _i;
            c = {
                id: 1,
                total: 1,
                limit: 10,
                render: function (id, flag) {
                }
            };
            for (k in user_config) {
                v = user_config[k];
                c[k] = v;
            }
            start = Math.ceil(c.id + 1 - c.limit / 2);
            end = start + c.limit - 1;
            if (start &lt; 1) {
                l_offset = 1 - start;
                start = 1;
                end += l_offset;
            }
            if (end &gt; c.total) {
                r_offset = end - c.total;
                start = Math.max(1, start - r_offset);
                end = c.total;
            }
            c.render(1, 'start');
            if (start &gt; 1) {
                c.render(Math.max(1, c.id - c.limit), 'pre_group');
            }
            for (i = _i = start; start &lt;= end ? _i &lt;= end : _i &gt;= end; i = start &lt;= end ? ++_i : --_i) {
                if (i === c.id) {
                    c.render(i, 'current');
                } else {
                    c.render(i, 'nearby');
                }
            }
            if (end &lt; c.total) {
                c.render(Math.min(c.total, c.id + c.limit), 'next_group');
            }
            c.render(c.total, 'end');
            c.render(c.total, 'jump');
        };

        var render_page_new = function(id, total) {
            var pagination = $('#m-pagination');
            pagination.html('');
            if (total &gt; 1) {
                pageFixed({
                    id: id,
                    limit: 6,
                    total: total,
                    render: function (id, flag) {
                        switch (flag) {
                            case 'start':
                                return pagination.append('&lt;li data-page-id="' + id + '"&gt;&lt;span&gt;首页&lt;/span&gt;&lt;/li&gt;');
                            case 'pre_group':
                                return pagination.append('&lt;li data-page-id="' + id + '"&gt;&lt;span&gt;...&lt;/span&gt;&lt;/li&gt;');
                            case 'nearby':
                                return pagination.append('&lt;li data-page-id="' + id + '"&gt;&lt;span&gt;' + id + '&lt;/span&gt;&lt;/li&gt;');
                            case 'current':
                                return pagination.append('&lt;li class="m-current" data-page-id="' + id + '"&gt;&lt;span&gt;' + id + '&lt;/span&gt;&lt;/li&gt;');
                            case 'next_group':
                                return pagination.append('&lt;li data-page-id="' + id + '"&gt;&lt;span&gt;...&lt;/span&gt;&lt;/li&gt;');
                            case 'end':
                                return pagination.append('&lt;li id="m-end" data-page-id="' + id + '"&gt;&lt;span&gt;尾页&lt;/span&gt;&lt;/li&gt;');
                            case 'jump':
                                return pagination.append('&lt;li class="m-jump"&gt;&lt;input value="' + Math.ceil(total / 2) + '" id="m-jump-input" type="text" class="m-jump-input"&gt;&lt;span class="m-jump-btn" id="m-jump-btn"&gt;跳转&lt;/span&gt;&lt;/li&gt;');
                        }
                    }
                });
            }
        };
        render_page_new(1, 30);
        $('#m-pagination').on('click', 'li', function (e) {
            var that = $(this);
            var page_id;
            e.preventDefault();
            if (that.hasClass('m-jump')) {

            } else {
                if (!$(this).hasClass('current')) {
                    page_id = $(this).data('page-id');
                    render_page_new(page_id, 30);
                }
            }
        });
        $('#m-pagination').on('click', '#m-jump-btn', function (e) {
            var page_id = $('#m-jump-input').val();
            if (isNaN(page_id) || page_id == '' || page_id &lt;= 0) {
                alert('请输入正确的页数！');
            } else if (parseInt(page_id) &gt; parseInt($('#m-end').data('page-id'))) {
                alert('您输入的页数过大！');
            } else {
                render_page_new(page_id - 0, 30);
            }
        });
    &lt;/script&gt;  
&lt;/body&gt;        
&lt;/html&gt; 
</code></pre><br><img src="https://img-blog.csdn.net/2018020816293362" alt="">            ]]></description></item><item><title>js 去掉字符串中的非数字</title><link>http://www.cnblogs.com/xutongbao/archive/2018/02/08/9924899.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 08 Feb 2018 03:12:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/02/08/9924899.html</guid><description><![CDATA[
                <pre><code class="language-html">&lt;!DOCTYPE html&gt;        
&lt;html lang="en"&gt;        
&lt;head&gt;        
    &lt;meta charset="UTF-8"&gt;        
    &lt;title&gt;js 去掉字符串中的非数字&lt;/title&gt;      
    &lt;style type="text/css"&gt;  
    &lt;/style&gt;   
&lt;/head&gt;        
&lt;body&gt;  
  &lt;input type="text" id="m-code"&gt;
  &lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;  
  &lt;script type="text/javascript"&gt;  
    $('#m-code').on('keyup', function() {
      var val = $(this).val();
      val = val.replace(/[^0-9]/ig,"");
      $(this).val(val);
    });
  &lt;/script&gt;  
&lt;/body&gt;        
&lt;/html&gt; 
</code></pre><br>            ]]></description></item><item><title>js replaceAll的实现</title><link>http://www.cnblogs.com/xutongbao/archive/2018/02/07/9924900.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 07 Feb 2018 03:58:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/02/07/9924900.html</guid><description><![CDATA[
                
<pre><code class="language-html">&lt;!DOCTYPE html&gt;        
&lt;html lang="en"&gt;        
&lt;head&gt;        
    &lt;meta charset="UTF-8"&gt;        
    &lt;title&gt;js replaceAll的实现&lt;/title&gt;      
    &lt;style type="text/css"&gt;  
    &lt;/style&gt;   
&lt;/head&gt;        
&lt;body&gt;  
  &lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;  
  &lt;script type="text/javascript"&gt;  
    var s = 'xu同保xu'
    s = s.replace(new RegExp('xu',"gm"), '徐');
    console.log(s);
  &lt;/script&gt;  
&lt;/body&gt;        
&lt;/html&gt; 
</code></pre><br>            ]]></description></item><item><title>H5弹出toast</title><link>http://www.cnblogs.com/xutongbao/archive/2018/02/06/9924901.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 06 Feb 2018 10:24:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/02/06/9924901.html</guid><description><![CDATA[
                <pre><code class="language-html">&lt;!DOCTYPE html&gt;            
&lt;html lang="en"&gt;            
&lt;head&gt;            
&lt;meta charset="UTF-8"&gt;     
&lt;meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" /&gt;       
&lt;title&gt;H5弹出toast&lt;/title&gt;          
&lt;style type="text/css"&gt;            
.m-toast-pop {display: none; position: fixed; width: 100%;top: 0;bottom: 0;right: 0;overflow: auto;text-align: center;}      
.m-toast-inner {position: absolute;left:50%;top:50%;width: 100%; transform:translate(-50%,-50%);-webkit-transform:translate(-50%,-50%);text-align: center;}
.m-toast-inner-text{display: inline-block;margin: 0 22px; padding: 19px 21px;font-size: 16px;color: #FFFFFF;letter-spacing: 0;line-height: 22px;background: rgba(0,0,0,0.72);border-radius: 10px;}   
&lt;/style&gt;           
&lt;/head&gt;            
&lt;body&gt;      
  &lt;button id="btn" class="m-btn"&gt;弹出toast&lt;/button&gt;    
  &lt;div id="m-toast-pop" class="m-toast-pop"&gt;      
    &lt;div class="m-toast-inner"&gt;&lt;div class="m-toast-inner-text" id="m-toast-inner-text"&gt;复制成功&lt;/div&gt;&lt;/div&gt;      
  &lt;/div&gt;     
  &lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;      
  &lt;script type="text/javascript"&gt;      
    $('#btn').on('click', function() {      
      $('#m-toast-inner-text').text('我是徐同保我是徐同保我是徐同保');    
      $('#m-toast-pop').fadeIn();    
      setTimeout(function() {    
      $('#m-toast-pop').fadeOut();    
      }, 2000);      
    });      
  &lt;/script&gt;      
&lt;/body&gt;            
&lt;/html&gt;  </code></pre><br><p><span style="color:#FF0000;"><strong>备注</strong></span>：欢迎加入web前端求职招聘qq群：<strong><span style="color:#000000;">668352707</span></strong></p><img src="https://img-blog.csdn.net/2018061211390324" alt=""><br><br>            ]]></description></item><item><title>元素自动滚动到可视范围内</title><link>http://www.cnblogs.com/xutongbao/archive/2018/01/19/9924902.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Fri, 19 Jan 2018 06:39:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/01/19/9924902.html</guid><description><![CDATA[
                <pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;元素自动滚动到可视范围内&lt;/title&gt;
    &lt;style type="text/css"&gt;
        .test{height: 5000px;background: #666;}
        .intoview{height: 100px;background: green;}
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div id="test" class="test"&gt;&lt;/div&gt;
    &lt;div id="m-intoview" class="intoview"&gt;1&lt;/div&gt;
    &lt;div id="test" class="test2"&gt;&lt;/div&gt;

    &lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;
    &lt;script type="text/javascript"&gt;
        $(function() {
            setTimeout(function() {
                //$("#m-intoview")[0].scrollIntoView(false);
                $("#m-intoview")[0].scrollIntoViewIfNeeded({behavior: "instant", block: "center", inline: "nearest"});
            }, 2000);
        });
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre><br>            ]]></description></item><item><title>超快的模板引擎 artTemplate.js</title><link>http://www.cnblogs.com/xutongbao/archive/2018/01/16/9924903.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 16 Jan 2018 07:44:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/01/16/9924903.html</guid><description><![CDATA[
                <pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;        
&lt;html lang="en"&gt;        
&lt;head&gt;        
    &lt;meta charset="UTF-8"&gt;        
    &lt;title&gt;超快的模板引擎 artTemplate.js&lt;/title&gt;      
    &lt;style type="text/css"&gt;  
    &lt;/style&gt;       
&lt;/head&gt;        
&lt;body&gt;  
  &lt;div id="content"&gt;&lt;/div&gt;
  
  &lt;script id="test" type="text/html"&gt;
    &lt;h1&gt;{{title}}&lt;/h1&gt;
    &lt;ul&gt;
        {{each list as value i}}
            &lt;li&gt;索引 {{i + 1}} ：{{value}}&lt;/li&gt;
        {{/each}}
    &lt;/ul&gt;
  &lt;/script&gt;

  &lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;
  &lt;script src="http://cdn.staticfile.org/artTemplate.js/3.0.1/template.js"&gt;&lt;/script&gt;
  &lt;script type="text/javascript"&gt; 
    var data = {
        title: '标签',
        list: ['文艺', '博客', '摄影', '电影', '民谣', '旅行', '吉他']
    };
    var html = template('test', data);
    $('#content').html(html);
  &lt;/script&gt;  
&lt;/body&gt;        
&lt;/html&gt;   </code></pre>

<p>&nbsp;</p>

<p>如果后端给的数据是一个数组，数据里包含一个对象，前端页面需要把这个对象里的每一个字段以及字段对应的内容都展示出来，且这个对象里有多少字段有哪些字段都不是已知的，可以参考下面的代码：</p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;

&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;超快的模板引擎 artTemplate.js&lt;/title&gt;
    &lt;style type="text/css"&gt;
    .m-list-item {
        position: relative;
        padding: 19px 18px 28px;
        background: #2C355D;
        border-bottom: 1px solid #5C70B0;
        list-style-type: none;
    }

    .m-list-item {
        list-style-type: none;
    }

    .m-right-row {
        line-height: 30px;
    }

    .m-right-label {
        display: inline-block;
        font-size: 14px;
        color: #FFFFFF;
        vertical-align: top;
    }

    .m-right-text {
        display: inline-block;
        margin: 0 0 0 10px;
        max-width: 500px;
        font-size: 14px;
        color: #999999;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
        vertical-align: top;
    }
    &lt;/style&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;ul id="m-list"&gt;&lt;/ul&gt;
    &lt;script id="m-list-tpl" type="text/html"&gt;
        {{each data as info i}}
        &lt;li class="m-list-item"&gt;
            {{each info as item j}}
                &lt;div class="m-right-row"&gt;
                    &lt;span class="m-right-label"&gt;{{item.label}}:&lt;/span&gt;
                    &lt;span class="m-right-text"&gt;{{item.content}}&lt;/span&gt;
                &lt;/div&gt;
            {{/each}}
        &lt;/li&gt;
        {{/each}}
    &lt;/script&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;
    &lt;script src="http://cdn.staticfile.org/artTemplate.js/3.0.1/template.js"&gt;&lt;/script&gt;
    &lt;script type="text/javascript"&gt;
    var data = {
        protocols: [{
            'title': '80/HTTP',
            'Status Line': '200 OK',
            'Page Title': 'Core Databases',
            'Server': 'Apache httpd'
        }, {
            'title': '443/HTTPS',
            'Cipher Suite': 'TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256 (0xC02F)',
            'Version': 'TLSv1.2',
            'Heartbleed': 'Heartbeat Enabled. Immune to Heartbleed.',
            'Trusted': 'True'
        }]
    };
    var result = [];
    for (var i = 0; i &lt; data.protocols.length; i++) {
        var itemArr = [];
        for (var item in data.protocols[i]) {
            var temp = {};
            temp.label = item;
            temp.content = data.protocols[i][item];
            itemArr.push(temp)
        }
        result.push(itemArr);
    }
    var data = { data: result };
    var html = template('m-list-tpl', data);
    $('#m-list').html(html);
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p>&nbsp;</p>

<p><img alt="" class="has" src="https://img-blog.csdn.net/20180813120702118?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>

<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;

&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;超快的模板引擎 artTemplate.js&lt;/title&gt;
    &lt;style type="text/css"&gt;
    .m-list-item-title{line-height: 28px; font-size: 20px;color: #FFFFFF;}
    .m-list-item {
        position: relative;
        padding: 19px 18px 28px;
        background: #2C355D;
        border-bottom: 1px solid #5C70B0;
        list-style-type: none;
    }

    .m-list-item {
        list-style-type: none;
    }

    .m-right-row {
        line-height: 30px;
    }

    .m-right-label {
        display: inline-block;
        font-size: 14px;
        color: #FFFFFF;
        vertical-align: top;
    }

    .m-right-text {
        display: inline-block;
        margin: 0 0 0 10px;
        max-width: 500px;
        font-size: 14px;
        color: #999999;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
        vertical-align: top;
    }
    &lt;/style&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;ul id="m-list"&gt;&lt;/ul&gt;
    &lt;script id="m-list-tpl" type="text/html"&gt;
        {{each data as info i}}
        &lt;li class="m-list-item"&gt;
            &lt;div class="m-list-item-title"&gt;{{info.title}}&lt;/div&gt;     
            {{each info.content as item j}}
                &lt;div class="m-right-row"&gt;
                    &lt;span class="m-right-label"&gt;{{item.label}}:&lt;/span&gt;
                    &lt;span class="m-right-text"&gt;{{item.content}}&lt;/span&gt;
                &lt;/div&gt;
            {{/each}}
        &lt;/li&gt;
        {{/each}}
    &lt;/script&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;
    &lt;script src="http://cdn.staticfile.org/artTemplate.js/3.0.1/template.js"&gt;&lt;/script&gt;
    &lt;script type="text/javascript"&gt;
    var data = {
        protocols: [{
            'title': '80/HTTP',
            'Status Line': '200 OK',
            'Page Title': 'Core Databases',
            'Server': 'Apache httpd'
        }, {
            'title': '443/HTTPS',
            'Cipher Suite': 'TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256 (0xC02F)',
            'Version': 'TLSv1.2',
            'Heartbleed': 'Heartbeat Enabled. Immune to Heartbleed.',
            'Trusted': 'True'
        }]
    };
    var result = [];
    for (var i = 0; i &lt; data.protocols.length; i++) {
        var itemArr = {
            title: data.protocols[i].title,
            content: []
        };
        delete data.protocols[i].title;
        for (var item in data.protocols[i]) {
            var temp = {};
            temp.label = item;
            temp.content = data.protocols[i][item];
            itemArr.content.push(temp)
        }
        result.push(itemArr);
    }
    var data = { data: result };
    var html = template('m-list-tpl', data);
    $('#m-list').html(html);
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>

<p><img alt="" class="has" src="https://img-blog.csdn.net/20180813124542876?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>

<p>模板中的条件判断：</p>

<pre class="has"><code class="language-html">{{if info.filter}}
    &lt;span class="m-legend-filter active js-filter" data-type="{{data[i].type}}"&gt;&lt;/span&gt;  
{{else}}
    &lt;span class="m-legend-filter js-filter" data-type="{{data[i].type}}"&gt;&lt;/span&gt;  
{{/if}}</code></pre>

<p>&nbsp;</p>

<p>artTemplate github下载地址：<a href="https://github.com/aui/art-template" rel="nofollow">https://github.com/aui/art-template</a></p>

<p><strong><span style="color:#000000;"><span style="color:#ff0000;"><strong>备注</strong></span>：欢迎加入web前端求职招聘qq群：<strong><span style="color:#000000;">668352707</span></strong></span></strong></p>

<p>&nbsp;</p>            ]]></description></item><item><title>可拖动的弹窗</title><link>http://www.cnblogs.com/xutongbao/archive/2018/01/16/9924904.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 16 Jan 2018 06:44:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/01/16/9924904.html</guid><description><![CDATA[
                
<p>pc端：</p>
<p></p><pre><code class="language-html">&lt;!DOCTYPE html&gt;        
&lt;html lang="en"&gt;        
&lt;head&gt;        
    &lt;meta charset="UTF-8"&gt;        
    &lt;title&gt;可拖动的弹窗&lt;/title&gt;      
    &lt;style type="text/css"&gt;  
    a{text-decoration: none; color: #eee; display: block;}
    .button{width: 200px; height: 50px; border-radius: 20px; text-align:center;line-height: 50px;}
    .callout_button{background:#FF5B5B;margin:0 auto; }
    .callout_button:hover{background: red;}
    .close_button{background:#363636;margin:0 auto;}
    .close_button:hover{background: black;}
    .mask{width: 100%;height: 100%;background:#000;position: absolute;top: 0px;left:0px;opacity: 0.4;z-index: 8000; display: none;-moz-user-select: none; -webkit-user-select: none;}
    .dialog{width: 380px;background:#fff; position: absolute;z-index: 9000;padding-bottom: 10px; display: none;-moz-user-select: none; -webkit-user-select: none;}
    .dialog_head{width: 100%;height:50px;background:#4B4B4B;text-align: center;line-height: 50px;color: #eee; cursor: move;}
    .dialog_content{width: 100%;height:300px;}    
    &lt;/style&gt;       
&lt;/head&gt;        
&lt;body&gt;  
  &lt;div id="callout" class="button callout_button"&gt;&lt;a href="#"&gt;弹出对话框&lt;/a&gt;&lt;/div&gt;
  &lt;div id="mask" class="mask"&gt;&lt;/div&gt;
  &lt;div class="dialog" id="dialog"&gt;
      &lt;div class="dialog_head" id="move_part"&gt;可拖拽部分&lt;/div&gt;
      &lt;div class="dialog_content"&gt;&lt;/div&gt;
      &lt;div class="button close_button" id="close"&gt;&lt;a href="#"&gt;点我关闭对话框&lt;/a&gt;
      &lt;/div&gt;
  &lt;/div&gt;

  &lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;
  &lt;script type="text/javascript"&gt; 
  $(document).ready(function(){
    var $dialog = $("#dialog");
    var $mask = $("#mask");
    
    //自动居中对话框
    function autoCenter(el){
        var bodyW = $(window).width();
        var bodyH = $(window).height();
        var elW = el.width();
        var elH = el.height();
        $dialog.css({"left":(bodyW-elW)/2 + 'px',"top":(bodyH-elH)/2 + 'px'});        
    };
    
    //点击弹出对话框
    $("#callout").click(function(){
        $dialog.css("display","block"); 
        $mask.css("display","block");
        autoCenter($dialog); 
    });            
    
    //禁止选中对话框内容
    if(document.attachEvent) {//ie的事件监听，拖拽div时禁止选中内容，firefox与chrome已在css中设置过-moz-user-select: none; -webkit-user-select: none;
        g('dialog').attachEvent('onselectstart', function() {
          return false;
        });
    }
    //声明需要用到的变量
    var mx = 0,my = 0;      //鼠标x、y轴坐标（相对于left，top）
    var dx = 0,dy = 0;      //对话框坐标（同上）
    var isDraging = false;      //不可拖动

    //鼠标按下
    $("#move_part").mousedown(function(e){
        e = e || window.event;
        mx = e.pageX;     //点击时鼠标X坐标
        my = e.pageY;     //点击时鼠标Y坐标
        dx = $dialog.offset().left;
        dy = $dialog.offset().top;
        isDraging = true;      //标记对话框可拖动                
    });

    //鼠标移动更新窗口位置
    $(document).mousemove(function(e){
        var e = e || window.event;
        var x = e.pageX;      //移动时鼠标X坐标
        var y = e.pageY;      //移动时鼠标Y坐标
        if(isDraging){        //判断对话框能否拖动
            var moveX = dx + x - mx;      //移动后对话框新的left值
            var moveY = dy + y - my;      //移动后对话框新的top值
            //设置拖动范围
            var pageW = $(window).width();
            var pageH = $(window).height();
            var dialogW = $dialog.width();
            var dialogH = $dialog.height();
            var maxX = pageW - dialogW;       //X轴可拖动最大值
            var maxY = pageH - dialogH;       //Y轴可拖动最大值
            moveX = Math.min(Math.max(0,moveX),maxX);     //X轴可拖动范围
            moveY = Math.min(Math.max(0,moveY),maxY);     //Y轴可拖动范围
            //重新设置对话框的left、top
            $dialog.css({"left":moveX + 'px',"top":moveY + 'px'});
        };
    });

    //鼠标离开
    $("#move_part").mouseup(function(){
        isDraging = false;
    });

    //点击关闭对话框
    $("#close").click(function(){
        $dialog.css("display","none");
        $mask.css("display","none");
    });

    //窗口大小改变时，对话框始终居中
    window.onresize = function(){
        autoCenter($dialog);
    };
  });
  &lt;/script&gt;  
&lt;/body&gt;        
&lt;/html&gt;   </code></pre>
<p>移动端：</p>
<p></p><pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1,user-scalable=no"&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;
    &lt;title&gt;div块跟随手指拖动&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div id="id"&gt;&lt;/div&gt;
    &lt;style type="text/css"&gt;
        div{
            width: 200px;
            height: 200px;
            background: #ccc;
            position: absolute;
            left: 0px;
            top: 100px;
        }
    &lt;/style&gt;
    &lt;script type="text/javascript"&gt;
        var _x_start,_y_start,_x_move,_y_move,_x_end,_y_end,left_start,top_start;
        document.getElementById("id").addEventListener("touchstart",function(e)
        {

            _x_start=e.touches[0].pageX;
            _y_start=e.touches[0].pageY;
            // console.log("start",_x_start)
            left_start=$("#id").css("left");
            top_start=$("#id").css("top");

        })
        document.getElementById("id").addEventListener("touchmove",function(e)
        {
            _x_move=e.touches[0].pageX;
            _y_move=e.touches[0].pageY;
            // console.log("move",_x_move)
            $("#id").css("left",parseFloat(_x_move)-parseFloat(_x_start)+parseFloat(left_start)+"px");
            $("#id").css("top",parseFloat(_y_move)-parseFloat(_y_start)+parseFloat(top_start)+"px");
            console.log(parseFloat(_y_move)-parseFloat(_y_start)+parseFloat(top_start));
        })
        document.getElementById("id").addEventListener("touchend",function(e)
        {
            var _x_end=e.changedTouches[0].pageX;
            var _y_end=e.changedTouches[0].pageY;
            // console.log("end",_x_end)
        })
        //阻止浏览器下拉事件
        $('body').on('touchmove', function (event) {event.preventDefault();});
        // or
        // document.addEventListener('touchmove', function(e){e.preventDefault()}, false);

    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre><br><br>            ]]></description></item><item><title>点击复制插件clipboard.js</title><link>http://www.cnblogs.com/xutongbao/archive/2018/01/16/9924905.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 16 Jan 2018 05:42:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/01/16/9924905.html</guid><description><![CDATA[
                <pre><code class="language-html">&lt;!DOCTYPE html&gt;        
&lt;html lang="en"&gt;        
&lt;head&gt;        
    &lt;meta charset="UTF-8"&gt;        
    &lt;title&gt;点击复制插件clipboard.js&lt;/title&gt;      
    &lt;style type="text/css"&gt;  
    &lt;/style&gt;       
&lt;/head&gt;        
&lt;body&gt;  
    &lt;span id="test"&gt;hello1&lt;/span&gt;
    &lt;button id="btn" data-clipboard-target="#test"&gt;点击复制&lt;/button&gt;
    &lt;button id="btn2" data-clipboard-text="hello2"&gt;点击复制2&lt;/button&gt;
    &lt;button id="btn3"&gt;点击复制3&lt;/button&gt;
    &lt;script src="https://cdn.bootcss.com/clipboard.js/1.7.1/clipboard.js"&gt;&lt;/script&gt;
    &lt;script type="text/javascript"&gt; 
        new Clipboard('#btn'); 
        new Clipboard('#btn2'); 
        new Clipboard('#btn3', {
          text: function(trigger) {
            return 'hello3';
          }
        });
    &lt;/script&gt;  
&lt;/body&gt;        
&lt;/html&gt;   </code></pre><p><br></p><p><strong><span style="color:#000000;"><span style="color:#FF0000;"><strong>备注</strong></span>：欢迎加入web前端求职招聘qq群：<strong><span style="color:#000000;">668352707</span></strong></span></strong><br></p>            ]]></description></item><item><title>阻止事件冒泡 阻止浏览器的默认行为</title><link>http://www.cnblogs.com/xutongbao/archive/2018/01/09/9924906.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 09 Jan 2018 07:46:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/01/09/9924906.html</guid><description><![CDATA[
                
<pre><code class="language-html">&lt;!DOCTYPE html&gt;      
&lt;html lang="en"&gt;      
&lt;head&gt;      
    &lt;meta charset="UTF-8"&gt;      
    &lt;title&gt;阻止事件冒泡 阻止浏览器的默认行为&lt;/title&gt;    
    &lt;style type="text/css"&gt;
    &lt;/style&gt;     
&lt;/head&gt;      
&lt;body&gt;
	&lt;button id="btn1"&gt;按钮1&lt;/button&gt;
	&lt;input type="text" id="m-text"&gt;
	&lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;
	&lt;script type="text/javascript"&gt;
		$(function() {
			function stopBubble(e) { 
				//如果提供了事件对象，则这是一个非IE浏览器 
				if (e &amp;&amp; e.stopPropagation) {
					//因此它支持W3C的stopPropagation()方法 
					e.stopPropagation(); 		
				} else {
					//否则，我们需要使用IE的方式来取消事件冒泡 
					window.event.cancelBubble = true; 
				}
			} 			
			$('body').on('click', function() {
				console.log('body');
			});
			$('#btn1').on('click', function(e) {
				console.log('按钮1');
				stopBubble(e); //阻止冒泡
			});

			//阻止浏览器的默认行为 
			function stopDefault(e) { 
				//阻止默认浏览器动作(W3C) 
				if (e &amp;&amp; e.preventDefault) {
					e.preventDefault(); 
				} else { //IE中阻止函数器默认动作的方式 
					window.event.returnValue = false; 
				}
				return false; 
			}			
			$('#m-text').on('keydown', function(e) {
  				console.log(String.fromCharCode(e.keyCode));
  				stopDefault(e);
			});
		});
	&lt;/script&gt;
&lt;/body&gt;      
&lt;/html&gt; </code></pre><br>            ]]></description></item><item><title>生成10个20-50之间的随机数 冒泡排序 数组乱序</title><link>http://www.cnblogs.com/xutongbao/archive/2018/01/09/9924907.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 09 Jan 2018 07:08:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/01/09/9924907.html</guid><description><![CDATA[
                
<p></p><pre><code class="language-html">&lt;!DOCTYPE html&gt;      
&lt;html lang="en"&gt;      
&lt;head&gt;      
    &lt;meta charset="UTF-8"&gt;      
    &lt;title&gt;生成10个20-50之间的随机数 冒泡排序 数组乱序&lt;/title&gt;    
    &lt;style type="text/css"&gt;
    &lt;/style&gt;     
&lt;/head&gt;      
&lt;body&gt;
	&lt;script type="text/javascript"&gt;
		var arr = [];
		for (var i = 0; i&lt;10; i++) {
		    var num = Math.random() * 30 + 20;
		    num = parseInt(num, 10);
		    arr.push(num);
		}
		console.log(arr);  //生成10个20-50之间的随机数

		function bubbleSort(arr) {  
	        var len = arr.length;  
	        for (var i = 0; i &lt; len; i++) {  
	            for (var j = 0; j &lt; len - 1 - i; j++) {  
	                if (arr[j] &gt; arr[j+1]) {  
	                    var temp = arr[j+1];  
	                    arr[j+1] = arr[j];  
	                    arr[j] = temp;  
	                }  
	            }  
	        }  
	        return arr;  
    	}  
	    console.log(bubbleSort(arr));   //冒泡排序

		arr.sort(function(a,b){
		    return 0.5 - Math.random();
		});

		console.log(arr);  //数组乱序
	&lt;/script&gt;
&lt;/body&gt;      
&lt;/html&gt; </code></pre><br><img src="https://img-blog.csdn.net/20180109150720278?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt=""><br><p><br></p>
<p><br></p>
            ]]></description></item><item><title>ES7的async/await</title><link>http://www.cnblogs.com/xutongbao/archive/2018/01/09/9924908.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 09 Jan 2018 03:58:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/01/09/9924908.html</guid><description><![CDATA[
                
<p></p><pre><code class="language-html">&lt;!DOCTYPE html&gt;      
&lt;html lang="en"&gt;      
&lt;head&gt;      
    &lt;meta charset="UTF-8"&gt;      
    &lt;title&gt;ES7的async/await&lt;/title&gt;    
    &lt;style type="text/css"&gt;
    &lt;/style&gt;     
&lt;/head&gt;      
&lt;body&gt;
	&lt;script type="text/javascript"&gt;
		// 模拟其他语言中的 sleep，实际上可以是任何异步操作
		const sleep = (timeountMS) =&gt; new Promise((resolve) =&gt; {
		 setTimeout(resolve, timeountMS);
		});
		 
		(async () =&gt; { // 声明即执行的 async 函数表达式
		 for (var i = 0; i &lt; 5; i++) {
		  await sleep(1000);
		  console.log(new Date, i);
		 }
		 
		 await sleep(1000);
		 console.log(new Date, i);
		})();

		var start = async function () {
		    // 在这里使用起来就像同步代码那样直观
		    console.log('start');
		    await sleep(3000);
		    console.log('end');
		};
		start();
	&lt;/script&gt;
&lt;/body&gt;      
&lt;/html&gt; </code></pre><br><img src="https://img-blog.csdn.net/20180109115731568?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt=""><br><p><br></p>
<p><br></p>
            ]]></description></item><item><title>对一个数字每3位加一个逗号 千分符</title><link>http://www.cnblogs.com/xutongbao/archive/2018/01/09/9924909.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 09 Jan 2018 02:44:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/01/09/9924909.html</guid><description><![CDATA[
                
<pre><code class="language-html">&lt;!DOCTYPE html&gt;      
&lt;html lang="en"&gt;      
&lt;head&gt;      
    &lt;meta charset="UTF-8"&gt;      
    &lt;title&gt;对一个数字每3位加一个逗号 千分符&lt;/title&gt;    
    &lt;style type="text/css"&gt;
    &lt;/style&gt;     
&lt;/head&gt;      
&lt;body&gt;
	&lt;script type="text/javascript"&gt;
 	function farmat(mun) {
        if (mun === null) return;
        var m = parseInt(mun).toString();
        var len = m.length;
        if (len &lt;= 3) return m;
        var n = len % 3;
        if (n &gt; 0) {
            return m.slice(0,n)+","+m.slice(n,len).match(/\d{3}/g).join(",")
        } else {
            return m.slice(n,len).match(/\d{3}/g).join(",")
        }
    }
    var a =farmat(1000000)
    console.log(a);	  //1,000,000
	&lt;/script&gt;
&lt;/body&gt;      
&lt;/html&gt; </code></pre><br>            ]]></description></item><item><title>js获取当前时间</title><link>http://www.cnblogs.com/xutongbao/archive/2018/01/08/9924910.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Mon, 08 Jan 2018 05:23:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/01/08/9924910.html</guid><description><![CDATA[
                
<pre><code class="language-html">&lt;!DOCTYPE html&gt;      
&lt;html lang="en"&gt;      
&lt;head&gt;      
    &lt;meta charset="UTF-8"&gt;      
    &lt;title&gt;js获取当前时间&lt;/title&gt;    
    &lt;style type="text/css"&gt;
    &lt;/style&gt;     
&lt;/head&gt;      
&lt;body&gt;
	&lt;script type="text/javascript"&gt;
	  var getNowFormatDate = function getNowFormatDate() {
	    var date = new Date();
	    var seperator1 = "-";
	    var seperator2 = ":";
	    var month = date.getMonth() + 1;
	    var strDate = date.getDate();
	    if(month &gt;= 1 &amp;&amp; month &lt;= 9) {
	      month = "0" + month;
	    }
	    if (strDate &gt;= 0 &amp;&amp; strDate &lt;= 9) {
	      strDate = "0" + strDate;
	    }
	    var currentdate = date.getFullYear() + seperator1 + month + seperator1 + strDate
	      + " " + date.getHours() + seperator2 + date.getMinutes() 
	      + seperator2 + date.getSeconds() + ' ' + date.getMilliseconds();
	    return currentdate;
	  } 

	  console.log(getNowFormatDate());
	  console.log('毫秒数:' + new Date().getTime());
	&lt;/script&gt;
&lt;/body&gt;      
&lt;/html&gt; </code></pre><br>            ]]></description></item><item><title>匹配域名</title><link>http://www.cnblogs.com/xutongbao/archive/2018/01/08/9924911.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Mon, 08 Jan 2018 05:17:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/01/08/9924911.html</guid><description><![CDATA[
                
<pre><code class="language-html">&lt;!DOCTYPE html&gt;      
&lt;html lang="en"&gt;      
&lt;head&gt;      
    &lt;meta charset="UTF-8"&gt;      
    &lt;title&gt;匹配域名&lt;/title&gt;    
    &lt;style type="text/css"&gt;
    &lt;/style&gt;     
&lt;/head&gt;      
&lt;body&gt;
	&lt;script type="text/javascript"&gt;
		var str="https://www.baidu.com/s?cl=3";
		var reg=/https:\/\/([A-Za-z\.]+)\/\S+/;
		var result=reg.exec(str);
		if(result) {
		  console.log(result[1]);
		}
	&lt;/script&gt;
&lt;/body&gt;      
&lt;/html&gt; </code></pre><br>            ]]></description></item><item><title>异步加载js文件</title><link>http://www.cnblogs.com/xutongbao/archive/2018/01/02/9924912.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 02 Jan 2018 09:39:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/01/02/9924912.html</guid><description><![CDATA[
                
<pre><code class="language-html">&lt;!DOCTYPE html&gt;      
&lt;html lang="en"&gt;      
&lt;head&gt;      
    &lt;meta charset="UTF-8"&gt;      
    &lt;title&gt;异步加载js文件&lt;/title&gt;    
    &lt;style type="text/css"&gt;
    &lt;/style&gt;     
&lt;/head&gt;      
&lt;body&gt;
	&lt;div id='test'&gt;1&lt;/div&gt;
	&lt;script type="text/javascript"&gt;
		function loadScript(url, callback) {
		   var script = document.createElement("script")
		   script.type = "text/javascript";
		   if (script.readyState) { //IE
		      script.onreadystatechange = function() {
		         if (script.readyState == "loaded" ||
		            script.readyState == "complete"){
		            script.onreadystatechange = null;
		            callback();
		         }
		      };
		   } else { //Others: Firefox, Safari, Chrome, and Opera
		      script.onload = function() {
		          callback();
		      };
		   }
		   script.src = url;
		   document.body.appendChild(script);
		}

		var callback = function() {
			console.log($('#test').html());  //1
		}

		loadScript('https://cdn.bootcss.com/jquery/3.2.1/jquery.js', callback);
	&lt;/script&gt;
	&lt;script type="text/javascript"&gt;
		$('#test').html(); //报错
	&lt;/script&gt;
&lt;/body&gt;      
&lt;/html&gt; </code></pre><br>            ]]></description></item><item><title>把URL参数解析为一个对象</title><link>http://www.cnblogs.com/xutongbao/archive/2018/01/02/9924913.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 02 Jan 2018 09:27:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/01/02/9924913.html</guid><description><![CDATA[
                <pre><code class="language-html">&lt;!DOCTYPE html&gt;      
&lt;html lang="en"&gt;      
&lt;head&gt;      
    &lt;meta charset="UTF-8"&gt;      
    &lt;title&gt;把URL参数解析为一个对象&lt;/title&gt;    
    &lt;style type="text/css"&gt;
    &lt;/style&gt;     
&lt;/head&gt;      
&lt;body&gt;
	&lt;script type="text/javascript"&gt;
		function parseQueryString(url) {
		   var params = {};
		   var arr = url.split("?");
		   if (arr.length &lt;= 1) {
		      return params;
		   }
		   arr = arr[1].split("&amp;");
		   for(var i = 0, l = arr.length; i &lt; l; i++) {
		      var a = arr[i].split("=");
		      params[a[0]] = a[1];
		   }
		   return params;
		}

		var url = "http://www.baidu.com?key0=0&amp;key1=1&amp;key2=2";
		var ps = parseQueryString(url);
		console.log(ps["key0"]);  //0
		console.log(ps["key1"]);  //1
		console.log(ps["key2"]);  //2
	&lt;/script&gt;
&lt;/body&gt;      
&lt;/html&gt; </code></pre><p><br></p><pre><code class="language-html">        getQueryString: function (key, url) {//获取链接参数
            var t_url = url;
            if (!url) {
                t_url = window.location.href;
            }
            var reg = new RegExp("(^|&amp;)" + key + "=([^&amp;]*)(&amp;|$)");
            var r = t_url.match(reg);
            if (r != null) {
                return decodeURIComponent(r[2]);
            }
            return "";            
        }</code></pre><br><p><br></p><p><br></p>            ]]></description></item><item><title>js连等赋值</title><link>http://www.cnblogs.com/xutongbao/archive/2018/01/02/9924914.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 02 Jan 2018 09:15:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/01/02/9924914.html</guid><description><![CDATA[
                <p></p><pre><code class="language-html">&lt;!DOCTYPE html&gt;      
&lt;html lang="en"&gt;      
&lt;head&gt;      
    &lt;meta charset="UTF-8"&gt;      
    &lt;title&gt;js连等赋值&lt;/title&gt;    
    &lt;style type="text/css"&gt;
    &lt;/style&gt;     
&lt;/head&gt;      
&lt;body&gt;
	&lt;script type="text/javascript"&gt;
	var a = {n: 1}  
	var b = a;  
	a.x = a = {n: 2}
	console.log(a.x);   //undefined
	console.log(b.x);   //{n: 2}
&lt;/script&gt;
&lt;/body&gt;      
&lt;/html&gt; </code></pre>赋值前：<p></p><p><img src="https://img-blog.csdn.net/20180102170718782" alt=""><br>赋值后：</p><p><img src="https://img-blog.csdn.net/20180102170745878" alt=""></p><p>a.x = a = {n: 2}</p><p>.运算符优先于=赋值运算，先创建</p><p>a.x是一个地址，a也是一个地址，a.x创建后，也就有了b.x，它们是同一个地址</p><p>js赋值是右结合的，从右边开始向左边赋值，先将{n:2}赋值给地址a,再将{n:2}赋值给地址a.x（其实也是b.x,它们是同一个地址）<br></p><p><br></p><p>另一个解释：</p><p>解析器在接受到 a.x = a = {n: 2} 这样的语句后，会这样做：<br>1.找到 a.x 和 a 的指针。如果已有指针，那么不改变它。如果没有指针，即那个变量还没被申明，那么就创建它，指向 null。<br>2.a 是有指针的，指向 {n:1}；a.x 是没有指针的，所以创建它，指向 null。<br>&nbsp; 然后把上面两个指针，都指向最右侧赋的那个值，即 {n:2}<br></p><p><br></p><p><br></p><p><br></p><p><br></p>            ]]></description></item><item><title>W3C盒模型和IE盒模型的区别</title><link>http://www.cnblogs.com/xutongbao/archive/2018/01/02/9924915.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 02 Jan 2018 08:07:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/01/02/9924915.html</guid><description><![CDATA[
                <p>盒模型在初学css的时候就会接触到，其实很容易理解，这里也不多废话，但是实际上在布局的时候还是会出现很多问题。对于盒模型的认识不能只停留在知道一个盒模型由哪些部分构成，也要更多的了解如何在不同情况下利用盒模型的特点进行布局。<br>这里讨论一下两种不同的盒模型： W3C盒模型和IE盒模型。<br>其实IE的盒模型问题只会出现在IE5.5及其更早的版本中，因为在IE6及更新的版本在标准兼容模式下使用的是W3C的盒模型标准，但事实上不仅IE5.5，连IE6的使用率也很少了，这里对他们进行讨论只是为了更深刻的理解盒模型。<br>对于两种模型这里有一张图： <br><img src="https://img-blog.csdn.net/20180102160257865" alt=""><br></p><p>当设置为box-sizing:border-box时，将采用怪异模式解析计算；</p><p></p><pre><code class="language-html">&lt;!DOCTYPE html&gt;      
&lt;html lang="en"&gt;      
&lt;head&gt;      
    &lt;meta charset="UTF-8"&gt;      
    &lt;title&gt;超出后显示省略号&lt;/title&gt;    
    &lt;style type="text/css"&gt;
    	body{margin: 0}
    	.wrap{background: gold;}
      	.test{display: inline-block; margin: 20px 0 0 50px;padding: 10px 0 0 50px; width:200px;height: 200px;border: 5px solid green;background: #666;
      		/*box-sizing:border-box;*/
      	}
    &lt;/style&gt;     
&lt;/head&gt;      
&lt;body&gt;
	&lt;div class="wrap"&gt;&lt;div class="test"&gt;内容&lt;/div&gt;&lt;/div&gt;
&lt;/body&gt;      
&lt;/html&gt; </code></pre><img src="https://img-blog.csdn.net/20180102160600594" alt=""><br><br><p></p><p><br></p><p><img src="https://img-blog.csdn.net/20180102160617173" alt=""><br></p><p><br></p><p><br></p><p><br></p><p><strong><span style="color:#000000;"><span style="color:#FF0000;"><strong>备注</strong></span>：欢迎加入web前端求职招聘qq群：<strong><span style="color:#000000;">668352707</span></strong></span></strong><br></p>            ]]></description></item><item><title>超出后显示省略号</title><link>http://www.cnblogs.com/xutongbao/archive/2018/01/02/9924916.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 02 Jan 2018 07:46:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/01/02/9924916.html</guid><description><![CDATA[
                <p></p><pre><code class="language-html">&lt;!DOCTYPE html&gt;      
&lt;html lang="en"&gt;      
&lt;head&gt;      
    &lt;meta charset="UTF-8"&gt;      
    &lt;title&gt;超出后显示省略号&lt;/title&gt;    
    &lt;style type="text/css"&gt;
      body{margin: 0;background: #ddd;}
      .test{width:200px;height: 17px;line-height: 17px; font-size: 16px;border: 1px solid green; overflow: hidden;text-overflow:ellipsis;white-space: nowrap;}
    &lt;/style&gt;     
&lt;/head&gt;      
&lt;body&gt;
  &lt;div class="test"&gt;超出后显示省略号超出后显示省略号超出后显示省略号&lt;/div&gt;
&lt;/body&gt;      
&lt;/html&gt; </code></pre><br><img src="https://img-blog.csdn.net/20180102154512767" alt=""><br>            ]]></description></item><item><title>当我们输入URL，按下回车发生了什么？</title><link>http://www.cnblogs.com/xutongbao/archive/2018/01/02/9924917.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 02 Jan 2018 07:33:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/01/02/9924917.html</guid><description><![CDATA[
                当我们输入URL，按下回车发生了什么？<br><br>查找服务器的IP地址：<br>1.在本地hosts文件中查询<br>2.在浏览器缓存中查询。<br>3.在系统缓存中查询。<br>4.在路由器缓存中查询。<br>5.在DNS服务器中查询，直到找到这个IP地址。<br>6.通过TCP协议与Web服务器创建连接。(俗称三次握手)，向服务器发送请求<br>7.浏览器接收响应，开始下载并渲染，将页面呈现在我们面前<br>&nbsp;&nbsp;&nbsp; 浏览器接收到html代码，即自上而下解析：构建DOM树+构建CSSOM =&gt;渲染树（解析——构建对象模型Object Model）<br>&nbsp;&nbsp;&nbsp; 遇到script文件和CSS文件都会另起线程去下载；内嵌的script标签和style标签，会直接执行，分别阻塞DOM树和CSS规则树<br>&nbsp;&nbsp;&nbsp; 无论内嵌的script脚本、外链的script脚本下载完都会阻塞构建DOM树； CSS文件执行和内嵌的style标签阻塞CSSOM<br>&nbsp;&nbsp;&nbsp; 直到DOM树和CSSOM规则生成完毕后，浏览器结合两者生成渲染树RenderTree，浏览器将渲染树绘制到页面上，也就是首次显示页面<br><p>&nbsp;&nbsp;&nbsp; 最后，body底部的JS脚本下载完成后通过DOM API修改DOM， 通过CSSOM API修改样式，每次修改都会造成渲染树RenderTree的重新布局和重绘， 也就是Reflow。（而修改颜色的话，只会Repaint 不会Reflow</p><p><br></p><p><strong><span style="color:#000000;"><span style="color:#FF0000;"><strong>备注</strong></span>：欢迎加入web前端求职招聘qq群：<strong><span style="color:#000000;">668352707</span></strong></span></strong><br></p>            ]]></description></item><item><title>CDN是什么？</title><link>http://www.cnblogs.com/xutongbao/archive/2018/01/02/9924918.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 02 Jan 2018 02:34:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2018/01/02/9924918.html</guid><description><![CDATA[
                
CDN,英文名是Content Delivery Network。<br><br>
专注于静态资源的分发和访问，比如一张图片，一个文本文件，一个视频，一个CSS，一个JS等等。<br><br>
应用服务器和资源服务器应该解耦，也就是应用服务器只处理逻辑，而资源服务器存放内容或者叫资源。术业有专攻，如果混在一起，会拖慢应用服务器的速度。<br><br><br><p>举个例子：肯德基的总部在美国，可是你家楼下也有一家肯德基，并且汉堡包是一模一样的，这就是CDN（这个比喻来自知乎，觉得非常的恰当）。肯德基部署了很多个CDN在世界各地提供服务，用户都是找到最近的店，这个计算过程就是的「就近接入」。<br></p>
<br><p>在一个商圈有两家肯德基，有一家组织活动，鸡腿随便吃，所以顾客全部涌到这家店，已经水泄不通，另一家店则门可罗雀。这个时候CDN的调度功能就要发挥作用了，另一家店也发布了一个消息说，买一个汉堡，打五折。这个时候，在第一家店抢不上鸡腿的顾客，马上跑去了第二家店，这个时候两个店的流量处于均衡状态。这就是CDN的调度。</p>
<p><br></p>
美国肯德基总部研发了一个新菜，叫「回锅肉汉堡」，这个时候总部要把这个「内容」向全世界分发，让每一个分店，都能开始卖回锅肉汉堡，好让新老产品能够并驾齐驱，这个就是内容分发网络的「分发」。这个时候你要吃回锅肉汉堡的时候，直接去你家楼下就可以了。<br><br>
总结一下，CDN是一种资源的分布式存放和备份的方法。
            ]]></description></item><item><title>CSS实现隐藏滚动条同时又可以滚动</title><link>http://www.cnblogs.com/xutongbao/archive/2017/12/29/9924919.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Fri, 29 Dec 2017 01:57:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2017/12/29/9924919.html</guid><description><![CDATA[
                <p></p><p>移动端页面为了更接近原生的体验，是否可以隐藏滚动条，同时又保证页面可以滚动？</p><p>使用&nbsp;<code>overflow:hidden</code>&nbsp;隐藏滚动条，但存在的问题是：页面或元素失去了滚动的特性。<br>由于只需要兼容移动浏览器（Chrome 和 Safari），于是想到了自定义滚动条的伪对象选择器<br><code>::-webkit-scrollbar</code>。</p><p>&nbsp;</p><p>关于这个选择器的介绍可以参考：<br><a href="https://webkit.org/blog/363/styling-scrollbars/" rel="nofollow">Styling Scrollbars</a><br><a href="https://css-tricks.com/custom-scrollbars-in-webkit/" rel="nofollow">Custom Scrollbars in WebKit</a></p><p>&nbsp;</p><p>应用如下 CSS 可以隐藏滚动条：</p><pre><code class="language-css"><code class="language-css"><span class="token selector"><span class="token class">.element<span class="token pseudo-element">::-webkit-scrollbar <span class="token punctuation">{<span class="token property">display<span class="token punctuation">:none<span class="token punctuation">}</span></span></span></span></span></span></span></code></code></pre><p>如果要兼容 PC 其他浏览器（IE、Firefox 等），可以在容器外面再嵌套一层&nbsp;<code>overflow:hidden</code>&nbsp;内部内容再限制尺寸和外部嵌套层一样，就变相隐藏了。</p><p></p><pre><code class="language-html">&lt;!DOCTYPE html&gt;      
&lt;html lang="en"&gt;      
&lt;head&gt;      
    &lt;meta charset="UTF-8"&gt;      
    &lt;title&gt;CSS实现隐藏滚动条同时又可以滚动&lt;/title&gt;    
    &lt;style type="text/css"&gt;
      body{margin: 0;background: #ddd;}

      .header{width:100%;height: 100px;overflow-x:scroll;overflow-y:hidden;}
      .content{height: 100px;width: 5000px;background: linear-gradient(to right, green , blue);}
      .header::-webkit-scrollbar {display:none}

      .outer-container {width: 500px; height: 700px;position: relative;overflow: hidden;}
      .inner-container {height: 700px;position: absolute; left: 0;overflow-x: hidden;overflow-y: scroll;}
      .inner-container::-webkit-scrollbar {display: none;}
      .content2 {height: 5000px;width: 500px;background: linear-gradient(red , blue);}
    &lt;/style&gt;     
&lt;/head&gt;      
&lt;body&gt;
  &lt;div class="header"&gt;
    &lt;div class="content"&gt;&lt;/div&gt;
  &lt;/div&gt;

  &lt;div class="outer-container"&gt;
    &lt;div class="inner-container"&gt;
      &lt;div class="content2"&gt;&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/body&gt;      
&lt;/html&gt; </code></pre><br><img src="https://img-blog.csdn.net/20171229095627979" alt=""><br><p><br></p><p><br></p><p><strong><span style="color:#000000;"><span style="color:#FF0000;"><strong>备注</strong></span>：欢迎加入web前端求职招聘qq群：<strong><span style="color:#000000;">668352707</span></strong></span></strong><br></p>            ]]></description></item><item><title>顶部固定 页面内容部分可以滚动</title><link>http://www.cnblogs.com/xutongbao/archive/2017/12/28/9924920.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 28 Dec 2017 08:21:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2017/12/28/9924920.html</guid><description><![CDATA[
                
<p></p>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;      
&lt;html lang="en"&gt;      
&lt;head&gt;      
    &lt;meta charset="UTF-8"&gt;      
    &lt;title&gt;顶部固定页 面内容部分可以滚动&lt;/title&gt;    
    &lt;style type="text/css"&gt;
    body{margin: 0}
    .header{position: absolute;width:100%;height: 100px;background: green;z-index: 999;opacity: 0.5;}
    .empty{height: 100px;}
    .scrollview{position: absolute;top: 0;bottom: 0;left: 0;right: 0;background: #ddd; overflow-y: scroll;}
    .content{height: 1000px;width: 900px;background: #999;margin: 0 auto;}
    &lt;/style&gt;     
&lt;/head&gt;      
&lt;body&gt;
&lt;div class="header"&gt;顶部&lt;/div&gt;
&lt;div class="scrollview"&gt;
  &lt;div class="empty"&gt;&lt;/div&gt;
  &lt;div class="content"&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/body&gt;      
&lt;/html&gt; </code></pre><br><img src="https://img-blog.csdn.net/20171228162026673" alt=""><br><p></p>
<p><br></p>
<p><br></p>
<p><br></p>
<p><br></p>
<p><br></p>
<p><br></p>
<p><br></p>
            ]]></description></item><item><title>H5对话框水平垂直居中</title><link>http://www.cnblogs.com/xutongbao/archive/2017/12/28/9924921.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 28 Dec 2017 06:12:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2017/12/28/9924921.html</guid><description><![CDATA[
                <p>使用transform：</p><pre><code class="language-html">&lt;!DOCTYPE html&gt;        
&lt;html lang="en"&gt;        
&lt;head&gt;        
    &lt;meta charset="UTF-8"&gt;        
    &lt;title&gt;H5对话框水平垂直居中&lt;/title&gt;      
    &lt;style type="text/css"&gt;    
      .app-pop {display:none;position: fixed;width: 100%;top: 0;bottom: 0;right: 0;background-color: rgba(0,0,0,.3);overflow: auto;}  
      .app-pop-inner {position:absolute;left:50%;top:50%;width: 328px;height:380px;border-radius: 6px;transform:translate(-50%,-50%);-webkit-transform:translate(-50%,-50%);background: green;}  
    &lt;/style&gt;       
&lt;/head&gt;        
&lt;body&gt;  
&lt;button id="btn"&gt;打开对话框&lt;/button&gt;  
  
&lt;div id="pop" class="app-pop"&gt;  
  &lt;div class="app-pop-inner"&gt;&lt;/div&gt;  
&lt;/div&gt;    
  
&lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;  
&lt;script type="text/javascript"&gt;  
  $('#btn').on('click', function() {  
    $('#pop').css({display:'block'});  
  });  
&lt;/script&gt;  
&lt;/body&gt;        
&lt;/html&gt; </code></pre><br><br><img src="https://img-blog.csdn.net/20171228141102379" alt=""><br><p>使用margin：</p><pre><code class="language-html">    &lt;!DOCTYPE html&gt;          
    &lt;html lang="en"&gt;          
    &lt;head&gt;          
        &lt;meta charset="UTF-8"&gt;          
        &lt;title&gt;H5对话框水平垂直居中&lt;/title&gt;        
        &lt;style type="text/css"&gt;      
          .app-pop {display:none;position: fixed;width: 100%;top: 0;bottom: 0;right: 0;background-color: rgba(0,0,0,.3);overflow: auto;}    
          .app-pop-inner {position:absolute;top: 0; bottom: 0;left: 0;right: 0;margin: auto; width: 328px;height:380px;border-radius: 6px;background: green;}
        &lt;/style&gt;         
    &lt;/head&gt;          
    &lt;body&gt;    
    &lt;button id="btn"&gt;打开对话框&lt;/button&gt;    
        
    &lt;div id="pop" class="app-pop"&gt;    
      &lt;div class="app-pop-inner"&gt;&lt;/div&gt;    
    &lt;/div&gt;      
        
    &lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;    
    &lt;script type="text/javascript"&gt;    
      $('#btn').on('click', function() {    
        $('#pop').css({display:'block'});    
      });    
    &lt;/script&gt;    
    &lt;/body&gt;          
    &lt;/html&gt;   </code></pre><p>使用display：flex</p><pre><code class="language-html">&lt;!DOCTYPE html&gt;  
&lt;html lang="en"&gt;  
&lt;head&gt;  
&lt;meta charset="utf-8"&gt;  
&lt;meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"&gt;  
&lt;title&gt;H5对话框水平垂直居中&lt;/title&gt; 
&lt;style type="text/css"&gt;
.app-pop {color: #ffffff;width: 100%;height: 0;position: absolute;overflow: hidden;top: 0;left: 0px;display: flex;display: -webkit-flex;align-items: center;justify-content: center;}
.app-pop-inner {width: 328px;height:380px;border-radius: 6px;background: green;}
&lt;/style&gt; 
&lt;/head&gt;  
&lt;body&gt;    
&lt;button id="btn"&gt;打开对话框&lt;/button&gt;     
&lt;div id="pop" class="app-pop"&gt;    
  &lt;div class="app-pop-inner"&gt;&lt;/div&gt;    
&lt;/div&gt;      
&lt;script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"&gt;&lt;/script&gt;   
&lt;script&gt;
$('#btn').on('click', function() {    
  $('#pop').css({height:'100%'});    
});    
&lt;/script&gt;
&lt;/body&gt;  
&lt;/html&gt;</code></pre><br><p><br></p><p><br></p><p><strong><span style="color:#000000;"><span style="color:#FF0000;"><strong>备注</strong></span>：欢迎加入web前端求职招聘qq群：<strong><span style="color:#000000;">668352707</span></strong></span></strong><br></p><p><br></p>            ]]></description></item><item><title>移动端调试神器（eruda）</title><link>http://www.cnblogs.com/xutongbao/archive/2017/12/28/9924922.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 28 Dec 2017 02:49:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2017/12/28/9924922.html</guid><description><![CDATA[
                <p style="text-align:left;">在日常的移动端开发时，一般都是试用chrome浏览器的移动端模式进行开发和调试，只有在chrome调试完成，没有问题了才会上到真机测试，移动端开发的一大问题就在于此，</p><p style="text-align:left;">各种品牌各种型号手机，手机中各种类型的浏览器APP........还好移动端的相对一致点，但是往往都会有一些各种各样的坑，这时候就蛋疼了，明明chrome调试工具中是正常的，</p><p style="text-align:left;">一到某个浏览器中就炸了，怎么办，又无法像在chrome中使用调试工具进行调试，只能通过alert()弹窗来调试，有什么办法可以像PC上那样清晰，可视化的调试呢？</p><p style="text-align:left;">&nbsp;</p><p style="text-align:left;">噔噔噔~撒花，今天无意中发现了一个炒鸡酷炫的移动端调试工具 <a href="https://github.com/liriliri/eruda/blob/master/doc/README_CN.md" rel="nofollow">eruda</a>, 有点历史了；</p><p style="text-align:left;">　　Eruda 是一个专为手机网页前端设计的调试面板，类似 DevTools 的迷你版，其主要功能包括：捕获 console 日志、检查元素状态、显示性能指标、捕获XHR请求、显示本地存储和 Cookie 信息、浏览器特性检测等等。</p><p style="text-align:left;"></p><pre><code class="language-html">&lt;!DOCTYPE html&gt;      
&lt;html lang="en"&gt;      
&lt;head&gt;      
    &lt;meta charset="UTF-8"&gt;      
    &lt;title&gt;移动端调试神器（eruda）&lt;/title&gt;    
    &lt;style type="text/css"&gt;  
      .test{background: green;}  
      .one{display: inline-block; width:100px;height: 100px;background: #ddd;}
      .two{display: inline-block; width:100px;height: 100px;background: #666;}
    &lt;/style&gt;     
&lt;/head&gt;      
&lt;body&gt;

&lt;div class="test"&gt;
  &lt;div class="one"&gt;1&lt;/div&gt;
  &lt;div class="two"&gt;2&lt;/div&gt;
  &lt;button id="btn"&gt;按钮&lt;/button&gt;
&lt;/div&gt;  

&lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript"&gt;
  console.log('这个输出在eruda之前，所以无法捕获到~');
&lt;/script&gt;
&lt;script type="text/javascript"&gt;
(function () {
    //var src = 'http://eruda.liriliri.io/eruda.min.js';
    //var src = 'https://cdn.jsdelivr.net/npm/eruda';
    var src = 'https://cdn.bootcss.com/eruda/1.3.2/eruda.min.js';

    //添加下面的代码需要在url里填?eruda=true才能启动eruda
    //if (!/eruda=true/.test(window.location)) return; 

    document.write('&lt;scr' + 'ipt src="' + src + '"&gt;&lt;/scr' + 'ipt&gt;');
    document.write('&lt;scr' + 'ipt&gt;eruda.init();&lt;/scr' + 'ipt&gt;');
})();
&lt;/script&gt;
&lt;script type="text/javascript"&gt;
  console.log('这个输出在eruda之后，成功捕获！');
  $('#btn').on('click', function() {
    console.log('徐同保');
  });
&lt;/script&gt;
&lt;/body&gt;      
&lt;/html&gt; </code></pre><img src="https://img-blog.csdn.net/20171228104806411" alt=""><br><br><p></p><p style="text-align:left;"><br></p><p style="text-align:left;"><br></p><p style="text-align:left;"><br></p><p style="text-align:left;"><strong><span style="color:#000000;"><span style="color:#FF0000;"><strong>备注</strong></span>：欢迎加入web前端求职招聘qq群：<strong><span style="color:#000000;">668352707</span></strong></span></strong><br></p><p style="text-align:left;"><br></p>            ]]></description></item><item><title>lazyload.js</title><link>http://www.cnblogs.com/xutongbao/archive/2017/12/25/9924923.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Mon, 25 Dec 2017 07:40:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2017/12/25/9924923.html</guid><description><![CDATA[
                
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;meta charset="utf-8"&gt;
    &lt;title&gt;lazyload.js&lt;/title&gt;
    &lt;style type="text/css"&gt;
    &lt;/style&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;img class="lazy" data-src="http://pic64.nipic.com/file/20150413/14041019_003715403000_2.jpg"&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;
    &lt;script src="https://cdn.jsdelivr.net/npm/lazyload@2.0.0-beta.2/lazyload.js"&gt;&lt;/script&gt;
    &lt;script&gt;
     $(function() {
        //data-src是高分辨率的，src是低分辨率的
        $('.lazy').lazyload({effect:'fadeIn'});
     });
    &lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre><br>            ]]></description></item><item><title>iscroll.js移动端滚动插件</title><link>http://www.cnblogs.com/xutongbao/archive/2017/12/25/9924924.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Mon, 25 Dec 2017 03:57:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2017/12/25/9924924.html</guid><description><![CDATA[
                
<p></p><pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta charset="utf-8"&gt;
    &lt;title&gt;iscroll.js移动端滚动插件&lt;/title&gt;
    &lt;style type="text/css"&gt;
      body {margin: 0;}
      .wrapper {display:block;width: 100%; height: 102px;background: #ddd;overflow: hidden;}
      .wrapper ul {display: inline-block;margin: 0;padding: 0 10px;white-space: nowrap;}
      .wrapper li {display: inline-block;width: 200px; height: 100px;border: 1px solid green;}
      .wrapper2 {position: absolute;top: 102px;bottom: 50px; width: 100%; overflow: hidden;background: #f8f8f9;}
      .wrapper2 ul {margin: 0;padding: 0 10px; }
      .wrapper2 li {height: 100px;border: 1px solid green;list-style: none}
      .footer {position: absolute;bottom: 0;left: 0;width: 100%; height: 50px; background: #444;}
    &lt;/style&gt;
    &lt;/head&gt;
    &lt;body&gt;
    &lt;div id="wrapper" class="wrapper" style="touch-action:none;"&gt;
         &lt;ul&gt;
            &lt;li&gt;...&lt;/li&gt;
            &lt;li&gt;...&lt;/li&gt;
            &lt;li&gt;...&lt;/li&gt;
            &lt;li&gt;...&lt;/li&gt;
            &lt;li&gt;...&lt;/li&gt;
            &lt;li&gt;...&lt;/li&gt;
            &lt;li&gt;...&lt;/li&gt;
            &lt;li&gt;...&lt;/li&gt;
            &lt;li&gt;...&lt;/li&gt;
            &lt;li&gt;...&lt;/li&gt;
            &lt;li&gt;...&lt;/li&gt;
            &lt;li&gt;...&lt;/li&gt;
            &lt;li&gt;...&lt;/li&gt;
            &lt;li&gt;...&lt;/li&gt;
            &lt;li&gt;...&lt;/li&gt;
            &lt;li&gt;...&lt;/li&gt;
            &lt;li&gt;...&lt;/li&gt;
            &lt;li&gt;...&lt;/li&gt;
            &lt;li&gt;...&lt;/li&gt;
            &lt;li&gt;...&lt;/li&gt;
            &lt;li&gt;...&lt;/li&gt;
            &lt;li&gt;...&lt;/li&gt;
            &lt;li&gt;...&lt;/li&gt;
            &lt;li&gt;...&lt;/li&gt;             
        &lt;/ul&gt;
    &lt;/div&gt;
    &lt;div id="wrapper2" class="wrapper2" style="touch-action:none;"&gt;
         &lt;ul&gt;
            &lt;li&gt;...&lt;/li&gt;
            &lt;li&gt;...&lt;/li&gt;
            &lt;li&gt;...&lt;/li&gt;
            &lt;li&gt;...&lt;/li&gt;
            &lt;li&gt;...&lt;/li&gt;
            &lt;li&gt;...&lt;/li&gt;
            &lt;li&gt;...&lt;/li&gt;
            &lt;li&gt;...&lt;/li&gt;
            &lt;li&gt;...&lt;/li&gt;
            &lt;li&gt;...&lt;/li&gt;
            &lt;li&gt;...&lt;/li&gt;
            &lt;li&gt;...&lt;/li&gt;
            &lt;li&gt;...&lt;/li&gt;
            &lt;li&gt;...&lt;/li&gt;
            &lt;li&gt;...&lt;/li&gt;
            &lt;li&gt;...&lt;/li&gt;
            &lt;li&gt;...&lt;/li&gt;
            &lt;li&gt;...&lt;/li&gt;
            &lt;li&gt;...&lt;/li&gt;
            &lt;li&gt;...&lt;/li&gt;
            &lt;li&gt;...&lt;/li&gt;
            &lt;li&gt;...&lt;/li&gt;
            &lt;li&gt;...&lt;/li&gt;
            &lt;li&gt;...&lt;/li&gt;             
        &lt;/ul&gt;
    &lt;/div&gt;
    &lt;div class="footer"&gt;&lt;/div&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;
    &lt;script src="https://cdn.bootcss.com/iScroll/5.2.0/iscroll.js"&gt;&lt;/script&gt;
    &lt;script type="text/javascript"&gt;
      $(function() {
          var myScroll = new IScroll('#wrapper', { scrollX: true, click: true});
          var myScroll2 = new IScroll('#wrapper2', {click: true});
      });
    &lt;/script&gt;
    &lt;/body&gt;
&lt;/html&gt;</code></pre><br><img src="https://img-blog.csdn.net/20171225115704050" alt=""><br><p><br></p>
<p><br></p>
<p><br></p>
            ]]></description></item><item><title>director.js 路由</title><link>http://www.cnblogs.com/xutongbao/archive/2017/12/25/9924925.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Mon, 25 Dec 2017 01:17:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2017/12/25/9924925.html</guid><description><![CDATA[
                <p>&lt;!DOCTYPE html&gt;<br>&lt;html&gt;<br>&nbsp; &lt;head&gt;<br>&nbsp;&nbsp;&nbsp; &lt;meta charset="utf-8"&gt;<br>&nbsp;&nbsp;&nbsp; &lt;title&gt;director.js&lt;/title&gt;<br>&nbsp;&nbsp;&nbsp; &lt;style type="text/css"&gt;<br>&nbsp;&nbsp;&nbsp; .test {width: 100px;height: 100px;}<br>&nbsp;&nbsp;&nbsp; span {cursor: pointer;}<br>&nbsp;&nbsp;&nbsp; &lt;/style&gt;<br>&nbsp; &lt;/head&gt;<br><br>&nbsp; &lt;body&gt;<br>&nbsp;&nbsp;&nbsp; &lt;ul&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;li&gt;&lt;a href="#/author"&gt;#/author&lt;/a&gt;&lt;/li&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;li&gt;&lt;a href="#/books"&gt;#/books&lt;/a&gt;&lt;/li&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;li&gt;&lt;span href="#/books/view/1_1"&gt;#/books/view/1&lt;/span&gt;&lt;/li&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;li&gt;&lt;span href="#/books/view/2_2"&gt;#/books/view/2&lt;/span&gt;&lt;/li&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;li&gt;&lt;span href="#/books/view/3_3"&gt;#/books/view/3&lt;/span&gt;&lt;/li&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;li&gt;&lt;a href="https://www.baidu.com/?tn=47018152_dg"&gt;百度&lt;/a&gt;&lt;/li&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;div class="test"&gt;&lt;/div&gt;<br>&nbsp;&nbsp;&nbsp; &lt;/ul&gt;<br><br>&nbsp;&nbsp;&nbsp; &lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;<br>&nbsp;&nbsp; &nbsp;&lt;script src="https://cdn.bootcss.com/Director/1.2.8/director.js"&gt;&lt;/script&gt;<br>&nbsp;&nbsp;&nbsp; &lt;script&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; var author = function () { <br>&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;//console.log("author"); <br>&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$('.test').css({background:'green'});<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;};<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; var books = function () { <br>&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;//console.log("books"); <br>&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$('.test').css({background:'pink'});<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; };<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; var viewBook = function (bookId) {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //console.log("viewBook: bookId is populated: " + bookId);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; var id = bookId.split('_')[0];<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; var tid = bookId.split('_')[1];<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (id == 1) {<br>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$('.test').css({background:'gold'});<br>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;console.log(tid);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } else if&nbsp; (id == 2) {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$('.test').css({background:'#dddddd'});<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;console.log(tid);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } else if (id == 3) {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$('.test').css({background:'blue'});<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;console.log(tid);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; };<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $('span').on('click', function() {<br>&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;var temp = location.href.split('#')[0];<br>&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;location.href = temp + $(this).attr('href'); <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; });<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; var routes = {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; '/author': author,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; '/books': [books, function() {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; console.log("An inline route handler.");<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }],<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; '/books/view/:bookId': viewBook<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; };<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; var router = Router(routes);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; router.init();<br>&nbsp;&nbsp;&nbsp; &lt;/script&gt;<br>&nbsp; &lt;/body&gt;<br>&lt;/html&gt;<br></p><p><br></p><p>通过js控制跳转：<br></p><pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;meta charset="utf-8"&gt;
    &lt;title&gt;A Gentle Introduction&lt;/title&gt;
 
    &lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;
    &lt;script src="https://cdn.bootcss.com/Director/1.2.8/director.min.js"&gt;&lt;/script&gt; 
 
    &lt;script&gt;
    $('document').ready(function() {
      //
      // create some functions to be executed when
      // the correct route is issued by the user.
      //
      var showAuthorInfo = function () { console.log("showAuthorInfo"); };
      var listBooks = function () { console.log("listBooks"); };
 
      var allroutes = function() {
        var route = window.location.hash.slice(2);
        var sections = $('section');
        var section;
 
        section = sections.filter('[data-route=' + route + ']');
 
        if (section.length) {
          sections.hide(250);
          section.show(250);
        }
      };
 
      //
      // define the routing table.
      //
      var routes = {
        '/author': showAuthorInfo,
        '/books': listBooks
      };
 
      //
      // instantiate the router.
      //
      var router = Router(routes);
 
      //
      // a global configuration setting.
      //
      router.configure({
        on: allroutes
      });
 
      router.init();

      $('#m-author').on('click', function () {
        window.location = '#/author';  
      });
      $('#m-books').on('click', function () {
        window.location = '#/books';  
      });
    });
    &lt;/script&gt; 
  &lt;/head&gt;
 
  &lt;body&gt;
    &lt;section data-route="author"&gt;Author Name&lt;/section&gt;
    &lt;section data-route="books"&gt;Book1, Book2, Book3&lt;/section&gt;
    &lt;ul&gt;
      &lt;li&gt;&lt;a href="javascript:;" id="m-author"&gt;author&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href="javascript:;" id="m-books"&gt;books&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre><br>            ]]></description></item><item><title>移动端网页滑动到底部触发事件</title><link>http://www.cnblogs.com/xutongbao/archive/2017/12/07/9924926.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 07 Dec 2017 08:40:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2017/12/07/9924926.html</guid><description><![CDATA[
                
<p></p><pre><code class="language-html">&lt;!DOCTYPE html&gt;    
&lt;html lang="en"&gt;    
&lt;head&gt;    
    &lt;meta charset="UTF-8"&gt;    
    &lt;title&gt;移动端网页滑动到底部触发事件&lt;/title&gt;  
    &lt;style type="text/css"&gt;  
        .m-test {height: 2000px;background: green;}
    &lt;/style&gt;   
&lt;/head&gt;    
&lt;body&gt;
&lt;div id="m-test" class="m-test"&gt;&lt;/div&gt;

&lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript"&gt;
var flag=1;
var rgb = 0;
$(window).bind("scroll", function () {
    if(getScrollHeight() &lt; getDocumentTop() + getWindowHeight() + 200){
        //当滚动条到底时,这里是触发内容
        //异步请求数据,局部刷新dom
        //ajax_function()
        if (flag == 1) {
            flag=0;
            var temp = `&lt;div style="height:500px; background:rgb(100,${rgb},${rgb});"&gt;&lt;/div&gt;`;
            $('body').append(temp);
            rgb = rgb + 20;
            flag = 1;
        }
    }
});

//文档高度
function getDocumentTop() {
    var scrollTop =  0, bodyScrollTop = 0, documentScrollTop = 0;
    if (document.body) {
        bodyScrollTop = document.body.scrollTop;
    }
    if (document.documentElement) {
        documentScrollTop = document.documentElement.scrollTop;
    }
    scrollTop = (bodyScrollTop - documentScrollTop &gt; 0) ? bodyScrollTop : documentScrollTop;
    console.log("scrollTop:"+scrollTop);
    return scrollTop;
}

//可视窗口高度
function getWindowHeight() {
    var windowHeight = 0;
    if (document.compatMode == "CSS1Compat") {
        windowHeight = document.documentElement.clientHeight;
    } else {
        windowHeight = document.body.clientHeight;
    }
    console.log("windowHeight:"+windowHeight);
    return windowHeight;
}

//滚动条滚动高度
function getScrollHeight() {
    var scrollHeight = 0, bodyScrollHeight = 0, documentScrollHeight = 0;
    if (document.body) {
        bodyScrollHeight = document.body.scrollHeight;
    }
    if (document.documentElement) {
        documentScrollHeight = document.documentElement.scrollHeight;
    }
    scrollHeight = (bodyScrollHeight - documentScrollHeight &gt; 0) ? bodyScrollHeight : documentScrollHeight;
    console.log("scrollHeight:"+scrollHeight);
    return scrollHeight;
}
&lt;/script&gt;
&lt;/body&gt;    
&lt;/html&gt;  </code></pre><img src="https://img-blog.csdn.net/20171207163853362?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br><br>            ]]></description></item><item><title>移动端手指操控左右滑动的菜单</title><link>http://www.cnblogs.com/xutongbao/archive/2017/12/07/9924927.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 07 Dec 2017 07:50:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2017/12/07/9924927.html</guid><description><![CDATA[
                
<p></p><pre><code class="language-html">&lt;!DOCTYPE html&gt;    
&lt;html lang="en"&gt;    
&lt;head&gt;    
    &lt;meta charset="UTF-8"&gt;    
    &lt;title&gt;移动端手指操控左右滑动的菜单&lt;/title&gt;  
    &lt;style type="text/css"&gt;  
    body {margin:0;}
    .menu-wrap {
    	width: 100%;
    	height: 50px;
    	overflow: hidden;
    }
    .menu-wrap-layer2 {
    	width: 100%;
    	height: 50px;
    	overflow: hidden;
    }
    .menu-list {
    	display: inline-block;
    	white-space: nowrap;
    	transition-duration: 0ms;
    	transform: translateX(0px);
    }
    .menu-list-item {
    	display: inline-block;
    }
    .menu-list-item span {
    	display: inline-block;
    	width: 100px;
    	margin: 0 3px;
    	text-align: center;
    }
    &lt;/style&gt;   
&lt;/head&gt;    
&lt;body&gt;  
&lt;div id="menu-wrap" class="menu-wrap"&gt;
	&lt;div class="menu-list js-menu-list"&gt;
	    &lt;div class="menu-list-item"&gt;
	        &lt;span data-index="0"&gt;全站&lt;/span&gt;        
	    &lt;/div&gt;
	  	&lt;div class="menu-list-item"&gt;
	        &lt;span data-index="1"&gt;动画&lt;/span&gt;
	    &lt;/div&gt;
	    &lt;div class="menu-list-item"&gt;
	        &lt;span data-index="2"&gt;番剧&lt;/span&gt;
	    &lt;/div&gt;
	  	&lt;div class="menu-list-item"&gt;
	        &lt;span data-index="3"&gt;国创&lt;/span&gt;
	    &lt;/div&gt;
	   	&lt;div class="menu-list-item"&gt;
	        &lt;span data-index="4"&gt;音乐&lt;/span&gt;
	    &lt;/div&gt;
	  	&lt;div class="menu-list-item"&gt;
	        &lt;span&gt;舞蹈&lt;/span&gt;
	    &lt;/div&gt;
	    &lt;div class="menu-list-item"&gt;
	        &lt;span&gt;科技&lt;/span&gt;
	    &lt;/div&gt;
	  	&lt;div class="menu-list-item"&gt;
	        &lt;span&gt;游戏&lt;/span&gt;
	    &lt;/div&gt;
	    &lt;div class="menu-list-item"&gt;
	        &lt;span&gt;娱乐&lt;/span&gt;
	    &lt;/div&gt;
	  	&lt;div class="menu-list-item"&gt;
	        &lt;span&gt;电影&lt;/span&gt;
	    &lt;/div&gt;
	   	&lt;div class="menu-list-item"&gt;
	        &lt;span&gt;电视剧&lt;/span&gt;
	    &lt;/div&gt;
	  	&lt;div class="menu-list-item"&gt;
	        &lt;span&gt;纪录片&lt;/span&gt;
	    &lt;/div&gt;	    
	&lt;/div&gt;		
&lt;/div&gt;
&lt;div&gt;
&lt;div class="menu-wrap-layer2 js-menu-wrap-layer2 js-menu-wrap0" style="display: block;"&gt;
	&lt;div class="menu-list js-menu-list"&gt;
	    &lt;div class="menu-list-item"&gt;
	        &lt;span&gt;二级菜单1&lt;/span&gt;
	    &lt;/div&gt;
	  	&lt;div class="menu-list-item"&gt;
	        &lt;span&gt;二级菜单2&lt;/span&gt;
	    &lt;/div&gt;
	    &lt;div class="menu-list-item"&gt;
	        &lt;span&gt;二级菜单3&lt;/span&gt;
	    &lt;/div&gt;
	  	&lt;div class="menu-list-item"&gt;
	        &lt;span&gt;二级菜单4&lt;/span&gt;
	    &lt;/div&gt;
	   	&lt;div class="menu-list-item"&gt;
	        &lt;span&gt;二级菜单5&lt;/span&gt;
	    &lt;/div&gt;
	  	&lt;div class="menu-list-item"&gt;
	        &lt;span&gt;二级菜单6&lt;/span&gt;
	    &lt;/div&gt;
	    &lt;div class="menu-list-item"&gt;
	        &lt;span&gt;二级菜单7&lt;/span&gt;
	    &lt;/div&gt;
	  	&lt;div class="menu-list-item"&gt;
	        &lt;span&gt;二级菜单8&lt;/span&gt;
	    &lt;/div&gt;
	    &lt;div class="menu-list-item"&gt;
	        &lt;span&gt;二级菜单9&lt;/span&gt;
	    &lt;/div&gt;
	  	&lt;div class="menu-list-item"&gt;
	        &lt;span&gt;二级菜单10&lt;/span&gt;
	    &lt;/div&gt;
	   	&lt;div class="menu-list-item"&gt;
	        &lt;span&gt;二级菜单11&lt;/span&gt;
	    &lt;/div&gt;
	  	&lt;div class="menu-list-item"&gt;
	        &lt;span&gt;二级菜单12&lt;/span&gt;
	    &lt;/div&gt;	    
	&lt;/div&gt;	
&lt;/div&gt;	

&lt;div class="menu-wrap-layer2 js-menu-wrap-layer2 js-menu-wrap1" style="display: none;"&gt;
	&lt;div class="menu-list js-menu-list"&gt;
	    &lt;div class="menu-list-item"&gt;
	        &lt;span&gt;二级菜单s1&lt;/span&gt;
	    &lt;/div&gt;
	  	&lt;div class="menu-list-item"&gt;
	        &lt;span&gt;二级菜单s2&lt;/span&gt;
	    &lt;/div&gt;	    
	&lt;/div&gt;	
&lt;/div&gt;
&lt;/div&gt;


&lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript"&gt;


$(function() {
	var menu = function(wrap, menuList, menuItems) {
		var deviceWidth = $(window).width();
		var positionX = 0;
		var menuListPositionX1 = wrap.offset().left; 
		var menuListPositionX2 = menuListPositionX1 + wrap.width();      

		$(menuList).attr("style","transition-duration: 0ms;transform: translateX(0px);");

		menuList.addEventListener('touchstart',function(event){
			if(event.targetTouches.length == 1){
		        var touch = event.targetTouches[0];
		        positionX = touch.pageX;
		        //确定本次拖动transform的初始值
		        var transformStr = menuList.style.transform;
		        transformStr = transformStr.substring(11);
		        var index = transformStr.lastIndexOf("p");
		        transformStr = transformStr.substring(0, index);
		        transformX = parseInt(transformStr);
		        //确定本次拖动的div宽度值
		        var widthStr = menuList.style.width;
		        thisWidth = parseInt(widthStr.substring(0,widthStr.lastIndexOf("p")));
		    }
		}, false);
		menuList.addEventListener('touchmove', function(event) {
		    //阻止其他事件
		    event.preventDefault();
		    //获取当前坐标
		    if(event.targetTouches.length == 1){
		        var touch = event.targetTouches[0];
		        menuList.style.transform = 'translateX('+(transformX+touch.pageX-positionX)+'px)';
		        $(menuList).css("width",thisWidth+positionX-touch.pageX);
		    }
		}, false);
		menuList.addEventListener('touchend', function(event) {
		    var menuItem1 = menuItems[0];
		    var menuItem1Left = $(menuItem1).offset().left;
		   	var menuItem2 = menuItems[menuItems.length-1];
		    var menuItemPositionX = $(menuItem2).offset().left+$(menuItem2).width();
		    var firstToLast = menuItemPositionX - menuItem1Left;
		    if (menuItem1Left &gt; menuListPositionX1 || firstToLast &lt; deviceWidth) {
		        menuList.style.transform = 'translateX('+(menuListPositionX1)+'px)';
		    }
		    if(menuItemPositionX &lt; menuListPositionX2 &amp;&amp; menuItem1Left &lt; 0 &amp;&amp; firstToLast &gt; deviceWidth) {
		    	var myWidth = $(menuList).width() - deviceWidth;
		        menuList.style.transform = 'translateX('+(0-myWidth)+'px)';
		    }
		}, false);
	}

	var event = function() {
		$('#menu-wrap .js-menu-list span').click(function () {
			console.log($(this).attr('data-index'));
			var activeMenu = $('.js-menu-wrap' + $(this).attr('data-index'));
			activeMenu.siblings().hide();
			activeMenu.show();
		});
	}
	var init = function() {
		var menuWrap = $('#menu-wrap');
		var menuList = $("#menu-wrap .js-menu-list")[0];
		var menuListItems = $("#menu-wrap .menu-list-item");
		menu(menuWrap, menuList, menuListItems);

		var menuWrapLayer2 = $('.js-menu-wrap-layer2');
		var helper = function (tempWrap, tempMenuList, tempMenuListItems) {  
			var tempFun = function() {
				menu(tempWrap, tempMenuList, tempMenuListItems);
			}();
		}  
		for (var i = 0; i &lt; menuWrapLayer2.length; i++) {
			var tempWrap = $(menuWrapLayer2[i]);
			var tempMenuList = $(menuWrapLayer2[i]).find('.js-menu-list')[0];
			var tempMenuListItems = $(menuWrapLayer2[i]).find('.menu-list-item');
			helper(tempWrap, tempMenuList, tempMenuListItems);
		}
		event();
	}();
});
&lt;/script&gt;
&lt;/body&gt;    
&lt;/html&gt;  </code></pre><br><br><p><img src="https://img-blog.csdn.net/20171207154901450?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br></p>
<p><br></p>
<p><img src="https://img-blog.csdn.net/20171207154916025?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br></p>
<p><br></p>
<p><br></p>
<p><br></p>
<p><br></p>
<p><img src="https://img-blog.csdn.net/20171207154929059?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br></p>
<p><br></p>
<p><br></p>
<p><br></p>
<p><br></p>
            ]]></description></item><item><title>em实例</title><link>http://www.cnblogs.com/xutongbao/archive/2017/11/30/9924928.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 30 Nov 2017 08:46:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2017/11/30/9924928.html</guid><description><![CDATA[
                
<p></p><pre><code class="language-html">&lt;!DOCTYPE html&gt;    
&lt;html lang="en"&gt;    
&lt;head&gt;    
    &lt;meta charset="UTF-8"&gt;    
    &lt;title&gt;em实例&lt;/title&gt;  
    &lt;style type="text/css"&gt;  
        div {  
            margin: 0 0 10px;  
        }  
        .div0 {  
            width: 100px;  
            height: 100px;  
            font-size: 20px;  
            border: 1px solid green;  
        }  
        .div1 {  
            width: 5em;  
            height: 5em;  
            font-size: 0.2em;  
            border: 1px solid green;  
        }  
        .div1s {    
            width: 1rem;    
            height: 1rem;    
            font-size: 0.2rem;    
            border: 1px solid green;    
        }          
        .div2 {  
            width: 5em;  
            height: 5em;  
            font-size: 0.4em;  
            border: 1px solid green;  
        }   
        .div2 span {
            font-size: 0.5em;  
        }
    &lt;/style&gt;  
    &lt;script type="text/javascript"&gt;  
        //document.documentElement.style.fontSize = document.documentElement.clientWidth / 19.20 + 'px';  

        (function (doc, win) {  
            var docEl = doc.documentElement;  
            var resizeEvt = 'orientationchange' in window ? 'orientationchange' : 'resize'; 

            var recalc = function () {  
                var clientWidth = docEl.clientWidth;  
                if (!clientWidth) {
                    return;
                }  
                docEl.style.fontSize = 100 * (clientWidth / 1920) + 'px';  
            };  

            if (!doc.addEventListener) {
                return; 
            }
            win.addEventListener(resizeEvt, recalc, false);  
            doc.addEventListener('DOMContentLoaded', recalc, false);  
        })(document, window);  
    &lt;/script&gt;  
&lt;/head&gt;    
&lt;body&gt;  
    1em
    &lt;div class="div0"&gt;20px&lt;/div&gt;  
    &lt;div class="div1"&gt;0.2em&lt;/div&gt;    
    &lt;div class="div1s"&gt;0.2rem&lt;/div&gt;       
    &lt;div class="div2"&gt;0.4em&lt;span&gt;0.5em&lt;/span&gt;&lt;/div&gt;  
&lt;/body&gt;    
&lt;/html&gt;  </code></pre><br>
基于1920的设计图，我的电脑也是1920的
<p>浏览器全屏时：</p>
<img src="https://img-blog.csdn.net/20171130164441656?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br><p><br></p>
<p>浏览器半屏时：</p>
<p><img src="https://img-blog.csdn.net/20171130164504434?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br></p>
<p><br></p>
<p><br></p>
            ]]></description></item><item><title>雪碧图 移动端雪碧图</title><link>http://www.cnblogs.com/xutongbao/archive/2017/11/30/9924929.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 30 Nov 2017 07:41:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2017/11/30/9924929.html</guid><description><![CDATA[
                <p></p><p></p><pre><code class="language-html">&lt;!DOCTYPE html&gt;  
&lt;html lang="en"&gt;  
&lt;head&gt;  
    &lt;meta charset="UTF-8"&gt;  
    &lt;title&gt;雪碧图&lt;/title&gt;
    &lt;style type="text/css"&gt;
        span{
            display: inline-block; 
            width: 24px; 
            height: 24px; 
            border: 1px solid #ccc;
            background-image: url(https://img-blog.csdn.net/20171130154115247?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center); background-repeat: no-repeat;
            margin: 5px;
        }
        .icon1{background-position: 0 0;}
        .icon2{background-position: -24px 0;}
        .icon3{background-position: 0 -24px;}
        .icon4{background-position: 0 -48px;}
    &lt;/style&gt;
&lt;/head&gt;  
&lt;body&gt;
    &lt;div&gt;雪碧图：&lt;/div&gt;
    &lt;div&gt;
        &lt;span class="icon1"&gt;&lt;/span&gt;
        &lt;span class="icon2"&gt;&lt;/span&gt;
        &lt;span class="icon3"&gt;&lt;/span&gt;
        &lt;span class="icon4"&gt;&lt;/span&gt;
    &lt;/div&gt;
    &lt;div&gt;原图：&lt;/div&gt;
    &lt;div&gt;&lt;img src="https://img-blog.csdn.net/20171130154115247?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center"&gt;&lt;/div&gt;
&lt;/body&gt;  
&lt;/html&gt;  </code></pre><br><br><p></p><p><br></p><img src="https://img-blog.csdn.net/20171130154115247?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br><p></p><p><br></p><p><img src="https://img-blog.csdn.net/20171130154314825?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""></p><pre><code class="language-html">&lt;!DOCTYPE html&gt;    
&lt;html lang="en"&gt;    
&lt;head&gt;    
    &lt;meta charset="UTF-8"&gt;    
    &lt;title&gt;移动端雪碧图&lt;/title&gt;  
    &lt;style type="text/css"&gt;  
        span{  
            display: inline-block;   
            width: 12px;   
            height: 12px;   
            border: 1px solid #ccc;  
            background-image: url(https://img-blog.csdn.net/20171130154115247?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center); 
            background-repeat: no-repeat;  
            background-size: 200% auto;
            margin: 5px;  
        }  
        .icon1{background-position: 0 0;}  
        .icon2{background-position: -12px 0;}  
        .icon3{background-position: 0 -12px;}  
        .icon4{background-position: 0 -24px;}  
    &lt;/style&gt;  
&lt;/head&gt;    
&lt;body&gt;  
    &lt;div&gt;雪碧图：&lt;/div&gt;  
    &lt;div&gt;  
        &lt;span class="icon1"&gt;&lt;/span&gt;  
        &lt;span class="icon2"&gt;&lt;/span&gt;  
        &lt;span class="icon3"&gt;&lt;/span&gt;  
        &lt;span class="icon4"&gt;&lt;/span&gt;  
    &lt;/div&gt;  
    &lt;div&gt;原图：&lt;/div&gt;  
    &lt;div&gt;&lt;img src="https://img-blog.csdn.net/20171130154115247?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center"&gt;&lt;/div&gt;  
&lt;/body&gt;    
&lt;/html&gt; </code></pre><img src="https://img-blog.csdn.net/20180521144608302" alt=""><br><p>在线快速制作雪碧图：<a href="https://www.toptal.com/developers/css/sprite-generator" rel="nofollow">https://www.toptal.com/developers/css/sprite-generator</a><br></p><p><br></p><p><br></p>            ]]></description></item><item><title>rem实例</title><link>http://www.cnblogs.com/xutongbao/archive/2017/11/29/9924930.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 29 Nov 2017 11:20:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2017/11/29/9924930.html</guid><description><![CDATA[
                
<p></p><pre><code class="language-html">&lt;!DOCTYPE html&gt;    
&lt;html lang="en"&gt;    
&lt;head&gt;    
    &lt;meta charset="UTF-8"&gt;    
    &lt;title&gt;rem实例&lt;/title&gt;  
    &lt;style type="text/css"&gt;  
        div {  
            margin: 0 0 10px;  
        }  
        .div0 {  
            width: 100px;  
            height: 100px;  
            font-size: 20px;  
            border: 1px solid green;  
        }  
        .div1 {  
            width: 1rem;  
            height: 1rem;  
            font-size: 0.2rem;  
            border: 1px solid green;  
        }  
        .div2 {  
            width: 2rem;  
            height: 2rem;  
            font-size: 0.4rem;  
            border: 1px solid green;  
        }  
    &lt;/style&gt;  
    &lt;script type="text/javascript"&gt;  
        //document.documentElement.style.fontSize = document.documentElement.clientWidth / 19.20 + 'px';  

        (function (doc, win) {  
            var docEl = doc.documentElement;  
            var resizeEvt = 'orientationchange' in window ? 'orientationchange' : 'resize'; 

            var recalc = function () {  
                var clientWidth = docEl.clientWidth;  
                if (!clientWidth) {
                    return;
                }  
                docEl.style.fontSize = 100 * (clientWidth / 1920) + 'px';  
            };  

            if (!doc.addEventListener) {
                return; 
            }
            win.addEventListener(resizeEvt, recalc, false);  
            doc.addEventListener('DOMContentLoaded', recalc, false);  
        })(document, window);  
    &lt;/script&gt;  
&lt;/head&gt;    
&lt;body&gt;  
    &lt;div class="div0"&gt;20px&lt;/div&gt;  
    &lt;div class="div1"&gt;0.2rem&lt;/div&gt;    
    &lt;div class="div2"&gt;0.4rem&lt;/div&gt;  
&lt;/body&gt;    
&lt;/html&gt;  </code></pre><br><br><p><br></p>
基于1920的设计图，我的电脑也是1920的
<p></p>
<p>浏览器全屏时：</p>
<p><img src="https://img-blog.csdn.net/20171129191854637?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br></p>
<p>浏览器半屏时：</p>
<p><img src="https://img-blog.csdn.net/20171129191930716?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br></p>
<p><br></p>
<p><br></p>
<p><br></p>
<p><br></p>
            ]]></description></item><item><title>底部始终在文档末尾，当文档较长时跟随在文档末尾，当文档较短时在窗口底部</title><link>http://www.cnblogs.com/xutongbao/archive/2017/11/29/9924931.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 29 Nov 2017 03:49:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2017/11/29/9924931.html</guid><description><![CDATA[
                
<p></p><pre><code class="language-html">&lt;!DOCTYPE html&gt;  
&lt;html lang="en"&gt;  
&lt;head&gt;  
    &lt;meta charset="UTF-8"&gt;  
    &lt;title&gt;底部始终在文档末尾，当文档较长时跟随在文档末尾，当文档较短时在窗口底部&lt;/title&gt;
    &lt;style type="text/css"&gt;
        /* 底部自适应文档和窗口  */
        html,body{width:100%;height:100%;margin:0;}
        p{margin:0px;line-height: 100px;}
        .g-doc{position:relative;min-height:100%;_height:100%;}
        .g-bd{padding:0 0 60px;zoom:1;}
        .g-ft{height:50px;margin:-50px 0 0;background:#ddd;}
  
    &lt;/style&gt;
&lt;/head&gt;  
&lt;body&gt;
    &lt;div class="g-doc"&gt;
        &lt;div class="g-bd"&gt;
            &lt;p&gt;请增加或减少内容，或改变窗口大小，以便查看效果。&lt;/p&gt;
            &lt;p&gt;请增加或减少内容，或改变窗口大小，以便查看效果。&lt;/p&gt;
            &lt;p&gt;请增加或减少内容，或改变窗口大小，以便查看效果。&lt;/p&gt;
            &lt;p&gt;请增加或减少内容，或改变窗口大小，以便查看效果。&lt;/p&gt;
            &lt;p&gt;请增加或减少内容，或改变窗口大小，以便查看效果。&lt;/p&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class="g-ft"&gt;
        底部始终在文档末尾，当文档较长时跟随在文档末尾，当文档较短时在窗口底部。
    &lt;/div&gt;    
&lt;/body&gt;  
&lt;/html&gt;  </code></pre><img src="https://img-blog.csdn.net/20171129114833143?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br><img src="https://img-blog.csdn.net/20171129114856749?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br><p><br></p>
<p><br></p>
            ]]></description></item><item><title>css实现右侧固定宽度，左侧宽度自适应</title><link>http://www.cnblogs.com/xutongbao/archive/2017/11/29/9924932.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 29 Nov 2017 02:48:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2017/11/29/9924932.html</guid><description><![CDATA[
                <p>如果使用float做固定宽度的div，这个div要写在自适应div的前面，不然后导致两个div不在同一行，这是用float的弊端</p><p>absolute可以解决这个问题，但是使用absolute时，如果固定宽带的div比较高，会影响后面的布局</p><p>所以还需要使用float，一个向左浮动，一个向右浮动，自适应的div里还要再添加一个div，很复杂的<br></p><p>最终方案：<br></p><pre><code class="language-html">&lt;!DOCTYPE html&gt;    
&lt;html lang="en"&gt;    
&lt;head&gt;    
    &lt;meta charset="UTF-8"&gt;    
    &lt;title&gt;css实现右侧固定宽度，左侧宽度自适应（最终方案）&lt;/title&gt;  
    &lt;style type="text/css"&gt;  
        .wrap {  
            max-width: 900px;  
            margin:0 auto;  
            overflow: hidden;  /*清除浮动，以及隐藏向左移动出去的部分*/
        }  
     
        .content {  
            float: left;  
            width: 100%;  
            margin-left: -310px;  
            background-color: #eee;  
        }  
        .content-inner {  
            margin-left: 310px;  
            border: 1px solid green; 
        }          
        .sidebar {  
            float: right;  
            width: 300px;  
            height: 500px;
            background-color: gold;  
        }  
        .footer{margin:0 auto;max-width: 900px;height: 100px; background:green;}
    &lt;/style&gt;  
&lt;/head&gt;    
&lt;body&gt;     
    &lt;div class="wrap"&gt;  
        &lt;div class="content"&gt;  
            &lt;div class="content-inner"&gt;自适应区,浏览器宽度缩小时文字会自动换行。&lt;/div&gt;  
        &lt;/div&gt;  
        &lt;div class="sidebar"&gt;固定宽度区(float与margin齐上阵)&lt;/div&gt;  
    &lt;/div&gt;       
    &lt;div class="footer"&gt;底部&lt;/div&gt;   
&lt;/body&gt;    
&lt;/html&gt;</code></pre><img src="https://img-blog.csdn.net/20180309152737498" alt=""><br><p><br></p><p>前期探索方案：<br></p><pre><code class="language-html">&lt;!DOCTYPE html&gt;  
&lt;html lang="en"&gt;  
&lt;head&gt;  
    &lt;meta charset="UTF-8"&gt;  
    &lt;title&gt;css实现右侧固定宽度，左侧宽度自适应&lt;/title&gt;
    &lt;style type="text/css"&gt;
        .wrap {
            max-width: 900px;
            margin:0 auto 10px;
            border: 1px solid green;
            overflow: hidden;
        }
        .content ,.sidebar {
            background-color: #eee;
        }
        .sidebar {
            float: right; 
            width: 300px;
            background-color: gold;
        }
        .content {
            margin-right: 310px;
            background-color: #eee;
        }
        .sidebar2 {
            float: left;
            width: 300px;
            background-color: gold;
        }
        .content2 {
            margin-left: 310px;
            background-color: #eee;
        }  
        .wrap2 {
            max-width: 900px;
            margin:0 auto 10px;
            border: 1px solid green;            
            position: relative;
        }
        .content3 {
            margin-right: 310px;
            background-color: #eee;
        }
        .sidebar3 {
            position: absolute;
            right: 0;
            top: 0;
            width: 300px;
            background-color: gold;
        }
        .content4 {
            margin-left: 310px;
            background-color: #eee;
        }
        .sidebar4 {
            position: absolute;
            left: 0;
            top: 0;
            width: 300px;
            background-color: gold;
        }    
        .content5 {
            float: left;
            width: 100%;
            margin-left: -310px;
            background-color: #eee;
        }
        .content5s {
            margin-left: 310px;
        }        
        .sidebar5 {
            float: right;
            width: 300px;
            background-color: gold;
        }    
        .content6 {
            float: right;
            width: 100%;
            margin-right: -310px;
            background-color: #eee;
        }
        .content6s {
            margin-right: 310px;
        }        
        .sidebar6 {
            float: left;
            width: 300px;
            background-color: gold;
        }  
        .wrap3 {
            display: table;
            max-width: 900px;
            width: 100%;
            margin:0 auto 10px;
            border: 1px solid green;            
        } 
        .content7 {
            display: table-cell;
            background-color: #eee;
        }
        .sidebar7 {
            display: table-cell;
            width: 300px;
            background-color: gold;
        }                           
    &lt;/style&gt;
&lt;/head&gt;  
&lt;body&gt;
    &lt;div class="wrap"&gt;
        &lt;div class="sidebar"&gt;固定宽度区(float)&lt;/div&gt;
        &lt;div class="content"&gt;自适应区,浏览器宽度缩小时文字会自动换行。&lt;/div&gt;
    &lt;/div&gt;
    &lt;div class="wrap"&gt;
        &lt;div class="sidebar2"&gt;固定宽度区(float)&lt;/div&gt;
        &lt;div class="content2"&gt;自适应区,浏览器宽度缩小时文字会自动换行。&lt;/div&gt;
    &lt;/div&gt;
    &lt;div class="wrap2"&gt;
        &lt;div class="content3"&gt;自适应区,浏览器宽度缩小时文字会自动换行。&lt;/div&gt;
        &lt;div class="sidebar3"&gt;固定宽度区(absolute)&lt;/div&gt;
    &lt;/div&gt;  
    &lt;div class="wrap2"&gt;
        &lt;div class="content4"&gt;自适应区,浏览器宽度缩小时文字会自动换行。&lt;/div&gt;
        &lt;div class="sidebar4"&gt;固定宽度区(absolute)&lt;/div&gt;
    &lt;/div&gt;  
    &lt;div class="wrap"&gt;
        &lt;div class="content5"&gt;
            &lt;div class="content5s"&gt;自适应区,浏览器宽度缩小时文字会自动换行。&lt;/div&gt;
        &lt;/div&gt;
        &lt;div class="sidebar5"&gt;固定宽度区(float与margin齐上阵)&lt;/div&gt;
    &lt;/div&gt;  
    &lt;div class="wrap"&gt;
        &lt;div class="content6"&gt;
            &lt;div class="content6s"&gt;自适应区,浏览器宽度缩小时文字会自动换行。&lt;/div&gt;
        &lt;/div&gt;
        &lt;div class="sidebar6"&gt;固定宽度区(float与margin齐上阵)&lt;/div&gt;
    &lt;/div&gt; 
    &lt;div class="wrap3"&gt;
        &lt;div class="content7"&gt;自适应区,浏览器宽度缩小时文字会自动换行。&lt;/div&gt;
        &lt;div class="sidebar7"&gt;固定宽度区(display:table)&lt;/div&gt;
    &lt;/div&gt;   
    &lt;div class="wrap3"&gt;
        &lt;div class="sidebar7"&gt;固定宽度区(display:table)&lt;/div&gt;
        &lt;div class="content7"&gt;自适应区,浏览器宽度缩小时文字会自动换行。&lt;/div&gt;
    &lt;/div&gt;                
&lt;/body&gt;  
&lt;/html&gt;  </code></pre><img src="https://img-blog.csdn.net/20171129110652980?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br><p><img src="https://img-blog.csdn.net/20171129104658621?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""></p><p><br></p><p>如果是不需要兼容版本比较低的浏览器，可以使用flex布局：</p><pre><code class="language-html">    &lt;!DOCTYPE html&gt;            
    &lt;html&gt;            
    &lt;head&gt;            
        &lt;meta charset="UTF-8"&gt;        
        &lt;meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"&gt;      
        &lt;title&gt;flex布局&lt;/title&gt;          
        &lt;style type="text/css"&gt;    
            body{margin: 0}  
            /*           
            flex-direction: row | row-reverse | column | column-reverse;  
            flex-wrap: nowrap | wrap | wrap-reverse;  
            */
            .m-flex{display: flex;flex-direction: row;} 
            .m-content{flex:1;border:1px solid blue;}  
            .m-right{flex:0 0 300px;border:1px solid blue;}  
        &lt;/style&gt;          
    &lt;/head&gt;            
    &lt;body&gt;         
        &lt;div class="m-flex"&gt;  
            &lt;div class="m-content"&gt;自适应区,浏览器宽度缩小时文字会自动换行。&lt;/div&gt;  
            &lt;div class="m-right"&gt;固定宽度区(flex)&lt;/div&gt;  
        &lt;/div&gt;   

    &lt;/body&gt;            
    &lt;/html&gt;  </code></pre><br><p>参考链接：<a href="http://jo2.org/css-auto-adapt-width/" rel="nofollow">http://jo2.org/css-auto-adapt-width/</a></p><p><a href="http://jo2.org/css-auto-adapt-width/" rel="nofollow"><br></a></p><p><a href="http://jo2.org/css-auto-adapt-width/" rel="nofollow"><br></a></p><p><br></p>            ]]></description></item><item><title>div带箭头提示框实例</title><link>http://www.cnblogs.com/xutongbao/archive/2017/11/28/9924933.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 28 Nov 2017 05:51:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2017/11/28/9924933.html</guid><description><![CDATA[
                <p></p><pre><code class="language-html">&lt;!DOCTYPE html&gt;  
&lt;html lang="en"&gt;  
&lt;head&gt;  
    &lt;meta charset="UTF-8"&gt;  
    &lt;title&gt;div带箭头提示框实例&lt;/title&gt;
    &lt;style type="text/css"&gt;
        .info {
            margin-top: 50px;
            position:relative;
            width:200px;
            height:50px;
            line-height:50px;
            background:#F6F1B3;
            box-shadow:1px 2px 3px #E9D985;
            border:1px solid #DACE7C;
            border-radius:4px;
            text-align:center;
            color:red;
        }
        .nav {
            position:absolute;
            left:30px;
            overflow:hidden;
            width:0;
            height:0;
            border-width:10px;
            border-style:solid dashed dashed dashed;
        }
        .nav-border {
            top:-20px;
            border-color:transparent transparent #DACE7C transparent;
        }
        .nav-background {
            top:-19px;
            border-color:transparent transparent #F6F1B3 transparent;
        }

        .nav2 {
            position:absolute;
            top:-8px;
            left:30px;
            overflow:hidden;
            width:13px;
            height:13px;
            background:#F6F1B3;
            border-left:1px solid #DACE7C;
            border-top:1px solid #DACE7C;
            -webkit-transform:rotate(45deg);
            -moz-transform:rotate(45deg);
            -o-transform:rotate(45deg);
            transform:rotate(45deg);
        }

        .nav3 {
            position:absolute;
            left:30px;
            overflow:hidden;
            width:24px;
            height:24px;
            font:normal 24px "微软雅黑";
        }
        .nav-border3 {
            top:-17px;
            color:#DACE7C;
        }
        .nav-background3 {
            top:-16px;
            color:#F6F1B3;
        }        
    &lt;/style&gt;
&lt;/head&gt;  
&lt;body&gt;
&lt;div class="info"&gt;
    &lt;span&gt;通过border&lt;/span&gt;
    &lt;div class="nav nav-border"&gt;&lt;/div&gt;
    &lt;div class="nav nav-background"&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;div class="info"&gt;
    &lt;span&gt;通过transform&lt;/span&gt;
    &lt;div class="nav2"&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;div class="info"&gt;
    &lt;span&gt;通过♦&lt;/span&gt;
    &lt;div class="nav3 nav-border3"&gt;♦&lt;/div&gt;
    &lt;div class="nav3 nav-background3"&gt;♦&lt;/div&gt;
&lt;/div&gt;
&lt;/body&gt;  
&lt;/html&gt;  </code></pre><p></p><p><img src="https://img-blog.csdn.net/20171128135044677?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""></p><p><br></p><p><strong><span style="color:#000000;"><span style="color:#FF0000;"><strong>备注</strong></span>：欢迎加入web前端求职招聘qq群：<strong><span style="color:#000000;">668352707</span></strong></span></strong><br></p>            ]]></description></item><item><title>中国省市区地址三级联动jQuery插件 Distpicker</title><link>http://www.cnblogs.com/xutongbao/archive/2017/11/28/9924934.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 28 Nov 2017 03:40:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2017/11/28/9924934.html</guid><description><![CDATA[
                <p></p><pre><code class="language-html">&lt;!DOCTYPE html&gt;  
&lt;html lang="en"&gt;  
&lt;head&gt;  
    &lt;meta charset="UTF-8"&gt;  
    &lt;title&gt;中国省市区地址三级联动jQuery插件 Distpicker&lt;/title&gt;
&lt;/head&gt;  
&lt;body&gt;
&lt;div data-toggle="distpicker" data-autoselect="3"&gt;
  &lt;select&gt;&lt;/select&gt;
  &lt;select&gt;&lt;/select&gt;
  &lt;select&gt;&lt;/select&gt;
&lt;/div&gt;
&lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;
&lt;script src="https://cdn.bootcss.com/distpicker/2.0.1/distpicker.js"&gt;&lt;/script&gt;
&lt;/body&gt;  
&lt;/html&gt;  </code></pre><br><p><img src="https://img-blog.csdn.net/20171128113933594?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""></p><p><br></p><p><br></p><p><strong><span style="color:#000000;"><span style="color:#FF0000;"><strong>备注</strong></span>：欢迎加入web前端求职招聘qq群：<strong><span style="color:#000000;">668352707</span></strong></span></strong><br></p><p></p>            ]]></description></item><item><title>javascript不同类型数据之间运算的转换</title><link>http://www.cnblogs.com/xutongbao/archive/2017/11/28/9924935.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 28 Nov 2017 02:55:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2017/11/28/9924935.html</guid><description><![CDATA[
                
<p></p><pre><code class="language-html">&lt;!DOCTYPE html&gt;  
&lt;html lang="en"&gt;  
&lt;head&gt;  
    &lt;meta charset="UTF-8"&gt;  
    &lt;title&gt;javascript不同类型数据之间运算的转换&lt;/title&gt;
&lt;/head&gt;  
&lt;body&gt;
&lt;script type="text/javascript"&gt;
    var result = null + 1;
    console.log(result);  //1

    result = undefined + 1;
    console.log(result);  //NaN

    result = false + 1;
    console.log(result);  //1    

    result = true + 1;
    console.log(result);  //2   

    result = '6' + 1;
    console.log(result);  //61       

    result = '6' - 1;
    console.log(result);  //5

    result = 'a' + 1;
    console.log(result);  //a1       

    result = 'a' - 1;
    console.log(result);  //NaN   

    result = null + undefined;
    console.log(result);  //NaN

    result = null + 'a';
    console.log(result);  //nulla

    result = null - 'a';
    console.log(result);  //NaN

    result = undefined + 'a';
    console.log(result);  //undefineda    

    result = undefined - 'a';
    console.log(result);  //NaN  

    result = true + 'a';
    console.log(result);  //truea  

    result = true - 'a';
    console.log(result);  //NaN 

    result = false + 'a';
    console.log(result);  //falsea      

    result = 66 + 'a';
    console.log(result);  //66a      

    result = null + false;
    console.log(result);  //0      

    result = null + true;
    console.log(result);  //1     

    result = true + false;
    console.log(result);  //1       


    result = false - true;
    console.log(result);  //-1

    result = true + undefined;
    console.log(result);  //NaN   

    result = false + undefined;
    console.log(result);  //NaN  

    result = 1 + NaN;
    console.log(result);  //NaN 

    result = 'a' + NaN;
    console.log(result);  //aNaN     

    result = 1 + 2 + '3';
    console.log(result);  //33      

    result = 1 + (2 + '3');
    console.log(result);  //123      

    result = 1 + true + undefined + 's'; // 1+1+NaN+'s'=2+NaN+'s'=NaN+'s'=NaN
    console.log(result);  //NaNs

&lt;/script&gt;
&lt;/body&gt;  
&lt;/html&gt;  </code></pre><br><img src="https://img-blog.csdn.net/20171128105445828?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br><p><br></p>
<p><br></p>
<p><br></p>
            ]]></description></item><item><title>CSS选择器和优先级</title><link>http://www.cnblogs.com/xutongbao/archive/2017/11/27/9924936.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Mon, 27 Nov 2017 10:47:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2017/11/27/9924936.html</guid><description><![CDATA[
                
<p></p><pre><code class="language-html">&lt;!DOCTYPE html&gt;  
&lt;html lang="en"&gt;  
&lt;head&gt;  
    &lt;meta charset="UTF-8"&gt;  
    &lt;style type="text/css"&gt;
        /*
        CSS优先级
        不同级别
        1. 在属性后面使用 !important 会覆盖页面内任何位置定义的元素样式。
        2.作为style属性写在元素内的样式
        3.id选择器
        4.类选择器
        5.标签选择器
        6.通配符选择器
        7.浏览器自定义
        同一级别
        同一级别中后写的会覆盖先写的样式
         */
        #myId {
            color:green;
        }
        .my-class {
            color:blue;
        }
        p {
            color:red;
        }
        * {
            color:pink;
            font-size: 24px;
        }

        .my-class-a, .my-class-b {
            color:orange;
        }
        .my-class-c .my-class-d {
            color: purple;
        }
        .my-class-e&gt;.my-class-f {
            color: gold;
        }  
        .my-class-g+.my-class-h {
            color: wheat;
        }    
        .my-class-i~.my-class-j {
            color: darkviolet;
        }  
        .my-class-k.my-class-l {
            color: saddlebrown;
        }
        .my-class-m[title] {
            color:orangered;
        } 
        .my-class-m[title=value1] {
            color:darkgreen;
        }     
        .my-class-m[title~=hello] {
            background:green;
        }    
        .my-class-m[title|=value2] {
            background:blue;
        }   
        .my-class-m[title^=value3] {
            background:red;
        } 
        .my-class-m[title$=value4] {
            background:pink;
        }   
        .my-class-m[title*=value5] {
            background:orange;
        }   
        .my-class-n:first-child{
            background-color:purple;
        }
        a:link {
            color: gold;
        }  
        a:visited {
            color: wheat;
        }  
        a:active {
            color: darkviolet;
        }  
        a:hover {
            color: saddlebrown;
        }
        .my-class-o:focus{
            border: 2px solid orangered;
        }
        .my-class-p:lang(zh) {
            background: darkgreen;
        }
        .my-class-q button:enabled {
            background: green;
        }
        .my-class-q button:disabled {
            background: #ddd;
        }   
        .my-class-r input:checked+span:after {
            content: "我被选中了";
        }         
        .my-class-s::selection {
            background:green;
            color:pink;
        }  
        .my-class-t span:nth-child(2) {
            color:blue;
        }   
        .my-class-u span:nth-last-child(3) {
            color:blue;
        }  
        .my-class-v p:nth-of-type(2) {
            color:blue;
        }   
        .my-class-w p:nth-last-of-type(2) {
            color:blue;
        }                                   
        .my-class-x:last-child{
            background-color:purple;
        }
        .my-class-y p:first-of-type{
            background-color:purple;
        }      
        .my-class-z p:last-of-type{
            background-color:purple;
        }      
        .my-class-aa span:only-child{
            background-color:purple;
        }  
        .my-class-bb span:only-of-type{
            background-color:purple;
        }    
        .my-class-cc:empty{
            background-color:purple;
        }    
        .my-class-dd span:not(.my-style) {
            background-color:purple;
        } 
        .my-class-ee:first-line {
            background-color:purple;
        } 
        .my-class-ff:first-letter {
            background-color:purple;
        }   
        .my-class-gg:before{
            content: 'xutongbao:'
        } 
        .my-class-hh:after{
            content: 'xutongbao:'
        }                                                                             
    &lt;/style&gt;
&lt;/head&gt;  
&lt;body&gt;  
    &lt;div style="color:yellow!important"&gt;!important&lt;/div&gt;
    &lt;div style="color:red"&gt;style&lt;/div&gt;
    &lt;div id="myId"&gt;#id&lt;/div&gt;
    &lt;div class="my-class"&gt;.class&lt;/div&gt;
    &lt;p&gt;element&lt;/p&gt;
    &lt;span&gt;*&lt;/span&gt;
    &lt;div class="my-class-a"&gt;E,F&lt;/div&gt;
    &lt;div class="my-class-b"&gt;E,F&lt;/div&gt;
    &lt;div class="my-class-c"&gt;
        &lt;div class="my-class-d"&gt;E F&lt;/div&gt;
    &lt;/div&gt;
    &lt;div class="my-class-e"&gt;
        &lt;div class="my-class-f"&gt;E&gt;F&lt;span&gt;不匹配&lt;/span&gt;&lt;/div&gt;
    &lt;/div&gt;
    &lt;div class="my-class-g"&gt;不匹配&lt;/div&gt;
    &lt;div class="my-class-h"&gt;E+F&lt;/div&gt;
    &lt;span&gt;不匹配&lt;/span&gt;
    &lt;div&gt;
        &lt;div class="my-class-i"&gt;不匹配&lt;/div&gt;
        &lt;div class="my-class-j"&gt;E~F&lt;/div&gt;
        &lt;div class="my-class-j"&gt;E~F&lt;/div&gt;
        &lt;div class="my-class-j"&gt;E~F&lt;/div&gt;
    &lt;/div&gt;
    &lt;div class="my-class-k my-class-l"&gt;.class1.class2&lt;/div&gt;
    &lt;div class="my-class-m" title&gt;E[attr]&lt;/div&gt;
    &lt;div class="my-class-m" title="value1"&gt;E[attr=value]&lt;/div&gt;
    &lt;div class="my-class-m" title="value1 hello my world"&gt;E[attr~=value]&lt;/div&gt;
    &lt;div class="my-class-m" title="value2-hello-my-world"&gt;E[attr|=value]&lt;/div&gt;
    &lt;div class="my-class-m" title="value3a"&gt;E[attr^=value]&lt;/div&gt;
    &lt;div class="my-class-m" title="value3a"&gt;E[attr^=value]&lt;/div&gt;
    &lt;div class="my-class-m" title="avalue4"&gt;E[attr$=value]&lt;/div&gt;
    &lt;div class="my-class-m" title="bvalue4"&gt;E[attr$=value]&lt;/div&gt;
    &lt;div class="my-class-m" title="bvalue5c"&gt;E[attr*=value]&lt;/div&gt;
    &lt;div&gt;
        &lt;p class="my-class-n"&gt;E:first-child，这个段落是其父元素（div）的首个子元素。&lt;/p&gt;
        &lt;p class="my-class-n"&gt;这个段落不是其父元素的首个子元素。&lt;/p&gt;
    &lt;/div&gt;
    &lt;a href="http://www.baidu.com"&gt;E:link,E:visited,E:active,E:hover&lt;/a&gt;
    &lt;input type="input" class="my-class-o" value="E:focus" style="display: block;"&gt;
    &lt;div lang="zh" class="my-class-p"&gt;E:lang(C)&lt;/div&gt;
    &lt;div class="my-class-q"&gt;
        &lt;button&gt;E:enabled&lt;/button&gt;
        &lt;button disabled="true"&gt;E:disabled&lt;/button&gt;    
    &lt;/div&gt;
    &lt;div class="my-class-r"&gt;
        &lt;ul&gt;
            &lt;li&gt;&lt;label&gt;&lt;input type="checkbox" name="colour-group2" value="0" /&gt;&lt;span&gt;蓝色&lt;/span&gt;&lt;/label&gt;&lt;/li&gt;
            &lt;li&gt;&lt;label&gt;&lt;input type="checkbox" name="colour-group2" value="1" /&gt;&lt;span&gt;红色&lt;/span&gt;&lt;/label&gt;&lt;/li&gt;
            &lt;li&gt;&lt;label&gt;&lt;input type="checkbox" name="colour-group2" value="2" /&gt;&lt;span&gt;黑色&lt;/span&gt;&lt;/label&gt;&lt;/li&gt;
        &lt;/ul&gt;
    &lt;/div&gt;
    &lt;p class="my-class-s"&gt;你选中这段文字后，看看它们的文本颜色和背景色，就能明白::selection的作用。&lt;/p&gt;
    &lt;div class="my-class-t"&gt;
        &lt;span&gt;E:nth-child(n)&lt;/span&gt;&lt;span&gt;E:nth-child(n)&lt;/span&gt;&lt;span&gt;E:nth-child(n)&lt;/span&gt;
    &lt;/div&gt;
    &lt;div class="my-class-u"&gt;
        &lt;span&gt;E:nth-last-child(n)&lt;/span&gt;&lt;span&gt;E:nth-last-child(n)&lt;/span&gt;&lt;span&gt;E:nth-last-child(n)&lt;/span&gt;
    &lt;/div&gt;   
    &lt;div class="my-class-v"&gt;
        &lt;p&gt;E:nth-of-type(n)&lt;/p&gt;&lt;p&gt;E:nth-of-type(n)&lt;/p&gt;
        &lt;span&gt;E:nth-of-type(n)&lt;/span&gt;&lt;span&gt;E:nth-of-type(n)&lt;/span&gt;&lt;span&gt;E:nth-of-type(n)&lt;/span&gt;
    &lt;/div&gt;  
    &lt;div class="my-class-w"&gt;
        &lt;p&gt;E:nth-last-of-type(n)&lt;/p&gt;&lt;p&gt;E:nth-last-of-type(n)&lt;/p&gt;
        &lt;span&gt;E:nth-last-of-type(n)&lt;/span&gt;&lt;span&gt;E:nth-last-of-type(n)&lt;/span&gt;&lt;span&gt;E:nth-last-of-type(n)&lt;/span&gt;
    &lt;/div&gt;   
    &lt;div&gt;
        &lt;p&gt;last-child&lt;/p&gt;&lt;p class="my-class-x"&gt;last-child&lt;/p&gt;
    &lt;/div&gt;  
    &lt;div class="my-class-y"&gt;
        &lt;span&gt;first-of-type&lt;/span&gt;
        &lt;p&gt;first-of-type&lt;/p&gt;&lt;p&gt;first-of-type&lt;/p&gt;
    &lt;/div&gt;  
    &lt;div class="my-class-z"&gt;
        &lt;span&gt;last-of-type&lt;/span&gt;
        &lt;p&gt;last-of-type&lt;/p&gt;&lt;p&gt;last-of-type&lt;/p&gt;
    &lt;/div&gt;  
    &lt;div class="my-class-aa"&gt;
        &lt;span&gt;only-child&lt;/span&gt;
    &lt;/div&gt; 
    &lt;div class="my-class-bb"&gt;
        &lt;span&gt;only-of-type&lt;/span&gt;
    &lt;/div&gt;     
    &lt;div class="my-class-cc" style="width: 100%;height: 20px;"&gt;&lt;/div&gt;  
    &lt;div class="my-class-dd"&gt;&lt;span&gt;E:not(selector)&lt;/span&gt;&lt;span class="my-style"&gt;E:not(selector)&lt;/span&gt;&lt;span&gt;E:not(selector)&lt;/span&gt;&lt;/div&gt;       
    &lt;p class="my-class-ee" style="width: 10px;"&gt;E:first-lineE:first-lineE:first-lineE:first-lineE:first-lineE:first-lineE:first-line&lt;/p&gt; 
    &lt;p class="my-class-ff"&gt;Eg:first-letterE:first-letterE:first-letter&lt;/p&gt; 
    &lt;div class="my-class-gg"&gt;E:before&lt;/div&gt;
    &lt;div class="my-class-hh"&gt;E:after&lt;/div&gt;
&lt;/body&gt;  
&lt;/html&gt;  </code></pre><br><img src="https://img-blog.csdn.net/20171127184600725?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br><p><br></p>
<p><br></p>
<p><br></p>
<p><br></p>
<p><br></p>
<p><br></p>
<p><br></p>
<p><br></p>
<p><br></p>
<p><br></p>
<p><br></p>
<p><br></p>
<p><br></p>
            ]]></description></item><item><title>AJAX参数介绍</title><link>http://www.cnblogs.com/xutongbao/archive/2017/11/27/9924937.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Mon, 27 Nov 2017 07:48:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2017/11/27/9924937.html</guid><description><![CDATA[
                
<p></p><pre><code class="language-html">    &lt;!DOCTYPE html&gt;  
    &lt;html lang="en"&gt;  
    &lt;head&gt;  
        &lt;meta charset="UTF-8"&gt;  
        &lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;  
    &lt;/head&gt;  
    &lt;body&gt;  
    &lt;div id="divCustomers"&gt;&lt;/div&gt;  
    &lt;script type="text/javascript"&gt;  
        $.ajax({

            // (默认: 当前页地址) 发送请求的地址。  
            url: 'https://ipinfo.io', 

            //(默认: "GET") 请求方式 ("POST" 或 "GET")， 默认为 "GET"。注意：其它 HTTP 请求方法，如 PUT 和 DELETE 也可以使用，但仅部分浏览器支持。
            type: "get",  

            //设置请求超时时间（毫秒）。此设置将覆盖全局设置。
            timeout: 3000,

            //(默认: true) 默认设置下，所有请求均为异步请求。如果需要发送同步请求，请将此选项设置为 false。注意，同步请求将锁住浏览器，用户其它操作必须等待请求完成才可以执行。
            async: true,

            //发送请求前可修改 XMLHttpRequest 对象的函数，如添加自定义 HTTP 头。XMLHttpRequest 对象是唯一的参数。
            beforeSend: function(XMLHttpRequest) {
                this;
            },

            //(默认: true) jQuery 1.2 新功能，设置为 false 将不会从浏览器缓存中加载请求信息。
            cache: false,

            //请求完成后回调函数 (请求成功或失败时均调用)。参数： XMLHttpRequest 对象，成功信息字符串。
            complete: function(XMLHttpRequest, textStatus) {
                this;
            },

            //(默认: "application/x-www-form-urlencoded") 发送信息至服务器时内容编码类型。默认值适合大多数应用场合。
            contentType: "application/x-www-form-urlencoded",

            //发送到服务器的数据。将自动转换为请求字符串格式。GET 请求中将附加在 URL 后。查看 processData 选项说明以禁止此自动转换。必须为 Key/Value 格式。如果为数组，jQuery 将自动为不同值对应同一个名称。如 {foo:["bar1", "bar2"]} 转换为 '&amp;foo=bar1&amp;foo=bar2'。
            data: {},

            /*
            预期服务器返回的数据类型。如果不指定，jQuery 将自动根据 HTTP 包 MIME 信息返回 responseXML 或 responseText，并作为回调函数参数传递，可用值:
            "xml": 返回 XML 文档，可用 jQuery 处理。
            "html": 返回纯文本 HTML 信息；包含 script 元素。
            "script": 返回纯文本 JavaScript 代码。不会自动缓存结果。
            "json": 返回 JSON 数据 。
            "jsonp": JSONP 格式。使用 JSONP 形式调用函数时，如 "myurl?callback=?" jQuery 将自动替换 ? 为正确的函数名，以执行回调函数。
            */
            dataType:'jsonp', 

            //(默认: 自动判断 (xml 或 html)) 请求失败时将调用此方法。这个方法有三个参数：XMLHttpRequest 对象，错误信息，（可能）捕获的错误对象。
            error: function(XMLHttpRequest, textStatus, errorThrown) {
                this;
            },

            //(默认: true) 是否触发全局 AJAX 事件。设置为 false 将不会触发全局 AJAX 事件，如 ajaxStart 或 ajaxStop 。可用于控制不同的Ajax事件
            global: true,

            //(默认: false) 仅在服务器数据改变时获取新数据。使用 HTTP 包 Last-Modified 头信息判断。
            ifModified: true,

            //(默认: true) 默认情况下，发送的数据将被转换为对象(技术上讲并非字符串) 以配合默认内容类型 "application/x-www-form-urlencoded"。如果要发送 DOM 树信息或其它不希望转换的信息，请设置为 false。
            processData: true,

            //请求成功后回调函数。这个方法有两个参数：服务器返回数据，返回状态
            success:function(resp){  
                var countryCode = (resp &amp;&amp; resp.country) ? resp.country : "";  
                countryCode = countryCode.toLowerCase();  
                $('#divCustomers').text(countryCode);  
                localStorage.setItem('countryCode', countryCode);  
            },  
        });  
    &lt;/script&gt;  
    &lt;/body&gt;  
    &lt;/html&gt;  </code></pre>
<p><br></p>
<p>一、error：function (XMLHttpRequest, textStatus, errorThrown)<br>
(默认: 自动判断 (xml 或 html)) 请求失败时调用时间。参数有以下三个：<br>
XMLHttpRequest 对象、错误信息、（可选）捕获的错误对象。如果发生了错误，错误信息（第二个参数）除了得到null之外，还可能是"timeout", "error", "notmodified" 和 "parsererror"。<br>
textStatus: "timeout", "error", "notmodified" 和 "parsererror"。<br><br>
二、error事件返回的第一个参数XMLHttpRequest有一些有用的信息：<br>
XMLHttpRequest.readyState:<br>
状态码：<br>
0 － （未初始化）还没有调用send()方法<br>
1 － （载入）已调用send()方法，正在发送请求<br>
2 － （载入完成）send()方法执行完成，已经接收到全部响应内容<br>
3 － （交互）正在解析响应内容<br>
4 － （完成）响应内容解析完成，可以在客户端调用了<br><br>
三、data:"{}", data为空也一定要传"{}"；不然返回的是xml格式的。并提示parsererror.<br><br>
四、parsererror的异常和Header 类型也有关系。及编码header('Content-type: text/html; charset=utf8');<br></p>
<p><img src="https://img-blog.csdn.net/20171127154742006?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br></p>
<p><br><br></p>
            ]]></description></item><item><title>ul li列表带图标浏览器兼容性解决方案</title><link>http://www.cnblogs.com/xutongbao/archive/2017/11/24/9924938.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Fri, 24 Nov 2017 10:47:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2017/11/24/9924938.html</guid><description><![CDATA[
                
<p></p><pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset="utf-8"&gt; 
&lt;title&gt;ul li列表带图标浏览器兼容性解决方案&lt;/title&gt; 
&lt;style&gt;
    ul {
        list-style-type:none;
        padding:0px;
        margin:0px;
    }
    ul li {
        background-image:url("http://www.runoob.com/try/demo_source/sqpurple.gif");
        background-repeat:no-repeat;
        background-position:0px 5px; 
        padding-left:14px;
    }
&lt;/style&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;ul&gt;
    &lt;li&gt;Coffee&lt;/li&gt;
    &lt;li&gt;Tea&lt;/li&gt;
    &lt;li&gt;Coca Cola&lt;/li&gt;
    &lt;/ul&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre><br><img src="https://img-blog.csdn.net/20171124184615112?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br><p><br></p>
<p><br></p>
<p><br></p>
            ]]></description></item><item><title>大段文字排版</title><link>http://www.cnblogs.com/xutongbao/archive/2017/11/24/9924939.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Fri, 24 Nov 2017 10:27:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2017/11/24/9924939.html</guid><description><![CDATA[
                <p></p><pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset="utf-8"&gt; 
&lt;title&gt;大段文字排版&lt;/title&gt; 
&lt;style&gt;
    h1 {
        text-align: center;
        text-transform: uppercase;
        color: #A7C942;
    }
    p {
        text-indent: 50px;
        text-align:justify;
        letter-spacing:3px;
    }
    a {
        text-decoration:none;
    }
&lt;/style&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;h1&gt;text formatting&lt;/h1&gt;
    &lt;p&gt;This text is styled with some of the text formatting properties. The heading uses the text-align, text-transform, and color properties.
    The paragraph is indented, aligned, and the space between characters is specified. The underline is removed from the
    &lt;a target="_blank" href="#"&gt;"尝试一下"&lt;/a&gt; link.&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre><br><img src="https://img-blog.csdn.net/20171124182553630?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br><p><br></p><p><br></p><p><br></p><p><br></p><p><strong><span style="color:#000000;"><span style="color:#FF0000;"><strong>备注</strong></span>：欢迎加入web前端求职招聘qq群：<strong><span style="color:#000000;">668352707</span></strong></span></strong><br></p><p><br></p><p><br></p><p><br></p>            ]]></description></item><item><title>css background实例</title><link>http://www.cnblogs.com/xutongbao/archive/2017/11/24/9924940.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Fri, 24 Nov 2017 10:06:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2017/11/24/9924940.html</guid><description><![CDATA[
                
<pre><code class="language-html">&lt;!DOCTYPE html&gt;  
&lt;html&gt;  
&lt;head&gt;  
    &lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt; 
    &lt;title&gt;background&lt;/title&gt;  
    &lt;style type="text/css"&gt;
        .my-style {
            width: 100%;
            height: 200px;
            background-image: url("http://www.runoob.com/try/demo_source/gradient2.png");
            background-repeat: repeat-x;
            border: 1px solid #ddd;
            margin-bottom: 5px;
        }
        .my-style2 {
            width: 100%;
            height: 400px;
            background-image: url("http://www.runoob.com/try/demo_source/img_tree.png");
            background-repeat: no-repeat;
            background-position: right top;
            border: 1px solid #ddd;
            margin-bottom: 5px;
        }
        .my-style3 {
            width: 100%;
            height: 400px;
            background: #8cd6f5 url("http://www.runoob.com/try/demo_source/img_tree.png") no-repeat center bottom;
            border: 1px solid #ddd;
            margin-bottom: 5px;
        }    
        .my-style4 {
            width: 100%;
            height: 400px;
            background: #8cf599 url("http://www.runoob.com/try/demo_source/img_tree.png") no-repeat center bottom;
            background-size: 100px 250px;
            background-position-y: 20px;
            border: 1px solid #ddd;
            margin-bottom: 5px;
        }              
    &lt;/style&gt;
&lt;/head&gt;  
&lt;body&gt;
    &lt;div class="my-style"&gt;&lt;/div&gt;
    &lt;div class="my-style2"&gt;&lt;/div&gt;
    &lt;div class="my-style3"&gt;&lt;/div&gt;
    &lt;div class="my-style4"&gt;&lt;/div&gt;
&lt;/body&gt;  
&lt;/html&gt;</code></pre>
<p><br></p>
<p><img src="https://img-blog.csdn.net/20171124180504869?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br></p>
<p><br></p>
<p><br></p>
<p><br></p>
            ]]></description></item><item><title>上下左右中布局</title><link>http://www.cnblogs.com/xutongbao/archive/2017/11/24/9924941.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Fri, 24 Nov 2017 08:51:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2017/11/24/9924941.html</guid><description><![CDATA[
                <pre><code class="language-html">&lt;!DOCTYPE html&gt;  
&lt;html&gt;  
&lt;head&gt;  
    &lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt; 
    &lt;title&gt;上下左右中布局&lt;/title&gt;  
    &lt;style type="text/css"&gt;
        #wrap{  
            max-width:1200px;  
            margin:0 auto;  
        }  
        #header{  
            margin:20px;  
            height:80px;  
            border:solid 1px #0000FF;  
        }  
        #container{  
            position:relative;  
            margin:20px;  
            height:400px;  
        }  
        #left_side{  
            position:absolute;  
            top:0px;  
            left:0px;  
            border:solid 1px #0000FF;  
            width:170px;  
            height:100%;  
        }  
        #content{  
            margin:0px 190px 0px 190px;  
            border:solid 1px #0000FF;  
            height:100%;  
        }  
        #right_side{  
            position:absolute;  
            top:0px;  
            right:0px;  
            border:solid 1px #0000FF;  
            width:170px;  
            height:100%;  
        }  
        #footer{  
            margin:20px;  
            height:80px;  
            border:solid 1px #0000FF;  
        }    
    &lt;/style&gt;
&lt;/head&gt;  
&lt;body&gt;  
    &lt;form id="form1" runat="server"&gt;  
    &lt;div id="wrap"&gt;  
        &lt;div id="header"&gt;header&lt;/div&gt;  
        &lt;div id="container"&gt;  
            &lt;div id="left_side"&gt;left_side&lt;/div&gt;  
            &lt;div id="content"&gt;content&lt;/div&gt;  
            &lt;div id="right_side"&gt;right-side&lt;/div&gt;  
        &lt;/div&gt;  
        &lt;div id="footer"&gt;footer&lt;/div&gt;  
    &lt;/div&gt;  
    &lt;/form&gt;  
&lt;/body&gt;  
&lt;/html&gt;</code></pre><p><img src="https://img-blog.csdn.net/20171124165013638?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br></p><p><br></p><p><br></p><p><strong><span style="color:#000000;"><span style="color:#FF0000;"><strong>备注</strong></span>：欢迎加入web前端求职招聘qq群：<strong><span style="color:#000000;">668352707</span></strong></span></strong><br></p>            ]]></description></item><item><title>mustache.js使用笔记</title><link>http://www.cnblogs.com/xutongbao/archive/2017/11/24/9924942.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Fri, 24 Nov 2017 08:26:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2017/11/24/9924942.html</guid><description><![CDATA[
                
Mustache 是一款经典的前端模板引擎，在前后端分离的技术架构下面，前端模板引擎<br>
是一种可以被考虑的技术选型，随着重型框架（AngularJS、ReactJS、Vue）的流行，<br>
前端的模板技术已经成为了某种形式上的标配，Mustache 的价值在于其稳定和经典：<br>
主页：<a href="https://github.com/janl/mustache.js/" rel="nofollow">https://github.com/janl/mustache.js/</a><br>
文档：<a href="https://mustache.github.io/mustache.5.html" rel="nofollow">https://mustache.github.io/mustache.5.html</a><br><br>
Mustache 在使用的时候，会在页面上出现 {{person}} 这样的标签，载入的时候回显<br>
示出来，然后立即被替换掉，这个对于页面的呈现是不够友好的，这是我在使用的过<br><p>程中遇到的一个痛点。</p>
<p></p><pre><code class="language-html">&lt;!DOCTYPE html&gt; 
&lt;html&gt; 
&lt;head&gt; 
&lt;title&gt;mustache.js&lt;/title&gt; 
&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt; 
&lt;/head&gt; 
&lt;body&gt;
&lt;div id="demo"&gt;&lt;/div&gt;
&lt;script type="text/x-mustache-template" id="template"&gt;
    &lt;div&gt;
    Hello {{name}}
    You have just won {{value}} dollars!
    {{#in_ca}}
    Well, {{taxed_value}} dollars, after taxes.
    {{/in_ca}}
    &lt;/div&gt; 
    &lt;div&gt;{{company}}&lt;/div&gt;
    &lt;div&gt;{{{company}}}&lt;/div&gt;
    &lt;div&gt;
        {{#repo}}
          &lt;b&gt;{{name}}&lt;/b&gt;
        {{/repo}}
    &lt;/div&gt;
    &lt;div&gt;
        {{#wrapped}}
          {{name}} is awesome.
        {{/wrapped}}
    &lt;/div&gt;
    &lt;div&gt;
        {{#person?}}
            Hi {{name}}!
        {{/person?}}
    &lt;/div&gt;   
    &lt;div&gt;
        {{#repo_new}}
          &lt;b&gt;{{name}}&lt;/b&gt;
        {{/repo_new}}
        {{^repo_new}}
          No repos :(
        {{/repo_new}}
    &lt;/div&gt;  
    &lt;div&gt;
        &lt;h1&gt;Today{{! ignore me }}.&lt;/h1&gt;
    &lt;/div&gt;
&lt;/script&gt;
&lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;
&lt;script src="https://cdn.bootcss.com/mustache.js/2.3.0/mustache.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript"&gt;
    var template = $('#template').html();
    //Mustache.parse(template);
    var temp = Mustache.render(template, {
        "name": "徐同保",
        "value": 10000,
        "taxed_value": 10000 - (10000 * 0.4),
        "in_ca": true,
        "company": "&lt;b&gt;GitHub&lt;/b&gt;",
        "repo": [
            { "name": "resque" },
            { "name": "hub" },
            { "name": "rip" }
        ],
        "wrapped": function() {
            return function(text, render) {
                return '&lt;b style="color:green;font-size:36px;"&gt;' + render(text) + '&lt;/b&gt;';
            }
        },
        "person?": { "name": "Jon" },
        "repo_new": []
    });
    $('#demo').html(temp);
&lt;/script&gt;
&lt;/body&gt; 
&lt;/html&gt; </code></pre><br><img src="https://img-blog.csdn.net/20171124162504150?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="">            ]]></description></item><item><title>jQuery 鼠标滚轮插件 mousewheel</title><link>http://www.cnblogs.com/xutongbao/archive/2017/11/24/9924943.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Fri, 24 Nov 2017 05:52:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2017/11/24/9924943.html</guid><description><![CDATA[
                <pre><code class="language-html">&lt;!DOCTYPE html&gt; 
&lt;html&gt; 
&lt;head&gt; 
&lt;title&gt;jQuery 鼠标滚轮插件 mousewheel&lt;/title&gt; 
&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt; 
&lt;style type="text/css"&gt;
    .mousewheel {
        background: green;
        width: 200px;
        height: 200px;
    }
&lt;/style&gt;
&lt;/head&gt; 
&lt;body&gt;
    &lt;div class="mousewheel"&gt;&lt;/div&gt;
&lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;
&lt;script src="https://cdn.bootcss.com/jquery-mousewheel/3.1.13/jquery.mousewheel.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript"&gt;
    $('.mousewheel').bind('mousewheel', function(event, delta) {
        var dir = delta &gt; 0 ? 'Up' : 'Down';
        if (dir == 'Up') {
            $('.mousewheel').text('Up');
        } else {
            $('.mousewheel').text('Down');
        }
    });
&lt;/script&gt;
&lt;/body&gt; 
&lt;/html&gt; </code></pre><p><img src="https://img-blog.csdn.net/20171124135050852?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""></p><p><br></p><p><br></p><p><strong><span style="color:#000000;"><span style="color:#FF0000;"><strong>备注</strong></span>：欢迎加入web前端求职招聘qq群：<strong><span style="color:#000000;">668352707</span></strong></span></strong><br></p>            ]]></description></item><item><title>两边横线，中间标题</title><link>http://www.cnblogs.com/xutongbao/archive/2017/11/24/9924944.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Fri, 24 Nov 2017 05:32:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2017/11/24/9924944.html</guid><description><![CDATA[
                
<p></p><pre><code class="language-html">&lt;!DOCTYPE html&gt; 
&lt;html&gt; 
&lt;head&gt; 
&lt;title&gt;两边横线，中间标题&lt;/title&gt; 
&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt; 
&lt;style type="text/css"&gt;
&lt;!--
	ul { 
		margin:0; 
		padding:0; 
		list-style-type:none;
	} 
	ul#navlist {
		font:12px verdana;
		padding-bottom: 13px;
	}
	ul#navlist li span { 
		background: #FBFBFB;
	}
	ul#navlist li {
		float: left; 
		height: 30px; 
		border: 0px solid #6c6; 
		width: 100%;
	}
	ul#navlist .list1 {
		border-bottom: 1px dashed #D8D8D8;
		width: 100%;
		margin-bottom: -15px;
	}
	#navlist a {
		display: block;
		color: #666;
		text-decoration: none;
		padding: 6px 5px;
		width: 100%;
		text-align: center;
	}
--&gt;
&lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
	&lt;ul id="navlist"&gt;
		&lt;li class="list1"&gt;&lt;/li&gt;
		&lt;li class="list2"&gt;&lt;a href=""&gt;&lt;span&gt;文字内容&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
	&lt;/ul&gt;
 &lt;/body&gt;
&lt;/html&gt; </code></pre><br><img src="https://img-blog.csdn.net/20171124133157077?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br><p><br></p>
<p><br></p>
<p><br></p>
            ]]></description></item><item><title>CSS清除浮动 清除float浮动</title><link>http://www.cnblogs.com/xutongbao/archive/2017/11/24/9924945.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Fri, 24 Nov 2017 05:26:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2017/11/24/9924945.html</guid><description><![CDATA[
                一般浮动是什么情况呢？一般是一个盒子里使用了CSS float浮动属性，导致父级<br>对象盒子不能被撑开，这样CSS float浮动就产生了。<br><br>1、背景不能显示<br>由于浮动产生，如果对父级设置了（CSS background背景）CSS背景颜色或CSS背景<br>图片，而父级不能被撑开，所以导致CSS背景不能显示。<br><br>2、边框不能撑开<br>如上图中，如果父级设置了CSS边框属性（css border），由于子级里使用了float<br>属性，产生浮动，父级不能被撑开，导致边框不能随内容而被撑开。<br><br>3、margin padding设置值不能正确显示<br>由于浮动导致父级子级之间设置了css padding、css margin属性的值不能正确表达。<br><p>特别是上下边的padding和margin不能正确显示。</p><p></p><pre><code class="language-html">&lt;!DOCTYPE html&gt; 
&lt;html&gt; 
&lt;head&gt; 
&lt;title&gt;CSS清除浮动 清除float浮动&lt;/title&gt; 
&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt; 
&lt;style&gt; 
.boxa {
    background: #ddd;
    border: 5px solid green;
    margin:0 auto; 
    width:400px;
    /*height: 80px;*/  /*方法一：对父级设置适合CSS高度*/
    /*overflow: hidden; */ /*方法二：父级div定义 overflow:hidden*/
}
.boxb { 
    margin:0 auto; 
    width:400px;
} 
.boxa-l { 
    float:left; 
    width:280px; 
    height:80px; 
    border:1px solid #F00;
    background: black;
} 
.boxa-r { 
    float:right; 
    width:100px; 
    height:80px; 
    border:1px solid #F00;
    background: pink;
} 
.boxb { 
    border:1px solid #000; 
    height:40px; 
    background: yellow;
} 
.clear{ 
    clear:both
} 
&lt;/style&gt; 
&lt;/head&gt; 
&lt;body&gt; 
&lt;div class="boxa"&gt; 
    &lt;div class="boxa-l"&gt;内容左&lt;/div&gt; 
    &lt;div class="boxa-r"&gt;内容右&lt;/div&gt; 
    &lt;div class="clear"&gt;&lt;/div&gt; &lt;!--方法三：clear:both清除浮动 --&gt;
&lt;/div&gt; 
&lt;div class="boxb"&gt;boxb盒子里的内容&lt;/div&gt; 
&lt;/body&gt; 
&lt;/html&gt; </code></pre><p></p><p>清除浮动前：<br><img src="https://img-blog.csdn.net/20171124132449951?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br></p><p>清除浮动后：</p><p><img src="https://img-blog.csdn.net/20171124132534109?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br></p><p><br></p><p><strong><span style="color:#000000;"><span style="color:#FF0000;"><strong>备注</strong></span>：欢迎加入web前端求职招聘qq群：<strong><span style="color:#000000;">668352707</span></strong></span></strong><br></p>            ]]></description></item><item><title>div对话框</title><link>http://www.cnblogs.com/xutongbao/archive/2017/11/16/9924946.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 16 Nov 2017 07:38:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2017/11/16/9924946.html</guid><description><![CDATA[
                
<pre><code class="language-html">&lt;!DOCTYPE html&gt;  
&lt;html lang="en"&gt;  
&lt;head&gt;    
&lt;meta charset="UTF-8"&gt;  
&lt;title&gt;div对话框&lt;/title&gt;  
    &lt;style type="text/css"&gt;    
        #dialog    
        {    
            display:none;    
            border:1px solid #ddd;    
            height:600px;    
            width:900px;    
            position:fixed;   
            top:50%;  
            left:50%;    
            margin-top: -300px;   
            margin-left: -450px;  
            z-index:2;  
            background: #f8f8f8;    
        }    
    &lt;/style&gt;    
&lt;/head&gt;    
&lt;body style="height: 1500px;"&gt;    
    &lt;button id="open"&gt;弹出&lt;/button&gt;  
    &lt;div id="dialog"&gt;    
        &lt;button id="close" style="float: right;"&gt;X&lt;/button&gt;  
        &lt;div&gt;&lt;/div&gt;    
    &lt;/div&gt;    
    &lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;  
    &lt;script type="text/javascript"&gt;    
        $(function () {  
            $('#open').click(function () {  
                show();  
            });  
            $('#close').click(function() {  
                hide();  
            })  
            var dialog = $('#dialog');    
            function show()    
            {    
                dialog.css({'display': 'block'});  
            }    
            function hide()    
            {    
                dialog.css({'display': 'none'});  
            }    
        });  

    &lt;/script&gt;    
&lt;/body&gt;    
&lt;/html&gt;    </code></pre><br><br>            ]]></description></item><item><title>gulp+browserify前端模块化</title><link>http://www.cnblogs.com/xutongbao/archive/2017/11/16/9924947.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 16 Nov 2017 05:13:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2017/11/16/9924947.html</guid><description><![CDATA[
                <p>包括js模块化，js压缩，css压缩，html模块化等。</p><p>github源码地址：<a href="https://github.com/xutongbao/gulp-es6" rel="nofollow">https://github.com/xutongbao/gulp-es6</a><br></p><p>1.目录结构</p><p><img src="https://img-blog.csdn.net/20171116130549274?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br></p><p>2.index.html</p><p></p><pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;gulp 模版&lt;/title&gt;

    &lt;!-- build:mycss --&gt;
    &lt;link rel="stylesheet" href="style1.css"&gt;
    &lt;link rel="stylesheet" href="style2.css"&gt;
    &lt;!-- endbuild --&gt;
&lt;/head&gt;
&lt;body&gt;

	&lt;div id='mytpl'&gt;
	    &lt;!-- build:mytpl1 --&gt;
	    &lt;div&gt;原内容1&lt;/div&gt;
	    &lt;!-- endbuild --&gt;

	    &lt;!-- build:mytpl2 --&gt;
	    &lt;div&gt;原内容2&lt;/div&gt;
	    &lt;!-- endbuild --&gt;

	    &lt;!-- build:mytpl3 --&gt;
	    &lt;div&gt;原内容3&lt;/div&gt;
	    &lt;!-- endbuild --&gt;

	  	&lt;!-- build:mytpl4 --&gt;
	    &lt;div&gt;原内容4&lt;/div&gt;
	    &lt;!-- endbuild --&gt;

	    &lt;!-- build:mytpl5 --&gt;
	    &lt;div&gt;原内容5&lt;/div&gt;
	    &lt;!-- endbuild --&gt;

	    &lt;!-- build:mytpl6 --&gt;
	    &lt;div&gt;原内容6&lt;/div&gt;
	    &lt;!-- endbuild --&gt;
    &lt;/div&gt;

	&lt;button id='back'&gt;上一步&lt;/button&gt;
    &lt;button id='next'&gt;下一步&lt;/button&gt;

	&lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;
    &lt;script src="index.js"&gt;&lt;/script&gt;
    &lt;script src="main.js"&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre><br>3.gulpfile.js<p></p><p></p><pre><code class="language-javascript">var gulp = require("gulp");
var babel = require("gulp-babel");
var watch = require("gulp-watch");
var htmlreplace = require('gulp-html-replace');
var fs = require("fs");
let cleanCSS = require('gulp-clean-css');
var concat = require('gulp-concat'); 
var gulpsync = require('gulp-sync')(gulp); 
var gulpbrowserify = require('gulp-browserify');
var browserify = require('browserify');
var babelify = require('babelify');
var sourcemaps = require('gulp-sourcemaps');
var source = require('vinyl-source-stream');
var buffer = require('vinyl-buffer');
var standalonify = require('standalonify');
var uglify = require('gulp-uglify');

gulp.task('default',gulpsync.sync(['babel', 'minify-css', 'mytpl', 'browserify']),function () {  
  
});

//监听文件是否修改
gulp.task('watch', () =&gt; {
    gulp.watch('src/*.*', ['default'])
});

gulp.task("babel", function () {
    return gulp.src(["src/People.js", "src/index.js"])
    	.pipe(concat('index.js')) 
        .pipe(babel())
        .pipe(uglify({mangle: false, compress: {properties: false}, output: {quote_keys: true}}))
        .pipe(gulp.dest("dist"));
});

gulp.task('gulpbrowserify', function() {
    gulp.src('src/main.js', { read: false })
        .pipe(gulpbrowserify({
          insertGlobals : true,
          debug : true
        }))
        //.pipe(babel())
        .pipe(gulp.dest('dist'))
});

gulp.task('browserify', function() {
    var b = browserify({
	  entries: "src/main.js",
	  debug: true 	//告知browserify在运行同时生成内联sourcemap用于调试
	});
	 
	return b.plugin(standalonify, {  //使打包后的js文件符合UMD规范并指定外部依赖包
		name: 'FlareJ',
		deps: {
			'nornj': 'nj',
			'react': 'React',
			'react-dom': 'ReactDOM'
		}
		})
		.transform(babelify, {
	      presets: [
	        'es2015'  //转换es6代码
	      ]
	    })
		.bundle()
		.pipe(source("main.js"))
		.pipe(buffer())
		.pipe(uglify({mangle: false, compress: {properties: false}, output: {quote_keys: true}}))
		.pipe(sourcemaps.init({loadMaps: true}))
		.pipe(sourcemaps.write("."))
		.pipe(gulp.dest("./dist"));
});

var staticize = {
	getFileContent : function(tplPathName){
		let filePath = tplPathName;
	    var readFile = '';
	    try {
	        fs.accessSync(filePath)
	        readFile = fs.readFileSync(filePath,"utf8");
	        return readFile;
	    } catch (err) {
	        console.log(filePath + ' is not exit ');
	        return '';
	    }
	}
};

gulp.task('mytpl', function() {
	var data = {
		'mytpl1': staticize.getFileContent('src/index1.tpl'),
		'mytpl2': staticize.getFileContent('src/index2.tpl'),
		'mytpl3': staticize.getFileContent('src/index3.tpl'),
		'mytpl4': staticize.getFileContent('src/index4.tpl'),
		'mytpl5': staticize.getFileContent('src/index5.tpl'),
		'mytpl6': staticize.getFileContent('src/index6.tpl'),
		'mycss': 'styles.css'
	}
  	gulp.src('src/index.html')
    .pipe(htmlreplace(data))
    .pipe(gulp.dest('dist'));
});

gulp.task('minify-css', () =&gt; {
  return gulp.src('src/*.css')
  	.pipe(concat('styles.css')) 
    .pipe(cleanCSS({compatibility: 'ie8'}))
    .pipe(gulp.dest('dist'));
});</code></pre><br>4.package.json<p></p><p></p><pre><code class="language-javascript">{
  "name": "demo2",
  "version": "1.0.0",
  "main": "index.js",
  "devDependencies": {
    "babel-core": "^6.26.0",
    "babel-preset-es2015": "^6.24.1",
    "babelify": "^8.0.0",
    "browserify": "^14.5.0",
    "gulp": "^3.9.1",
    "gulp-babel": "^7.0.0",
    "gulp-browserify": "^0.5.1",
    "gulp-clean-css": "^3.9.0",
    "gulp-concat": "^2.6.1",
    "gulp-html-replace": "^1.6.2",
    "gulp-sourcemaps": "^2.6.1",
    "gulp-sync": "^0.1.4",
    "gulp-uglify": "^3.0.0",
    "gulp-watch": "^4.3.11",
    "standalonify": "^0.1.3",
    "vinyl-buffer": "^1.0.0",
    "vinyl-source-stream": "^1.1.0"
  },
  "scripts": {
    "test": "echo \"Error: no test specified\" &amp;&amp; exit 1"
  },
  "author": "",
  "license": "ISC",
  "description": ""
}
</code></pre><br>5.foo.js<p></p><p></p><pre><code class="language-javascript">let variable = 8;
let sum = (a, b = 6) =&gt; (a + b);
let square = (b) =&gt; {
    return b * b;
};
module.exports.variable = variable;
module.exports.sum = sum;
module.exports.square = square;</code></pre><br>6.main.js<p></p><p></p><pre><code class="language-javascript">var bar = require('./foo')
console.log(bar);  // Object
console.log(bar.variable); // 8
console.log(bar.sum(1)); // 7
console.log(bar.square(5)); // 25
$(function() {
	console.log('jquery');
})</code></pre><br>7.index1.tpl<p></p><p></p><pre><code class="language-html">&lt;div id="tpl1" class="block" data-show=true&gt;模版1&lt;/div&gt;</code></pre><br>8..babelrc<p></p><p></p><pre><code class="language-javascript">{
  "presets": [
    "es2015"
  ],
  "plugins": []
}  </code></pre><br><p><br></p><p><br></p><p><strong><span style="color:#000000;"><span style="color:#FF0000;"><strong>备注</strong></span>：欢迎加入web前端求职招聘qq群：<strong><span style="color:#000000;">668352707</span></strong></span></strong><br></p>            ]]></description></item><item><title>使用gulp ES6转ES5</title><link>http://www.cnblogs.com/xutongbao/archive/2017/11/14/9924948.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 14 Nov 2017 09:03:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2017/11/14/9924948.html</guid><description><![CDATA[
                
<p>1.github地址：<a href="https://github.com/xutongbao/gulp-es6" rel="nofollow">https://github.com/xutongbao/gulp-es6</a></p>
<p>克隆下来后DOS环境跳转到gulp-es6文件夹，然后运行：npm install安装插件</p>
<p>然后运行gulp，就可以将ES6代码转成ES5</p>
<p>2.</p>
<p><img src="https://img-blog.csdn.net/20171114165806764?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br></p>
<p>3.index.html</p>
<p></p><pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;使用gulp ES6转ES5&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;script src="People.js"&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre><br>
4.People.js
<p></p><pre><code class="language-javascript">class People {
	constructor(name) {
		this.name = name;
	}
	getName() {
		return this.name;
	}
}
let people = new People('徐同保');
console.log(people.getName());</code></pre><br>
5..babelrc
<p></p><pre><code class="language-javascript">{
  "presets": [
    "es2015"
  ],
  "plugins": []
}  </code></pre><br>
6.gulpfile.js
<p></p><pre><code class="language-javascript">var gulp = require("gulp");
var babel = require("gulp-babel");

gulp.task("default", function () {
    return gulp.src("src/*.js")
        .pipe(babel())
        .pipe(gulp.dest("dist"));
});</code></pre><br>
7.package.json<br><p></p><pre><code class="language-javascript">{
  "name": "demo2",
  "version": "1.0.0",
  "main": "index.js",
  "devDependencies": {
    "babel-core": "^6.26.0",
    "babel-preset-es2015": "^6.24.1",
    "gulp": "^3.9.1",
    "gulp-babel": "^7.0.0"
  },
  "scripts": {
    "test": "echo \"Error: no test specified\" &amp;&amp; exit 1"
  },
  "author": "",
  "license": "ISC",
  "description": ""
}
</code></pre>8.dist/People.js
<p></p><pre><code class="language-javascript">'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i &lt; props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var People = function () {
	function People(name) {
		_classCallCheck(this, People);

		this.name = name;
	}

	_createClass(People, [{
		key: 'getName',
		value: function getName() {
			return this.name;
		}
	}]);

	return People;
}();

var people = new People('徐同保');
console.log(people.getName());</code></pre><br><br>            ]]></description></item><item><title>JavaScript ES6 class实例</title><link>http://www.cnblogs.com/xutongbao/archive/2017/11/14/9924949.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 14 Nov 2017 07:04:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2017/11/14/9924949.html</guid><description><![CDATA[
                
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;JavaScript ES6 class实例&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;script type="text/javascript"&gt;
        let say = 'say';
        class Person {
            constructor(x, y) {
                this.x = x;
                this.y = y;
            }

            toString() {
                return (this.x + '的年龄是' + this.y + '岁')
            }

            [say]() {
                return '你好';
            }
        }
        var person = new Person('徐同保', 28);
        console.log(person.toString()); //徐同保的年龄是28岁
        console.log(typeof Person);   //function
        console.log(Person === Person.prototype.constructor);  //true
        console.log(person.constructor ===Person.prototype.constructor);  //true
        Object.assign(Person.prototype, {
            getSex() {
                return 'man';
            }
        })
        console.log(Object.keys(Person.prototype));  //["getSex"]
        console.log(Object.getOwnPropertyNames(Person.prototype));  //["constructor", "toString", "say", "getSex"]
        console.log(person.say());  //你好
        //下面结果说明对象上有x,y属性,但是没有toString属性。也就是说x,y是定义在this对象上,toString定义在类上。
        console.log(person.hasOwnProperty('x'));  //true
        console.log(person.hasOwnProperty('y'));  //true
        console.log(person.hasOwnProperty('toString'));  //false
        console.log(person.__proto__.hasOwnProperty('toString'));  //true
        let person1 = new Person('李雷', 27);
        console.log(person.__proto__ === person1.__proto__)  //true
        person.__proto__.say2 = function () {
            return '欢迎';
        }
        console.log(person.say2());  //欢迎
        console.log(person1.say2());  //欢迎

        const Expression = class Expre{

            static getAge(){
                return '12';
            }

            getClassName(){
                return "ClassName1= " +Expre.name + " ClassName2= " +Expression.name;
            }

        }
        let exp = new Expression();
        //let exp = new Expre();  //错误
        console.log(exp.getClassName());  //ClassName1= Expre ClassName2= Expre
        //console.log(Expre.getAge());  //错误
        console.log(Expression.getAge());  //12

        //立即执行
        let person2 = new class{
            constructor(props) {
                this.props = props;
            }
            getProps(){
                return this.props;
            }

        }('xutongbao');
        console.log(person2.getProps());//xutongbao

        class Student extends Person {
            constructor(name, age) {
                super(name, age);
            }
            study() {
                return '正在学习';
            }
        }

        let student = new Student('徐同保', 28);
        console.log(student.toString());  //徐同保的年龄是28岁
        console.log(student.study());     //正在学习
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<p><img src="https://img-blog.csdn.net/20171114150333415?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br></p>
            ]]></description></item><item><title>vue+vue-validator 表单验证</title><link>http://www.cnblogs.com/xutongbao/archive/2017/11/13/9924950.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Mon, 13 Nov 2017 07:32:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2017/11/13/9924950.html</guid><description><![CDATA[
                
<p>1.</p>
<p></p><pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;Title&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div id="app"&gt;
        &lt;validator name="myForm"&gt;
            &lt;form novalidate&gt;
                Zip: &lt;input type="text" v-validate:zip="['required']"&gt;&lt;br /&gt;
                &lt;div&gt;
                    &lt;span v-if="$myForm.zip.required"&gt;Zip code is required.&lt;/span&gt;
                &lt;/div&gt;
            &lt;/form&gt;
        &lt;/validator&gt;
    &lt;/div&gt;
    &lt;script src="https://unpkg.com/vue@1.0.26/dist/vue.min.js"&gt;&lt;/script&gt;
    &lt;script src="https://cdn.bootcss.com/vue-validator/2.1.3/vue-validator.js"&gt;&lt;/script&gt;
    &lt;script&gt;
        new Vue({
            el:"#app"
        })
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre><br><img src="https://img-blog.csdn.net/20171113153003202?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><p>2.</p><pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;meta charset="utf-8"&gt;
    &lt;title&gt;radio button validation example&lt;/title&gt;
    &lt;script src="../../node_modules/vue/dist/vue.js"&gt;&lt;/script&gt;
    &lt;script src="../../dist/vue-validator.js"&gt;&lt;/script&gt;
    &lt;style&gt;
      input.invalid { border-color: red; }
      .errors { color: red; }
    &lt;/style&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;div id="app"&gt;
      &lt;h1&gt;Survey&lt;/h1&gt;
      &lt;validity-group field="fruits" v-model="validation" :validators="{
        required: { message: requiredErrorMsg }
      }"&gt;
        &lt;legend&gt;Which do you like fruit ?&lt;/legend&gt;
        &lt;input id="apple" type="radio" name="fruit" value="apple" @change="handleValidate" @focusin="handleValidate"&gt;
        &lt;label for="apple"&gt;Apple&lt;/label&gt;
        &lt;input id="orange" type="radio" name="fruit" value="orange" @change="handleValidate" @focusin="handleValidate"&gt;
        &lt;label for="orange"&gt;Orage&lt;/label&gt;
        &lt;input id="grape" type="radio" name="fruit" value="grage" @change="handleValidate" @focusin="handleValidate"&gt;
        &lt;label for="grape"&gt;Grape&lt;/label&gt;
        &lt;input id="banana" type="radio" name="fruit" value="banana" @change="handleValidate" @focusin="handleValidate"&gt;
        &lt;label for="banana"&gt;Banana&lt;/label&gt;
        &lt;ul class="errors"&gt;
          &lt;li v-for="error in validation.result.errors"&gt;
            &lt;p :class="error.field + '-' + error.validator"&gt;{{error.message}}&lt;/p&gt;
          &lt;/li&gt;
        &lt;/ul&gt;
      &lt;/validity-group&gt;
    &lt;/div&gt;
    &lt;script&gt;
      new Vue({
        data: {
          validation: {
            result: {}
          }
        },
        computed: {
          requiredErrorMsg: function () {
            return 'Required fruit !!'
          }
        },
        methods: {
          handleValidate: function (e) {
            var $validity = e.target.$validity 
            $validity.validate()
          }
        }
      }).$mount('#app')
    &lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre><br><img src="https://img-blog.csdn.net/20171113153126042?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="">            ]]></description></item><item><title>vue+vue-resource post请求</title><link>http://www.cnblogs.com/xutongbao/archive/2017/11/13/9924951.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Mon, 13 Nov 2017 03:44:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2017/11/13/9924951.html</guid><description><![CDATA[
                
<p>1.目录结构</p>
<p><img src="https://img-blog.csdn.net/20171113114025383?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br></p>
<p><br></p>
<p><br></p>
<p>2.learnVue.html</p>
<p></p><pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;learnVue&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div id="app"&gt;
        &lt;div&gt;输入的值：{{ name }}&lt;/div&gt;
        &lt;div&gt;&lt;input v-model="name"&gt;&lt;/div&gt;
        &lt;div&gt;&lt;button v-on:click="submitInfo"&gt;提交&lt;/button&gt;&lt;/div&gt;
        &lt;div&gt;返回的值：{{ result }}&lt;/div&gt;
    &lt;/div&gt;
    &lt;script src="https://cdn.bootcss.com/vue/2.4.4/vue.js"&gt;&lt;/script&gt;
    &lt;script src="https://cdn.bootcss.com/vue-resource/1.3.4/vue-resource.js"&gt;&lt;/script&gt;
    &lt;script src="js/learnVue.js"&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre><br>
3.learnVue.js
<p></p><pre><code class="language-javascript">var app = new Vue({
    el: '#app',
    data: {
        name:'xu',
        result:'',
        apiUrl: 'http://127.0.0.1:8889/POST/submitInfo'
    },
    methods: {
        submitInfo: function () {
            var vm = this;
            var data = {};
            var name = vm.name;
            data.name = name;
            data = JSON.stringify(data);
            vm.$http.post(vm.apiUrl, data)
                .then((response) =&gt; {
                    vm.result = response.body;
                });
        }
    }
})</code></pre><br>
4.learnVue.js(nodejs)
<p></p><pre><code class="language-javascript">exports.learnVue = (function () {
  var learnVue = {
      submitInfo: function (app) {
          app.post('/POST/submitInfo', function (req, res) {
              console.log('name:' + req.body.name);
              res.send(req.body.name);
          });
      }
  };
  return learnVue;
}());</code></pre><br>
5.运行结果
<p><img src="https://img-blog.csdn.net/20171113114241506?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br></p>
            ]]></description></item><item><title>双向数据绑定的三种方式</title><link>http://www.cnblogs.com/xutongbao/archive/2017/11/08/9924952.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 08 Nov 2017 05:19:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2017/11/08/9924952.html</guid><description><![CDATA[
                
<p>1.手动绑定</p>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;手动绑定&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;input q-value="value" type="text" id="input"&gt;
&lt;div q-text="value" id="el"&gt;&lt;/div&gt;
&lt;script&gt;
    var elems = [document.getElementById('el'), document.getElementById('input')];

    var data = {
        value: 'hello!'
    };

    var command = {
        text: function(str){
            this.innerHTML = str;
        },
        value: function(str){
            this.setAttribute('value', str);
        }
    };

    var scan = function(){
        /**
         * 扫描带指令的节点属性
         */
        for(var i = 0, len = elems.length; i &lt; len; i++){
            var elem = elems[i];
            elem.command = [];
            for(var j = 0, len1 = elem.attributes.length; j &lt; len1; j++){
                var attr = elem.attributes[j];
                if(attr.nodeName.indexOf('q-') &gt;= 0){
                    /**
                     * 调用属性指令，这里可以使用数据改变检测
                     */
                    command[attr.nodeName.slice(2)].call(elem, data[attr.nodeValue]);
                    elem.command.push(attr.nodeName.slice(2));
                }
            }
        }
    }

    /**
     * 设置数据后扫描
     */
    function mvSet(key, value){
        data[key] = value;
        scan();
    }
    /**
     * 数据绑定监听
     */
    elems[1].addEventListener('keyup', function(e){
        mvSet('value', e.target.value);
    }, false);

    scan();

&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<p></p>
<p>2.脏检查机制</p>
<p></p>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;

&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;脏检查机制&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;
&lt;input q-event="value" ng-bind="value" type="text" id="input"&gt;
&lt;div q-event="text" ng-bind="value" id="el"&gt;&lt;/div&gt;
&lt;script&gt;

    var elems = [document.getElementById('el'), document.getElementById('input')];

    var data = {
        value: 'hello!'
    };

    var command = {
        text: function(str) {
            this.innerHTML = str;
        },
        value: function(str) {
            this.setAttribute('value', str);
        }
    };

    var scan = function(elems) {
        for (var i = 0, len = elems.length; i &lt; len; i++) {
            var elem = elems[i];
            elem.command = {};
            for (var j = 0, len1 = elem.attributes.length; j &lt; len1; j++) {
                var attr = elem.attributes[j];
                if (attr.nodeName.indexOf('q-event') &gt;= 0) {
                    /**
                     * 调用属性指令
                     */
                    var dataKey = elem.getAttribute('ng-bind') || undefined;
                    /**
                     * 进行数据初始化
                     */
                    command[attr.nodeValue].call(elem, data[dataKey]);
                    elem.command[attr.nodeValue] = data[dataKey];
                }
            }
        }
    };

    var digest = function(elems) {
        /**
         * 扫描带指令的节点属性
         */
        for (var i = 0, len = elems.length; i &lt; len; i++) {
            var elem = elems[i];
            for (var j = 0, len1 = elem.attributes.length; j &lt; len1; j++) {
                var attr = elem.attributes[j];
                if (attr.nodeName.indexOf('q-event') &gt;= 0) {
                    /**
                     * 调用属性指令
                     */
                    var dataKey = elem.getAttribute('ng-bind') || undefined;

                    /**
                     * 进行脏数据检测，如果数据改变，则重新执行指令，否则跳过
                     */
                    if(elem.command[attr.nodeValue] !== data[dataKey]){

                        command[attr.nodeValue].call(elem, data[dataKey]);
                        elem.command[attr.nodeValue] = data[dataKey];
                    }
                }
            }
        }
    }

    /**
     * 初始化数据
     */
    scan(elems);

    function $digest(value){
        var list = document.querySelectorAll('[ng-bind='+ value + ']');
        digest(list);
    }

    elems[1].addEventListener('keyup', function(e) {
        data.value = e.target.value;
        $digest(e.target.getAttribute('ng-bind'));
    }, false);

&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre><br>
3.数据劫持
<p></p>
<p></p>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;

&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;前端数据劫持&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;
&lt;input q-value="value" type="text" id="input"&gt;
&lt;div q-text="value" id="el"&gt;&lt;/div&gt;
&lt;script&gt;
    var elems = [document.getElementById('el'), document.getElementById('input')];

    var data = {
        value: 'hello!'
    };

    var command = {
        text: function(str) {
            this.innerHTML = str;
        },
        value: function(str) {
            this.setAttribute('value', str);
        }
    };

    var scan = function() {
        /**
         * 扫描带指令的节点属性
         */
        for (var i = 0, len = elems.length; i &lt; len; i++) {
            var elem = elems[i];
            elem.command = [];
            for (var j = 0, len1 = elem.attributes.length; j &lt; len1; j++) {
                var attr = elem.attributes[j];
                if (attr.nodeName.indexOf('q-') &gt;= 0) {
                    /**
                     * 调用属性指令
                     */
                    command[attr.nodeName.slice(2)].call(elem, data[attr.nodeValue]);
                    elem.command.push(attr.nodeName.slice(2));

                }
            }
        }
    }

    var bValue;
    /**
     * 定义属性设置劫持
     */
    var defineGetAndSet = function(obj, propName) {
        try {
            Object.defineProperty(obj, propName, {
                get: function() {
                    return bValue;
                },
                set: function(newValue) {
                    bValue = newValue;
                    scan();
                },

                enumerable: true,
                configurable: true
            });
        } catch (error) {
            console.log("browser not supported.");
        }
    }
    /**
     * 初始化数据
     */
    scan();

    /**
     * 可以理解为做数据劫持监听
     */
    defineGetAndSet(data, 'value');

    /**
     * 数据绑定监听
     */
    if(document.addEventListener){
        elems[1].addEventListener('keyup', function(e) {
            data.value = e.target.value;
        }, false);
    }else{
        elems[1].attachEvent('onkeyup', function(e) {
            data.value = e.target.value;
        }, false);
    }

&lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre><br><p></p>
            ]]></description></item><item><title>SeaJS 按需加载js模块</title><link>http://www.cnblogs.com/xutongbao/archive/2017/11/07/9924953.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 07 Nov 2017 06:54:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2017/11/07/9924953.html</guid><description><![CDATA[
                
<p>1.目录结构</p>
<p><img src="https://img-blog.csdn.net/20171107145401680?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""></p>
<p>2.index.html</p>
<p></p><pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;seajs&lt;/title&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;input type="button" id="button1" value="Click"&gt;
&lt;input type="button" id="button2" value="Click"&gt;
&lt;script src="https://cdn.bootcss.com/seajs/3.0.2/runtime-debug.js"&gt;&lt;/script&gt;&lt;/body&gt;
&lt;script&gt;
    seajs.use('./js/index.js');
&lt;/script&gt;
&lt;/html&gt;</code></pre><br>
3.index.js
<p></p><pre><code class="language-javascript">define(function(require, exports, module) {
    $('#button1').click(function () {
        alert('button1');
    });

    require.async('./myModule', function(myModule) {
        myModule.myFun();
    });
});</code></pre><br>
4.myModule.js
<p></p><pre><code class="language-javascript">define(function(require, exports) {
    var myModule = {
        myFun: function () {
            $('#button2').click(function () {
                alert('button2');
            });
        }
    };

    return myModule;
});</code></pre><br>
5.参考链接：<a href="http://www.zhangxinxu.com/sp/seajs/docs/zh-cn/module-definition.html" rel="nofollow">http://www.zhangxinxu.com/sp/seajs/docs/zh-cn/module-definition.html</a><br>            ]]></description></item><item><title>CSS3 3D旋转立方体</title><link>http://www.cnblogs.com/xutongbao/archive/2017/10/19/9924954.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 19 Oct 2017 02:36:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2017/10/19/9924954.html</guid><description><![CDATA[
                
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta http-equiv="Content-Type" content="text/html;charset=UTF-8"&gt;
    &lt;meta name="viewport" content="initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=0"&gt;
    &lt;title&gt;CSS3 3D旋转立方体&lt;/title&gt;
    &lt;style&gt;
        body{
            margin:0;
            padding:0;
        }

        .cube{
            width: 800px;
            height: 400px;
            /*
                perspective 属性定义 3D 元素距视图的距离，以像素计。该属性允许您改变
                3D 元素查看 3D 元素的视图。当为元素定义 perspective 属性时，其子元素
                会获得透视效果，而不是元素本身。
                注释：perspective 属性只影响 3D 转换元素。
            */
            -webkit-perspective: 1000px;
            margin:200px auto 0 auto;
        }

        .ant{
            width: 100%;
            height: 100%;
            /*
                transform-style 属性规定如何在 3D 空间中呈现被嵌套的元素。
                flat 	        子元素将不保留其 3D 位置。
                preserve-3d 	子元素将保留其 3D 位置。
                注释：该属性必须与 transform 属性一同使用。
            */
            -webkit-transform-style: preserve-3d;
            /*
                translate3d(x,y,z) 	定义 3D 转换。
                rotateY(angle) 	定义沿着 Y 轴的 3D 旋转。
            */
            -webkit-transform: translate3d(0,0,-200px) rotateY(0deg);
            -webkit-animation:xuanzhuan 5s infinite linear;
        }

        .face{
            width: 100%;
            height: 100%;
            position: absolute;
            border:1px solid;
            -webkit-backface-visibility: visible;
            overflow: hidden;
            z-index: 10;
            text-align: center;
            font-size: 50px;
        }

        .face span {
            height: 100%;
            display: inline-block;
            vertical-align: middle;
        }

        .face-right{
            -webkit-transform: translate3d(400px , 0 , 0px) rotateY(-90deg);
        }
        .face-left{
            -webkit-transform: translate3d(-400px , 0 , 0px) rotateY(90deg);
        }
        .face-in{
            -webkit-transform: translate3d(0px , 0 , -400px) rotateY(0deg);
        }
        .face-out{
            -webkit-transform: translate3d(0px , 0 , 400px) rotateY(180deg);
        }
        .face-bottom{
            height: 800px;
            -webkit-transform: translate3d(0px , 0px , 0px) rotateX(90deg);
        }
        .face-top{
            height: 800px;
            -webkit-transform: translate3d(0px , -400px , 0px) rotateX(-90deg);
        }

        @-webkit-keyframes xuanzhuan{
            from{
                -webkit-transform: translate3d(0,0,-200px) rotateY(0deg);
            }
            to{
                -webkit-transform: translate3d(0,0,-200px) rotateY(360deg);
            }
        }
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div class="cube"&gt;
    &lt;div class="ant"&gt;
        &lt;div class="face face-right"&gt;&lt;span&gt;&lt;/span&gt;1&lt;/div&gt;
        &lt;div class="face face-left"&gt;&lt;span&gt;&lt;/span&gt;2&lt;/div&gt;
        &lt;div class="face face-in"&gt;&lt;span&gt;&lt;/span&gt;3&lt;/div&gt;
        &lt;div class="face face-out"&gt;&lt;span&gt;&lt;/span&gt;4&lt;/div&gt;
        &lt;div class="face face-bottom"&gt;&lt;span&gt;&lt;/span&gt;5&lt;/div&gt;
        &lt;div class="face face-top"&gt;&lt;span&gt;&lt;/span&gt;6&lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<p><img src="https://img-blog.csdn.net/20171019172051743?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br></p>
<p><br></p>
<p><br></p>
<p><br></p>
            ]]></description></item><item><title>CSS3 transform</title><link>http://www.cnblogs.com/xutongbao/archive/2017/10/18/9924955.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 18 Oct 2017 09:18:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2017/10/18/9924955.html</guid><description><![CDATA[
                
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;style&gt;
        *, *:after, *:before {
            box-sizing: border-box;
        }

        body {
            background: #F5F3F4;
            margin: 0;
            padding: 10px;
            font-family: 'Open Sans', sans-serif;
            text-align: center;
        }

        h1 {
            color: #4c4c4c;
            font-weight: 600;
            border-bottom: 1px solid #ccc;
        }

        h2, h4 {
            font-weight: 400;
            color: #4d4d4d;
        }

        .card {
            display: inline-block;
            margin: 10px;
            background: #fff;
            padding: 15px;
            min-width: 200px;
            box-shadow: 0 3px 5px #ddd;
            color: #555;
        }
        .card .box {
            width: 100px;
            height: 100px;
            margin: auto;
            background: #ddd;
            cursor: pointer;
            box-shadow: 0 0 5px #ccc inset;
        }
        .card .box .fill {
            width: 100px;
            height: 100px;
            position: relative;
            background: #03A9F4;
            opacity: .5;
            box-shadow: 0 0 5px #ccc;
            -webkit-transition: 0.3s;
            transition: 0.3s;
        }
        .card p {
            margin: 25px 0 0;
        }

        .rotate:hover .fill {
            -webkit-transform: rotate(45deg);
            transform: rotate(45deg);
        }

        .rotateX:hover .fill {
            -webkit-transform: rotateX(45deg);
            transform: rotateX(45deg);
        }

        .rotateY:hover .fill {
            -webkit-transform: rotateY(45deg);
            transform: rotateY(45deg);
        }

        .rotateZ:hover .fill {
            -webkit-transform: rotate(45deg);
            transform: rotate(45deg);
        }

        .scale:hover .fill {
            -webkit-transform: scale(2, 2);
            transform: scale(2, 2);
        }

        .scaleX:hover .fill {
            -webkit-transform: scaleX(2);
            transform: scaleX(2);
        }

        .scaleY:hover .fill {
            -webkit-transform: scaleY(2);
            transform: scaleY(2);
        }

        .skew:hover .fill {
            -webkit-transform: skew(45deg, 45deg);
            transform: skew(45deg, 45deg);
        }

        .skewX:hover .fill {
            -webkit-transform: skewX(45deg);
            transform: skewX(45deg);
        }

        .skewY:hover .fill {
            -webkit-transform: skewY(45deg);
            transform: skewY(45deg);
        }

        .translate:hover .fill {
            -webkit-transform: translate(45px, 1em);
            transform: translate(45px, 1em);
        }

        .translateX:hover .fill {
            -webkit-transform: translateX(45px);
            transform: translateX(45px);
        }

        .translateY:hover .fill {
            -webkit-transform: translateY(45px);
            transform: translateY(45px);
        }

        .matrix:hover .fill {
            -webkit-transform: matrix(2, 2, 0, 2, 45, 0);
            transform: matrix(2, 2, 0, 2, 45, 0);
        }

        .perspective-100 .box {
            -webkit-perspective: 100px;
            perspective: 100px;
        }

        .perspective-200 .box {
            -webkit-perspective: 200px;
            perspective: 200px;
        }

        .to-100-0-0 {
            -webkit-transform-origin: 100% 0 0;
            transform-origin: 100% 0 0;
        }

        .to-0-100-0 {
            -webkit-transform-origin: 0 100% 0;
            transform-origin: 0 100% 0;
        }
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;h1&gt;Css3 Transform&lt;/h1&gt;
&lt;!-- Rotate--&gt;
&lt;div class="card"&gt;
    &lt;div class="box rotate"&gt;
        &lt;div class="fill"&gt;&lt;/div&gt;
    &lt;/div&gt;
    &lt;p&gt;rotate(45deg)  &lt;/p&gt;
&lt;/div&gt;
&lt;div class="card"&gt;
    &lt;div class="box rotateX"&gt;
        &lt;div class="fill"&gt;&lt;/div&gt;
    &lt;/div&gt;
    &lt;p&gt;rotateX(45deg)&lt;/p&gt;
&lt;/div&gt;
&lt;div class="card"&gt;
    &lt;div class="box rotateY"&gt;
        &lt;div class="fill"&gt;&lt;/div&gt;
    &lt;/div&gt;
    &lt;p&gt;rotateY(45deg)&lt;/p&gt;
&lt;/div&gt;
&lt;div class="card"&gt;
    &lt;div class="box rotateZ"&gt;
        &lt;div class="fill"&gt;&lt;/div&gt;
    &lt;/div&gt;
    &lt;p&gt;rotateZ(45deg)  &lt;/p&gt;
&lt;/div&gt;
&lt;!-- scale--&gt;
&lt;div class="card"&gt;
    &lt;div class="box scale"&gt;
        &lt;div class="fill"&gt;&lt;/div&gt;
    &lt;/div&gt;
    &lt;p&gt;scale(2)&lt;/p&gt;
&lt;/div&gt;
&lt;div class="card"&gt;
    &lt;div class="box scaleX"&gt;
        &lt;div class="fill"&gt;&lt;/div&gt;
    &lt;/div&gt;
    &lt;p&gt;scaleX(2)    &lt;/p&gt;
&lt;/div&gt;
&lt;div class="card"&gt;
    &lt;div class="box scaleY"&gt;
        &lt;div class="fill"&gt;&lt;/div&gt;
    &lt;/div&gt;
    &lt;p&gt;scaleY(2)    &lt;/p&gt;
&lt;/div&gt;
&lt;!-- skew--&gt;
&lt;div class="card"&gt;
    &lt;div class="box skew"&gt;
        &lt;div class="fill"&gt;&lt;/div&gt;
    &lt;/div&gt;
    &lt;p&gt;skew(45deg, 45deg)  &lt;/p&gt;
&lt;/div&gt;
&lt;div class="card"&gt;
    &lt;div class="box skewX"&gt;
        &lt;div class="fill"&gt;&lt;/div&gt;
    &lt;/div&gt;
    &lt;p&gt;skewX(45deg)&lt;/p&gt;
&lt;/div&gt;
&lt;div class="card"&gt;
    &lt;div class="box skewY"&gt;
        &lt;div class="fill"&gt;&lt;/div&gt;
    &lt;/div&gt;
    &lt;p&gt;skewY(45deg)&lt;/p&gt;
&lt;/div&gt;
&lt;!-- translate--&gt;
&lt;div class="card"&gt;
    &lt;div class="box translate"&gt;
        &lt;div class="fill"&gt;&lt;/div&gt;
    &lt;/div&gt;
    &lt;p&gt;translate(45px)  &lt;/p&gt;
&lt;/div&gt;
&lt;div class="card"&gt;
    &lt;div class="box translateX"&gt;
        &lt;div class="fill"&gt;&lt;/div&gt;
    &lt;/div&gt;
    &lt;p&gt;translateX(45px)&lt;/p&gt;
&lt;/div&gt;
&lt;div class="card"&gt;
    &lt;div class="box translateY"&gt;
        &lt;div class="fill"&gt;&lt;/div&gt;
    &lt;/div&gt;
    &lt;p&gt;translateY(45px)&lt;/p&gt;
&lt;/div&gt;
&lt;div class="card"&gt;
    &lt;div class="box matrix"&gt;
        &lt;div class="fill"&gt;&lt;/div&gt;
    &lt;/div&gt;
    &lt;p&gt; matrix(2, 2, 0, 2, 45, 0)&lt;/p&gt;
&lt;/div&gt;
&lt;h4&gt;Perspective : 100&lt;/h4&gt;
&lt;div class="perspective-100"&gt;
    &lt;div class="card"&gt;
        &lt;div class="box rotateX"&gt;
            &lt;div class="fill"&gt;&lt;/div&gt;
        &lt;/div&gt;
        &lt;p&gt;rotateX(90deg)&lt;/p&gt;
    &lt;/div&gt;
    &lt;div class="card"&gt;
        &lt;div class="box rotateY"&gt;
            &lt;div class="fill"&gt;&lt;/div&gt;
        &lt;/div&gt;
        &lt;p&gt;rotateY(45deg)&lt;/p&gt;
    &lt;/div&gt;
&lt;/div&gt;
&lt;h4&gt;Perspective : 200&lt;/h4&gt;
&lt;div class="perspective-200"&gt;
    &lt;div class="card"&gt;
        &lt;div class="box rotateX"&gt;
            &lt;div class="fill"&gt;&lt;/div&gt;
        &lt;/div&gt;
        &lt;p&gt;rotateX(90deg)&lt;/p&gt;
    &lt;/div&gt;
    &lt;div class="card"&gt;
        &lt;div class="box rotateY"&gt;
            &lt;div class="fill"&gt;&lt;/div&gt;
        &lt;/div&gt;
        &lt;p&gt;rotateY(45deg)&lt;/p&gt;
    &lt;/div&gt;
&lt;/div&gt;
&lt;!-- transform origin--&gt;
&lt;h2&gt;Transform origin&lt;/h2&gt;
&lt;div class="card"&gt;
    &lt;div class="box rotate"&gt;
        &lt;div class="fill to-100-0-0"&gt;&lt;/div&gt;
    &lt;/div&gt;
    &lt;p&gt;transform-origin : 100% 0 0  &lt;br/&gt;rotate(45deg)&lt;/p&gt;
&lt;/div&gt;
&lt;div class="card"&gt;
    &lt;div class="box rotate"&gt;
        &lt;div class="fill to-0-100-0"&gt;&lt;/div&gt;
    &lt;/div&gt;
    &lt;p&gt;transform-origin : 0 100%  0&lt;br/&gt;rotate(45deg)&lt;/p&gt;
&lt;/div&gt;
&lt;div class="card perspective-200"&gt;
    &lt;div class="box rotateX"&gt;
        &lt;div class="fill to-0-100-0"&gt;&lt;/div&gt;
    &lt;/div&gt;
    &lt;p&gt;transform-origin : 0 100%  0&lt;br/&gt;rotateX(45deg)&lt;/p&gt;
&lt;/div&gt;
&lt;div class="card perspective-200"&gt;
    &lt;div class="box rotateX"&gt;
        &lt;div class="fill to-100-0-0"&gt;&lt;/div&gt;
    &lt;/div&gt;
    &lt;p&gt;transform-origin : 0 100%  0&lt;br/&gt;rotateX(45deg)&lt;/p&gt;
&lt;/div&gt;
&lt;div class="card perspective-200"&gt;
    &lt;div class="box rotateY"&gt;
        &lt;div class="fill to-0-100-0"&gt;&lt;/div&gt;
    &lt;/div&gt;
    &lt;p&gt;transform-origin : 0 100%  0 &lt;br/&gt;rotateY(45deg)&lt;/p&gt;
&lt;/div&gt;
&lt;div class="card perspective-200"&gt;
    &lt;div class="box rotateY"&gt;
        &lt;div class="fill to-100-0-0"&gt;&lt;/div&gt;
    &lt;/div&gt;
    &lt;p&gt;transform-origin : 100%  0 0&lt;br/&gt;rotateY(45deg)&lt;/p&gt;
&lt;/div&gt;
&lt;div class="card"&gt;
    &lt;div class="box scale"&gt;
        &lt;div class="fill to-100-0-0"&gt;&lt;/div&gt;
    &lt;/div&gt;
    &lt;p&gt;transform-origin : 100%  0 0&lt;br/&gt;scale(2)&lt;/p&gt;
&lt;/div&gt;
&lt;div class="card"&gt;
    &lt;div class="box scale"&gt;
        &lt;div class="fill to-0-100-0"&gt;&lt;/div&gt;
    &lt;/div&gt;
    &lt;p&gt;transform-origin : 0 100%  0&lt;br/&gt;scale(2)&lt;/p&gt;
&lt;/div&gt;
&lt;div class="card"&gt;
    &lt;div class="box scaleX"&gt;
        &lt;div class="fill to-100-0-0"&gt;&lt;/div&gt;
    &lt;/div&gt;
    &lt;p&gt;transform-origin : 100%  0 0&lt;br/&gt;scaleX(2)&lt;/p&gt;
&lt;/div&gt;
&lt;div class="card"&gt;
    &lt;div class="box scaleX"&gt;
        &lt;div class="fill to-0-100-0"&gt;&lt;/div&gt;
    &lt;/div&gt;
    &lt;p&gt;transform-origin : 0 100%  0&lt;br/&gt;scaleX(2)&lt;/p&gt;
&lt;/div&gt;
&lt;div class="card"&gt;
    &lt;div class="box scaleY"&gt;
        &lt;div class="fill to-100-0-0"&gt;&lt;/div&gt;
    &lt;/div&gt;
    &lt;p&gt;transform-origin : 100%  0 0&lt;br/&gt;scaleY(2)&lt;/p&gt;
&lt;/div&gt;
&lt;div class="card"&gt;
    &lt;div class="box scaleY"&gt;
        &lt;div class="fill to-0-100-0"&gt;&lt;/div&gt;
    &lt;/div&gt;
    &lt;p&gt;transform-origin : 0 100%  0&lt;br/&gt;scaleY(2)&lt;/p&gt;
&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p><img src="https://img-blog.csdn.net/20171018171920628?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br></p>
<p><img src="https://img-blog.csdn.net/20171018171941229?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br></p>
            ]]></description></item><item><title>CSS3动画 animation transition</title><link>http://www.cnblogs.com/xutongbao/archive/2017/10/18/9924956.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 18 Oct 2017 09:05:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2017/10/18/9924956.html</guid><description><![CDATA[
                
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;style&gt;
        .my-animation
        {
            width:100px;
            height:100px;
            background:red;
            position:relative;

            /*  规定 @keyframes 动画的名称。 */
            animation-name:myfirst;
            /*  规定动画完成一个周期所花费的秒或毫秒。默认是 0。*/
            animation-duration:5s;
            /*  规定动画的速度曲线。默认是 "ease"。*/
            animation-timing-function:linear;
            /*  规定动画何时开始。默认是 0。*/
            animation-delay:2s;
            /*  规定动画被播放的次数。默认是 1。*/
            animation-iteration-count:infinite;
            /*  规定动画是否在下一周期逆向地播放。默认是 "normal"。*/
            animation-direction:alternate;
            /*  规定动画是否正在运行或暂停。默认是 "running"。*/
            animation-play-state:running;

            /*  与上面的动画相同，可以使用了简写的动画 animation 属性*/
            animation:myfirst 5s linear 2s infinite alternate;
        }

        @keyframes myfirst
        {
            0%   {background:red; left:0px; top:0px;}
            25%  {background:yellow; left:200px; top:0px;}
            50%  {background:blue; left:200px; top:200px;}
            75%  {background:green; left:0px; top:200px;}
            100% {background:red; left:0px; top:0px;}
        }


        .my-transition
        {
            margin-top: 200px;
            width:100px;
            height:100px;
            background:yellow;
            /*
            transition-property: width;
            transition-duration: 2s;
            transition-timing-function: linear;
            transition-delay: 1s;
            */
            transition:width 2s linear 1s, height 2s linear 1s, transform 2s linear 1s;
        }

        /*  伪类触发包含 :hover : focus  :checked  :active  */
        .my-transition:hover
        {
            width:200px;
            height:200px;
            transform:rotate(180deg);
        }
        .my-click-transiton
        {
            width:250px;
            height:250px;
            transform:rotate(270deg);
        }
    &lt;/style&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;div class="my-animation"&gt;&lt;/div&gt;
&lt;div class="my-transition"&gt;请把鼠标指针放到黄色的 div 元素上，来查看过渡效果。&lt;/div&gt;
&lt;input type="button" id="mybutton" value="click"&gt;
&lt;script&gt;
    //用js触发CSS3-transition过渡动画
    $('#mybutton').click(function () {
        var myTransition = $('.my-transition');
        if (myTransition.hasClass('my-click-transiton')) {
            myTransition.removeClass('my-click-transiton')
        } else {
            $('.my-transition').addClass('my-click-transiton');
        }
    });
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p><img src="https://img-blog.csdn.net/20171018170607293?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br></p>
            ]]></description></item><item><title>响应式布局 媒体查询</title><link>http://www.cnblogs.com/xutongbao/archive/2017/10/18/9924957.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 18 Oct 2017 05:43:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2017/10/18/9924957.html</guid><description><![CDATA[
                响应式布局（responsive web design）指的是在网页开发过程中针对不同设备<br>开发一套网站，然后根据用户行为以及设备环境（系统平台、屏幕尺寸、屏幕<br>定向等）自适应地显示不同布局。响应式布局的核心是媒体查询。媒体查询<br>（media query）是获取用户行为和设备环境、然后提供相应的css规则的过程<br><p>的简称。媒体查询让css可以更精确作用于不同的媒体类型和同一媒体的不同条件。</p><p>CSS 语法</p><p></p><pre><code class="language-css">@media mediatype and|not|only (media feature) {
    CSS-Code;
}</code></pre><br>你也可以针对不同的媒体使用不同 stylesheets :<p></p><p></p><pre><code class="language-html">&lt;link rel="stylesheet" media="mediatype and|not|only (media feature)" href="mystylesheet.css"&gt;</code></pre><br><p></p><p>1.目录结构<br></p><p><img src="https://img-blog.csdn.net/20171018134656221?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""></p><p>2.index.html</p><p></p><pre><code class="language-html">&lt;!DOCTYPE html&gt;  
&lt;html lang="en"&gt;  
&lt;head&gt;  
    &lt;meta charset="UTF-8"&gt;  
    &lt;meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0,viewport-fit=cover"&gt;
    &lt;meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"&gt;
    &lt;!--link元素中的CSS媒体查询--&gt;  
    &lt;link rel="stylesheet" media="screen and (max-width:500px)" href="style.css"&gt;  
    &lt;style&gt;  
        .mystyle1 {  
            background-color:lightgreen;  
        }  
  
        .mystyle2 {  
            background-color: #64989a;  
        }  
  
        /*样式表中的CSS媒体查询*/  
        @media screen and (max-width: 500px) {  
            .mystyle1 {  
                background-color:lightblue;  
            }  
        }  
    &lt;/style&gt;  
&lt;/head&gt;  
&lt;body&gt;  
&lt;p&gt;当浏览器窗口的宽度小于 500 像素时，背景颜色会有变化。&lt;/p&gt;  
&lt;div class="mystyle1"&gt;徐同保&lt;/div&gt;  
&lt;div class="mystyle2"&gt;徐同保&lt;/div&gt;  
  
&lt;/body&gt;  
&lt;/html&gt; </code></pre><br><br>3.style.css<p></p><p></p><pre><code class="language-css">.mystyle2 {
    background: red !important;
}</code></pre><br>4.运行结果<br><p></p><p>大于500px时</p><p><img src="https://img-blog.csdn.net/20171018134838789?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""></p><p>小于500px时</p><p><img src="https://img-blog.csdn.net/20171018134911270?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""></p><p><br></p><p><img src="https://img-blog.csdn.net/20171018134948661?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br></p><p><br></p><p><img src="https://img-blog.csdn.net/20171018135236480?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br></p>            ]]></description></item><item><title>javascript 设计模式 发布订阅模式</title><link>http://www.cnblogs.com/xutongbao/archive/2017/10/17/9924958.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 17 Oct 2017 09:28:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2017/10/17/9924958.html</guid><description><![CDATA[
                发布/订阅模式(Pub/Sub)是一种消息模式,它有两个参与者：发布者和订阅者。发布者向某个信道发布<br>一条消息，订阅者绑定这个信道，当有消息发布至信道时就会接收到一个通知。最重要的一点是，发布者和<br>订阅者是完全解耦的，彼此并不知晓对方的存在。两者仅仅共享一个信道名称。<br><br>这种模式在js里面有这天然的优势，因为js本身就是事件驱动型语言。比如，页面上有一个button, <br>你点击一下就会触发上面的click事件,而此时有一部分程序正在监听这个事件，随之触发相关的处理程序。<br><br>事实上，我们也早就熟悉这个模式了，只是不知道这叫什么(订阅发布模式 又名 观察者模式).<br>这个模式最大的一个好处就在于，能够解耦回调函数，让你的程序看起来更美观(虽然现在有Promise和<br><p>Deferred帮忙，但是不彻底)。</p><p></p><pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;发布订阅模式&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;script&gt;
    var pubsub = (function(){
        var q = {}, topics = {}, subUid = -1;
        //发布消息
        q.publish = function(topic, args) {
            if (!topics[topic]) {
                return;
            }
            var subs = topics[topic], len = subs.length;
            while(len--) {
                subs[len].func(topic, args);
            }
            return this;
        };
        //订阅事件
        q.subscribe = function(topic, func) {
            topics[topic] = topics[topic] ? topics[topic] : [];
            var token = (++subUid).toString();
            topics[topic].push({
                token : token,
                func : func
            });
            return token;
        };
        return q;
        //取消订阅就不写了，遍历topics，然后通过保存前面返回token，删除指定元素
    })();
    //触发的事件
    var logmsg = function(topics, data) {
        console.log("logging:" + topics + ":" + data);
    }
    //监听指定的消息'msgName'
    var sub = pubsub.subscribe('msgName', logmsg);
    //发布消息'msgName'
    pubsub.publish('msgName', 'hello world');
    //发布无人监听的消息'msgName1'
    pubsub.publish('anotherMsgName', 'me too!');
&lt;/script&gt;
&lt;/body&gt;</code></pre><br><img src="https://img-blog.csdn.net/20171017172912535?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br><p></p><p><br></p><p><img src="https://img-blog.csdn.net/20171017173118127?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""></p><p><br></p><p>功能完善的发布订阅模式：<br></p><pre><code class="language-javascript">&lt;!DOCTYPE html&gt;  
&lt;html&gt;  
&lt;head&gt;  
    &lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;  
&lt;/head&gt;  
&lt;body&gt;   
&lt;script&gt; 

var $EventEmiter = (function () {
    function $EventEmiter () {
        this._events = {
        }
    }
    $EventEmiter.prototype = {
        on: function (eventName, callback) {
            if (this._events[eventName]) {
                //如果有就放一个新的
                this._events[eventName].push(callback);
            } else {
                //如果没有就创建一个数组
                this._events[eventName] = [callback];
            }
        },
        emit: function (eventName, caller, args) {
            if (this._events[eventName]) { //循环一次执行
                this._events[eventName].forEach(function(item) {
                    item.apply(caller, args)
                });                
            }          
        },
        removeListener: function (eventName, callback) {
            if (this._events[eventName]) {
                //当前数组和传递过来的callback相等则移除掉
                //this._events[eventName] = this._events[eventName].filter(item=&gt;item!==callback);
                var temp = [];
                for (var i = 0; i &lt; this._events[eventName].length; i++) {
                    if (this._events[eventName][i] !== callback) {
                        temp.push(this._events[eventName][i]);
                    }
                }
                this._events[eventName] = temp;
            }
        },
        removeListenerByEventName: function (eventName) {
            if (this._events[eventName]) {
                this._events[eventName] = [];
            }
        },        
        once: function(eventName, callback) {
            var that = this;
            function one() {
                //在one函数运行原来的函数，只有将one清空
                callback.apply(this, arguments);
                //先绑定 执行后再删除
                that.removeListener(eventName, one);
            }
            this.on(eventName, one);
            //此时emit触发会执行此函数，会给这个函数传递rest参数
        }        
    }
    return $EventEmiter;
})();

var EventEmiter = new $EventEmiter();

var msgName = function(data) {  
    console.log("msgName:" + data);  
}  
var sub = EventEmiter.on('msgName', msgName);  
var msgNames = function(data) {  
    console.log("msgNames:" + data);  
}  
var sub = EventEmiter.on('msgName', msgNames); 
EventEmiter.emit('msgName', this, ['hello world']);    
EventEmiter.emit('msgName', this, ['hello world2']);  
EventEmiter.removeListener('msgName', msgName);
EventEmiter.emit('msgName', this, ['hello world3']);  
EventEmiter.removeListenerByEventName('msgName');
EventEmiter.emit('msgName', this, ['hello world4']);  
EventEmiter.emit('msgName', this, ['hello world5']);  

var msgName2 = function(data) {  
    console.log("msgName2:" + ":" + data);  
}  
var sub = EventEmiter.once('msgName2', msgName2);  
EventEmiter.emit('msgName2', this, ['hello world']);    
EventEmiter.emit('msgName2', this, ['hello world2']);

EventEmiter.emit('anotherMsgName', this, ['me too!']);  

&lt;/script&gt;  
&lt;/body&gt;  
&lt;/html&gt;  </code></pre><br><p>使用es6实现：<br></p><pre><code class="language-javascript">&lt;!DOCTYPE html&gt;  
&lt;html&gt;  
&lt;head&gt;  
    &lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;  
&lt;/head&gt;  
&lt;body&gt;   
&lt;script&gt; 

//发布订阅模式
class EventEmiter{
  constructor(){
    //维护一个对象
    this._events={
 
    }
  }
  on(eventName,callback){
    if( this._events[eventName]){
      //如果有就放一个新的
      this._events[eventName].push(callback);
    }else{
      //如果没有就创建一个数组
      this._events[eventName]=[callback]
    }
  }
  emit(eventName,...rest){
    if(this._events[eventName]){ //循环一次执行
      this._events[eventName].forEach((item)=&gt;{
        item.apply(this,rest)
      });
    }
  }
  removeListener(eventName,callback){
    if(this._events[eventName]){
      //当前数组和传递过来的callback相等则移除掉
      this._events[eventName]=
        this._events[eventName].filter(item=&gt;item!==callback);
    }
  }
  once(eventName,callback){
    function one(){
      //在one函数运行原来的函数，只有将one清空
      callback.apply(this,arguments);
      //先绑定 执行后再删除
      this.removeListener(eventName,one);
    }
    this.on(eventName,one);
      //此时emit触发会执行此函数，会给这个函数传递rest参数
  }
}
class Man extends EventEmiter{}
let man=new Man()
function findGirl() {
  console.log('找新的女朋友')
}
function saveMoney() {
  console.log('省钱')
}
man.once('失恋',findGirl);
//man.on('失恋',findGirl) //失恋 ，绑定一个函数方法
man.on('失恋',saveMoney)//失恋 ，绑定一个函数方法
man.removeListener('失恋',saveMoney); //移除一个函数方法
man.emit('失恋');
//绑定一次，触发多次，也只执行一次。触发后一次将数组中的哪一项删除掉下次触发就不会执行
&lt;/script&gt;  
&lt;/body&gt;  
&lt;/html&gt;  </code></pre><br><p><br></p><p><br></p>            ]]></description></item><item><title>跨域post请求 CORS</title><link>http://www.cnblogs.com/xutongbao/archive/2017/10/17/9924959.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 17 Oct 2017 06:14:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2017/10/17/9924959.html</guid><description><![CDATA[
                
CORS是一个W3C标准，全称是"跨域资源共享"（Cross-origin resource sharing）。<br><p>它允许浏览器向跨源服务器，发出XMLHttpRequest请求，从而克服了AJAX只能同源使用的限制。</p>
<br>
CORS需要浏览器和服务器同时支持。目前，所有浏览器都支持该功能，IE浏览器不能低于IE10。<br>
整个CORS通信过程，都是浏览器自动完成，不需要用户参与。对于开发者来说，CORS通信与同源<br>
的AJAX通信没有差别，代码完全一样。浏览器一旦发现AJAX请求跨源，就会自动添加一些附加的<br>
头信息，有时还会多出一次附加的请求，但用户不会有感觉。<br>
因此，实现CORS通信的关键是服务器。只要服务器实现了CORS接口，就可以跨源通信。<br><br>
具体实现如下：<br>
&nbsp; 前台使用普通的Ajax提交方式，跟普通访问一样，无需更改。<br>
服务器Action方法如下：<br>
&nbsp; response.setHeader("Access-Control-Allow-Origin", "*");这句代码中*代码，服务器允许<br>
&nbsp; 任何人访问。当然可以设置规定访问的域名。比如只允许http://localhost:8080/crcp这个域<br><p>&nbsp; 下的访问。则把*代替成这个域名即可。</p>
<p><br></p>
<p>阮一峰详解：<a href="http://www.ruanyifeng.com/blog/2016/04/cors.html" rel="nofollow">http://www.ruanyifeng.com/blog/2016/04/cors.html</a></p>
<p>实例：<a href="http://blog.csdn.net/yuebinghaoyuan/article/details/32723753" rel="nofollow">http://blog.csdn.net/yuebinghaoyuan/article/details/32723753</a><br></p>
<p>其他相关链接：<a href="https://segmentfault.com/q/1010000002994755" rel="nofollow">https://segmentfault.com/q/1010000002994755</a></p>
<p><a href="https://segmentfault.com/q/1010000002994755" rel="nofollow"><br></a></p>
<p><a href="https://segmentfault.com/q/1010000002994755" rel="nofollow"><img src="https://img-blog.csdn.net/20171017142200581?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""></a><br></p>
            ]]></description></item><item><title>HTTP错误代码 404 503 500</title><link>http://www.cnblogs.com/xutongbao/archive/2017/10/17/9924960.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 17 Oct 2017 05:22:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2017/10/17/9924960.html</guid><description><![CDATA[
                
一些常见的状态码为：<br><br>
200 （成功） 服务器已成功处理了请求。通常，这表示服务器提供了请求的网页。<br>
301 （永久移动） 请求的网页已永久移动到新位置。服务器返回此响应（对 GET 或 HEAD 请求的响应）时，会自动将请求者转到新位置。<br>
307 （临时重定向） 服务器目前从不同位置的网页响应请求，但请求者应继续使用原有位置来进行以后的请求。<br>
400 （错误请求） 服务器不理解请求的语法。<br>
403 （禁止） 服务器拒绝请求。<br>
404 （未找到） 服务器找不到请求的网页。<br>
500 （服务器内部错误） 服务器遇到错误，无法完成请求。<br>
503 （服务不可用） 服务器目前无法使用（由于超载或停机维护）。通常，这只是暂时状态。<br><br>
1xx（临时响应）<br>
2xx （成功）<br>
3xx （重定向）<br>
4xx（请求错误）<br><p>5xx（服务器错误）</p>
<p><img src="https://img-blog.csdn.net/20171017133245926?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""></p>
<p><br></p>
<p><img src="https://img-blog.csdn.net/20171017133259494?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""></p>
<p><br></p>
<p><img src="https://img-blog.csdn.net/20171017133309844?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""></p>
<p><br></p>
<p><img src="https://img-blog.csdn.net/20171017133318043?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""></p>
<p><br></p>
<p><img src="https://img-blog.csdn.net/20171017133329977?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""></p>
<p><img src="https://img-blog.csdn.net/20171017133341103?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br></p>
<p><br></p>
<p>参考链接：<a href="http://blog.csdn.net/xinxin19881112/article/details/6565823" rel="nofollow">http://blog.csdn.net/xinxin19881112/article/details/6565823</a></p>
            ]]></description></item><item><title>div中img和a链接同时居中</title><link>http://www.cnblogs.com/xutongbao/archive/2017/10/16/9924961.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Mon, 16 Oct 2017 07:29:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2017/10/16/9924961.html</guid><description><![CDATA[
                
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;div中img垂直居中&lt;/title&gt;
&lt;/head&gt;
&lt;style type="text/css"&gt;
    div{
        height:200px;
        background:#eee;
        vertical-align:middle;
    }
    img{
        height:40px;
        vertical-align:middle;
    }
    span{
        height:100%;
        display:inline-block;
        vertical-align:middle;
    }
&lt;/style&gt;
&lt;body&gt;
&lt;div&gt;
    &lt;span&gt;&lt;/span&gt;
    &lt;img src="https://www.baidu.com/img/bd_logo1.png" alt="" /&gt;
    &lt;a style="vertical-align: middle"&gt;徐同保&lt;/a&gt;
&lt;/div&gt;
&lt;/body&gt;</code></pre><img src="https://img-blog.csdn.net/20171016153057505?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br>            ]]></description></item><item><title>Generator 异步操作的同步化写法</title><link>http://www.cnblogs.com/xutongbao/archive/2017/10/12/9924962.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 12 Oct 2017 08:18:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2017/10/12/9924962.html</guid><description><![CDATA[
                
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;Generator 异步操作的同步化写法&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;script&gt;
    function getData(resolve){
        setTimeout(()=&gt;{
            var data = {
                id: '001'
            };
        resolve(data);
    }, 2000);
    }

    function getData2(data){
        setTimeout(()=&gt;{
            console.log('Promise:' + data.id);
    }, 3000)
    }
    var promise = new Promise(getData);
    promise.then(getData2);

    //Generator函数的暂停执行的效果，意味着可以把异步操作写在yield语句里面，等到调用next
    // 方法时再往后执行。这实际上等同于不需要写回调函数了，因为异步操作的后续操作可以放
    // 在yield语句下面，反正要等到调用next方法时再执行。所以，Generator函数的一个重要实
    // 际意义就是用来处理异步操作，改写回调函数。
    //Promise的写法的缺点就是各种promise实例对象跟一连串的then，代码量大、行数多，满眼
    // 的promise、then、resolve看得头晕，而且每一个then都是一个独立的作用域，传递参数痛苦。
    function request(myData) {
        setTimeout(()=&gt;{
            var data = {
                id: myData
            };
            it.next(data);
        }, 1000);
    }

    function* ajaxs() {
       var data = yield request('001');
        var data2 = yield request(data.id);
        var data3 = yield request(data2.id);
        console.log('Generator:' + data3.id);
    }
    var it = ajaxs();
    it.next();

&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<p><img src="https://img-blog.csdn.net/20171012161738656?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br></p>
            ]]></description></item><item><title>Generator的基本用法</title><link>http://www.cnblogs.com/xutongbao/archive/2017/10/12/9924963.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 12 Oct 2017 06:56:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2017/10/12/9924963.html</guid><description><![CDATA[
                
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;Generator基本用法&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;script type="text/javascript"&gt;
    //每个遍历器之间互不干扰，作用域独立
    function* g() {
        var o = 1;
        yield o++;
        yield o++;
        yield o++;
    }
    var gen = g();
    console.log(gen.next().value); // 1
    var xxx = g();
    console.log(gen.next().value); // 2
    console.log(xxx.next().value); // 1
    console.log(gen.next().value); // 3

    //next方法参数的作用，是覆盖掉上一个yield语句的值
    function* g2()
    {
        var o = 1;
        var a = yield o++;
        console.log('a = ' + a);
        var b = yield o++;
    }
    var gen = g2();
    console.log(gen.next().value);
    console.log('------');
    console.log(gen.next(11));

    //for...of循环可以自动遍历Generator函数时生成的Iterator对象，且此时不再需要调用next方法
    //下面代码使用for...of循环，依次显示5个yield语句的值。这里需要注意，一旦next方法的返回对
    // 象的done属性为true，for...of循环就会中止，且不包含该返回对象，所以上面代码的return语句
    // 返回的6，不包括在for...of循环之中
    function* foo() {
        yield 1;
        yield 2;
        yield 3;
        yield 4;
        yield 5;
        return 6;
    }

    let a = foo();

    for (let v of a) {
        console.log(v);
    }
    // 1 2 3 4 5

    //Generator函数返回的遍历器对象，还有一个return方法，可以返回给定的值，并且终结遍历Generator函数
    //就是说，return的参数值覆盖本次yield语句的返回值，并且提前终结遍历，即使后面还有yield语句也一律无视
    function* gen2() {
        yield 1;
        yield 2;
        yield 3;
    }
    var g = gen2();
    console.log(g.next());          // { value: 1, done: false }
    console.log(g.return('foo'));   // { value: "foo", done: true }
    console.log(g.next());          // {value: undefined, done: true}

    //在Generater函数内部，调用另一个Generator函数,用yield*语句
    function* foo2() {
        yield 'a';
        yield 'b';
    }

    function* bar() {
        yield 'x';
        yield* foo2();
        yield 'y';
    }

    for (let v of bar()){
        console.log(v);
    }
    // "x"
    // "a"
    // "b"
    // "y"

&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<p><br></p>
<p><img src="https://img-blog.csdn.net/20171012145721390?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br></p>
<p><br></p>
            ]]></description></item><item><title>ECharts之柱状图 饼状图 折线图</title><link>http://www.cnblogs.com/xutongbao/archive/2017/10/11/9924964.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 11 Oct 2017 08:32:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2017/10/11/9924964.html</guid><description><![CDATA[
                
<p>1.柱状图</p>
<p></p><pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;柱状图&lt;/title&gt;
    &lt;script src="https://cdn.bootcss.com/echarts/3.7.2/echarts-en.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;!-- 为ECharts准备一个具备大小（宽高）的Dom --&gt;
&lt;div id="main" style="width: 600px;height:400px;"&gt;&lt;/div&gt;
&lt;script type="text/javascript"&gt;
    // 基于准备好的dom，初始化echarts实例
    var myChart = echarts.init(document.getElementById('main'));

    // 指定图表的配置项和数据
    var option = {
        title: {
            text: '柱状图'
        },
        tooltip: {},
        legend: {
            data:['熟悉程度']
        },
        xAxis: {
            data: ["javascript","css3","html5","vue","webpack","jQuery"]
        },
        yAxis: {},
        series: [{
            name: '熟悉程度',
            type: 'bar',
            data: [80, 90, 88, 70, 78, 80]
        }]
    };

    // 使用刚指定的配置项和数据显示图表。
    myChart.setOption(option);
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre><br><img src="https://img-blog.csdn.net/20171011163425302?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br><p><br></p>
<p><br></p>
<p>2.饼状图</p>
<p></p><pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;ECharts&lt;/title&gt;
    &lt;script src="https://cdn.bootcss.com/echarts/3.7.2/echarts-en.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;!-- 为ECharts准备一个具备大小（宽高）的Dom --&gt;
&lt;div id="main" style="width: 600px;height:400px;"&gt;&lt;/div&gt;
&lt;script type="text/javascript"&gt;
    // 基于准备好的dom，初始化echarts实例
    var myChart = echarts.init(document.getElementById('main'));

    option = {
        title : {
            text: '某站点用户访问来源',
            subtext: '纯属虚构',
            x:'center'
        },
        tooltip : {
            trigger: 'item',
            formatter: "{a} &lt;br/&gt;{b} : {c} ({d}%)"
        },
        legend: {
            orient: 'vertical',
            left: 'left',
            data: ['直接访问','邮件营销','联盟广告','视频广告','搜索引擎']
        },
        series : [
            {
                name: '访问来源',
                type: 'pie',
                radius : '55%',
                center: ['50%', '60%'],
                data:[
                    {value:335, name:'直接访问'},
                    {value:310, name:'邮件营销'},
                    {value:234, name:'联盟广告'},
                    {value:135, name:'视频广告'},
                    {value:1548, name:'搜索引擎'}
                ],
                itemStyle: {
                    emphasis: {
                        shadowBlur: 10,
                        shadowOffsetX: 0,
                        shadowColor: 'rgba(0, 0, 0, 0.5)'
                    }
                }
            }
        ]
    };

    // 使用刚指定的配置项和数据显示图表。
    myChart.setOption(option);
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre><br><img src="https://img-blog.csdn.net/20171011163517427?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br><p>3.折线图</p>
<p></p><pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;ECharts&lt;/title&gt;
    &lt;script src="https://cdn.bootcss.com/echarts/3.7.2/echarts-en.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;!-- 为ECharts准备一个具备大小（宽高）的Dom --&gt;
&lt;div id="main" style="width: 600px;height:400px;"&gt;&lt;/div&gt;
&lt;script type="text/javascript"&gt;
    // 基于准备好的dom，初始化echarts实例
    var myChart = echarts.init(document.getElementById('main'));

    option = {
        title: {
            text: '未来一周气温变化',
            subtext: '纯属虚构'
        },
        tooltip: {
            trigger: 'axis'
        },
        legend: {
            data:['最高气温','最低气温']
        },
        toolbox: {
            show: true,
            feature: {
                dataZoom: {
                    yAxisIndex: 'none'
                },
                dataView: {readOnly: false},
                magicType: {type: ['line', 'bar']},
                restore: {},
                saveAsImage: {}
            }
        },
        xAxis:  {
            type: 'category',
            boundaryGap: false,
            data: ['周一','周二','周三','周四','周五','周六','周日']
        },
        yAxis: {
            type: 'value',
            axisLabel: {
                formatter: '{value} °C'
            }
        },
        series: [
            {
                name:'最高气温',
                type:'line',
                data:[11, 11, 15, 13, 12, 13, 10],
                markPoint: {
                    data: [
                        {type: 'max', name: '最大值'},
                        {type: 'min', name: '最小值'}
                    ]
                },
                markLine: {
                    data: [
                        {type: 'average', name: '平均值'}
                    ]
                }
            },
            {
                name:'最低气温',
                type:'line',
                data:[1, -2, 2, 5, 3, 2, 0],
                markPoint: {
                    data: [
                        {name: '周最低', value: -2, xAxis: 1, yAxis: -1.5}
                    ]
                },
                markLine: {
                    data: [
                        {type: 'average', name: '平均值'},
                        [{
                            symbol: 'none',
                            x: '90%',
                            yAxis: 'max'
                        }, {
                            symbol: 'circle',
                            label: {
                                normal: {
                                    position: 'start',
                                    formatter: '最大值'
                                }
                            },
                            type: 'max',
                            name: '最高点'
                        }]
                    ]
                }
            }
        ]
    };

    // 使用刚指定的配置项和数据显示图表。
    myChart.setOption(option);
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre><br><img src="https://img-blog.csdn.net/20171011163555154?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br><p><br></p>
            ]]></description></item><item><title>jQuery插件扩展实例</title><link>http://www.cnblogs.com/xutongbao/archive/2017/10/11/9924965.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 11 Oct 2017 02:07:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2017/10/11/9924965.html</guid><description><![CDATA[
                
<p>1.index.html</p>
<p></p><pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;jQuery插件扩展实例&lt;/title&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;  &lt;/head&gt;
&lt;body&gt;

&lt;p&gt;徐同保&lt;/p&gt;

&lt;script&gt;
    //闭包限定命名空间
    (function ($) {
        //默认参数
        var defaluts = {
            foreground: 'red',
            background: 'yellow'
        };
        $.fn.extend({
            "highLight": function (options) {
                //检测用户传进来的参数是否合法
                if (!isValid(options)) {
                    return this;
                }
                //使用jQuery.extend 覆盖插件默认参数
                var opts = $.extend({}, defaluts, options);
                //这里的this 就是 jQuery对象。这里return 为了支持链式调用
                //遍历所有的要高亮的dom,当调用 highLight()插件的是一个集合的时候。
                return this.each(function () {
                    //获取当前dom 的 jQuery对象，这里的this是当前循环的dom
                    var $this = $(this);
                    //根据参数来设置 dom的样式
                    $this.css({
                        backgroundColor: opts.background,
                        color: opts.foreground
                    });
                    //格式化高亮文本
                    var markup = $this.html();
                    markup = $.fn.highLight.format(markup);
                    $this.html(markup);
                });

            }
        });
        //公共的格式化 方法. 默认是加粗，用户可以通过覆盖该方法达到不同的格式化效果。
        $.fn.highLight.format = function (str) {
            return "&lt;strong&gt;" + str + "&lt;/strong&gt;";
        };
        //私有方法，检测参数是否合法
        function isValid(options) {
            return !options || (options &amp;&amp; typeof options === "object") ? true : false;
        }
    })(window.jQuery);

    //调用
    //调用者覆盖 插件暴露的共公方法
    $.fn.highLight.format = function (txt) {
        return "&lt;em&gt;" + txt + "&lt;/em&gt;"
    };

    $(function () {
        $("p").highLight({ foreground: 'orange', background: '#ccc' }); //调用自定义 高亮插件
    });
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre><br><p>2.运行结果<br></p>
<p><img src="https://img-blog.csdn.net/20171011100845159?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br></p>
            ]]></description></item><item><title>less实例</title><link>http://www.cnblogs.com/xutongbao/archive/2017/10/10/9924966.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 10 Oct 2017 07:14:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2017/10/10/9924966.html</guid><description><![CDATA[
                
<p>1.目录结构</p>
<p><img src="https://img-blog.csdn.net/20171010151425295?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br></p>
<p><br></p>
<p>2.index.html</p>
<p></p><pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;less&lt;/title&gt;
    &lt;link  href="styles.css" type="text/css" rel="stylesheet"/&gt;
    &lt;script src="https://cdn.bootcss.com/less.js/3.0.0-pre.4/less.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div class="dialog"&gt;&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre><br>
3.styles.less
<p></p><pre><code class="language-css">@color: color;
@dialog: .dialog;
@suffix: fix;
// 空格将被忽略，若要保留空格则需要使用单引号或双引号
@hi: '徐 ';
@dear: 同保   ;

.dialog{
  // 用于 rule属性部件，必须使用"@{变量名}" 的形式
  background-@{color}: #888;
  // 用于 rule属性，必须使用"@{变量名}" 的形式
  @{color}: #000eff;
  border-color: @dialog-border-color;
  border-width: @dialog-border-width;
  border-style: solid;
}
// 用于 选择器，必须使用"@{变量名}" 的形式
@{dialog}{
    width: 200px;
}
@{dialog}::after{
  content: '@{hi}@{dear}';    // 用于 字符串拼接，必须使用"@{变量名}" 的形式
}
@h: 1000px;

// 用于 选择器部件，必须使用"@{变量名}" 的形式
.ie-@{suffix}{
  @h: 30px; // 存在作用域，局部作用域优先级高于全局作用域。
  height: @h; // 用于属性值，两种形式均可使用
  line-height: 30px;
}

// 1. 以@作为变量的起始标识，变量名由字母、数字、_和-组成
// 2. 没有先定义后使用的规定；
@dialog-border-color: #f70009;
@dialog-border-width: 10px;
@dialog-border-width: 1px; // 3. 以最后定义的值为最终值；</code></pre><br>
4.安装和命令行用法
<p></p>
<pre><code class="lang-bash">$ npm install -g less</code></pre>
<pre><code class="lang-bash">$ lessc styles.less styles.css</code></pre>
<br><p></p>
<p>5.生成styles.css</p>
<p></p><pre><code class="language-css">.dialog {
  background-color: #888;
  color: #000eff;
  border-color: #f70009;
  border-width: 1px;
  border-style: solid;
}
.dialog {
  width: 200px;
}
.dialog::after {
  content: '徐 同保   ';
}
.ie-fix {
  height: 30px;
  line-height: 30px;
}
</code></pre><br>
6.运行结果<br><p><img src="https://img-blog.csdn.net/20171010154317148?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br></p>
<p><br></p>
<p><br></p>
            ]]></description></item><item><title>理解requireJS原理，实现一个简单的模块加载器</title><link>http://www.cnblogs.com/xutongbao/archive/2017/10/10/9924967.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 10 Oct 2017 02:22:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2017/10/10/9924967.html</guid><description><![CDATA[
                
<p>1.目录结构</p>
<p><img src="https://img-blog.csdn.net/20171010102151050?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""></p>
<p>2.index.html</p>
<p></p><pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;理解requireJS原理，实现一个简单的模块加载器&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;script src="myRequire.js" type="text/javascript"&gt;&lt;/script&gt;
&lt;script type="text/javascript"&gt;
    require(['myModule'], function (myModule) {
        var name = myModule.getName();
        console.log(name);
    });
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre><br>
2.myRequires.js
<p></p><pre><code class="language-javascript">(function () {
    //存储已经加载好的模块
    var moduleCache = {};

    var require = function (deps, callback) {
        var params = [];
        var depCount = 0;
        var i, len, isEmpty = false, modName;

        //获取当前正在执行的js代码段，这个在onLoad事件之前执行
        modName = document.currentScript &amp;&amp; document.currentScript.id || 'REQUIRE_MAIN';

        //简单实现，这里未做参数检查，只考虑数组的情况
        if (deps.length) {
            for (i = 0, len = deps.length; i &lt; len; i++) {
                (function (i) {
                    //依赖加一
                    depCount++;
                    //这块回调很关键
                    loadMod(deps[i], function (param) {
                        params[i] = param;
                        depCount--;
                        if (depCount == 0) {
                            saveModule(modName, params, callback);
                        }
                    });
                })(i);
            }
        } else {
            isEmpty = true;
        }

        if (isEmpty) {
            setTimeout(function () {
                saveModule(modName, null, callback);
            }, 0);
        }
    };

    //考虑最简单逻辑即可
    var _getPathUrl = function (modName) {
        var url = modName;
        //不严谨
        if (url.indexOf('.js') == -1) url = url + '.js';
        return url;
    };

    //模块加载
    var loadMod = function (modName, callback) {
        var url = _getPathUrl(modName), fs, mod;

        //如果该模块已经被加载
        if (moduleCache[modName]) {
            mod = moduleCache[modName];
            if (mod.status == 'loaded') {
                setTimeout(callback(this.params), 0);
            } else {
                //如果未到加载状态直接往onLoad插入值，在依赖项加载好后会解除依赖
                mod.onload.push(callback);
            }
        } else {

            /*
             这里重点说一下Module对象
             status代表模块状态
             onLoad事实上对应requireJS的事件回调，该模块被引用多少次变化执行多少次回调，通知被依赖项解除依赖
             */
            mod = moduleCache[modName] = {
                modName: modName,
                status: 'loading',
                export: null,
                onload: [callback]
            };

            _script = document.createElement('script');
            _script.id = modName;
            _script.type = 'text/javascript';
            _script.charset = 'utf-8';
            _script.async = true;
            _script.src = url;

            //这段代码在这个场景中意义不大，注释了
            //      _script.onload = function (e) {};

            fs = document.getElementsByTagName('script')[0];
            fs.parentNode.insertBefore(_script, fs);

        }
    };

    var saveModule = function (modName, params, callback) {
        var mod, fn;

        if (moduleCache.hasOwnProperty(modName)) {
            mod = moduleCache[modName];
            mod.status = 'loaded';
            //输出项
            mod.export = callback ? callback(params) : null;

            //解除父类依赖，这里事实上使用事件监听较好
            while (fn = mod.onload.shift()) {
                fn(mod.export);
            }
        } else {
            callback &amp;&amp; callback.apply(window, params);
        }
    };

    window.require = require;
    window.define = require;
})();</code></pre>3.myModule.js<br><pre><code class="language-javascript">define([], function () {
    return {
        getName: function () {
            return '徐同保';
        }
    };
});</code></pre><br>
4.
<p><img src="https://img-blog.csdn.net/20171010102540371?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br></p>
            ]]></description></item><item><title>Vue自定义指令(directive)</title><link>http://www.cnblogs.com/xutongbao/archive/2017/09/23/9924968.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Sat, 23 Sep 2017 11:05:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2017/09/23/9924968.html</guid><description><![CDATA[
                
<p style="border:0px;line-height:2em;font-size:13px;font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Noto Sans CJK SC', 'WenQuanYi Micro Hei', Arial, sans-serif;color:rgb(51,51,51);">
1.除了默认设置的核心指令( v-model 和 v-show ), Vue 也允许注册自定义指令。</p>
<p style="border:0px;line-height:2em;font-size:13px;font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Noto Sans CJK SC', 'WenQuanYi Micro Hei', Arial, sans-serif;color:rgb(51,51,51);">
下面我们注册一个全局指令 v-focus, 该指令的功能是在页面加载时，元素获得焦点：</p>
<p style="border:0px;line-height:2em;font-size:13px;font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Noto Sans CJK SC', 'WenQuanYi Micro Hei', Arial, sans-serif;color:rgb(51,51,51);">
</p><pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset="utf-8"&gt;
&lt;title&gt;Vue 自定义指令&lt;/title&gt;
&lt;script src="https://cdn.bootcss.com/vue/2.2.2/vue.min.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div id="app"&gt;
  &lt;p&gt;页面载入时，input 元素自动获取焦点：&lt;/p&gt;
  &lt;input v-focus&gt;
&lt;/div&gt;

&lt;script&gt;
// 创建根实例
new Vue({
  el: '#app',
  directives: {
    // 注册一个局部的自定义指令 v-focus
    focus: {
      // 指令的定义
      inserted: function (el) {
        // 聚焦元素
        el.focus()
      }
    }
  }
})
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre><img src="https://img-blog.csdn.net/20170923190851911?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br><br><p style="border:0px;line-height:2em;font-size:13px;font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Noto Sans CJK SC', 'WenQuanYi Micro Hei', Arial, sans-serif;color:rgb(51,51,51);">
<br></p>
<p style="border:0px;line-height:2em;font-size:13px;font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Noto Sans CJK SC', 'WenQuanYi Micro Hei', Arial, sans-serif;color:rgb(51,51,51);">
2.</p>
<h3 style="border:0px;font-size:1.4em;color:rgb(51,51,51);font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Noto Sans CJK SC', 'WenQuanYi Micro Hei', Arial, sans-serif;">
</h3><h2 style="border:0px;font-size:1.8em;line-height:1.8em;color:rgb(51,51,51);font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Noto Sans CJK SC', 'WenQuanYi Micro Hei', Arial, sans-serif;">
钩子</h2>
<h3 style="border:0px;font-size:1.4em;color:rgb(51,51,51);font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Noto Sans CJK SC', 'WenQuanYi Micro Hei', Arial, sans-serif;">
钩子函数</h3>
<p style="border:0px;line-height:2em;font-size:13px;font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Noto Sans CJK SC', 'WenQuanYi Micro Hei', Arial, sans-serif;color:rgb(51,51,51);">
指令定义函数提供了几个钩子函数（可选）：</p>
<ul style="border:0px;line-height:16.8px;list-style:none;color:rgb(51,51,51);font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Noto Sans CJK SC', 'WenQuanYi Micro Hei', Arial, sans-serif;"><li style="border:0px;line-height:1.5em;font-size:13px;">
<p style="border:0px;line-height:2em;">
<code style="border:0px;">bind</code>: 只调用一次，指令第一次绑定到元素时调用，用这个钩子函数可以定义一个在绑定时执行一次的初始化动作。</p>
</li><li style="border:0px;line-height:1.5em;font-size:13px;">
<p style="border:0px;line-height:2em;">
<code style="border:0px;">inserted</code>: 被绑定元素插入父节点时调用（父节点存在即可调用，不必存在于 document 中）。</p>
</li><li style="border:0px;line-height:1.5em;font-size:13px;">
<p style="border:0px;line-height:2em;">
<code style="border:0px;">update</code>: 被绑定元素所在的模板更新时调用，而不论绑定值是否变化。通过比较更新前后的绑定值，可以忽略不必要的模板更新（详细的钩子函数参数见下）。</p>
</li><li style="border:0px;line-height:1.5em;font-size:13px;">
<p style="border:0px;line-height:2em;">
<code style="border:0px;">componentUpdated</code>: 被绑定元素所在模板完成一次更新周期时调用。</p>
</li><li style="border:0px;line-height:1.5em;font-size:13px;">
<p style="border:0px;line-height:2em;">
<code style="border:0px;">unbind</code>: 只调用一次， 指令与元素解绑时调用。</p>
</li></ul><h3 style="border:0px;font-size:1.4em;color:rgb(51,51,51);font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Noto Sans CJK SC', 'WenQuanYi Micro Hei', Arial, sans-serif;">
钩子函数参数</h3>
<p style="border:0px;line-height:2em;font-size:13px;font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Noto Sans CJK SC', 'WenQuanYi Micro Hei', Arial, sans-serif;color:rgb(51,51,51);">
钩子函数的参数有：</p>
<ul style="border:0px;line-height:16.8px;list-style:none;color:rgb(51,51,51);font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Noto Sans CJK SC', 'WenQuanYi Micro Hei', Arial, sans-serif;"><li style="border:0px;line-height:1.5em;font-size:13px;">
<span style="border:0px;">el</span>: 指令所绑定的元素，可以用来直接操作 DOM 。</li><li style="border:0px;line-height:1.5em;font-size:13px;">
<span style="border:0px;">binding</span>: 一个对象，包含以下属性：
<ul style="border:0px;line-height:18.2px;list-style:none;"><li style="border:0px;line-height:1.5em;">
<span style="border:0px;">name</span>: 指令名，不包括&nbsp;<code style="border:0px;">v-</code>&nbsp;前缀。</li><li style="border:0px;line-height:1.5em;">
<span style="border:0px;">value</span>: 指令的绑定值， 例如：&nbsp;<code style="border:0px;">v-my-directive="1 + 1"</code>, value 的值是&nbsp;<code style="border:0px;">2</code>。</li><li style="border:0px;line-height:1.5em;">
<span style="border:0px;">oldValue</span>: 指令绑定的前一个值，仅在&nbsp;<code style="border:0px;">update</code>&nbsp;和&nbsp;<code style="border:0px;">componentUpdated</code>&nbsp;钩子中可用。无论值是否改变都可用。</li><li style="border:0px;line-height:1.5em;">
<span style="border:0px;">expression</span>: 绑定值的字符串形式。 例如&nbsp;<code style="border:0px;">v-my-directive="1 + 1"</code>&nbsp;， expression 的值是&nbsp;<code style="border:0px;">"1 + 1"</code>。</li><li style="border:0px;line-height:1.5em;">
<span style="border:0px;">arg</span>: 传给指令的参数。例如&nbsp;<code style="border:0px;">v-my-directive:foo</code>， arg 的值是&nbsp;<code style="border:0px;">"foo"</code>。</li><li style="border:0px;line-height:1.5em;">
<span style="border:0px;">modifiers</span>: 一个包含修饰符的对象。 例如：&nbsp;<code style="border:0px;">v-my-directive.foo.bar</code>, 修饰符对象 modifiers 的值是&nbsp;<code style="border:0px;">{ foo: true, bar: true
 }</code>。</li></ul></li><li style="border:0px;line-height:1.5em;font-size:13px;">
<span style="border:0px;">vnode</span>: Vue 编译生成的虚拟节点，查阅&nbsp;<a href="http://www.runoob.com/api/#VNode%E6%8E%A5%E5%8F%A3" rel="nofollow" style="border:0px;color:rgb(100,133,76);text-decoration:none;">VNode API</a>&nbsp;了解更多详情。</li><li style="border:0px;line-height:1.5em;font-size:13px;">
<span style="border:0px;">oldVnode</span>: 上一个虚拟节点，仅在&nbsp;<code style="border:0px;">update</code>&nbsp;和&nbsp;<code style="border:0px;">componentUpdated</code>&nbsp;钩子中可用。</li></ul><p style="border:0px;line-height:2em;font-size:13px;font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Noto Sans CJK SC', 'WenQuanYi Micro Hei', Arial, sans-serif;color:rgb(51,51,51);">
以下实例演示了这些参数的使用：</p>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset="utf-8"&gt;
&lt;title&gt;Vue 自定义指令&lt;/title&gt;
&lt;script src="https://cdn.bootcss.com/vue/2.2.2/vue.min.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div id="app"  v-my-directive:hello.a.b="name"&gt;
&lt;/div&gt;

&lt;script&gt;
Vue.directive('my-directive', {
  bind: function (el, binding, vnode) {
    var s = JSON.stringify
    el.innerHTML =
      'name: '       + s(binding.name) + '&lt;br&gt;' +
      'value: '      + s(binding.value) + '&lt;br&gt;' +
      'expression: ' + s(binding.expression) + '&lt;br&gt;' +
      'argument: '   + s(binding.arg) + '&lt;br&gt;' +
      'modifiers: '  + s(binding.modifiers) + '&lt;br&gt;'
  }
})
new Vue({
  el: '#app',
  data: {
    name: '徐同保'
  }
})
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre><br><img src="https://img-blog.csdn.net/20170923191227922?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br><div>3.<span style="color:rgb(51,51,51);font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Noto Sans CJK SC', 'WenQuanYi Micro Hei', Arial, sans-serif;font-size:13px;">有时候我们不需要其他钩子函数，我们可以简写函数，如下格式：</span></div>
<p></p>
<p style="border:0px;line-height:2em;font-size:13px;font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Noto Sans CJK SC', 'WenQuanYi Micro Hei', Arial, sans-serif;color:rgb(51,51,51);">
</p><pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset="utf-8"&gt;
&lt;title&gt;Vue 自定义指令&lt;/title&gt;
&lt;script src="https://cdn.bootcss.com/vue/2.2.2/vue.min.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div id="app"&gt;
    &lt;div v-runoob="{ color: 'green', name: '徐同保' }"&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;script&gt;
Vue.directive('runoob', function (el, binding) {
  // 简写方式设置文本及背景颜色
  el.innerHTML = binding.value.name
  el.style.backgroundColor = binding.value.color
})
new Vue({
  el: '#app'
})
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre><br><img src="https://img-blog.csdn.net/20170923191456450?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br>            ]]></description></item><item><title>Vue 路由(router)</title><link>http://www.cnblogs.com/xutongbao/archive/2017/09/23/9924969.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Sat, 23 Sep 2017 10:31:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2017/09/23/9924969.html</guid><description><![CDATA[
                
<p style="border:0px;line-height:2em;font-size:13px;font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Noto Sans CJK SC', 'WenQuanYi Micro Hei', Arial, sans-serif;color:rgb(51,51,51);">
Vue.js 路由允许我们通过不同的 URL 访问不同的内容。</p>
<p style="border:0px;line-height:2em;font-size:13px;font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Noto Sans CJK SC', 'WenQuanYi Micro Hei', Arial, sans-serif;color:rgb(51,51,51);">
通过 Vue.js 可以实现多视图的单页Web应用（single page web application，SPA）。</p>
<p style="border:0px;line-height:2em;font-size:13px;font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Noto Sans CJK SC', 'WenQuanYi Micro Hei', Arial, sans-serif;color:rgb(51,51,51);">
</p><pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset="utf-8"&gt;
&lt;title&gt;Vue 路由(router)&lt;/title&gt;
&lt;script src="https://cdn.bootcss.com/vue/2.4.2/vue.min.js"&gt;&lt;/script&gt;
&lt;script src="https://cdn.bootcss.com/vue-router/2.7.0/vue-router.min.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div id="app"&gt;
  &lt;h1&gt;Vue 路由实例&lt;/h1&gt;
  &lt;p&gt;
    &lt;!-- 使用 router-link 组件来导航. --&gt;
    &lt;!-- 通过传入 `to` 属性指定链接. --&gt;
    &lt;!-- &lt;router-link&gt; 默认会被渲染成一个 `&lt;a&gt;` 标签 --&gt;
    &lt;router-link to="/name"&gt;姓名&lt;/router-link&gt;
    &lt;router-link to="/job"&gt;工作&lt;/router-link&gt;
  &lt;/p&gt;
  &lt;!-- 路由出口 --&gt;
  &lt;!-- 路由匹配到的组件将渲染在这里 --&gt;
  &lt;router-view&gt;&lt;/router-view&gt;
&lt;/div&gt;

&lt;script&gt;
// 0. 如果使用模块化机制编程，導入Vue和VueRouter，要调用 Vue.use(VueRouter)

// 1. 定义（路由）组件。
// 可以从其他文件 import 进来
const Name = { template: '&lt;div&gt;徐同保&lt;/div&gt;' }
const Job = { template: '&lt;div&gt;Web前端&lt;/div&gt;' }

// 2. 定义路由
// 每个路由应该映射一个组件。 其中"component" 可以是
// 通过 Vue.extend() 创建的组件构造器，
// 或者，只是一个组件配置对象。
// 我们晚点再讨论嵌套路由。
const routes = [
  { path: '/name', component: Name },
  { path: '/job', component: Job }
]

// 3. 创建 router 实例，然后传 `routes` 配置
// 你还可以传别的配置参数, 不过先这么简单着吧。
const router = new VueRouter({
  routes // （缩写）相当于 routes: routes
})

// 4. 创建和挂载根实例。
// 记得要通过 router 配置参数注入路由，
// 从而让整个应用都有路由功能
const app = new Vue({
  router
}).$mount('#app')

// 现在，应用已经启动了！
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<p style="border:0px;line-height:2em;font-size:13px;font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Noto Sans CJK SC', 'WenQuanYi Micro Hei', Arial, sans-serif;color:rgb(51,51,51);">
<br></p>
<p style="border:0px;line-height:2em;font-size:13px;font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Noto Sans CJK SC', 'WenQuanYi Micro Hei', Arial, sans-serif;color:rgb(51,51,51);">
<img src="https://img-blog.csdn.net/20170923184149379?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br></p>
<p style="border:0px;line-height:2em;font-size:13px;font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Noto Sans CJK SC', 'WenQuanYi Micro Hei', Arial, sans-serif;color:rgb(51,51,51);">
<img src="https://img-blog.csdn.net/20170923184347166?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br></p>
<p style="border:0px;line-height:2em;font-size:13px;font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Noto Sans CJK SC', 'WenQuanYi Micro Hei', Arial, sans-serif;color:rgb(51,51,51);">
<br></p>
<br><br>            ]]></description></item><item><title>Vue 父组件与子组件之间的通信</title><link>http://www.cnblogs.com/xutongbao/archive/2017/09/23/9924970.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Sat, 23 Sep 2017 10:15:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2017/09/23/9924970.html</guid><description><![CDATA[
                
<p>1.父组件把数据传递给子组件</p>
<p></p>
<p style="border:0px;line-height:2em;font-size:13px;font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Noto Sans CJK SC', 'WenQuanYi Micro Hei', Arial, sans-serif;color:rgb(51,51,51);">
prop 是父组件用来传递数据的一个自定义属性。</p>
<p style="border:0px;line-height:2em;font-size:13px;font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Noto Sans CJK SC', 'WenQuanYi Micro Hei', Arial, sans-serif;color:rgb(51,51,51);">
父组件的数据需要通过 props 把数据传给子组件，子组件需要显式地用 props 选项声明 "prop"</p>
<br><p></p><pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset="utf-8"&gt;
&lt;title&gt;Vue 父组件传递数据到子组件&lt;/title&gt;
&lt;script src="https://cdn.bootcss.com/vue/2.2.2/vue.min.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div id="app"&gt;
  &lt;ol&gt;
    &lt;todo-item v-for="item in sites" v-bind:todo="item"&gt;&lt;/todo-item&gt;
    &lt;/ol&gt;
&lt;/div&gt;

&lt;script&gt;
Vue.component('todo-item', {
  props: ['todo'],
  template: '&lt;li&gt;{{ todo.text }}&lt;/li&gt;'
})
new Vue({
  el: '#app',
  data: {
    sites: [
      { text: '张三' },
      { text: '李四' },
      { text: '王五' }
    ]
  }
})
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre><br>
2.子组件把数据传递给父组件
<p></p>
<p style="border:0px;line-height:2em;font-size:13px;font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Noto Sans CJK SC', 'WenQuanYi Micro Hei', Arial, sans-serif;color:rgb(51,51,51);">
父组件是使用 props 传递数据给子组件，但如果子组件要把数据传递回去，就需要使用自定义事件！</p>
<p style="border:0px;line-height:2em;font-size:13px;font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Noto Sans CJK SC', 'WenQuanYi Micro Hei', Arial, sans-serif;color:rgb(51,51,51);">
我们可以使用 v-on 绑定自定义事件, 每个 Vue 实例都实现了事件接口(Events interface)，即：</p>
<ul style="border:0px;line-height:16.8px;list-style:none;color:rgb(51,51,51);font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Noto Sans CJK SC', 'WenQuanYi Micro Hei', Arial, sans-serif;"><li style="border:0px;line-height:1.5em;font-size:13px;">
使用&nbsp;<code style="border:0px;">$on(eventName)</code>&nbsp;监听事件</li><li style="border:0px;line-height:1.5em;font-size:13px;">
使用&nbsp;<code style="border:0px;">$emit(eventName)</code>&nbsp;触发事件</li></ul><p style="border:0px;line-height:2em;font-size:13px;font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Noto Sans CJK SC', 'WenQuanYi Micro Hei', Arial, sans-serif;color:rgb(51,51,51);">
另外，父组件可以在使用子组件的地方直接用 v-on 来监听子组件触发的事件。</p>
<p style="border:0px;line-height:2em;font-size:13px;font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Noto Sans CJK SC', 'WenQuanYi Micro Hei', Arial, sans-serif;color:rgb(51,51,51);">
以下实例中子组件已经和它外部完全解耦了。它所做的只是触发一个父组件关心的内部事件。</p>
<br><p></p><pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset="utf-8"&gt;
&lt;title&gt;Vue - 子组件传递数据到父组件&lt;/title&gt;
&lt;script src="https://cdn.bootcss.com/vue/2.2.2/vue.min.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div id="app"&gt;
	&lt;div id="counter-event-example"&gt;
	  &lt;p&gt;{{ total }}&lt;/p&gt;
	  &lt;button-counter v-on:increment="incrementTotal"&gt;&lt;/button-counter&gt;
	  &lt;button-counter v-on:increment="incrementTotal"&gt;&lt;/button-counter&gt;
	&lt;/div&gt;
&lt;/div&gt;

&lt;script&gt;
Vue.component('button-counter', {
  template: '&lt;button v-on:click="increment"&gt;{{ counter }}&lt;/button&gt;',
  data: function () {
    return {
      counter: 0
    }
  },
  methods: {
    increment: function () {
      this.counter += 1
      this.$emit('increment')
    }
  },
})
new Vue({
  el: '#counter-event-example',
  data: {
    total: 0
  },
  methods: {
    incrementTotal: function () {
      this.total += 1
    }
  }
})
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre><br>            ]]></description></item><item><title>null和undefined的区别</title><link>http://www.cnblogs.com/xutongbao/archive/2017/09/20/9924971.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 20 Sep 2017 09:39:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2017/09/20/9924971.html</guid><description><![CDATA[
                
null表示"没有对象"，即该处不应该有值。<br>
undefined表示"缺少值"，就是此处应该有一个值，但是还没有定义。<br><br><pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;script&gt;
    //作为对象原型链的终点
    var a = Object.getPrototypeOf(Object.prototype);
    console.log(a); //null

    //变量被声明了，但没有赋值时，就等于undefined
    var i;
    console.log(i) // undefined

    //调用函数时，应该提供的参数没有提供，该参数等于undefined
    function f(x){console.log(x)}
    f() // undefined

    //对象没有赋值的属性，该属性的值为undefined
    var  o = new Object();
    console.log(o.p) // undefined

    //函数没有返回值时，默认返回undefined
    function f2(x){}
    var x = f2();
    console.log(x) // undefined
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre><img src="https://img-blog.csdn.net/20170920174007495?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br>            ]]></description></item><item><title>javascript变量提升和函数提升</title><link>http://www.cnblogs.com/xutongbao/archive/2017/09/20/9924972.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 20 Sep 2017 08:57:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2017/09/20/9924972.html</guid><description><![CDATA[
                变量提升是把变量提升提到函数顶部。需要说明的是，变量提升只是提升变量的声明，并不会把赋值也提升上来。 <br><p>函数提升是把整个函数都提到前面去。函数表达式不能被提升，函数声明形式能被提升。</p><p></p><pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;script&gt;
    //变量提升
    function test(){
        a=2;
        var a;
        console.log(a);   //2
    }

    test();

    //变量提升,不会把赋值也提升上来
    var v='Hello World';
    (function(){
        var v;
        console.log(v);  //undefined
        v='I love you';
    })();

    //函数声明形式能被提升
    function myTest(){
        foo();
        function foo(){
            console.log("hello world");  //hello world
        }
    }
    myTest();

    //函数表达式不能被提升
    function myTest2(){
        foo();    //foo is not a function
        var foo =function foo(){
            console.log("hello world");
        }
    }
    myTest2();
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre><br><p></p><p><img src="https://img-blog.csdn.net/20170920170333045?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""></p><p><br></p><pre><code class="language-html">&lt;!DOCTYPE html&gt;  
&lt;html lang="en"&gt;  
&lt;head&gt;  
&lt;/head&gt;  
&lt;body&gt;  
&lt;script&gt;  
//输出Goodbye Jack
var name = 'World!';
(function () {
    if (typeof name === 'undefined') {
        var name = 'Jack';
        console.log('Goodbye ' + name);
    } else {
        console.log('Hello ' + name);
    }
})();


//输出Hello World!
var name2 = 'World!';
(function () {
    if (typeof name2 === 'undefined') {
        name2 = 'Jack';
        console.log('Goodbye ' + name2);
    } else {
        console.log('Hello ' + name2);
    }
})();

//输出Hello World!
var name3 = 'World!';
(function () {
    if (typeof this.name3 === 'undefined') {
        var name3 = 'Jack';
        console.log('Goodbye ' + name3);
    } else {
        console.log('Hello ' + this.name3);
    }
})();
&lt;/script&gt;  
&lt;/body&gt;  
&lt;/html</code></pre><br>            ]]></description></item><item><title>javascript深拷贝的实现</title><link>http://www.cnblogs.com/xutongbao/archive/2017/09/20/9924973.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 20 Sep 2017 07:56:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2017/09/20/9924973.html</guid><description><![CDATA[
                
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;script&gt;
    function type(obj) {
        var toString = Object.prototype.toString;
        var map = {
            '[object Boolean]' : 'boolean',
            '[object Number]'  : 'number',
            '[object String]'  : 'string',
            '[object Function]' : 'function',
            '[object Array]'  : 'array',
            '[object Date]'   : 'date',
            '[object RegExp]'  : 'regExp',
            '[object Undefined]': 'undefined',
            '[object Null]'   : 'null',
            '[object Object]'  : 'object'
        };
        return map[toString.call(obj)];
    }

    function deepClone(data) {
        var t = type(data), o, i, ni;

        if(t === 'array') {
            o = [];
        }else if( t === 'object') {
            o = {};
        }else {
            return data;
        }

        if(t === 'array') {
            for (i = 0, ni = data.length; i &lt; ni; i++) {
                o.push(deepClone(data[i]));
            }
            return o;
        }else if( t === 'object') {
            for( i in data) {
                o[i] = deepClone(data[i]);
            }
            return o;
        }
    }

    var test = {
        a: 'a',
        b: 'b'
    };

    var test2 = test;
    test2.a = 'a2';
    console.log(test.a === 'a2');  //true

    //深拷贝
    var test3 = deepClone(test);
    test3.b = 'b2';
    console.log(test.b === 'b2');  //false

    //使用jQuery做深拷贝
    var myTest = {
        a: 'a',
        b: 'b'
    };
    var myTest2 = jQuery.extend({}, myTest);
    myTest2.b = 'b2';
    console.log(myTest.b === 'b2');  //false

&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre><br>            ]]></description></item><item><title>localStorage和sessionStorage用法总结及其区别</title><link>http://www.cnblogs.com/xutongbao/archive/2017/09/20/9924974.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 20 Sep 2017 07:09:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2017/09/20/9924974.html</guid><description><![CDATA[
                
<p><img src="https://img-blog.csdn.net/20170920151905704?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br></p>
<p>html5中的Web Storage包括了两种存储方式：sessionStorage和localStorage。</p>
<br>
sessionStorage用于本地存储一个会话（session）中的数据，这些数据只有在同一个会话中的页面才能访问<br>
并且当会话结束后数据也随之销毁。因此sessionStorage不是一种持久化的本地存储，仅仅是会话级别的存储。<span class="s1"><span><span>只允许同一窗口访问。</span></span></span><br><br><p>而localStorage用于持久化的本地存储，除非主动删除数据，否则数据是永远不会过期的。<span class="s1"><span><span>同源可以读取并修改localStorage数据。</span></span></span></p>
<p></p>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;script&gt;
    //setItem存储value
    localStorage.setItem("name", "徐同保");
    localStorage.setItem("job", "web前端");

    //getItem获取value
    var name = localStorage.getItem('name');
    var job = localStorage.getItem('job');
    console.log('姓名：' + name);
    console.log('职业：' + job);

    //removeItem删除key
    localStorage.removeItem('name');
    var name = localStorage.getItem('name');
    var job = localStorage.getItem('job');
    console.log('姓名：' + name);
    console.log('职业：' + job);

    //clear清除所有的key/value
    localStorage.clear();
    localStorage.removeItem('name');
    var name = localStorage.getItem('name');
    var job = localStorage.getItem('job');
    console.log('姓名：' + name);
    console.log('职业：' + job);
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre><br><img src="https://img-blog.csdn.net/20170920151036162?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br><p></p>
<p>浏览器支持情况：</p>
<p><img src="https://img-blog.csdn.net/20170920151253829?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br></p>
<p><br></p>
<p>chrome查看方式</p>
<p><img src="https://img-blog.csdn.net/20170920151659618?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br></p>
<p><br></p>
            ]]></description></item><item><title>ES6的Promise</title><link>http://www.cnblogs.com/xutongbao/archive/2017/09/20/9924975.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 20 Sep 2017 06:13:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2017/09/20/9924975.html</guid><description><![CDATA[
                
<p>工作中经常会碰到这么一个需求：使用ajax发一个A请求后，成功后拿到数据，我们需要把数据传给B请求</p>
<p></p><pre><code class="language-javascript">$.ajax({
   url: '',
   dataType:'json',
   success: function(data) {
    // 获取data数据 传给下一个请求
    var id = data.id;
    $.ajax({
        url:'',
        data:{"id":id},
        success:function(){
            // .....
        }
    });
  }
});</code></pre><br><p>如果使用promise可以这样实现</p>
<p></p><pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;script&gt;
        function getData(resolve){
            setTimeout(()=&gt;{
                var data = {
                    id: '001'
                };
                resolve(data);
            }, 2000);
        }

        function getData2(data){
            setTimeout(()=&gt;{
                console.log(data.id);
            }, 3000)
        }
        var promise = new Promise(getData);
        promise.then(getData2);
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<p><img src="https://img-blog.csdn.net/20170920141841706?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br></p>
<p><br>
Promise其实就是做了一件事情，那就是对异步操作进行了封装，然后可以将异步操作以同步的流程表达出来，避免了层层嵌套的回调函数，同时提供统一的接口，使得控制异步操作更加容易</p>
<p><img src="https://img-blog.csdn.net/20170920142730468?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br></p>
            ]]></description></item><item><title>javascript冒泡排序，快速排序和堆排序</title><link>http://www.cnblogs.com/xutongbao/archive/2017/09/19/9924976.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 19 Sep 2017 05:43:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2017/09/19/9924976.html</guid><description><![CDATA[
                <p>冒泡排序：<br></p><p>比较相邻的元素。如果第一个比第二个大，就交换他们两个。对每一对相邻元素作同样的工作，从开始第一对</p>到结尾的最后一对。这步做完后，最后的元素会是最大的数。针对所有的元素重复以上的步骤，除了最后一个。<br><p>持续每次对越来越少的元素重复上面的步骤，直到没有任何一对数字需要比较。</p><p><br></p><p></p><pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;script&gt;
    function bubbleSort(arr) {
        var len = arr.length;
        for (var i = 0; i &lt; len; i++) {
            for (var j = 0; j &lt; len - 1 - i; j++) {
                if (arr[j] &gt; arr[j+1]) {
                    var temp = arr[j+1];
                    arr[j+1] = arr[j];
                    arr[j] = temp;
                }
            }
        }
        return arr;
    }
    var arr = [6, 5, 3, 1, 8, 7, 2, 4];
    console.log(bubbleSort(arr));
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre><p></p><p><br></p><p><img src="https://img-blog.csdn.net/20170919135426604?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br><br></p>下面的动画也挺有意思的<img alt="吐舌头" src="http://static.blog.csdn.net/xheditor/xheditor_emot/default/tongue.gif"><br><p><br></p><p><img src="https://img-blog.csdn.net/20170919135509945?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""></p><p>快速排序和堆排序：</p><pre><code class="language-html">&lt;!DOCTYPE html&gt;  
&lt;html lang="en"&gt;  
&lt;head&gt;  
&lt;/head&gt;  
&lt;body&gt;  
&lt;script&gt;  
    //快速排序：通过一趟排序将要排序的数据分割成独立的两部分，其中一部分的所有数据都比另外一部分的
    //所有数据都要小，然后再按此方法对这两部分数据分别进行快速排序，整个排序过程可以递归
    //进行，以此达到整个数据变成有序序列。
    function quickSort(array) {
        function sort(prev, numsize) {
            var nonius = prev;
            var j = numsize - 1;
            var flag = array[prev];
            if ((numsize - prev) &gt; 1) {
                while (nonius &lt; j) {
                    for (; nonius &lt; j; j--) {
                        if (array[j] &lt; flag) {
                            array[nonius++] = array[j];　//a[i] = a[j]; i += 1;
                            break;
                        };
                    }
                    for ( ; nonius &lt; j; nonius++) {
                        if (array[nonius] &gt; flag) {
                            array[j--] = array[nonius];
                            break;
                        }
                    }
                }
                array[nonius] = flag;
                sort(0, nonius);
                sort(nonius + 1, numsize);
            }
        }
        sort(0, array.length);
        return array;
    }  

    //堆排序：堆分为最大堆和最小堆，其实就是完全二叉树。最大堆要求节点的元素都要不小于其孩子，最小堆要求节点元素
    //都不大于其左右孩子，两者对左右孩子的大小关系不做任何要求，其实很好理解。有了上面的定义，我们可以得
    //知，处于最大堆的根节点的元素一定是这个堆中的最大值。其实我们的堆排序算法就是抓住了堆的这一特点，每
    //次都取堆顶的元素，将其放在序列最后面，然后将剩余的元素重新调整为最大堆，依次类推，最终得到排序的序列。

    Array.prototype.buildMaxHeap = function() {
        for(var i = Math.floor(this.length / 2) - 1; i &gt;= 0; i--) {
            this.heapAdjust(i, this.length);
        }
    };
         
    Array.prototype.swap = function(i, j){
        var tmp = this[i];
        this[i] = this[j];
        this[j] = tmp;
    };
         
    Array.prototype.heapSort = function() {
        this.buildMaxHeap();
        for(var i = this.length - 1; i &gt; 0; i--) {
            this.swap(0,i);
            this.heapAdjust(0,i);
        }
        return this;
    };
         
    Array.prototype.heapAdjust = function(i, j) {
        var largest = i;
        var left = 2 * i + 1;
        var right = 2 * i + 2;
         
        if (left &lt; j &amp;&amp; this[largest] &lt; this[left]) {
            largest = left;
        }
         
        if (right &lt; j &amp;&amp; this[largest] &lt; this[right]) {
            largest = right;
        }
         
        if(largest != i) {
            this.swap(i, largest);
            this.heapAdjust(largest, j);
        }
    };
 
    var arr = [6, 5, 3, 1, 8, 7, 2, 4];  
    console.log('排序前：', arr); 
    console.log('快速排序：', quickSort(arr));   

    arr = [6, 5, 3, 1, 8, 7, 2, 4];
    console.log('排序前：', arr); 
    console.log('堆排序：', arr.heapSort());
&lt;/script&gt;  
&lt;/body&gt;  
&lt;/html</code></pre>堆排序参考链接：<a href="https://www.cnblogs.com/0zcl/p/6737944.html" rel="nofollow">https://www.cnblogs.com/0zcl/p/6737944.html</a><br>            ]]></description></item><item><title>js数组去重的算法实现</title><link>http://www.cnblogs.com/xutongbao/archive/2017/09/19/9924977.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 19 Sep 2017 04:12:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2017/09/19/9924977.html</guid><description><![CDATA[
                <pre><code class="language-html">&lt;!DOCTYPE html&gt;      
&lt;html lang="en"&gt;      
&lt;head&gt;    
    &lt;title&gt;js数组去重的算法实现&lt;/title&gt;      
&lt;/head&gt;      
&lt;body&gt;      
&lt;script&gt;      
    //两个for循环，效率比较低      
    Array.prototype.unique1 = function() {      
        var res = [this[0]];      
        for(var i = 1; i &lt; this.length; i++){      
            var repeat = false;      
            for(var j = 0; j &lt; res.length; j++){      
                if(this[i] === res[j]){      
                    repeat = true;      
                    break;      
                }      
            }      
            if(!repeat){      
                res.push(this[i]);      
            }      
        }      
        return res;      
    };      
    var arr = [0, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 6, '1'];      
    console.log(arr.unique1());      

    //indexOf
    Array.prototype.unique1s = function() {      
        var res = [this[0]];      
        for(var i = 1; i &lt; this.length; i++){        
            if(res.indexOf(this[i]) == -1){      
                res.push(this[i]);      
            }      
        }      
        return res;      
    };      
    var arr = [0, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 6, '1'];      
    console.log(arr.unique1s());  
      
      
    //使用一个空对象，只需要一个for循环，效率高(不能区分1和'1')      
    Array.prototype.unique2 = function(){      
        var res = [];      
        var json = {};      
        for(var i = 0; i &lt; this.length; i++){      
            if(!json[this[i]]){      
                res.push(this[i]);      
                json[this[i]] = 1;      
            }      
        }      
        return res;      
    };      
    
    //能区分1和'1'     
    function unique3(array){     
        var n = {}, r = [], len = array.length, val, type;     
        for (var i = 0; i &lt; array.length; i++) {     
            val = array[i];     
            type = typeof val;     
            if (!n[val]) {     
                n[val] = [type];     
                r.push(val);     
            } else if (n[val].indexOf(type) &lt; 0) {     
                n[val].push(type);     
                r.push(val);     
            }     
        }     
        return r;     
    }            
      
    var arr = [0, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 6, '1'];      
    console.log(arr.unique2());      
    
    var arr = [0, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 6, '1'];      
    console.log(unique3(arr));      

    //es6提供的new Set也可以去重
    var items = new Set(arr);
    console.log(Array.from(items)); 
&lt;/script&gt;      
&lt;/body&gt;      
&lt;/html&gt; </code></pre><br><br><br><p><img src="https://img-blog.csdn.net/20180309113743172" alt=""><br></p><br><p><br></p>            ]]></description></item><item><title>DIV水平垂直居中</title><link>http://www.cnblogs.com/xutongbao/archive/2017/09/19/9924978.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 19 Sep 2017 02:47:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2017/09/19/9924978.html</guid><description><![CDATA[
                
代码中包含：<br><br>
1.固定宽高的DIV水平垂直居中<br>
2.不固定宽高，通过before选择器实现的<br>
3.不固定宽高，通过table布局实现的<br>
4.不固定宽高，通过display:table实现的<br>
5.不固定宽高，通过css3实现的<br><br><pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;style&gt;
        .block:before {
            content: '';
            display: inline-block;
            height: 100%;
            vertical-align: middle;
        }
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div style="position:relative;background: #00a0e9;width: 500px;height: 200px;"&gt;
    &lt;div style="position: absolute;background: #00cc66;width: 200px;height: 100px;left: 50%;top: 50%;margin-left: -100px;margin-top: -50px;"&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="block" style="position:relative;text-align:center;background: #4b7ae9;width: 500px;height: 200px;"&gt;
    &lt;span&gt;徐同保&lt;/span&gt;
&lt;/div&gt;
&lt;table style="width: 500px;height:200px;background: #609a54"&gt;
    &lt;tr&gt;
        &lt;td style="text-align: center;vertical-align: middle;"&gt;
            徐同保
        &lt;/td&gt;
    &lt;/tr&gt;
&lt;/table&gt;
&lt;div style="display: table;width: 500px;height:200px;background: #8e8e9a;"&gt;
    &lt;div style="display: table-cell;text-align: center;vertical-align: middle;"&gt;
        徐同保
    &lt;/div&gt;
&lt;/div&gt;
&lt;div style="justify-content: center;align-items: center;display:flex;background:#da4939;width: 500px;height:200px;"&gt;
    徐同保
&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<p><br></p>
<p><img src="https://img-blog.csdn.net/20170919112546031?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br></p>
<br>            ]]></description></item><item><title>CSS定位</title><link>http://www.cnblogs.com/xutongbao/archive/2017/09/18/9924979.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Mon, 18 Sep 2017 09:51:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2017/09/18/9924979.html</guid><description><![CDATA[
                
通过使用 position 属性，我们可以选择 4 种不同类型的定位，这会影响元素框生成的方式。<br><br>
position 属性值的含义：<br><br>
static<br>
&nbsp;&nbsp;&nbsp; 元素框正常生成。块级元素生成一个矩形框，作为文档流的一部分，行内元素则会创建一个或多个行框，置于其父元素中。<br>
relative<br>
&nbsp;&nbsp;&nbsp; 元素框偏移某个距离。元素仍保持其未定位前的形状，它原本所占的空间仍保留。<br>
absolute<br>
&nbsp;&nbsp;&nbsp; 元素框从文档流完全删除，并相对于其包含块定位。包含块可能是文档中的另一个元素或者是初始包含块。元素原先在正常文档流中所占的空间会关闭，就好像元素原来不存在一样。元素定位后生成一个块级框，而不论原来它在正常流中生成何种类型的框。<br>
fixed<br>
&nbsp;&nbsp;&nbsp; 元素框的表现类似于将 position 设置为 absolute，不过其包含块是视窗本身。<br><br><p>提示：相对定位实际上被看作普通流定位模型的一部分，因为元素的位置相对于它在普通流中的位置。</p>
<p><br></p>
<p><br>
1.设置为相对定位的元素框会偏移某个距离。元素仍然保持其未定位前的形状，它原本所占的空间仍保留。<br>
相对定位是一个非常容易掌握的概念。如果对一个元素进行相对定位，它将出现在它所在的位置上。然后，<br>
可以通过设置垂直或水平位置，让这个元素“相对于”它的起点进行移动。<br>
如果将 top 设置为 20px，那么框将在原位置顶部下面 20 像素的地方。如果 left 设置为 30 像素，那<br>
么会在元素左边创建 30 像素的空间，也就是将元素向右移动。<br>
注意，在使用相对定位时，无论是否进行移动，元素仍然占据原来的空间。因此，移动元素会导致它覆盖其它框。<br><br>
如果top和bottom一同存在的话，那么只有top生效。<br>
如果left和right一同存在的话，那么只有left生效。<br></p>
<p>相对定位实例：</p>
<p></p><pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div style="background: #00a0e9;width: 500px;height: 200px;"&gt;
    &lt;div style="position:relative;top: 20px;left: 30px;background: #dddddd;width: 100px;height:100px;"&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div style="background: #00ad36;width: 500px;height: 200px;"&gt;
    &lt;div style="position:relative;bottom: 20px;right: -400px;background: #dddddd;width: 100px;height:100px;"&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div style="background: #0000cc;width: 500px;height: 200px;"&gt;
    &lt;div style="position:relative;top: 20px;left: 30px;bottom: 20px;right: -400px;background: #dddddd;width: 100px;height:100px;"&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre><br><img src="https://img-blog.csdn.net/20170918175301384?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br><p><br></p>
<p>2.设置为绝对定位的元素框从文档流完全删除，并相对于其包含块定位，包含块可能是文档中的另一个元素<br>
或者是初始包含块。元素原先在正常文档流中所占的空间会关闭，就好像该元素原来不存在一样。元素定<br>
位后生成一个块级框，而不论原来它在正常流中生成何种类型的框。<br><br>
绝对定位使元素的位置与文档流无关，因此不占据空间。这一点与相对定位不同，相对定位实际上被看作<br>
普通流定位模型的一部分，因为元素的位置相对于它在普通流中的位置。<br><br>
普通流中其它元素的布局就像绝对定位的元素不存在一样<br><br>
绝对定位的元素的位置相对于最近的已定位祖先元素，如果元素没有已定位的祖先元素，那么它的位置相对于最初的包含块。<br><br>
对于定位的主要问题是要记住每种定位的意义。所以，现在让我们复习一下学过的知识吧：相对定位是<br>
“相对于”元素在文档中的初始位置，而绝对定位是“相对于”最近的已定位祖先元素，如果不存在已定位<br><br>
提示：因为绝对定位的框与文档流无关，所以它们可以覆盖页面上的其它元素。可以通过设置 z-index <br>
属性来控制这些框的堆放次序。的祖先元素，那么“相对于”最初的包含块。<br></p>
<p>绝对定位实例：<br></p>
<p></p><pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div style="position: relative;background: #00a0e9;width: 500px;height: 200px;"&gt;
    &lt;div style="position:absolute;top: 50px;left: 30px;background: #dddddd;width: 100px;height:100px;"&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div style="position: relative;background: #00ad36;width: 500px;height: 200px;"&gt;
    &lt;div style="position:absolute;bottom: 20px;right: 20px;background: #dddddd;width: 100px;height:100px;"&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div style="position: relative;background: #0000cc;width: 500px;height: 200px;"&gt;
    &lt;div style="position:absolute;top: 50px;left: 30px;bottom: 20px;right: -400px;background: #dddddd;width: 100px;height:100px;"&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre><br><img src="https://img-blog.csdn.net/20170918175454447?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br><p><br></p>
<p>3.浮动的框可以向左或向右移动，直到它的外边缘碰到包含框或另一个浮动框的边框为止。<br>
由于浮动框不在文档的普通流中，所以文档的普通流中的块框表现得就像浮动框不存在一样。</p>
<p>浮动定位实例：<br></p>
<p></p><pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div style="background: #00a0e9;width: 500px;height: 400px;"&gt;
    &lt;div style="float: right;background: #dddddd;width: 100px;height:100px;"&gt;1&lt;/div&gt;
    &lt;div style="background: #00ff00;width: 100px;height:100px;"&gt;2&lt;/div&gt;
    &lt;div style="background: #3c763d;width: 100px;height:100px;"&gt;3&lt;/div&gt;
&lt;/div&gt;
&lt;div style="background: #00AAAA;width: 500px;height: 400px;"&gt;
    &lt;div style="float: left;background: #dddddd;width: 100px;height:50px;"&gt;1&lt;/div&gt;
    &lt;div style="background: #00ff00;width: 100px;height:100px;"&gt;2&lt;/div&gt;
    &lt;div style="background: #3c763d;width: 100px;height:100px;"&gt;3&lt;/div&gt;
&lt;/div&gt;
&lt;div style="background: #1c3b7c;width: 500px;height: 400px;"&gt;
    &lt;div style="float: left;background: #dddddd;width: 100px;height:100px;"&gt;1&lt;/div&gt;
    &lt;div style="float: left;background: #00ff00;width: 100px;height:100px;"&gt;2&lt;/div&gt;
    &lt;div style="float: left;background: #3c763d;width: 100px;height:100px;"&gt;3&lt;/div&gt;
&lt;/div&gt;
&lt;div style="background: #00cc66;width: 250px;height: 400px;"&gt;
    &lt;div style="float: left;background: #dddddd;width: 100px;height:100px;"&gt;1&lt;/div&gt;
    &lt;div style="float: left;background: #00ff00;width: 100px;height:100px;"&gt;2&lt;/div&gt;
    &lt;div style="float: left;background: #3c763d;width: 100px;height:100px;"&gt;3&lt;/div&gt;
&lt;/div&gt;
&lt;div style="background: #1c3b7c;width: 250px;height: 400px;"&gt;
    &lt;div style="float: left;background: #dddddd;width: 100px;height:150px;"&gt;1&lt;/div&gt;
    &lt;div style="float: left;background: #00ff00;width: 100px;height:100px;"&gt;2&lt;/div&gt;
    &lt;div style="float: left;background: #3c763d;width: 100px;height:100px;"&gt;3&lt;/div&gt;
&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre><br><br><p><img src="https://img-blog.csdn.net/20170918180251062?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br></p>
<p><br></p>
<p>参考链接：<a href="http://www.w3school.com.cn/css/css_positioning.asp" rel="nofollow">http://www.w3school.com.cn/css/css_positioning.asp</a><br></p>
<p><img src="https://img-blog.csdn.net/20170918180519356?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br></p>
            ]]></description></item><item><title>使用Webpack  ES6转ES5 实现模块化(import export)</title><link>http://www.cnblogs.com/xutongbao/archive/2017/09/12/9924980.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 12 Sep 2017 02:42:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2017/09/12/9924980.html</guid><description><![CDATA[
                
1.安装nodejs：打开nodejs官网<a href="https://nodejs.org/en/" rel="nofollow">https://nodejs.org/en/</a>，点击硕大的绿色Download按钮，它会根据系统信息选择对应版本（.msi文件）。<br>
&nbsp; 打开命令提示符执行下列命令（打开方式：window + r 输入cmd回车）<br>
&nbsp; node -v查看安装的nodejs版本<br>
&nbsp; npm -v查看npm的版本号<br>
&nbsp; cd定位到目录，用法：cd + 路径<br>
&nbsp; dir列出文件列表；<br>
&nbsp; cls清空命令提示符窗口内容<br>
&nbsp; <br>
&nbsp; a.使用npm安装插件：命令提示符执行npm install &lt;name&gt; [-g] [--save-dev]；<br><br>
&nbsp;&nbsp;&nbsp; 1) &lt;name&gt;：node插件名称。例：npm install gulp-less --save-dev<br><br>
&nbsp;&nbsp;&nbsp; 2) -g：全局安装。将会安装在C:\Users\Administrator\AppData\Roaming\npm，并且写入系统环境变量； &nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 非全局安装：将会安装在当前定位目录； &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp; 全局安装可以通过命令行在任何地方调用它，本地安装将安装在定位目录的node_modules文件夹下，通过require()调用；<br><br>
&nbsp;&nbsp;&nbsp; 3) --save：将保存配置信息至package.json（package.json是nodejs项目配置文件）；<br><br>
&nbsp;&nbsp;&nbsp; 4) -dev：保存至package.json的devDependencies节点，不指定-dev将保存至dependencies节点；<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 一般保存在dependencies的像这些express/ejs/body-parser等等。<br><br>
&nbsp;&nbsp;&nbsp; 5) 为什么要保存至package.json？因为node插件包相对来说非常庞大，所以不加入版本管理，将配置信息写入package.json并<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 将其加入版本管理，其他开发者对应下载即可（命令提示符执行npm install，则会根据package.json下载所有需要的包，<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; npm install --production只下载dependencies节点的包）。<br><br>
&nbsp; b. 使用npm卸载插件：npm uninstall &lt;name&gt; [-g] [--save-dev]&nbsp; PS：不要直接删除本地插件包<br><br>
&nbsp;&nbsp;&nbsp; 1) 删除全部插件：npm uninstall gulp-less gulp-uglify gulp-concat ……???太麻烦<br><br>
&nbsp;&nbsp;&nbsp; 2) 借助rimraf：npm install rimraf -g 用法：rimraf node_modules<br><br>
&nbsp; c. 使用npm更新插件：npm update &lt;name&gt; [-g] [--save-dev]<br><br>
&nbsp;&nbsp;&nbsp; 1) 更新全部插件：npm update [--save-dev]<br><br>
&nbsp; d. 查看npm帮助：npm help<br>
&nbsp;<br>
&nbsp; e.当前目录已安装插件：npm list<br>
2.安装webpack到全局 npm install webpack -g <br>
3.安装webpack到你的项目中（要切盘到你的目录下）&nbsp; npm install webpack --save-dev<br>
4.安装babel：<br>
&nbsp; npm install babel-core --save-dev<br>
&nbsp; npm install babel-loader&nbsp; --save-dev<br>
&nbsp; npm install babel-preset-es2015 --save-dev<br><p>&nbsp; npm install babel-plugin-transform-runtime</p>
<p>5.直接了当，上干货。先看一下目录结构</p>
<p><img src="https://img-blog.csdn.net/20170912104443080?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""></p>
<p>6.创建webpack.config.js文件</p>
<p></p><pre><code class="language-javascript">module.exports={
    entry:__dirname + '/src/index.js',
    output:{
        path: __dirname + '/build',
        filename:'[name].bundle.js'
    },
    module:{
        loaders:[
            {
                test: /\.js$/,
                exclude: /node_modules/,
                loader: "babel-loader",
                query:
                {
                    presets: ['es2015'],
                    plugins: ['transform-runtime']
                }
            }
        ]
    }
}</code></pre><br>
7.index.js文件，使用了es6的import功能，导入模块，实现模块化
<p></p><pre><code class="language-javascript">import animal, { say, type as animalType } from './content'
let says = say()
var message = `The ${animalType} says ${says} to ${animal}`
console.log(message)
$('#result').html(message)</code></pre><br>
8.content.js文件，export命令除了输出变量，还可以输出函数，甚至是类（react的模块基本都是输出类）<br><p></p><pre><code class="language-javascript">export default 'A cat'
export function say() {
    return 'Hello'
}
export const type = 'dog'</code></pre><br>
9.package.json
<p></p><pre><code class="language-javascript">{
  "name": "es6_webpack",
  "version": "1.0.0",
  "description": "",
  "main": "index.js",
  "scripts": {
    "test": "echo \"Error: no test specified\" &amp;&amp; exit 1"
  },
  "author": "xutongbao",
  "license": "ISC",
  "devDependencies": {
    "babel-core": "^6.26.0",
    "babel-loader": "^7.1.2",
    "babel-preset-es2015": "^6.24.1",
    "webpack": "^3.5.6"
  },
  "dependencies": {
    "babel-plugin-transform-runtime": "^6.23.0"
  }
}
</code></pre><br>
10.index.html
<p></p><pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div id="result"&gt;&lt;/div&gt;
    &lt;script src="build/main.bundle.js" &gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>11.main.bundle.js，webpack打包后的文件
<p></p><pre><code class="language-javascript">/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module &amp;&amp; module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _content = __webpack_require__(1);

var _content2 = _interopRequireDefault(_content);

function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? obj : { default: obj }; }

var says = (0, _content.say)();
var message = 'The ' + _content.type + ' says ' + says + ' to ' + _content2.default;
console.log(message);
$('#result').html(message);

/***/ }),
/* 1 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.say = say;
exports.default = 'A cat';
function say() {
    return 'Hello';
}
var type = exports.type = 'dog';

/***/ })
/******/ ]);</code></pre><br>
11.运行结果
<p><img src="https://img-blog.csdn.net/20170912105628552?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br></p>
<p><br></p>
<p><br></p>
            ]]></description></item><item><title>ES6入门</title><link>http://www.cnblogs.com/xutongbao/archive/2017/09/11/9924981.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Mon, 11 Sep 2017 07:23:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2017/09/11/9924981.html</guid><description><![CDATA[
                
<p>1.利用gulp+babel转es6 &nbsp;&nbsp;<a href="http://www.cnblogs.com/sanxiaoshan/p/6850342.html" rel="nofollow">http://www.cnblogs.com/sanxiaoshan/p/6850342.html<br></a></p>
<p><br></p>
<p>2.目录结构</p>
<p><img src="https://img-blog.csdn.net/20170911152429508?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""></p>
<p><br></p>
<p>3.index.html</p>
<p></p><pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div style="margin-top: 20px"&gt;
    &lt;input type="button" class="button" value="按钮1"&gt;
    &lt;input type="button" class="button" value="按钮2"&gt;
    &lt;input type="button" class="button" value="按钮3"&gt;
    &lt;input type="button" class="button" value="按钮4"&gt;
    &lt;input type="button" class="button" value="按钮5"&gt;
&lt;/div&gt;
&lt;div id="result"&gt;&lt;/div&gt;
&lt;script src="es6/index.js" &gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre><br>
4.gulpfile.js
<p></p><pre><code class="language-javascript">var gulp = require('gulp');
var babel = require('gulp-babel');

gulp.task('default', function () {
   return gulp.src('es6/*.js')
       .pipe(babel({
          presets:['es2015']
       }))
       .pipe(gulp.dest('build'))
   console.log('ok');
});</code></pre><br>
5.index.js
<p></p><pre><code class="language-javascript">//let为JavaScript新增了块级作用域。用它所声明的变量，只在let命令所在的代码块内有效
//----------------------------es5---------------------------------
var name_es5 = 'zach'

while (true) {
    var name_es5 = 'obama'
    console.log(name_es5)  //obama
    break
}

console.log(name_es5)  //obama
//----------------------------es5---------------------------------

//----------------------------es6---------------------------------
let name_es6 = 'zach'

while (true) {
    let name_es6 = 'obama'
    console.log(name_es6)  //obama
    break
}

console.log(name_es6)  //zach
//----------------------------es6---------------------------------

//----------------------------es5---------------------------------
var add_the_handlers_new = function (nodes) {
    var helper = function (i) {
        return function (e) {
            alert(i);
        }
    }
    var i;
    for (i = 0; i &lt; nodes.length; i++) {
        nodes[i].onclick = helper(i + 1);
    }
};

add_the_handlers_new($('.button'));
//----------------------------es5---------------------------------

//----------------------------es6---------------------------------
var add_the_handlers_new_es6 = function (nodes) {
    for (let i = 0; i &lt; nodes.length; i++) {
        $(nodes[i]).click(function () {
            console.log(i);
        });
    }
};

add_the_handlers_new_es6($('.button'));
//----------------------------es6---------------------------------

//const也用来声明变量，但是声明的是常量。一旦声明，常量的值就不能改变。
//const有一个很好的应用场景，就是当我们引用第三方库的时声明的变量，用const来声明可以避免未来不小心重命名而导致出现bug
const PI = Math.PI

//PI = 23 //Module build failed: SyntaxError: /es6/app.js: "PI" is read-only

//const monent = require('moment')

//class, extends, super
//class定义了一个“类”，constructor内定义的方法和属性是实例对象自己的，而constructor外定义的方法和属性则是所有实例对象可以共享的
//extends关键字实现继承
//super关键字，它指代父类的实例（即父类的this对象）。子类必须在constructor方法中调用super方法，否则新建实例时会报错。这是因为子
//类没有自己的this对象，而是继承父类的this对象，然后对其进行加工。如果不调用super方法，子类就得不到this对象。

class Animal {
    constructor(){
        this.type = 'animal'
    }
    says(say){
        console.log(this.type + ' says ' + say)
    }
}

let animal = new Animal()
animal.says('hello') //animal says hello

class Cat extends Animal {
    constructor(){
        super()
        this.type = 'cat'
    }
}

let cat = new Cat()
cat.says('hello') //cat says hello


//当我们使用箭头函数时，函数体内的this对象，就是定义时所在的对象，而不是使用时所在的对象。
//并不是因为箭头函数内部有绑定this的机制，实际原因是箭头函数根本没有自己的this，它的this是继承外面的，因此内部的this就是外层代码块的this。
class Animal2 {
    constructor(){
        this.type = 'animal'
    }
    says(say){
        setTimeout( () =&gt; {
            console.log(this.type + ' says ' + say)
        }, 1000)
    }
}
var animal2 = new Animal2()
animal2.says('hi')  //animal says hi

var basket = {
  count : '10',
    onSale: '6'
};

//template string
//这个东西可以用在我们要插入大段的html内容到文档中。
$("#result").append(`
  There are &lt;b&gt;${basket.count}&lt;/b&gt; items
   in your basket, &lt;em&gt;${basket.onSale}&lt;/em&gt;
  are on sale!
`);

//从数组和对象中提取值，对变量进行赋值，这被称为解构（Destructuring）。
let mycat = 'ken'
let dog = 'lili'
let zoo = {mycat, dog}
console.log(zoo)  //Object {mycat: "ken", dog: "lili"}

let mydog = {type: 'animal', many: 2}
let { type, many} = mydog
console.log(type, many)   //animal 2


//default很简单，意思就是默认值。大家可以看下面的例子，调用animal()方法时忘了传参数，传统的做法就是加上这一句type = type || 'cat' 来指定默认值
function myanimal(type = 'cat'){
    console.log(type)
}
myanimal()

//rest语法也很简单，直接看例子
function animals(...types){
    console.log(types)
}
animals('cat', 'dog', 'fish') //["cat", "dog", "fish"]
</code></pre><br>
6.编译后的index.js
<p></p><pre><code class="language-javascript">'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i &lt; props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call &amp;&amp; (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" &amp;&amp; superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass &amp;&amp; superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

//let为JavaScript新增了块级作用域。用它所声明的变量，只在let命令所在的代码块内有效
//----------------------------es5---------------------------------
var name_es5 = 'zach';

while (true) {
    var name_es5 = 'obama';
    console.log(name_es5); //obama
    break;
}

console.log(name_es5); //obama
//----------------------------es5---------------------------------

//----------------------------es6---------------------------------
var name_es6 = 'zach';

while (true) {
    var _name_es = 'obama';
    console.log(_name_es); //obama
    break;
}

console.log(name_es6); //zach
//----------------------------es6---------------------------------

//----------------------------es5---------------------------------
var add_the_handlers_new = function add_the_handlers_new(nodes) {
    var helper = function helper(i) {
        return function (e) {
            alert(i);
        };
    };
    var i;
    for (i = 0; i &lt; nodes.length; i++) {
        nodes[i].onclick = helper(i + 1);
    }
};

add_the_handlers_new($('.button'));
//----------------------------es5---------------------------------

//----------------------------es6---------------------------------
var add_the_handlers_new_es6 = function add_the_handlers_new_es6(nodes) {
    var _loop = function _loop(i) {
        $(nodes[i]).click(function () {
            console.log(i);
        });
    };

    for (var i = 0; i &lt; nodes.length; i++) {
        _loop(i);
    }
};

add_the_handlers_new_es6($('.button'));
//----------------------------es6---------------------------------

//const也用来声明变量，但是声明的是常量。一旦声明，常量的值就不能改变。
//const有一个很好的应用场景，就是当我们引用第三方库的时声明的变量，用const来声明可以避免未来不小心重命名而导致出现bug
var PI = Math.PI;

//PI = 23 //Module build failed: SyntaxError: /es6/app.js: "PI" is read-only

//const monent = require('moment')

//class, extends, super
//class定义了一个“类”，constructor内定义的方法和属性是实例对象自己的，而constructor外定义的方法和属性则是所有实例对象可以共享的
//extends关键字实现继承
//super关键字，它指代父类的实例（即父类的this对象）。子类必须在constructor方法中调用super方法，否则新建实例时会报错。这是因为子
//类没有自己的this对象，而是继承父类的this对象，然后对其进行加工。如果不调用super方法，子类就得不到this对象。

var Animal = function () {
    function Animal() {
        _classCallCheck(this, Animal);

        this.type = 'animal';
    }

    _createClass(Animal, [{
        key: 'says',
        value: function says(say) {
            console.log(this.type + ' says ' + say);
        }
    }]);

    return Animal;
}();

var animal = new Animal();
animal.says('hello'); //animal says hello

var Cat = function (_Animal) {
    _inherits(Cat, _Animal);

    function Cat() {
        _classCallCheck(this, Cat);

        var _this = _possibleConstructorReturn(this, (Cat.__proto__ || Object.getPrototypeOf(Cat)).call(this));

        _this.type = 'cat';
        return _this;
    }

    return Cat;
}(Animal);

var cat = new Cat();
cat.says('hello'); //cat says hello


//当我们使用箭头函数时，函数体内的this对象，就是定义时所在的对象，而不是使用时所在的对象。
//并不是因为箭头函数内部有绑定this的机制，实际原因是箭头函数根本没有自己的this，它的this是继承外面的，因此内部的this就是外层代码块的this。

var Animal2 = function () {
    function Animal2() {
        _classCallCheck(this, Animal2);

        this.type = 'animal';
    }

    _createClass(Animal2, [{
        key: 'says',
        value: function says(say) {
            var _this2 = this;

            setTimeout(function () {
                console.log(_this2.type + ' says ' + say);
            }, 1000);
        }
    }]);

    return Animal2;
}();

var animal2 = new Animal2();
animal2.says('hi'); //animal says hi

var basket = {
    count: '10',
    onSale: '6'
};

//template string
//这个东西可以用在我们要插入大段的html内容到文档中。
$("#result").append('\n  There are &lt;b&gt;' + basket.count + '&lt;/b&gt; items\n   in your basket, &lt;em&gt;' + basket.onSale + '&lt;/em&gt;\n  are on sale!\n');

//从数组和对象中提取值，对变量进行赋值，这被称为解构（Destructuring）。
var mycat = 'ken';
var dog = 'lili';
var zoo = { mycat: mycat, dog: dog };
console.log(zoo); //Object {mycat: "ken", dog: "lili"}

var mydog = { type: 'animal', many: 2 };
var type = mydog.type,
    many = mydog.many;

console.log(type, many); //animal 2


//default很简单，意思就是默认值。大家可以看下面的例子，调用animal()方法时忘了传参数，传统的做法就是加上这一句type = type || 'cat' 来指定默认值
function myanimal() {
    var type = arguments.length &gt; 0 &amp;&amp; arguments[0] !== undefined ? arguments[0] : 'cat';

    console.log(type);
}
myanimal();

//rest语法也很简单，直接看例子
function animals() {
    for (var _len = arguments.length, types = Array(_len), _key = 0; _key &lt; _len; _key++) {
        types[_key] = arguments[_key];
    }

    console.log(types);
}
animals('cat', 'dog', 'fish'); //["cat", "dog", "fish"]</code></pre><br>
7.
<p><img src="https://img-blog.csdn.net/20170911152838727?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br></p>
<p><br></p>
<p>8.参考链接：<a href="https://segmentfault.com/a/1190000004365693" rel="nofollow">https://segmentfault.com/a/1190000004365693</a><br></p>
<p><br></p>
            ]]></description></item><item><title>Webpack入门教程</title><link>http://www.cnblogs.com/xutongbao/archive/2017/09/07/9924982.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 07 Sep 2017 12:28:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2017/09/07/9924982.html</guid><description><![CDATA[
                
<p>1.官方网站：&nbsp;<a href="https://doc.webpack-china.org/" rel="nofollow">https://doc.webpack-china.org/</a>&nbsp;&nbsp;</p>
<p><br></p>
<p>2.简单介绍：webpack 是一个现代 JavaScript 应用程序的模块打包器(module bundler)。当 webpack 处理应<br>
用程序时，它会递归地构建一个依赖关系图(dependency graph)，其中包含应用程序需要的每个<br>
模块，然后将所有这些模块打包成少量的 bundle - 通常只有一个，由浏览器加载。</p>
<p><br></p>
<p>3.目录结构</p>
<p><img src="https://img-blog.csdn.net/20170907202903359?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br></p>
<p><br></p>
<p><br></p>
<p>4.config.json</p>
<p></p><pre><code class="language-javascript">{
  "greetText": "Hello World!123"
}</code></pre><br><br><p>5.Greeter.css</p>
<p></p><pre><code class="language-css">.root {
    background-color: #eee;
    padding: 10px;
    border: 3px solid #ccc;
    color: #00ad36;
}</code></pre><br>
6.Greeter.js
<p></p><pre><code class="language-javascript">import React, {Component} from 'react'
import config from './config.json';
import styles from './Greeter.css';

class Greeter extends Component {
    render() {
        return (
            &lt;div className={styles.root}&gt;
                {config.greetText}
            &lt;/div&gt;
        );
    }
}

export default Greeter</code></pre><br>
7.index.tmpl.html
<p></p><pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;Webpack Sample Project&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div id="root"&gt;
    &lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre><br>
8.main.css
<p></p><pre><code class="language-css">html {
    box-sizing: border-box;
    -ms-text-size-adjust: 100%;
    -webkit-text-size-adjust: 100%;
}
*, *:before, *:after {
    box-sizing: inherit;
}

body {
    margin: 0;
    font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
}

h1, h2, h3, h4, h5, h6, p, ul {
    margin: 0;
    padding: 0;
}</code></pre><br><br><p>9.main.js</p>
<p></p><pre><code class="language-javascript">import React from 'react';
import {render} from 'react-dom';
import Greeter from './Greeter';

import './main.css';

render(&lt;Greeter/&gt;, document.getElementById('root'));</code></pre><br><br><p>10.public文件件以及文件里的内容都不自己创建的，是Weppack自动生成的</p>
<p><br></p>
<p>11. &nbsp;.babelrc</p>
<p></p><pre><code class="language-javascript">{
  "presets": ["react", "es2015"],
  "env": {
    "devlopment" : {
      "plugins": [["react-transform", {
        "transforms": [{
          "transforms": "react-transform-hmr",

          "imports": ["react"],

          "locals": ["module"]
        }]
      }]]
    }
  }
}</code></pre><br><br><p>12.package-lock.json是Webpack自己生成的</p>
<p><br></p>
<p>13.package.json</p>
<p></p><pre><code class="language-javascript">{
  "name": "mydemo",
  "version": "1.0.0",
  "description": "",
  "main": "index.js",
  "dependencies": {
    "react": "^15.6.1",
    "react-dom": "^15.6.1",
    "webpack": "^3.5.6"
  },
  "devDependencies": {
    "autoprefixer": "^7.1.4",
    "babel-core": "^6.26.0",
    "babel-loader": "^7.1.2",
    "babel-plugin-react-transform": "^2.0.2",
    "babel-preset-es2015": "^6.24.1",
    "babel-preset-react": "^6.24.1",
    "css-loader": "^0.28.7",
    "html-webpack-plugin": "^2.30.1",
    "postcss-loader": "^2.0.6",
    "react-transform-hmr": "^1.0.4",
    "style-loader": "^0.18.2",
    "webpack-dev-server": "^2.7.1"
  },
  "scripts": {
    "test": "echo \"Error: no test specified\" &amp;&amp; exit 1",
    "start": "webpack",
    "server": "webpack-dev-server --open"
  },
  "author": "xu",
  "license": "ISC"
}
</code></pre><br>
14.postcss.config.js
<p></p><pre><code class="language-javascript">module.exports = {
    plugins: [
        require('autoprefixer')
    ]
}</code></pre><br><br><p>15.webpack.config.js</p>
<p></p><pre><code class="language-javascript">const webpack= require('webpack');
const HtmlWebpackPlugin = require('html-webpack-plugin');

module.exports = {
    devtool: 'eval-source-map',
    entry: __dirname + "/app/main.js",   //已多次提及的唯一入口文件
    output: {
        path: __dirname + "/public",  //打包后的文件存放的地方 " +
        filename: "bundle.js"  //打包后输出文件的文件名
    },
    devServer: {
        contentBase: './public',
        historyApiFallback: true,
        inline: true,
        hot: true
    },
    module: {
        rules: [
            {
                test: /(\.jsx|\.js)$/,
                use: {
                    loader: "babel-loader"
                },
                exclude: /node_modules/
            },
            {
                test: /\.css$/,
                use: [
                    {
                        loader: "style-loader"
                    }, {
                        loader: "css-loader",
                        options: {
                            modules: true
                        }
                    }, {
                        loader: "postcss-loader"
                    }
                ]
            }
        ]
    },
    plugins: [
        new webpack.BannerPlugin('版权所有，翻版必究'),
        new HtmlWebpackPlugin({
            template: __dirname + "/app/index.tmpl.html" //new 一个这个插件的实例，并传入相关的参数
        }),
        new webpack.HotModuleReplacementPlugin()
    ]
};</code></pre><br><br><p>16.建立好上面目录结构，并安装好Webpack及相关插件即可运行</p>
<p><img src="https://img-blog.csdn.net/20170907204246382?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br></p>
<p><br></p>
<p><img src="https://img-blog.csdn.net/20170907204336922?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br></p>
<p><br></p>
<p>17.也可以直接从github上下载我编写的代码工程：<a href="https://github.com/xutongbao/mywebpack" rel="nofollow">https://github.com/xutongbao/mywebpack</a>&nbsp;</p>
<p><br></p>
<p>18.参考链接：<a href="http://www.jianshu.com/p/42e11515c10f" rel="nofollow">http://www.jianshu.com/p/42e11515c10f</a></p>
<p><br></p>
<p><br></p>
<p><br></p>
            ]]></description></item><item><title>jQuery和Vue的区别</title><link>http://www.cnblogs.com/xutongbao/archive/2017/09/06/9924983.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 06 Sep 2017 12:25:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2017/09/06/9924983.html</guid><description><![CDATA[
                
1.jQuery首先要获取到dom对象，然后对dom对象进行进行值的修改等操作<br>
2.Vue是首先把值和js对象进行绑定，然后修改js对象的值，Vue框架就会自动把dom的值就行更新。<br>
3.可以简单的理解为Vue帮我们做了dom操作，我们以后用Vue就需要修改对象的值和做好元素和对<br>
象的绑定，Vue这个框架就会自动帮我们做好dom的相关操作<br>
4.这种dom元素跟随JS对象值的变化而变化叫做单向数据绑定，如果JS对象的值也跟随着dom元素的<br>
值的变化而变化就叫做双向数据绑定<br><br><br>
用一个简单的例子来说明编写Jquery和Vue上的不同<br>
修改文字<br><br><br>
点击按钮后：<br><br><img src="https://img-blog.csdn.net/20170906202629477?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br><br><br>
改为<br><p><br></p>
<p><img src="https://img-blog.csdn.net/20170906202650292?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br></p>
<p><br></p>
<p>(1)jQuery代码</p>
<p><br></p>
<p></p>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;  
&lt;html lang="en"&gt;  
&lt;head&gt;  
    &lt;meta charset="UTF-8"&gt;  
    &lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;  
&lt;/head&gt;  
&lt;body&gt;  
&lt;div&gt;
    &lt;p&gt;大家好，我是&lt;span id="name"&gt;张三&lt;span&gt;!&lt;/p&gt;
    &lt;p&gt;我是一名&lt;span id="jop"&gt;医生&lt;/span&gt;.&lt;/p&gt;
    &lt;button id = "modifyBtn"&gt;修改&lt;/button&gt;
&lt;/div&gt;
&lt;script type="text/javascript"&gt;  
    $("#modifyBtn").click(function(){
        $("#name").text("李四");
        $("#jop").text("老师");
    });
&lt;/script&gt;  
&lt;/body&gt;  
&lt;/html&gt;  </code></pre><br><br><p></p>
<p>(2)Vue代码</p>
<p><br></p>
<p></p>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset="utf-8"&gt;
&lt;title&gt;Vue&lt;/title&gt;
&lt;script src="https://cdn.bootcss.com/vue/2.2.2/vue.min.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div id="app"&gt;
    &lt;p&gt;大家好，我是&lt;span&gt;{{name}}&lt;span&gt;!&lt;/p&gt;
    &lt;p&gt;我是一名&lt;span&gt;{{jop}}&lt;/span&gt;.&lt;/p&gt;
    &lt;button v-on:click="modifyInfo"&gt;修改&lt;/button&gt;
&lt;/div&gt;
	
&lt;script&gt;
new Vue({
  	el: '#app',
	data:{
    	name:"张三",
    	jop:"医生"
	},
	methods:{
    	modifyInfo:function(){
        	this.name = "李四";
        	this.jop = "老师";
    	}
	}
})
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre><br><p></p>
<p><br></p>
            ]]></description></item><item><title>gulp使用指南</title><link>http://www.cnblogs.com/xutongbao/archive/2017/09/05/9924984.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 05 Sep 2017 02:43:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2017/09/05/9924984.html</guid><description><![CDATA[
                
<p>1.官方网站 <a href="http://www.gulpjs.com.cn/" rel="nofollow">http://www.gulpjs.com.cn/</a><a href="http://www.gulpjs.com.cn/" rel="nofollow"><br></a></p>
<p><a href="http://www.gulpjs.com.cn/" rel="nofollow"><br></a></p>
<p>2.gulp安装&nbsp; <a href="http://www.ydcss.com/archives/18" rel="nofollow">
http://www.ydcss.com/archives/18</a></p>
<p><a href="http://www.ydcss.com/archives/18" rel="nofollow"><br></a></p>
<p>3.目录结构</p>
<p><img src="https://img-blog.csdn.net/20170905105414398?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""></p>
<p>4.index.html</p>
<p><br></p>
<p></p>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;input type="button" id="button1" value="Click"&gt;
    &lt;script src="js/index.js" &gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre><br><br><p></p>
<p>5.index.js</p>
<p></p>
<pre><code class="language-javascript">$(function () {
    $('#button1').click(function () {
        alert('button1');
    });
});
</code></pre><br><br><p></p>
<p>6.config.js</p>
<p></p>
<pre><code class="language-javascript">var src = '../src';
var dest = '../dist';
var config = {
    js: {
        src: src + "/js/**/*",
        dest: dest + "/js",
        rev: dest + "/rev/js"
    },
    rev:{
        revJson: dest + "/rev/**/*.json",
        src: src + "/*.html",
        dest: dest
    }
}
module.exports = config;</code></pre><br>
7.gulpfile.js
<p></p>
<p></p>
<pre><code class="language-javascript">var gulp = require('gulp');

//使用gulp-uglify压缩javascript文件，减小文件大小。http://www.ydcss.com/archives/54
var uglify = require('gulp-uglify');

//根据静态资源内容，生成md5签名，打包出来的文件名会加上md5签名，同时生成一个json用来保存文件名路径对应关系。http://www.cnblogs.com/1wen/p/5421212.html
var rev = require('gulp-rev');

//这个插件就是从manifests中获取静态资源版本数据, 该数据由不同的流产生, 并且替换html中的链接。 http://blog.csdn.net/hayleyxia/article/details/46969711
var revCollector = require('gulp-rev-collector');

//优雅的异步处理任务。https://www.npmjs.com/package/gulp-sync
var gulpsync = require('gulp-sync')(gulp);

var config = require('./config').js;
var configRev = require('./config').rev;


gulp.task('js', function() {
    return gulp.src(config.src)
        .pipe(uglify({mangle: false, compress: {properties: false}, output: {quote_keys: true}}))
        .pipe(rev())
        .pipe(gulp.dest(config.dest))
        .pipe(rev.manifest())
        .pipe(gulp.dest(config.rev));
});

gulp.task('rev', function () {
    return gulp.src([configRev.revJson, configRev.src])
        .pipe(revCollector({replaceReved: true,}))
        .pipe(gulp.dest(configRev.dest) );
});

gulp.task('default',gulpsync.sync(['js', 'rev']),function () {

});
</code></pre><br>
8.packgae.json<pre><code class="language-javascript">{
  "name": "demo",
  "description": "member-frontend",
  "license": "ISC",
  "repository": {
    "type": "git",
    "url": "git+ssh://git@github.com/npm/npm.git"
  },
  "devDependencies": {
    "cheerio": "^1.0.0-rc.1",
    "gulp": "^3.9.1",
    "gulp-changed": "^1.3.2",
    "gulp-clean": "^0.3.2",
    "gulp-concat": "^2.6.0",
    "gulp-html-replace": "^1.6.2",
    "gulp-if": "^2.0.1",
    "gulp-minify-css": "^1.2.4",
    "gulp-rename": "^1.2.2",
    "gulp-rev": "^7.1.2",
    "gulp-rev-collector": "^1.0.5",
    "gulp-sync": "^0.1.4",
    "gulp-uglify": "^2.0.0",
    "map-stream": "0.0.7",
    "minimist": "^1.2.0",
    "vinyl-fs": "2.4.4"
  },
  "bugs": {
    "url": "https://github.com/npm/npm/issues"
  },
  "homepage": "https://github.com/npm/npm#readme",
  "version": "1.0.0",
  "main": "gulpfile.js",
  "dependencies": {},
  "scripts": {
    "test": "echo \"Error: no test specified\" &amp;&amp; exit 1"
  },
  "author": "xutongbao"
}
</code></pre><br><br><p></p>
<p>9.压缩后的index.js<br></p>
<p></p>
<pre><code class="language-javascript">$(function(){$("#button1").click(function(){alert("button1")})});</code></pre><br><br><p></p>
<p>10.遍历所有html，替换文件命名后的效果<br></p>
<p><br></p>
<p><img src="https://img-blog.csdn.net/20170905110148379?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br></p>
<p><br></p>
<p><br></p>
<p>11.参考链接</p>
<p>变态的静态资源缓存与更新<a href="https://my.oschina.net/jathon/blog/404968" rel="nofollow">https://my.oschina.net/jathon/blog/404968</a><br></p>
<p>项目部署缓存解决方案<a href="http://www.cnblogs.com/1wen/p/5421212.html" rel="nofollow">http://www.cnblogs.com/1wen/p/5421212.html</a><br></p>
<p><br></p>
<p><br></p>
<p><br></p>
<p><br></p>
<p><br></p>
<p><br></p>
<p><br></p>
<p><br></p>
<p><br></p>
<p><br><a href="http://www.gulpjs.com.cn/" rel="nofollow"></a></p>
            ]]></description></item><item><title>RequireJS 按需加载js模块</title><link>http://www.cnblogs.com/xutongbao/archive/2017/08/30/9924985.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Wed, 30 Aug 2017 02:59:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2017/08/30/9924985.html</guid><description><![CDATA[
                
<p>1.html文件</p>
<p></p><pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;input type="button" id="button1" value="Click"&gt;
    &lt;input type="button" id="button2" value="Click"&gt;
    &lt;script src="https://cdn.bootcss.com/require.js/2.3.5/require.js" data-main="js/index"&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre><br>
2.上面html文件中data-main对应的index.js文件
<p></p><pre><code class="language-javascript">require.config({
    baseUrl: 'js'
});

require(['myModule'], function (myModule){
    $('#button1').click(function () {
        alert('button1');
    });

    myModule.myFun();
});
</code></pre><br>
3.上面index.js文件中对应myModue.js文件
<p></p><pre><code class="language-javascript">define(function (){
    var myModule = {
        myFun: function () {
            $('#button2').click(function () {
                alert('button2');
            });
        }
    };

    return myModule;
});</code></pre><br>
4.目录结构
<p><img src="https://img-blog.csdn.net/20170830110353658?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br></p>
<p><br></p>
            ]]></description></item><item><title>页面加载时loading效果</title><link>http://www.cnblogs.com/xutongbao/archive/2017/08/29/9924986.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 29 Aug 2017 08:09:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2017/08/29/9924986.html</guid><description><![CDATA[
                <pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;style&gt;
        #loading{position:fixed;top:0;left:0;width:100%;height:100%;opacity:0.6;z-index:15000;}
        #loading img{position:absolute;top:50%;left:50%;width:60px;height:60px;margin-top:-30px;margin-left:-30px;background: white;}
    &lt;/style&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;script type="text/javascript"&gt;
    $(function() {
        var loading = '&lt;div id="loading"&gt;&lt;img src="https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1504002746731&amp;di=a7d82714e2b6a150ecb6ab45d2dc73b9&amp;imgtype=0&amp;src=http%3A%2F%2Falcastongallery.com.au%2Fassets%2Fimages%2Fajax-loader.gif"&gt;&lt;/div&gt;';
        $('body').append($(loading));

        setTimeout(function () {
            $('#loading').remove();
        }, 3000);
    });

&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>

<p><img alt="" class="has" src="https://img-blog.csdn.net/20180812201931173?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1dG9uZ2Jhbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"></p>

<p>&nbsp;</p>

<p><img alt="" class="has" src="https://img-blog.csdn.net/20170829161011573?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center"></p>            ]]></description></item><item><title>事件委托，附实例</title><link>http://www.cnblogs.com/xutongbao/archive/2017/08/29/9924987.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 29 Aug 2017 05:10:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2017/08/29/9924987.html</guid><description><![CDATA[
                
事件委托是通过事件冒泡的原理，只需要给父级绑定一个事件监听，即可让每个子节点都绑定上相应的事件。<br><p>也可以利用这个方法给动态添加的元素绑定事件。</p>
<p><br></p>
<p></p>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;ul id="wrap"&gt;
        &lt;li&gt;item1&lt;/li&gt;
        &lt;li&gt;item2&lt;/li&gt;
        &lt;li&gt;item3&lt;/li&gt;
        &lt;li&gt;item4&lt;/li&gt;
        &lt;li&gt;item5&lt;/li&gt;
    &lt;/ul&gt;
    &lt;script type="text/javascript"&gt;
        $(function(){
            // 普通事件
            $('li').click(function(){
                $(this).css('background', '#D4DFE6');
            });

            // jQuery的on的写法
            $('#wrap').on('click', 'li', function(ev) {
                // this 指向委托的对象 li
                $(this).css('color', 'red');
            });

            // js原生写法
            var _wrap = document.getElementById('wrap');
            _wrap.addEventListener('click', function(ev){
                var ev = ev || event;
                if( ev.target.nodeName == 'LI' ) {
                    ev.target.style.border = '2px solid green';
                }
            });

        });
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre><br><img src="https://img-blog.csdn.net/20170829131113909?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br><p></p>
            ]]></description></item><item><title>事件冒泡与事件捕获，附实例</title><link>http://www.cnblogs.com/xutongbao/archive/2017/08/29/9924988.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Tue, 29 Aug 2017 01:56:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2017/08/29/9924988.html</guid><description><![CDATA[
                
事件冒泡，即事件开始时由最具体的元素（文档中嵌套层次最深的那个节点）接收，然后逐级向上传播到较为不具体的节点（文档）。<br>
事件捕获，即不太具体的节点应该更早接收到事件，而最具体的节点应该最后接收到事件。<br>
由于老版本的浏览器不支持事件捕获，因此很少有人用。建议大家放心使用事件冒泡，在有特殊需要时再使用事件捕获。<br><p><br></p>
<p></p>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div id="myDiv1" style="background: #00ad36;height: 300px;width: 300px;position: relative;"&gt;
        &lt;div id="myDiv2" style="background: #00a0e9;height: 100px;width: 100px;left: 50%;top:50%;position: absolute;margin-left: -50px;margin-top: -50px;text-align: center;line-height: 100px;"&gt;Click&lt;/div&gt;
    &lt;/div&gt;
    &lt;script type="text/javascript"&gt;
        $('#myDiv1').click(function () {
           console.log('点击了外部的DIV');
        });
        $('#myDiv2').click(function () {
            console.log('点击了内部的DIV');
        });
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<p><br></p>
<p><br></p>
<p><img src="https://img-blog.csdn.net/20170829095951525?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHV0b25nYmFv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br></p>
<br><p></p>
            ]]></description></item><item><title>GET和POST的区别</title><link>http://www.cnblogs.com/xutongbao/archive/2017/08/28/9924989.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Mon, 28 Aug 2017 09:16:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2017/08/28/9924989.html</guid><description><![CDATA[
                
1.GET把参数包含在URL中，POST通过request body传递参数。<br>
2.GET在浏览器回退时是无害的，而POST会再次提交请求。 <br>
3.GET产生的URL地址可以被Bookmark，而POST不可以。<br>
4.GET请求会被浏览器主动cache，而POST不会，除非手动设置。 <br>
5.GET请求只能进行url编码，而POST支持多种编码方式。 <br>
6.GET请求参数会被完整保留在浏览器历史记录里，而POST中的参数不会被保留。 <br>
7.GET请求在URL中传送的参数是有长度限制的，而POST没有。 <br>
8.对参数的数据类型，GET只接受ASCII字符，而POST没有限制。 <br>
9.GET比POST更不安全，因为参数直接暴露在URL上，所以不能用来传递敏感信息。 <br>
10.GET参数通过URL传递，POST放在Request body中。 <br>
11.对于GET方式的请求，浏览器会把http header和data一并发送出去，服务器响应200(返回数据);<br>
&nbsp; 而对于POST，浏览器先发送header，服务器响应100 continue，浏览器再发送data，服务器响应200 ok(返回数据)。<br>
12.GET与POST都有自己的语义，不能随便混用。<br>
13.GET和POST本质上就是TCP链接。
            ]]></description></item><item><title>javascript之apply()和call()用法浅析</title><link>http://www.cnblogs.com/xutongbao/archive/2017/08/28/9924990.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Mon, 28 Aug 2017 04:15:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2017/08/28/9924990.html</guid><description><![CDATA[
                
<p>每个函数都包含两个非继承而来的方法：apply()和call()。这两个方法的用途都是在特定的作用域中调用函数，实际上等于设置函数体内this对象的值。</p>
<p>首先，apply()方法接收两个参数：一个是在其中运行函数的作用域，另一个是参数数组。其中，第二个参数可以是Array的实例，也可以是arguments对象。</p>
<p>call()方法与apply()方法的作用相同。它们的区别仅在于接收参数的方式不同。对于call()方法而言，第一个参数是this值没有变化，变化的是其余参数都</p>
<p>直接传递给函数。换句话说，在使用call()方法时， 传递给函数的参数必须逐个列举出来。</p>
<p>事实上，传递参数并非apply()和call()真正的用武之地；它们真正强大的地方是能够扩充函数赖以运行的作用域。</p>
<p>使用call()或apply()来扩充作用域的最大好处，就是对象不需要与方法有任何耦合关系。<br></p>
<p><br></p>
<p></p><pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;script type="text/javascript"&gt;
        function sum(num1, num2) {
            return num1 + num2;
        }
        function callSum1(num1, num2) {
            return sum.apply(this, arguments);
        }
        function callSum2(num1, num2) {
            return sum.apply(this, [num1, num2]);
        }
        function callSum3(num1, num2) {
            return sum.call(this, num1, num2);
        }
        alert(callSum1(10, 5));
        alert(callSum2(20, 30));
        alert(callSum3(20, 50));

        window.color = 'red';
        var o = {color: 'blue'};

        function sayColor() {
            alert(this.color);
        }

        sayColor.call(this);        //red
        sayColor.call(window);      //red
        sayColor.call(o);           //blue
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre><br><br>            ]]></description></item><item><title>javascript闭包浅析</title><link>http://www.cnblogs.com/xutongbao/archive/2017/08/24/9924991.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 24 Aug 2017 12:01:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2017/08/24/9924991.html</guid><description><![CDATA[
                <p><span style="color:#000000;"></span></p><pre><code class="language-javascript">    //闭包
	var myObjectNew = (function () {
		var value = 0;
		return {
			increment: function (inc) {
				value += typeof inc === 'number' ? inc : 1;
            },
			getValue: function () {
				return value;
            }
		}
    }());

	var quo = function (status) {
		return {
			get_status: function () {
				return status;
            }
		}
    };

	var myQuoNew = quo('amazed');
	console.log('status=' + myQuoNew.get_status());</code></pre><br><br><p></p><p><span style="color:#000000;"><br></span></p><p><span style="color:#000000;">当我们调用</span><span style="color:#000000;">quo</span><span style="color:#000000;">时，它返回包含</span><span style="color:#000000;">get_status</span><span style="color:#000000;">方法的一个新对象。该对象的一个引用保存在</span><span style="color:#000000;">myQuo</span><span style="color:#000000;">中。即使</span><span style="color:#000000;">quo</span><span style="color:#000000;">已经返回了，但</span><span style="color:#000000;">get_status</span><span style="color:#000000;">方法仍然享有访问</span><span style="color:#000000;">quo</span><span style="color:#000000;">对象的</span><span style="color:#000000;">status</span><span style="color:#000000;">属性的特权。</span><span style="color:#000000;">get_status</span><span style="color:#000000;">方法并不是访问该参数的一个副本，它访问的就是该参数本身。这是可能的，因为该函数可以访问它被创建时所处的上下文环境。这被称为闭包。</span></p><p><span style="color:#000000;">理解内部函数能访问外部函数的实际变量而无须复制是很重要的</span></p><p><span style="color:#000000;"><br></span></p><p><span style="color:#000000;"></span></p><pre><code class="language-javascript">    //糟糕的例子
	//构造一个函数，用错误的方式给一个数组中的节点设置事件处理程序。
	//当点击一个节点时，按照预期，应该弹出一个对话框显示节点的序号。
	//但它总是会显示节点的数目
	var add_the_handlers = function (nodes) {
		var i;
		for (i = 0; i &lt; nodes.length; i++) {
			nodes[i].onclick = function (e) {
				alert(i);
            }
		}
    };</code></pre><br><br><p></p><p></p><p><span style="color:#000000;"></span></p><p><span style="color:#000000;">add_the_handlers</span><span style="color:#000000;">函数的本意是想传递给每个处理器一个唯一值（</span><span style="color:#000000;">i</span><span style="color:#000000;">）。但它未能达到目的，因为事件处理器函数绑定了变量</span><span style="color:#000000;">i</span><span style="color:#000000;">本身，而不是函数在构</span><span style="color:#000000;">造时的变量</span><span style="color:#000000;">i</span><span style="color:#000000;">的值。</span></p><p><span style="color:#000000;"><span style="color:#000000;"><br></span></span></p><p><span style="color:#000000;"><span style="color:#000000;"></span></span></p><pre><code class="language-javascript">    //改良后的例子
    var add_the_handlers_new = function (nodes) {
		var helper = function (i) {
			return function (e) {
				alert(i);
            }
        }
        var i;
        for (i = 0; i &lt; nodes.length; i++) {
            nodes[i].onclick = helper(i + 1);
        }
    };</code></pre><br><br><p></p><p><span style="color:#000000;"></span></p><p><span style="color:#000000;">避免在循环体中创建函数，它可能只会带来无谓的计算，还会引起混淆，正如上面那个糟糕的例子。我们可以先在循环之外创建一个辅助函数，让这个辅助函数再返回一个绑定了当前</span><span style="color:#000000;">i</span><span style="color:#000000;">值的函数，这样就不会导致混淆了。</span></p><p><span style="color:#000000;"><br></span></p><p><span style="color:#000000;"><br></span></p><p><span style="color:#000000;"><span><span>复制下面的文件到html文件里即可运行查看效果！</span></span><br></span></p><br><p><span style="color:#000000;"></span></p><pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;style&gt;
        .button{
            font-family:"Arial";border:0;
            vertical-align:middle;margin:8px;line-height:18px;font-size:18px;
            width:140px;height:36px;line-height:18px;font-size:18px;
        }
    &lt;/style&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div style="margin-top: 20px"&gt;
        &lt;input type="button" class="button" value="按钮1"&gt;
        &lt;input type="button" class="button" value="按钮2"&gt;
        &lt;input type="button" class="button" value="按钮3"&gt;
        &lt;input type="button" class="button" value="按钮4"&gt;
        &lt;input type="button" class="button" value="按钮5"&gt;
    &lt;/div&gt;

    &lt;script type="text/javascript"&gt;
        var add_the_handlers_new = function (nodes) {
            var helper = function (i) {
                return function (e) {
                    alert(i);
                }
            }
            var i;
            for (i = 0; i &lt; nodes.length; i++) {
                nodes[i].onclick = helper(i + 1);
            }
        };

        add_the_handlers_new($('.button'));
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre><br><p></p><p><span style="color:#000000;">闭包的好处有：<br>1.缓存<br>2.面向对象中的对象<br>3.实现封装，防止变量跑到外层作用域中，发生命名冲突<br>4.匿名自执行函数，匿名自执行函数可以减小内存消耗<br><br>闭包的坏处：<br>1.内存消耗<br>通常来说，函数的活动对象会随着执行期上下文一起销毁，但是，由于闭包引用另外一个函数的活动对象，因此这个活动对象无法<br>被销毁，这意味着，闭包比一般的函数需要更多的内存消耗。尤其在IE浏览器中需要关注。由于IE使用非原生javascript对象实现<br>DOM对象，因此闭包会导致内存泄露问题。<br>2.性能问题<br>使用闭包时，会涉及到跨作用域访问，每次访问都会导致性能损失。<br>因此在脚本中，最好小心使用闭包，它同时会涉及到内存和速度问题。不过我们可以通过把跨作用域变量存储在局部变量中，然后直<br>接访问局部变量，来减轻对执行速度的影响。<br><br>内存泄露<br>1.定义：一块被分配的内存既不能使用，也不能回收。从而影响性能，甚至导致程序崩溃。<br>2.起因：JavaScript的垃圾自动回收机制会按一定的策略找出那些不再继续使用的变量，释放其占有的内存。然而由于一些原因<br>导致在这种机制下内存管理器不能正确解读javascript变量的生命周期，从而没有释放其内存，而也没有再被使用。循环引用是<br>导致以上情况的主要原因之一。<br><br></span></p><p><span style="color:#000000;">解决方法：常用的解决方法就是在JavaScript代码段运行完之时将形成循环引用的JavaScript对象手动设置为空，切断引用。</span></p><p><span style="color:#000000;"><br></span></p><p><span style="color:#000000;"><br></span></p><p><span style="color:#000000;">附加：一个朋友给了实现这个功能又不用闭包的方法</span></p><pre><code class="language-html">&lt;!DOCTYPE html&gt;  
&lt;html lang="en"&gt;  
&lt;head&gt;  
    &lt;meta charset="UTF-8"&gt;  
    &lt;style&gt;  
        .button{  
            font-family:"Arial";border:0;  
            vertical-align:middle;margin:8px;line-height:18px;font-size:18px;  
            width:140px;height:36px;line-height:18px;font-size:18px;  
        }  
    &lt;/style&gt;  
    &lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;  
&lt;/head&gt;  
&lt;body&gt;  
    &lt;div style="margin-top: 20px"&gt;  
        &lt;input type="button" class="button" value="按钮1"&gt;  
        &lt;input type="button" class="button" value="按钮2"&gt;  
        &lt;input type="button" class="button" value="按钮3"&gt;  
        &lt;input type="button" class="button" value="按钮4"&gt;  
        &lt;input type="button" class="button" value="按钮5"&gt;  
    &lt;/div&gt;  
  
    &lt;script type="text/javascript"&gt;  
        var add_the_handlers_new = function (nodes) {   
            for (var i = 0; i &lt; nodes.length; i++) {  
                nodes[i].onclick = function() {
                    var index = $(this).index();
                    alert(index + 1);
                };  
            }  
        };  
  
        add_the_handlers_new($('.button'));  
    &lt;/script&gt;  
&lt;/body&gt;  
&lt;/html&gt;</code></pre><p>附加二：如果用ES6也可以</p><pre><code class="language-html">    &lt;!DOCTYPE html&gt;    
    &lt;html lang="en"&gt;    
    &lt;head&gt;    
        &lt;meta charset="UTF-8"&gt;    
        &lt;style&gt;    
            .button{    
                font-family:"Arial";border:0;    
                vertical-align:middle;margin:8px;line-height:18px;font-size:18px;    
                width:140px;height:36px;line-height:18px;font-size:18px;    
            }    
        &lt;/style&gt;    
        &lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;    
    &lt;/head&gt;    
    &lt;body&gt;    
        &lt;div style="margin-top: 20px"&gt;    
            &lt;input type="button" class="button" value="按钮1"&gt;    
            &lt;input type="button" class="button" value="按钮2"&gt;    
            &lt;input type="button" class="button" value="按钮3"&gt;    
            &lt;input type="button" class="button" value="按钮4"&gt;    
            &lt;input type="button" class="button" value="按钮5"&gt;    
        &lt;/div&gt;    
        
        &lt;script type="text/javascript"&gt;    
            var add_the_handlers_new = function (nodes) {     
                for (let i = 0; i &lt; nodes.length; i++) {    
                    nodes[i].onclick = function() {  
                        alert(i + 1);  
                    };    
                }    
            };    
        
            add_the_handlers_new($('.button'));    
        &lt;/script&gt;    
    &lt;/body&gt;    
    &lt;/html&gt;  </code></pre><br><br><p><span style="color:#000000;"><br></span></p><p><span style="color:#000000;"><br></span></p><p><span style="color:#000000;"><br></span></p><p><span style="color:#000000;"><span style="color:#FF0000;"><strong>备注</strong></span>：欢迎加入web前端求职招聘qq群：<strong><span style="color:#000000;">668352707</span></strong><br></span></p><p><span style="color:#000000;"><br></span></p>            ]]></description></item><item><title>jsonp（跨域）-------可以运行的小实例！</title><link>http://www.cnblogs.com/xutongbao/archive/2017/08/24/9924992.html</link><dc:creator>徐同保</dc:creator><author>徐同保</author><pubDate>Thu, 24 Aug 2017 09:39:00 GMT</pubDate><guid>http://www.cnblogs.com/xutongbao/archive/2017/08/24/9924992.html</guid><description><![CDATA[
                
<pre><code class="language-html">
&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div id="divCustomers"&gt;&lt;/div&gt;
&lt;div id="divCustomers2"&gt;&lt;/div&gt;
&lt;script type="text/javascript"&gt;

    //通过jquery的get方法实现跨域
    $.get('https://ipinfo.io', function() {}, "jsonp").always(function(resp) {
        var countryCode = (resp &amp;&amp; resp.country) ? resp.country : "";
        countryCode = countryCode.toLowerCase();
        $('#divCustomers').text(countryCode);
        localStorage.setItem('countryCode', countryCode);
    });

    //通过jquery的ajax方法实现跨域
    $.ajax({
        type: "get",
        dataType:'jsonp',
        url:'https://ipinfo.io',
        success:function(resp){
            var countryCode = (resp &amp;&amp; resp.country) ? resp.country : "";
            countryCode = countryCode.toLowerCase();
            $('#divCustomers2').text(countryCode);
            localStorage.setItem('countryCode', countryCode);
        },
    });

    //通过原生javascript的封装的方法实现跨域
    function jsonp(setting)
    {
        setting.data = setting.data || {};
        setting.key = setting.key||'callback';
        setting.callback = setting.callback||function(){};
        setting.data[setting.key] = '__onGetData__';

        window.__onGetData__ = function(data) {
            setting.callback (data);
        }
        var script = document.createElement('script');
        var query = [];
        for(var key in setting.data)
        {
            query.push(key + '=' + encodeURIComponent(setting.data[key]));
        }
        script.src = setting.url + '?' + query.join('&amp;');
        document.head.appendChild(script);
        document.head.removeChild(script);
    }

    jsonp({
        url: 'http://photo.sina.cn/aj/index',
        key: 'jsoncallback',
        data: { page: 1, cate: 'recommend' },
        callback: function(ret) {
            console.log(ret)
        }
    });
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;

</code></pre><br><br>            ]]></description></item></channel></rss>